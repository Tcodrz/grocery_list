(self.webpackChunkgrocery_list=self.webpackChunkgrocery_list||[]).push([[179],{6291:(h,m,v)=>{"use strict";v.d(m,{hO:()=>O,xv:()=>K,Dh:()=>z,HU:()=>X,GT:()=>W,sI:()=>k,on:()=>ve,ss:()=>te,pX:()=>le,yq:()=>Ae});var t=v(233),C=v(4986),S=v(8505),q=v(9468),Y=v(5363),se=v(5e3),re=v(3029),fe=v.n(re);function B(){}h=v.hmd(h);class j{constructor(Q,R=t.N){this.zone=Q,this.delegate=R}now(){return this.delegate.now()}schedule(Q,R,$){const J=this.zone;return this.delegate.schedule(function(we){J.runGuarded(()=>{Q.apply(this,[we])})},R,$)}}class oe{constructor(Q){this.zone=Q,this.task=null}call(Q,R){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",B,{},B,B)),R.pipe((0,S.b)({next:$,complete:$,error:$})).subscribe(Q).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class X{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new j(Zone.current)),this.insideAngular=Q.run(()=>new j(Zone.current,C.z))}}function te(H){return function(R){return(R=R.lift(new oe(H.ngZone))).pipe((0,q.R)(H.outsideAngular),(0,Y.Q)(H.insideAngular))}}const me=["ngOnDestroy"],le=(H,Q,R,$={})=>new Proxy(H,{get:(J,je)=>R.runOutsideAngular(()=>{var we;if(H[je])return(null===(we=null==$?void 0:$.spy)||void 0===we?void 0:we.get)&&$.spy.get(je,H[je]),H[je];if(me.indexOf(je)>-1)return()=>{};const Ne=Q.toPromise().then(ut=>{const qe=ut&&ut[je];return"function"==typeof qe?qe.bind(ut):qe&&qe.then?qe.then($e=>R.run(()=>$e)):R.run(()=>qe)});return new Proxy(()=>{},{get:(ut,qe)=>Ne[qe],apply:(ut,qe,$e)=>Ne.then(lt=>{var Pt;const nn=lt&&lt(...$e);return(null===(Pt=null==$?void 0:$.spy)||void 0===Pt?void 0:Pt.apply)&&$.spy.apply(je,$e,nn),nn})})})}),W=(H,Q)=>{Q.forEach(R=>{Object.getOwnPropertyNames(R.prototype||R).forEach($=>{Object.defineProperty(H.prototype,$,Object.getOwnPropertyDescriptor(R.prototype||R,$))})})},z=new se.OlP("angularfire2.app.options"),K=new se.OlP("angularfire2.app.nameOrConfig"),_e=new se.GfV("6.1.5");function ve(H,Q,R){const J="object"==typeof R&&R||{};J.name=J.name||"string"==typeof R&&R||"[DEFAULT]";const we=fe().apps.filter(Ne=>Ne&&Ne.name===J.name)[0]||Q.runOutsideAngular(()=>fe().initializeApp(H,J));try{JSON.stringify(H)!==JSON.stringify(we.options)&&xe("error",`${we.name} Firebase App already initialized with different options${h.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return we}const Ae=()=>{xe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},xe=(H,...Q)=>{(0,se.X6Q)()&&"undefined"!=typeof console&&console[H](...Q)};function k(H,Q,R,$,J){const[je,...we]=globalThis.\u0275AngularfireInstanceCache.get(H)||[];if(je){try{J.some((Ne,ut)=>{const qe=we[ut];return Ne&&"object"==typeof Ne?JSON.stringify(Ne)!==JSON.stringify(qe):Ne!==qe})&&xe("error",`${Q} was already initialized on the ${R.name} Firebase App instance with different settings.${h.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ne){}return je}{const Ne=$();return globalThis.\u0275AngularfireInstanceCache.set(H,[Ne,...J]),Ne}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const U={provide:class{},useFactory:ve,deps:[z,se.R0b,[new se.FiY,K]]};let O=(()=>{class H{constructor(R){fe().registerVersion("angularfire",_e.full,R.toString()),fe().registerVersion("angular",se.q4F.full)}static initializeApp(R,$){return{ngModule:H,providers:[{provide:z,useValue:R},{provide:K,useValue:$}]}}}return H.\u0275fac=function(R){return new(R||H)(se.LFG(se.Lbi))},H.\u0275mod=se.oAB({type:H}),H.\u0275inj=se.cJS({providers:[U]}),H})()},454:(h,m,v)=>{"use strict";v.r(m),v.d(m,{factory:()=>er,getGlobalVars:()=>Ir,registerAnalytics:()=>hi,resetGlobalVars:()=>xn,settings:()=>nr});var S=function(){return S=Object.assign||function(_t){for(var Ct,Lt=1,xt=arguments.length;Lt<xt;Lt++)for(var kt in Ct=arguments[Lt])Object.prototype.hasOwnProperty.call(Ct,kt)&&(_t[kt]=Ct[kt]);return _t},S.apply(this,arguments)};function fe(Qe,_t,Ct,Lt){return new(Ct||(Ct=Promise))(function(kt,Jt){function sn(bn){try{Wt(Lt.next(bn))}catch(Er){Jt(Er)}}function In(bn){try{Wt(Lt.throw(bn))}catch(Er){Jt(Er)}}function Wt(bn){bn.done?kt(bn.value):function(kt){return kt instanceof Ct?kt:new Ct(function(Jt){Jt(kt)})}(bn.value).then(sn,In)}Wt((Lt=Lt.apply(Qe,_t||[])).next())})}function B(Qe,_t){var Lt,xt,kt,Jt,Ct={label:0,sent:function(){if(1&kt[0])throw kt[1];return kt[1]},trys:[],ops:[]};return Jt={next:sn(0),throw:sn(1),return:sn(2)},"function"==typeof Symbol&&(Jt[Symbol.iterator]=function(){return this}),Jt;function sn(Wt){return function(bn){return function(Wt){if(Lt)throw new TypeError("Generator is already executing.");for(;Ct;)try{if(Lt=1,xt&&(kt=2&Wt[0]?xt.return:Wt[0]?xt.throw||((kt=xt.return)&&kt.call(xt),0):xt.next)&&!(kt=kt.call(xt,Wt[1])).done)return kt;switch(xt=0,kt&&(Wt=[2&Wt[0],kt.value]),Wt[0]){case 0:case 1:kt=Wt;break;case 4:return Ct.label++,{value:Wt[1],done:!1};case 5:Ct.label++,xt=Wt[1],Wt=[0];continue;case 7:Wt=Ct.ops.pop(),Ct.trys.pop();continue;default:if(!(kt=(kt=Ct.trys).length>0&&kt[kt.length-1])&&(6===Wt[0]||2===Wt[0])){Ct=0;continue}if(3===Wt[0]&&(!kt||Wt[1]>kt[0]&&Wt[1]<kt[3])){Ct.label=Wt[1];break}if(6===Wt[0]&&Ct.label<kt[1]){Ct.label=kt[1],kt=Wt;break}if(kt&&Ct.label<kt[2]){Ct.label=kt[2],Ct.ops.push(Wt);break}kt[2]&&Ct.ops.pop(),Ct.trys.pop();continue}Wt=_t.call(Qe,Ct)}catch(bn){Wt=[6,bn],xt=0}finally{Lt=kt=0}if(5&Wt[0])throw Wt[1];return{value:Wt[0]?Wt[1]:void 0,done:!0}}([Wt,bn])}}}var k=v(9278),O=(v(8660),v(4003)),H=v(1270),Q=v(6355),we="https://www.googletagmanager.com/gtag/js",Ne=(()=>{return(Qe=Ne||(Ne={})).EVENT="event",Qe.SET="set",Qe.CONFIG="config",Ne;var Qe})(),ut=(()=>{return(Qe=ut||(ut={})).ADD_SHIPPING_INFO="add_shipping_info",Qe.ADD_PAYMENT_INFO="add_payment_info",Qe.ADD_TO_CART="add_to_cart",Qe.ADD_TO_WISHLIST="add_to_wishlist",Qe.BEGIN_CHECKOUT="begin_checkout",Qe.CHECKOUT_PROGRESS="checkout_progress",Qe.EXCEPTION="exception",Qe.GENERATE_LEAD="generate_lead",Qe.LOGIN="login",Qe.PAGE_VIEW="page_view",Qe.PURCHASE="purchase",Qe.REFUND="refund",Qe.REMOVE_FROM_CART="remove_from_cart",Qe.SCREEN_VIEW="screen_view",Qe.SEARCH="search",Qe.SELECT_CONTENT="select_content",Qe.SELECT_ITEM="select_item",Qe.SELECT_PROMOTION="select_promotion",Qe.SET_CHECKOUT_OPTION="set_checkout_option",Qe.SHARE="share",Qe.SIGN_UP="sign_up",Qe.TIMING_COMPLETE="timing_complete",Qe.VIEW_CART="view_cart",Qe.VIEW_ITEM="view_item",Qe.VIEW_ITEM_LIST="view_item_list",Qe.VIEW_PROMOTION="view_promotion",Qe.VIEW_SEARCH_RESULTS="view_search_results",ut;var Qe})(),Ft=new O.Logger("@firebase/analytics");function St(Qe,_t,Ct,Lt,xt,kt){return fe(this,void 0,void 0,function(){var Jt,sn,In,Wt;return B(this,function(bn){switch(bn.label){case 0:Jt=Lt[xt],bn.label=1;case 1:return bn.trys.push([1,7,,8]),Jt?[4,_t[Jt]]:[3,3];case 2:return bn.sent(),[3,6];case 3:return[4,Promise.all(Ct)];case 4:return sn=bn.sent(),(In=sn.find(function(Er){return Er.measurementId===xt}))?[4,_t[In.appId]]:[3,6];case 5:bn.sent(),bn.label=6;case 6:return[3,8];case 7:return Wt=bn.sent(),Ft.error(Wt),[3,8];case 8:return Qe(Ne.CONFIG,xt,kt),[2]}})})}function qn(Qe,_t,Ct,Lt,xt){return fe(this,void 0,void 0,function(){var kt,Jt,sn,In,Wt,bn,lr;return B(this,function($r){switch($r.label){case 0:return $r.trys.push([0,4,,5]),kt=[],xt&&xt.send_to?(Jt=xt.send_to,Array.isArray(Jt)||(Jt=[Jt]),[4,Promise.all(Ct)]):[3,2];case 1:for(sn=$r.sent(),In=function(Ke){var He=sn.find(function(at){return at.measurementId===Ke}),tt=He&&_t[He.appId];if(!tt)return kt=[],"break";kt.push(tt)},Wt=0,bn=Jt;Wt<bn.length&&"break"!==In(bn[Wt]);Wt++);$r.label=2;case 2:return 0===kt.length&&(kt=Object.values(_t)),[4,Promise.all(kt)];case 3:return $r.sent(),Qe(Ne.EVENT,Lt,xt||{}),[3,5];case 4:return lr=$r.sent(),Ft.error(lr),[3,5];case 5:return[2]}})})}var Cn,Nn=((Cn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Cn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Cn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Cn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Cn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Cn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Cn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Cn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Cn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Cn),on=new H.ErrorFactory("analytics","Analytics",Nn),ir=new(function(){function Qe(_t,Ct){void 0===_t&&(_t={}),void 0===Ct&&(Ct=1e3),this.throttleMetadata=_t,this.intervalMillis=Ct}return Qe.prototype.getThrottleMetadata=function(_t){return this.throttleMetadata[_t]},Qe.prototype.setThrottleMetadata=function(_t,Ct){this.throttleMetadata[_t]=Ct},Qe.prototype.deleteThrottleMetadata=function(_t){delete this.throttleMetadata[_t]},Qe}());function or(Qe){return new Headers({Accept:"application/json","x-goog-api-key":Qe})}function dr(Qe){var _t;return fe(this,void 0,void 0,function(){var Ct,xt,kt,Jt,sn,In;return B(this,function(bn){switch(bn.label){case 0:return Ct=Qe.appId,xt={method:"GET",headers:or(Qe.apiKey)},kt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",Ct),[4,fetch(kt,xt)];case 1:if(200===(Jt=bn.sent()).status||304===Jt.status)return[3,6];sn="",bn.label=2;case 2:return bn.trys.push([2,4,,5]),[4,Jt.json()];case 3:return In=bn.sent(),(null===(_t=In.error)||void 0===_t?void 0:_t.message)&&(sn=In.error.message),[3,5];case 4:return bn.sent(),[3,5];case 5:throw on.create("config-fetch-failed",{httpStatus:Jt.status,responseMessage:sn});case 6:return[2,Jt.json()]}})})}function Gn(Qe,_t,Ct,Lt){var xt=_t.throttleEndTimeMillis,kt=_t.backoffCount;return void 0===Lt&&(Lt=ir),fe(this,void 0,void 0,function(){var Jt,sn,In,Wt,bn,Er,fr;return B(this,function(lr){switch(lr.label){case 0:Jt=Qe.appId,sn=Qe.measurementId,lr.label=1;case 1:return lr.trys.push([1,3,,4]),[4,An(Ct,xt)];case 2:return lr.sent(),[3,4];case 3:if(In=lr.sent(),sn)return Ft.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+sn+' provided in the "measurementId" field in the local Firebase config. ['+In.message+"]"),[2,{appId:Jt,measurementId:sn}];throw In;case 4:return lr.trys.push([4,6,,7]),[4,dr(Qe)];case 5:return Wt=lr.sent(),Lt.deleteThrottleMetadata(Jt),[2,Wt];case 6:if(!function(Qe){if(!(Qe instanceof H.FirebaseError))return!1;var _t=Number(Qe.httpStatus);return 429===_t||500===_t||503===_t||504===_t}(bn=lr.sent())){if(Lt.deleteThrottleMetadata(Jt),sn)return Ft.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+sn+' provided in the "measurementId" field in the local Firebase config. ['+bn.message+"]"),[2,{appId:Jt,measurementId:sn}];throw bn}return Er=503===Number(bn.httpStatus)?(0,H.calculateBackoffMillis)(kt,Lt.intervalMillis,30):(0,H.calculateBackoffMillis)(kt,Lt.intervalMillis),fr={throttleEndTimeMillis:Date.now()+Er,backoffCount:kt+1},Lt.setThrottleMetadata(Jt,fr),Ft.debug("Calling attemptFetch again in "+Er+" millis"),[2,Gn(Qe,fr,Ct,Lt)];case 7:return[2]}})})}function An(Qe,_t){return new Promise(function(Ct,Lt){var xt=Math.max(_t-Date.now(),0),kt=setTimeout(Ct,xt);Qe.addEventListener(function(){clearTimeout(kt),Lt(on.create("fetch-throttle",{throttleEndTimeMillis:_t}))})})}var ft=function(){function Qe(){this.listeners=[]}return Qe.prototype.addEventListener=function(_t){this.listeners.push(_t)},Qe.prototype.abort=function(){this.listeners.forEach(function(_t){return _t()})},Qe}();var Dn,En,Tt={},gt=[],ln={},Ht="dataLayer",Tn="gtag",Wn=!1;function xn(Qe,_t,Ct){void 0===Qe&&(Qe=!1),void 0===_t&&(_t={}),void 0===Ct&&(Ct=[]),Wn=Qe,Tt=_t,gt=Ct,Ht="dataLayer",Tn="gtag"}function Ir(){return{initializationPromisesMap:Tt,dynamicConfigPromisesList:gt}}function nr(Qe){if(Wn)throw on.create("already-initialized");Qe.dataLayerName&&(Ht=Qe.dataLayerName),Qe.gtagName&&(Tn=Qe.gtagName)}function er(Qe,_t){!function(){var Qe=[];if((0,H.isBrowserExtension)()&&Qe.push("This is a browser extension environment."),(0,H.areCookiesEnabled)()||Qe.push("Cookies are not available."),Qe.length>0){var _t=Qe.map(function(Lt,xt){return"("+(xt+1)+") "+Lt}).join(" "),Ct=on.create("invalid-analytics-context",{errorInfo:_t});Ft.warn(Ct.message)}}();var Ct=Qe.options.appId;if(!Ct)throw on.create("no-app-id");if(!Qe.options.apiKey){if(!Qe.options.measurementId)throw on.create("no-api-key");Ft.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+Qe.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tt[Ct])throw on.create("already-exists",{id:Ct});if(!Wn){(function(){for(var Qe=window.document.getElementsByTagName("script"),_t=0,Ct=Object.values(Qe);_t<Ct.length;_t++){var Lt=Ct[_t];if(Lt.src&&Lt.src.includes(we))return Lt}return null})()||function(Qe){var _t=document.createElement("script");_t.src=we+"?l="+Qe,_t.async=!0,document.head.appendChild(_t)}(Ht),function(Qe){var _t=[];Array.isArray(window[Qe])?_t=window[Qe]:window[Qe]=_t}(Ht);var Lt=function(Qe,_t,Ct,Lt,xt){var kt=function(){for(var Jt=[],sn=0;sn<arguments.length;sn++)Jt[sn]=arguments[sn];window[Lt].push(arguments)};return window[xt]&&"function"==typeof window[xt]&&(kt=window[xt]),window[xt]=function(Qe,_t,Ct,Lt){return function(kt,Jt,sn){return fe(this,void 0,void 0,function(){var In;return B(this,function(Wt){switch(Wt.label){case 0:return Wt.trys.push([0,6,,7]),kt!==Ne.EVENT?[3,2]:[4,qn(Qe,_t,Ct,Jt,sn)];case 1:return Wt.sent(),[3,5];case 2:return kt!==Ne.CONFIG?[3,4]:[4,St(Qe,_t,Ct,Lt,Jt,sn)];case 3:return Wt.sent(),[3,5];case 4:Qe(Ne.SET,Jt),Wt.label=5;case 5:return[3,7];case 6:return In=Wt.sent(),Ft.error(In),[3,7];case 7:return[2]}})})}}(kt,Qe,_t,Ct),{gtagCore:kt,wrappedGtag:window[xt]}}(Tt,gt,ln,Ht,Tn);En=Lt.wrappedGtag,Dn=Lt.gtagCore,Wn=!0}Tt[Ct]=function(Qe,_t,Ct,Lt,xt){return fe(this,void 0,void 0,function(){var kt,Jt,sn,In,Wt,bn,Er;return B(this,function(fr){switch(fr.label){case 0:return kt=function(Qe,_t,Ct){return void 0===_t&&(_t=ir),fe(this,void 0,void 0,function(){var Lt,xt,kt,Jt,sn,In,Wt=this;return B(this,function(bn){if(kt=(Lt=Qe.options).apiKey,Jt=Lt.measurementId,!(xt=Lt.appId))throw on.create("no-app-id");if(!kt){if(Jt)return[2,{measurementId:Jt,appId:xt}];throw on.create("no-api-key")}return sn=_t.getThrottleMetadata(xt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},In=new ft,setTimeout(function(){return fe(Wt,void 0,void 0,function(){return B(this,function(Er){return In.abort(),[2]})})},6e4),[2,Gn({appId:xt,apiKey:kt,measurementId:Jt},sn,In,_t)]})})}(Qe),kt.then(function(lr){Ct[lr.measurementId]=lr.appId,Qe.options.measurementId&&lr.measurementId!==Qe.options.measurementId&&Ft.warn("The measurement ID in the local Firebase config ("+Qe.options.measurementId+") does not match the measurement ID fetched from the server ("+lr.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(lr){return Ft.error(lr)}),_t.push(kt),Jt=function(){return fe(this,void 0,void 0,function(){var Qe;return B(this,function(_t){switch(_t.label){case 0:return(0,H.isIndexedDBAvailable)()?[3,1]:(Ft.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return _t.trys.push([1,3,,4]),[4,(0,H.validateIndexedDBOpenable)()];case 2:return _t.sent(),[3,4];case 3:return Qe=_t.sent(),Ft.warn(on.create("indexeddb-unavailable",{errorInfo:Qe}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(lr){if(lr)return Lt.getId()}),[4,Promise.all([kt,Jt])];case 1:return sn=fr.sent(),In=sn[0],Wt=sn[1],xt("js",new Date),(Er={}).origin="firebase",Er.update=!0,bn=Er,null!=Wt&&(bn.firebase_id=Wt),xt(Ne.CONFIG,In.measurementId,bn),[2,In.measurementId]}})})}(Qe,gt,ln,_t,Dn);var Jt={app:Qe,logEvent:function(sn,In,Wt){(function(Qe,_t,Ct,Lt,xt){return fe(this,void 0,void 0,function(){var kt,Jt;return B(this,function(sn){switch(sn.label){case 0:return xt&&xt.global?(Qe(Ne.EVENT,Ct,Lt),[2]):[3,1];case 1:return[4,_t];case 2:kt=sn.sent(),Jt=S(S({},Lt),{send_to:kt}),Qe(Ne.EVENT,Ct,Jt),sn.label=3;case 3:return[2]}})})})(En,Tt[Ct],sn,In,Wt).catch(function(bn){return Ft.error(bn)})},setCurrentScreen:function(sn,In){(function(Qe,_t,Ct,Lt){return fe(this,void 0,void 0,function(){var xt;return B(this,function(kt){switch(kt.label){case 0:return Lt&&Lt.global?(Qe(Ne.SET,{screen_name:Ct}),[2,Promise.resolve()]):[3,1];case 1:return[4,_t];case 2:xt=kt.sent(),Qe(Ne.CONFIG,xt,{update:!0,screen_name:Ct}),kt.label=3;case 3:return[2]}})})})(En,Tt[Ct],sn,In).catch(function(Wt){return Ft.error(Wt)})},setUserId:function(sn,In){(function(Qe,_t,Ct,Lt){return fe(this,void 0,void 0,function(){var xt;return B(this,function(kt){switch(kt.label){case 0:return Lt&&Lt.global?(Qe(Ne.SET,{user_id:Ct}),[2,Promise.resolve()]):[3,1];case 1:return[4,_t];case 2:xt=kt.sent(),Qe(Ne.CONFIG,xt,{update:!0,user_id:Ct}),kt.label=3;case 3:return[2]}})})})(En,Tt[Ct],sn,In).catch(function(Wt){return Ft.error(Wt)})},setUserProperties:function(sn,In){(function(Qe,_t,Ct,Lt){return fe(this,void 0,void 0,function(){var xt,kt,Jt,sn,In;return B(this,function(Wt){switch(Wt.label){case 0:if(!Lt||!Lt.global)return[3,1];for(xt={},kt=0,Jt=Object.keys(Ct);kt<Jt.length;kt++)xt["user_properties."+(sn=Jt[kt])]=Ct[sn];return Qe(Ne.SET,xt),[2,Promise.resolve()];case 1:return[4,_t];case 2:In=Wt.sent(),Qe(Ne.CONFIG,In,{update:!0,user_properties:Ct}),Wt.label=3;case 3:return[2]}})})})(En,Tt[Ct],sn,In).catch(function(Wt){return Ft.error(Wt)})},setAnalyticsCollectionEnabled:function(sn){(function(Qe,_t){return fe(this,void 0,void 0,function(){var Ct;return B(this,function(Lt){switch(Lt.label){case 0:return[4,Qe];case 1:return Ct=Lt.sent(),window["ga-disable-"+Ct]=!_t,[2]}})})})(Tt[Ct],sn).catch(function(In){return Ft.error(In)})},INTERNAL:{delete:function(){return delete Tt[Ct],Promise.resolve()}}};return Jt}var qr="analytics";function hi(Qe){Qe.INTERNAL.registerComponent(new Q.Component(qr,function(Ct){return er(Ct.getProvider("app").getImmediate(),Ct.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:nr,EventName:ut,isSupported:Ni})),Qe.INTERNAL.registerComponent(new Q.Component("analytics-internal",function(Ct){try{return{logEvent:Ct.getProvider(qr).getImmediate().logEvent}}catch(xt){throw on.create("interop-component-reg-failed",{reason:xt})}},"PRIVATE")),Qe.registerVersion("@firebase/analytics","0.6.0")}function Ni(){return fe(this,void 0,void 0,function(){return B(this,function(Ct){switch(Ct.label){case 0:if((0,H.isBrowserExtension)())return[2,!1];if(!(0,H.areCookiesEnabled)())return[2,!1];if(!(0,H.isIndexedDBAvailable)())return[2,!1];Ct.label=1;case 1:return Ct.trys.push([1,3,,4]),[4,(0,H.validateIndexedDBOpenable)()];case 2:return[2,Ct.sent()];case 3:return Ct.sent(),[2,!1];case 4:return[2]}})})}hi(k.default)},9278:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var Y,ve,t=v(9628),C=v(1270),S=v(6355),q=v(4003),se=((Y={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Y["bad-app-name"]="Illegal App name: '{$appName}",Y["duplicate-app"]="Firebase App named '{$appName}' already exists",Y["app-deleted"]="Firebase App named '{$appName}' already deleted",Y["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Y["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Y),re=new C.ErrorFactory("app","Firebase",se),fe="@firebase/app",Ae="[DEFAULT]",xe=((ve={})[fe]="fire-core",ve["@firebase/analytics"]="fire-analytics",ve["@firebase/auth"]="fire-auth",ve["@firebase/database"]="fire-rtdb",ve["@firebase/functions"]="fire-fn",ve["@firebase/installations"]="fire-iid",ve["@firebase/messaging"]="fire-fcm",ve["@firebase/performance"]="fire-perf",ve["@firebase/remote-config"]="fire-rc",ve["@firebase/storage"]="fire-gcs",ve["@firebase/firestore"]="fire-fst",ve["fire-js"]="fire-js",ve["firebase-wrapper"]="fire-js-all",ve),Ge=new q.Logger("@firebase/app"),k=function(){function ut(qe,$e,lt){var Pt,nn,Ft=this;this.firebase_=lt,this.isDeleted_=!1,this.name_=$e.name,this.automaticDataCollectionEnabled_=$e.automaticDataCollectionEnabled||!1,this.options_=C.deepCopy(qe),this.container=new S.ComponentContainer($e.name),this._addComponent(new S.Component("app",function(){return Ft},"PUBLIC"));try{for(var pn=t.__values(this.firebase_.INTERNAL.components.values()),rn=pn.next();!rn.done;rn=pn.next())this._addComponent(rn.value)}catch(qn){Pt={error:qn}}finally{try{rn&&!rn.done&&(nn=pn.return)&&nn.call(pn)}finally{if(Pt)throw Pt.error}}}return Object.defineProperty(ut.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(qe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=qe},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ut.prototype.delete=function(){var qe=this;return new Promise(function($e){qe.checkDestroyed_(),$e()}).then(function(){return qe.firebase_.INTERNAL.removeApp(qe.name_),Promise.all(qe.container.getProviders().map(function($e){return $e.delete()}))}).then(function(){qe.isDeleted_=!0})},ut.prototype._getService=function(qe,$e){return void 0===$e&&($e=Ae),this.checkDestroyed_(),this.container.getProvider(qe).getImmediate({identifier:$e})},ut.prototype._removeServiceInstance=function(qe,$e){void 0===$e&&($e=Ae),this.container.getProvider(qe).clearInstance($e)},ut.prototype._addComponent=function(qe){try{this.container.addComponent(qe)}catch($e){Ge.debug("Component "+qe.name+" failed to register with FirebaseApp "+this.name,$e)}},ut.prototype._addOrOverwriteComponent=function(qe){this.container.addOrOverwriteComponent(qe)},ut.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw re.create("app-deleted",{appName:this.name_})},ut}();k.prototype.name&&k.prototype.options||k.prototype.delete||console.log("dc");var Q=function H(){var ut=function(ut){var qe={},$e=new Map,lt={__esModule:!0,initializeApp:function(mn,tn){void 0===tn&&(tn={}),("object"!=typeof tn||null===tn)&&(tn={name:tn});var Nn=tn;void 0===Nn.name&&(Nn.name=Ae);var on=Nn.name;if("string"!=typeof on||!on)throw re.create("bad-app-name",{appName:String(on)});if(C.contains(qe,on))throw re.create("duplicate-app",{appName:on});var zn=new ut(mn,Nn,lt);return qe[on]=zn,zn},app:nn,registerVersion:function(mn,tn,Cn){var Nn,on=null!==(Nn=xe[mn])&&void 0!==Nn?Nn:mn;Cn&&(on+="-"+Cn);var zn=on.match(/\s|\//),yn=tn.match(/\s|\//);if(zn||yn){var Hn=['Unable to register library "'+on+'" with version "'+tn+'":'];return zn&&Hn.push('library name "'+on+'" contains illegal characters (whitespace or "/")'),zn&&yn&&Hn.push("and"),yn&&Hn.push('version name "'+tn+'" contains illegal characters (whitespace or "/")'),void Ge.warn(Hn.join(" "))}rn(new S.Component(on+"-version",function(){return{library:on,version:tn}},"VERSION"))},setLogLevel:q.setLogLevel,onLog:function(mn,tn){if(null!==mn&&"function"!=typeof mn)throw re.create("invalid-log-argument",{appName:name});q.setUserLogHandler(mn,tn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:rn,removeApp:function(mn){delete qe[mn]},components:$e,useAsService:function(mn,tn){return"serverAuth"===tn?null:tn}}};function nn(mn){if(!C.contains(qe,mn=mn||Ae))throw re.create("no-app",{appName:mn});return qe[mn]}function rn(mn){var tn,Cn,Nn=mn.name;if($e.has(Nn))return Ge.debug("There were multiple attempts to register component "+Nn+"."),"PUBLIC"===mn.type?lt[Nn]:null;if($e.set(Nn,mn),"PUBLIC"===mn.type){var on=function(ir){if(void 0===ir&&(ir=nn()),"function"!=typeof ir[Nn])throw re.create("invalid-app-argument",{appName:Nn});return ir[Nn]()};void 0!==mn.serviceProps&&C.deepExtend(on,mn.serviceProps),lt[Nn]=on,ut.prototype[Nn]=function(){for(var ir=[],or=0;or<arguments.length;or++)ir[or]=arguments[or];return this._getService.bind(this,Nn).apply(this,mn.multipleInstances?ir:[])}}try{for(var zn=t.__values(Object.keys(qe)),yn=zn.next();!yn.done;yn=zn.next())qe[yn.value]._addComponent(mn)}catch(ir){tn={error:ir}}finally{try{yn&&!yn.done&&(Cn=zn.return)&&Cn.call(zn)}finally{if(tn)throw tn.error}}return"PUBLIC"===mn.type?lt[Nn]:null}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function(){return Object.keys(qe).map(function(mn){return qe[mn]})}}),nn.App=ut,lt}(k);return ut.INTERNAL=t.__assign(t.__assign({},ut.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function($e){C.deepExtend(ut,$e)},createSubscribe:C.createSubscribe,ErrorFactory:C.ErrorFactory,deepExtend:C.deepExtend}),ut}(),R=function(){function ut(qe){this.container=qe}return ut.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function($e){if(function(ut){var qe=ut.getComponent();return"VERSION"===(null==qe?void 0:qe.type)}($e)){var lt=$e.getImmediate();return lt.library+"/"+lt.version}return null}).filter(function($e){return $e}).join(" ")},ut}();if(C.isBrowser()&&void 0!==self.firebase){Ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&Ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var we=Q.initializeApp;Q.initializeApp=function(){for(var ut=[],qe=0;qe<arguments.length;qe++)ut[qe]=arguments[qe];return C.isNode()&&Ge.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),we.apply(void 0,ut)};var ut,Ne=Q;(ut=Ne).INTERNAL.registerComponent(new S.Component("platform-logger",function($e){return new R($e)},"PRIVATE")),ut.registerVersion(fe,"0.6.11",undefined),ut.registerVersion("fire-js",""),m.default=Ne,m.firebase=Ne},2451:(h,m,v)=>{(function(){var C,t=v(9278).default,S="function"==typeof Object.defineProperties?Object.defineProperty:function(i,p,I){i!=Array.prototype&&i!=Object.prototype&&(i[p]=I.value)},Y=function(i){i=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,i];for(var p=0;p<i.length;++p){var I=i[p];if(I&&I.Math==Math)return I}return globalThis}(this);function re(i){var p=0;return function(){return p<i.length?{done:!1,value:i[p++]}:{done:!0}}}function fe(i){var p="undefined"!=typeof Symbol&&Symbol.iterator&&i[Symbol.iterator];return p?p.call(i):{next:re(i)}}!function(i,p){if(p){var I=Y;i=i.split(".");for(var F=0;F<i.length-1;F++){var he=i[F];he in I||(I[he]={}),I=I[he]}(p=p(F=I[i=i[i.length-1]]))!=F&&null!=p&&S(I,i,{configurable:!0,writable:!0,value:p})}}("Promise",function(i){function p(ke){this.b=0,this.c=void 0,this.a=[];var it=this.f();try{ke(it.resolve,it.reject)}catch(Gt){it.reject(Gt)}}function I(){this.a=null}function F(ke){return ke instanceof p?ke:new p(function(it){it(ke)})}if(i)return i;I.prototype.b=function(ke){if(null==this.a){this.a=[];var it=this;this.c(function(){it.g()})}this.a.push(ke)};var he=Y.setTimeout;I.prototype.c=function(ke){he(ke,0)},I.prototype.g=function(){for(;this.a&&this.a.length;){var ke=this.a;this.a=[];for(var it=0;it<ke.length;++it){var Gt=ke[it];ke[it]=null;try{Gt()}catch(fn){this.f(fn)}}}this.a=null},I.prototype.f=function(ke){this.c(function(){throw ke})},p.prototype.f=function(){function ke(fn){return function(Nr){Gt||(Gt=!0,fn.call(it,Nr))}}var it=this,Gt=!1;return{resolve:ke(this.v),reject:ke(this.g)}},p.prototype.v=function(ke){if(ke===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ke instanceof p)this.o(ke);else{e:switch(typeof ke){case"object":var it=null!=ke;break e;case"function":it=!0;break e;default:it=!1}it?this.m(ke):this.h(ke)}},p.prototype.m=function(ke){var it=void 0;try{it=ke.then}catch(Gt){return void this.g(Gt)}"function"==typeof it?this.u(it,ke):this.h(ke)},p.prototype.g=function(ke){this.i(2,ke)},p.prototype.h=function(ke){this.i(1,ke)},p.prototype.i=function(ke,it){if(0!=this.b)throw Error("Cannot settle("+ke+", "+it+"): Promise already settled in state"+this.b);this.b=ke,this.c=it,this.l()},p.prototype.l=function(){if(null!=this.a){for(var ke=0;ke<this.a.length;++ke)De.b(this.a[ke]);this.a=null}};var De=new I;return p.prototype.o=function(ke){var it=this.f();ke.Pa(it.resolve,it.reject)},p.prototype.u=function(ke,it){var Gt=this.f();try{ke.call(it,Gt.resolve,Gt.reject)}catch(fn){Gt.reject(fn)}},p.prototype.then=function(ke,it){function Gt(Ri,Fr){return"function"==typeof Ri?function(pl){try{fn(Ri(pl))}catch(cf){Nr(cf)}}:Fr}var fn,Nr,bi=new p(function(Ri,Fr){fn=Ri,Nr=Fr});return this.Pa(Gt(ke,fn),Gt(it,Nr)),bi},p.prototype.catch=function(ke){return this.then(void 0,ke)},p.prototype.Pa=function(ke,it){function Gt(){switch(fn.b){case 1:ke(fn.c);break;case 2:it(fn.c);break;default:throw Error("Unexpected state: "+fn.b)}}var fn=this;null==this.a?De.b(Gt):this.a.push(Gt)},p.resolve=F,p.reject=function(ke){return new p(function(it,Gt){Gt(ke)})},p.race=function(ke){return new p(function(it,Gt){for(var fn=fe(ke),Nr=fn.next();!Nr.done;Nr=fn.next())F(Nr.value).Pa(it,Gt)})},p.all=function(ke){var it=fe(ke),Gt=it.next();return Gt.done?F([]):new p(function(fn,Nr){function bi(pl){return function(cf){Ri[pl]=cf,0==--Fr&&fn(Ri)}}var Ri=[],Fr=0;do{Ri.push(void 0),Fr++,F(Gt.value).Pa(bi(Ri.length-1),Nr),Gt=it.next()}while(!Gt.done)})},p});var B=B||{},j=this||self,oe=/^[\w+/_-]+[=]{0,2}$/,X=null;function te(){}function me(i){var p=typeof i;if("object"==p){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return p;var I=Object.prototype.toString.call(i);if("[object Window]"==I)return"object";if("[object Array]"==I||"number"==typeof i.length&&void 0!==i.splice&&void 0!==i.propertyIsEnumerable&&!i.propertyIsEnumerable("splice"))return"array";if("[object Function]"==I||void 0!==i.call&&void 0!==i.propertyIsEnumerable&&!i.propertyIsEnumerable("call"))return"function"}else if("function"==p&&void 0===i.call)return"object";return p}function le(i){var p=me(i);return"array"==p||"object"==p&&"number"==typeof i.length}function W(i){return"function"==me(i)}function z(i){var p=typeof i;return"object"==p&&null!=i||"function"==p}function K(i){return Object.prototype.hasOwnProperty.call(i,ee)&&i[ee]||(i[ee]=++_e)}var ee="closure_uid_"+(1e9*Math.random()>>>0),_e=0;function ve(i,p,I){return i.call.apply(i.bind,arguments)}function Ae(i,p,I){if(!i)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,F),i.apply(p,he)}}return function(){return i.apply(p,arguments)}}function xe(i,p,I){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:Ae).apply(null,arguments)}function Ge(i,p){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),i.apply(this,F)}}var k=Date.now||function(){return+new Date};function U(i,p){function I(){}I.prototype=p.prototype,i.$a=p.prototype,i.prototype=new I,i.prototype.constructor=i}function O(i,p,I){this.code=Q+i,this.message=p||R[i]||"",this.a=I||null}function H(i){var p=i&&i.code;return p?new O(p.substring(Q.length),i.message,i.serverResponse):null}U(O,Error),O.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},O.prototype.toJSON=function(){return this.w()};var je,Q="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},$={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function J(i){for(var p in $)if($[p].id===i)return{firebaseEndpoint:(i=$[p]).Sa,secureTokenEndpoint:i.Ya,identityPlatformEndpoint:i.Va};return null}function we(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch(p){return!1}}function Ne(i){if(Error.captureStackTrace)Error.captureStackTrace(this,Ne);else{var p=Error().stack;p&&(this.stack=p)}i&&(this.message=String(i))}function ut(i,p){for(var I="",F=(i=i.split("%s")).length-1,he=0;he<F;he++)I+=i[he]+(he<p.length?p[he]:"%s");Ne.call(this,I+i[F])}function qe(i,p){throw new ut("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function $e(i,p){this.c=i,this.f=p,this.b=0,this.a=null}function lt(i,p){i.f(p),100>i.b&&(i.b++,p.next=i.a,i.a=p)}function Pt(){this.b=this.a=null}je=J("__EID__")?"__EID__":void 0,U(Ne,Error),Ne.prototype.name="CustomError",U(ut,Ne),ut.prototype.name="AssertionError",$e.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};var nn=new $e(function(){return new pn},function(i){i.reset()});function Ft(){var i=wi,p=null;return i.a&&(p=i.a,i.a=i.a.next,i.a||(i.b=null),p.next=null),p}function pn(){this.next=this.b=this.a=null}Pt.prototype.add=function(i,p){var I=nn.get();I.set(i,p),this.b?this.b.next=I:this.a=I,this.b=I},pn.prototype.set=function(i,p){this.a=i,this.b=p,this.next=null},pn.prototype.reset=function(){this.next=this.b=this.a=null};var rn=Array.prototype.indexOf?function(i,p){return Array.prototype.indexOf.call(i,p,void 0)}:function(i,p){if("string"==typeof i)return"string"!=typeof p||1!=p.length?-1:i.indexOf(p,0);for(var I=0;I<i.length;I++)if(I in i&&i[I]===p)return I;return-1},St=Array.prototype.forEach?function(i,p,I){Array.prototype.forEach.call(i,p,I)}:function(i,p,I){for(var F=i.length,he="string"==typeof i?i.split(""):i,De=0;De<F;De++)De in he&&p.call(I,he[De],De,i)},un=Array.prototype.filter?function(i,p){return Array.prototype.filter.call(i,p,void 0)}:function(i,p){for(var I=i.length,F=[],he=0,De="string"==typeof i?i.split(""):i,ke=0;ke<I;ke++)if(ke in De){var it=De[ke];p.call(void 0,it,ke,i)&&(F[he++]=it)}return F},mn=Array.prototype.map?function(i,p){return Array.prototype.map.call(i,p,void 0)}:function(i,p){for(var I=i.length,F=Array(I),he="string"==typeof i?i.split(""):i,De=0;De<I;De++)De in he&&(F[De]=p.call(void 0,he[De],De,i));return F},tn=Array.prototype.some?function(i,p){return Array.prototype.some.call(i,p,void 0)}:function(i,p){for(var I=i.length,F="string"==typeof i?i.split(""):i,he=0;he<I;he++)if(he in F&&p.call(void 0,F[he],he,i))return!0;return!1};function Nn(i,p){return 0<=rn(i,p)}function on(i,p){var I;return(I=0<=(p=rn(i,p)))&&Array.prototype.splice.call(i,p,1),I}function zn(i,p){!function(i,p){for(var I="string"==typeof i?i.split(""):i,F=i.length-1;0<=F;--F)F in I&&p.call(void 0,I[F],F,i)}(i,function(F,he){p.call(void 0,F,he,i)&&Array.prototype.splice.call(i,he,1)})}function yn(i){return Array.prototype.concat.apply([],arguments)}function Hn(i){var p=i.length;if(0<p){for(var I=Array(p),F=0;F<p;F++)I[F]=i[F];return I}return[]}var Tt,ir=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},or=/&/g,dr=/</g,hr=/>/g,Gn=/"/g,An=/'/g,Wr=/\x00/g,ft=/[\x00&<>"']/;function Fe(i,p){return-1!=i.indexOf(p)}function rt(i,p){return i<p?-1:i>p?1:0}e:{var gt=j.navigator;if(gt){var ln=gt.userAgent;if(ln){Tt=ln;break e}}Tt=""}function Ht(i){return Fe(Tt,i)}function Tn(i,p){for(var I in i)p.call(void 0,i[I],I,i)}function Dn(i){for(var p in i)return!1;return!0}function En(i){var I,p={};for(I in i)p[I]=i[I];return p}var Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xn(i,p){for(var I,F,he=1;he<arguments.length;he++){for(I in F=arguments[he])i[I]=F[I];for(var De=0;De<Wn.length;De++)I=Wn[De],Object.prototype.hasOwnProperty.call(F,I)&&(i[I]=F[I])}}function Ir(i,p){e:{try{var I=i&&i.ownerDocument,F=I&&(I.defaultView||I.parentWindow);if((F=F||j).Element&&F.Location){var he=F;break e}}catch(ke){}he=null}if(he&&void 0!==he[p]&&(!i||!(i instanceof he[p])&&(i instanceof he.Location||i instanceof he.Element))){if(z(i))try{var De=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch(ke){De="<object could not be stringified>"}else De=void 0===i?"undefined":null===i?"null":typeof i;qe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,De)}}function nr(i,p){this.a=i===Ar&&p||"",this.b=er}function pi(i){return i instanceof nr&&i.constructor===nr&&i.b===er?i.a:(qe("expected object of type Const, got '"+i+"'"),"type_error:Const")}nr.prototype.sa=!0,nr.prototype.ra=function(){return this.a},nr.prototype.toString=function(){return"Const{"+this.a+"}"};var er={},Ar={},no=new nr(Ar,"");function qr(i,p){this.a=i===Lt&&p||"",this.b=Ct}function hi(i){return i instanceof qr&&i.constructor===qr&&i.b===Ct?i.a:(qe("expected object of type TrustedResourceUrl, got '"+i+"' of type "+me(i)),"type_error:TrustedResourceUrl")}function Ni(i,p){var I=pi(i);if(!_t.test(I))throw Error("Invalid TrustedResourceUrl format: "+I);return i=I.replace(Qe,function(F,he){if(!Object.prototype.hasOwnProperty.call(p,he))throw Error('Found marker, "'+he+'", in format string, "'+I+'", but no valid label mapping found in args: '+JSON.stringify(p));return(F=p[he])instanceof nr?pi(F):encodeURIComponent(String(F))}),new qr(Lt,i)}qr.prototype.sa=!0,qr.prototype.ra=function(){return this.a.toString()},qr.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Qe=/%{(\w+)}/g,_t=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ct={},Lt={};function xt(i,p){this.a=i===Wt&&p||"",this.b=In}function kt(i){return i instanceof xt&&i.constructor===xt&&i.b===In?i.a:(qe("expected object of type SafeUrl, got '"+i+"' of type "+me(i)),"type_error:SafeUrl")}xt.prototype.sa=!0,xt.prototype.ra=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function sn(i){return i instanceof xt?i:(i="object"==typeof i&&i.sa?i.ra():String(i),Jt.test(i)||(i="about:invalid#zClosurez"),new xt(Wt,i))}var In={},Wt={};function bn(){this.a="",this.b=fr}function Er(i){return i instanceof bn&&i.constructor===bn&&i.b===fr?i.a:(qe("expected object of type SafeHtml, got '"+i+"' of type "+me(i)),"type_error:SafeHtml")}bn.prototype.sa=!0,bn.prototype.ra=function(){return this.a.toString()},bn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var fr={};function lr(i){var p=new bn;return p.a=i,p}lr("<!DOCTYPE html>");var $r=lr("");function tt(i,p){for(var I=i.split("%s"),F="",he=Array.prototype.slice.call(arguments,1);he.length&&1<I.length;)F+=I.shift()+he.shift();return F+I.join("%s")}function at(i){return ft.test(i)&&(-1!=i.indexOf("&")&&(i=i.replace(or,"&amp;")),-1!=i.indexOf("<")&&(i=i.replace(dr,"&lt;")),-1!=i.indexOf(">")&&(i=i.replace(hr,"&gt;")),-1!=i.indexOf('"')&&(i=i.replace(Gn,"&quot;")),-1!=i.indexOf("'")&&(i=i.replace(An,"&#39;")),-1!=i.indexOf("\0")&&(i=i.replace(Wr,"&#0;"))),i}function Se(i){return Se[" "](i),i}lr("<br>"),Se[" "]=te;var Vn,i,Ie=Ht("Opera"),Ve=Ht("Trident")||Ht("MSIE"),et=Ht("Edge"),Xe=et||Ve,mt=Ht("Gecko")&&!(Fe(Tt.toLowerCase(),"webkit")&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),Vt=Fe(Tt.toLowerCase(),"webkit")&&!Ht("Edge");function cn(){var i=j.document;return i?i.documentMode:void 0}e:{var Qt="",hn=(i=Tt,mt?/rv:([^\);]+)(\)|;)/.exec(i):et?/Edge\/([\d\.]+)/.exec(i):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Vt?/WebKit\/(\S+)/.exec(i):Ie?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(hn&&(Qt=hn?hn[1]:""),Ve){var Je=cn();if(null!=Je&&Je>parseFloat(Qt)){Vn=String(Je);break e}}Vn=Qt}var vt,At={};function Et(i){return function(i,p){var I=At;return Object.prototype.hasOwnProperty.call(I,i)?I[i]:I[i]=p()}(i,function(){for(var p=0,I=ir(String(Vn)).split("."),F=ir(String(i)).split("."),he=Math.max(I.length,F.length),De=0;0==p&&De<he;De++){var ke=I[De]||"",it=F[De]||"";do{if(ke=/(\d*)(\D*)(.*)/.exec(ke)||["","","",""],it=/(\d*)(\D*)(.*)/.exec(it)||["","","",""],0==ke[0].length&&0==it[0].length)break;p=rt(0==ke[1].length?0:parseInt(ke[1],10),0==it[1].length?0:parseInt(it[1],10))||rt(0==ke[2].length,0==it[2].length)||rt(ke[2],it[2]),ke=ke[3],it=it[3]}while(0==p)}return 0<=p})}vt=j.document&&Ve?cn():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(i){}var _n=!Ve||9<=Number(vt);function Kt(i){var p=document;return"string"==typeof i?p.getElementById(i):i}function tr(i,p){Tn(p,function(I,F){I&&"object"==typeof I&&I.sa&&(I=I.ra()),"style"==F?i.style.cssText=I:"class"==F?i.className=I:"for"==F?i.htmlFor=I:Xn.hasOwnProperty(F)?i.setAttribute(Xn[F],I):0==F.lastIndexOf("aria-",0)||0==F.lastIndexOf("data-",0)?i.setAttribute(F,I):i[F]=I})}var ro,io,Xn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zi(i,p,I){function F(ke){ke&&p.appendChild("string"==typeof ke?i.createTextNode(ke):ke)}for(var he=2;he<I.length;he++){var De=I[he];!le(De)||z(De)&&0<De.nodeType?F(De):St(Hr(De)?Hn(De):De,F)}}function wr(i,p){return p=String(p),"application/xhtml+xml"===i.contentType&&(p=p.toLowerCase()),i.createElement(p)}function Hr(i){if(i&&"number"==typeof i.length){if(z(i))return"function"==typeof i.item||"string"==typeof i.item;if(W(i))return"function"==typeof i.item}return!1}function Po(i){j.setTimeout(function(){throw i},0)}function fi(i,p){io||function(){if(j.Promise&&j.Promise.resolve){var i=j.Promise.resolve(void 0);io=function(){i.then(ho)}}else io=function(){var p=ho;!W(j.setImmediate)||j.Window&&j.Window.prototype&&!Ht("Edge")&&j.Window.prototype.setImmediate==j.setImmediate?(ro||(ro=function(){var i=j.MessageChannel;if(void 0===i&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ht("Presto")&&(i=function(){var he=wr(document,"IFRAME");he.style.display="none",function(i){var p=new qr(Lt,pi(no));Ir(i,"HTMLIFrameElement"),i.src=hi(p).toString()}(he),document.documentElement.appendChild(he);var De=he.contentWindow;(he=De.document).open(),he.write(Er($r)),he.close();var ke="callImmediate"+Math.random(),it="file:"==De.location.protocol?"*":De.location.protocol+"//"+De.location.host;he=xe(function(Gt){("*"==it||Gt.origin==it)&&Gt.data==ke&&this.port1.onmessage()},this),De.addEventListener("message",he,!1),this.port1={},this.port2={postMessage:function(){De.postMessage(ke,it)}}}),void 0!==i&&!Ht("Trident")&&!Ht("MSIE")){var p=new i,I={},F=I;return p.port1.onmessage=function(){if(void 0!==I.next){var he=(I=I.next).Fb;I.Fb=null,he()}},function(he){F.next={Fb:he},F=F.next,p.port2.postMessage(0)}}return function(he){j.setTimeout(he,0)}}()),ro(p)):j.setImmediate(p)}}(),oo||(io(),oo=!0),wi.add(i,p)}var oo=!1,wi=new Pt;function ho(){for(var i;i=Ft();){try{i.a.call(i.b)}catch(p){Po(p)}lt(nn,i)}oo=!1}function ur(i,p){if(this.a=so,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=te)try{var I=this;i.call(p,function(F){ko(I,xs,F)},function(F){if(!(F instanceof Go))try{throw F instanceof Error?F:Error("Promise rejected.")}catch(he){}ko(I,Qr,F)})}catch(F){ko(this,Qr,F)}}var so=0,xs=2,Qr=3;function Ho(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ho.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ua=new $e(function(){return new Ho},function(i){i.reset()});function Oo(i,p,I){var F=ua.get();return F.g=i,F.b=p,F.f=I,F}function Kn(i){if(i instanceof ur)return i;var p=new ur(te);return ko(p,xs,i),p}function gr(i){return new ur(function(p,I){I(i)})}function nl(i,p,I){No(i,p,I,null)||fi(Ge(p,i))}function vs(i){return new ur(function(p){var I=i.length,F=[];if(I)for(var he=function(it,Gt,fn){I--,F[it]=Gt?{Ob:!0,value:fn}:{Ob:!1,reason:fn},0==I&&p(F)},De=0;De<i.length;De++)nl(i[De],Ge(he,De,!0),Ge(he,De,!1));else p(F)})}function Mo(i,p){if(i.a==so)if(i.c){var I=i.c;if(I.b){for(var F=0,he=null,De=null,ke=I.b;ke&&(ke.c||(F++,ke.a==i&&(he=ke),!(he&&1<F)));ke=ke.next)he||(De=ke);he&&(I.a==so&&1==F?Mo(I,p):(De?((F=De).next==I.f&&(I.f=F),F.next=F.next.next):ys(I),os(I,he,Qr,p)))}i.c=null}else ko(i,Qr,p)}function Ro(i,p){i.b||i.a!=xs&&i.a!=Qr||Fo(i),i.f?i.f.next=p:i.b=p,i.f=p}function yr(i,p,I,F){var he=Oo(null,null,null);return he.a=new ur(function(De,ke){he.g=p?function(it){try{var Gt=p.call(F,it);De(Gt)}catch(fn){ke(fn)}}:De,he.b=I?function(it){try{var Gt=I.call(F,it);void 0===Gt&&it instanceof Go?ke(it):De(Gt)}catch(fn){ke(fn)}}:ke}),he.a.c=i,Ro(i,he),he.a}function ko(i,p,I){i.a==so&&(i===I&&(p=Qr,I=new TypeError("Promise cannot resolve to itself")),i.a=1,No(I,i.Zc,i.$c,i)||(i.i=I,i.a=p,i.c=null,Fo(i),p!=Qr||I instanceof Go||function(i,p){i.g=!0,fi(function(){i.g&&ai.call(null,p)})}(i,I)))}function No(i,p,I,F){if(i instanceof ur)return Ro(i,Oo(p||te,I||null,F)),!0;if(we(i))return i.then(p,I,F),!0;if(z(i))try{var he=i.then;if(W(he))return function(i,p,I,F,he){function De(Gt){it||(it=!0,F.call(he,Gt))}var it=!1;try{p.call(i,function(Gt){it||(it=!0,I.call(he,Gt))},De)}catch(Gt){De(Gt)}}(i,he,p,I,F),!0}catch(De){return I.call(F,De),!0}return!1}function Fo(i){i.h||(i.h=!0,fi(i.fc,i))}function ys(i){var p=null;return i.b&&(i.b=(p=i.b).next,p.next=null),i.b||(i.f=null),p}function os(i,p,I,F){if(I==Qr&&p.b&&!p.c)for(;i&&i.g;i=i.c)i.g=!1;if(p.a)p.a.c=null,Ma(p,I,F);else try{p.c?p.g.call(p.f):Ma(p,I,F)}catch(he){ai.call(null,he)}lt(ua,p)}function Ma(i,p,I){p==xs?i.g.call(i.f,I):i.b&&i.b.call(i.f,I)}ur.prototype.then=function(i,p,I){return yr(this,W(i)?i:null,W(p)?p:null,I)},ur.prototype.$goog_Thenable=!0,(C=ur.prototype).na=function(i,p){return(i=Oo(i,i,p)).c=!0,Ro(this,i),this},C.s=function(i,p){return yr(this,null,i,p)},C.cancel=function(i){if(this.a==so){var p=new Go(i);fi(function(){Mo(this,p)},this)}},C.Zc=function(i){this.a=so,ko(this,xs,i)},C.$c=function(i){this.a=so,ko(this,Qr,i)},C.fc=function(){for(var i;i=ys(this);)os(this,i,this.a,this.i);this.h=!1};var ai=Po;function Go(i){Ne.call(this,i)}function qs(){0!=yo&&(ge[K(this)]=this),this.xa=this.xa,this.oa=this.oa}U(Go,Ne),Go.prototype.name="cancel";var yo=0,ge={};function pe(i){if(!i.xa&&(i.xa=!0,i.Da(),0!=yo)){var p=K(i);if(0!=yo&&i.oa&&0<i.oa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ge[p]}}qs.prototype.xa=!1,qs.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Me=Object.freeze||function(i){return i},Ye=!Ve||9<=Number(vt),nt=Ve&&!Et("9"),pt=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var i=!1,p=Object.defineProperty({},"passive",{get:function(){i=!0}});try{j.addEventListener("test",te,p),j.removeEventListener("test",te,p)}catch(I){}return i}();function Nt(i,p){this.type=i,this.b=this.target=p,this.defaultPrevented=!1}function Yt(i,p){if(Nt.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var I=this.type=i.type,F=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=p,p=i.relatedTarget){if(mt){e:{try{Se(p.nodeName);var he=!0;break e}catch(De){}he=!1}he||(p=null)}}else"mouseover"==I?p=i.fromElement:"mouseout"==I&&(p=i.toElement);this.relatedTarget=p,F?(this.clientX=void 0!==F.clientX?F.clientX:F.pageX,this.clientY=void 0!==F.clientY?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:zt[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}Nt.prototype.preventDefault=function(){this.defaultPrevented=!0},U(Yt,Nt);var zt=Me({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.$a.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,nt)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch(p){}},Yt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),Sn=0;function Cr(i,p,I,F,he){this.listener=i,this.proxy=null,this.src=p,this.type=I,this.capture=!!F,this.Ua=he,this.key=++Sn,this.va=this.Oa=!1}function Rn(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Ua=null}function ti(i){this.src=i,this.a={},this.b=0}function Or(i,p){var I=p.type;I in i.a&&on(i.a[I],p)&&(Rn(p),0==i.a[I].length&&(delete i.a[I],i.b--))}function ni(i,p,I,F){for(var he=0;he<i.length;++he){var De=i[he];if(!De.va&&De.listener==p&&De.capture==!!I&&De.Ua==F)return he}return-1}ti.prototype.add=function(i,p,I,F,he){var De=i.toString();(i=this.a[De])||(i=this.a[De]=[],this.b++);var ke=ni(i,p,F,he);return-1<ke?(p=i[ke],I||(p.Oa=!1)):((p=new Cr(p,this.src,De,!!F,he)).Oa=I,i.push(p)),p};var pr="closure_lm_"+(1e6*Math.random()|0),ao={};function Dr(i,p,I,F,he){if(F&&F.once)zo(i,p,I,F,he);else if(Array.isArray(p))for(var De=0;De<p.length;De++)Dr(i,p[De],I,F,he);else I=Ui(I),i&&i[$t]?Ms(i,p,I,z(F)?!!F.capture:!!F,he):li(i,p,I,!1,F,he)}function li(i,p,I,F,he,De){if(!p)throw Error("Invalid event type");var ke=z(he)?!!he.capture:!!he,it=vi(i);if(it||(i[pr]=it=new ti(i)),!(I=it.add(p,I,F,ke,De)).proxy)if(F=function(){var i=Yu,p=Ye?function(I){return i.call(p.src,p.listener,I)}:function(I){if(!(I=i.call(p.src,p.listener,I)))return I};return p}(),I.proxy=F,F.src=i,F.listener=I,i.addEventListener)pt||(he=ke),void 0===he&&(he=!1),i.addEventListener(p.toString(),F,he);else if(i.attachEvent)i.attachEvent(Os(p.toString()),F);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(F)}}function zo(i,p,I,F,he){if(Array.isArray(p))for(var De=0;De<p.length;De++)zo(i,p[De],I,F,he);else I=Ui(I),i&&i[$t]?Bl(i,p,I,z(F)?!!F.capture:!!F,he):li(i,p,I,!0,F,he)}function gi(i,p,I,F,he){if(Array.isArray(p))for(var De=0;De<p.length;De++)gi(i,p[De],I,F,he);else F=z(F)?!!F.capture:!!F,I=Ui(I),i&&i[$t]?(i=i.v,(p=String(p).toString())in i.a&&-1<(I=ni(De=i.a[p],I,F,he))&&(Rn(De[I]),Array.prototype.splice.call(De,I,1),0==De.length&&(delete i.a[p],i.b--))):i&&(i=vi(i))&&(p=i.a[p.toString()],i=-1,p&&(i=ni(p,I,F,he)),(I=-1<i?p[i]:null)&&mi(I))}function mi(i){if("number"!=typeof i&&i&&!i.va){var p=i.src;if(p&&p[$t])Or(p.v,i);else{var I=i.type,F=i.proxy;p.removeEventListener?p.removeEventListener(I,F,i.capture):p.detachEvent?p.detachEvent(Os(I),F):p.addListener&&p.removeListener&&p.removeListener(F),(I=vi(p))?(Or(I,i),0==I.b&&(I.src=null,p[pr]=null)):Rn(i)}}}function Os(i){return i in ao?ao[i]:ao[i]="on"+i}function ss(i,p,I,F){var he=!0;if((i=vi(i))&&(p=i.a[p.toString()]))for(p=p.concat(),i=0;i<p.length;i++){var De=p[i];De&&De.capture==I&&!De.va&&(De=Zn(De,F),he=he&&!1!==De)}return he}function Zn(i,p){var I=i.listener,F=i.Ua||i.src;return i.Oa&&mi(i),I.call(F,p)}function Yu(i,p){if(i.va)return!0;if(!Ye){if(!p)e:{p=["window","event"];for(var I=j,F=0;F<p.length;F++)if(null==(I=I[p[F]])){p=null;break e}p=I}if(p=new Yt(F=p,this),I=!0,!(0>F.keyCode||null!=F.returnValue)){e:{var he=!1;if(0==F.keyCode)try{F.keyCode=-1;break e}catch(ke){he=!0}(he||null==F.returnValue)&&(F.returnValue=!0)}for(F=[],he=p.b;he;he=he.parentNode)F.push(he);for(i=i.type,he=F.length-1;0<=he;he--){p.b=F[he];var De=ss(F[he],i,!0,p);I=I&&De}for(he=0;he<F.length;he++)p.b=F[he],De=ss(F[he],i,!1,p),I=I&&De}return I}return Zn(i,new Yt(p,this))}function vi(i){return(i=i[pr])instanceof ti?i:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(i){return W(i)?i:(i[Vr]||(i[Vr]=function(p){return i.handleEvent(p)}),i[Vr])}function Ki(){qs.call(this),this.v=new ti(this),this.$b=this,this.fb=null}function Ms(i,p,I,F,he){i.v.add(String(p),I,!1,F,he)}function Bl(i,p,I,F,he){i.v.add(String(p),I,!0,F,he)}function Zt(i,p,I,F){if(!(p=i.v.a[String(p)]))return!0;p=p.concat();for(var he=!0,De=0;De<p.length;++De){var ke=p[De];if(ke&&!ke.va&&ke.capture==I){var it=ke.listener,Gt=ke.Ua||ke.src;ke.Oa&&Or(i.v,ke),he=!1!==it.call(Gt,F)&&he}}return he&&!F.defaultPrevented}function Mr(i,p,I){if(W(i))I&&(i=xe(i,I));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xe(i.handleEvent,i)}return 2147483647<Number(p)?-1:j.setTimeout(i,p||0)}function _o(i){var p=null;return new ur(function(I,F){-1==(p=Mr(function(){I(void 0)},i))&&F(Error("Failed to schedule timer."))}).s(function(I){throw j.clearTimeout(p),I})}function yi(i){if(i.V&&"function"==typeof i.V)return i.V();if("string"==typeof i)return i.split("");if(le(i)){for(var p=[],I=i.length,F=0;F<I;F++)p.push(i[F]);return p}for(F in p=[],I=0,i)p[I++]=i[F];return p}function gl(i){if(i.Y&&"function"==typeof i.Y)return i.Y();if(!i.V||"function"!=typeof i.V){if(le(i)||"string"==typeof i){var p=[];i=i.length;for(var I=0;I<i;I++)p.push(I);return p}for(var F in p=[],I=0,i)p[I++]=F;return p}}function _i(i,p){this.b={},this.a=[],this.c=0;var I=arguments.length;if(1<I){if(I%2)throw Error("Uneven number of arguments");for(var F=0;F<I;F+=2)this.set(arguments[F],arguments[F+1])}else if(i)if(i instanceof _i)for(I=i.Y(),F=0;F<I.length;F++)this.set(I[F],i.get(I[F]));else for(F in i)this.set(F,i[F])}function Bi(i){if(i.c!=i.a.length){for(var p=0,I=0;p<i.a.length;){var F=i.a[p];Do(i.b,F)&&(i.a[I++]=F),p++}i.a.length=I}if(i.c!=i.a.length){var he={};for(I=p=0;p<i.a.length;)Do(he,F=i.a[p])||(i.a[I++]=F,he[F]=1),p++;i.a.length=I}}function Do(i,p){return Object.prototype.hasOwnProperty.call(i,p)}U(Ki,qs),Ki.prototype[$t]=!0,Ki.prototype.addEventListener=function(i,p,I,F){Dr(this,i,p,I,F)},Ki.prototype.removeEventListener=function(i,p,I,F){gi(this,i,p,I,F)},Ki.prototype.dispatchEvent=function(i){var p,I=this.fb;if(I)for(p=[];I;I=I.fb)p.push(I);I=this.$b;var F=i.type||i;if("string"==typeof i)i=new Nt(i,I);else if(i instanceof Nt)i.target=i.target||I;else{var he=i;xn(i=new Nt(F,I),he)}if(he=!0,p)for(var De=p.length-1;0<=De;De--){var ke=i.b=p[De];he=Zt(ke,F,!0,i)&&he}if(he=Zt(ke=i.b=I,F,!0,i)&&he,he=Zt(ke,F,!1,i)&&he,p)for(De=0;De<p.length;De++)he=Zt(ke=i.b=p[De],F,!1,i)&&he;return he},Ki.prototype.Da=function(){if(Ki.$a.Da.call(this),this.v){var I,i=this.v;for(I in i.a){for(var F=i.a[I],he=0;he<F.length;he++)Rn(F[he]);delete i.a[I],i.b--}}this.fb=null},(C=_i.prototype).V=function(){Bi(this);for(var i=[],p=0;p<this.a.length;p++)i.push(this.b[this.a[p]]);return i},C.Y=function(){return Bi(this),this.a.concat()},C.clear=function(){this.b={},this.c=this.a.length=0},C.get=function(i,p){return Do(this.b,i)?this.b[i]:p},C.set=function(i,p){Do(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=p},C.forEach=function(i,p){for(var I=this.Y(),F=0;F<I.length;F++){var he=I[F],De=this.get(he);i.call(p,De,he,this)}};var au=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yi(i,p){var I;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,i instanceof Yi?(this.i=void 0!==p?p:i.i,_s(this,i.f),this.l=i.l,this.a=i.a,Ci(this,i.g),this.c=i.c,Qi(this,Na(i.b)),this.h=i.h):i&&(I=String(i).match(au))?(this.i=!!p,_s(this,I[1]||"",!0),this.l=ca(I[2]||""),this.a=ca(I[3]||"",!0),Ci(this,I[4]),this.c=ca(I[5]||"",!0),Qi(this,I[6]||"",!0),this.h=ca(I[7]||"")):(this.i=!!p,this.b=new bs(null,this.i))}function _s(i,p,I){i.f=I?ca(p,!0):p,i.f&&(i.f=i.f.replace(/:$/,""))}function Ci(i,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);i.g=p}else i.g=null}function Qi(i,p,I){p instanceof bs?(i.b=p,function(i,p){p&&!i.f&&(as(i),i.c=null,i.a.forEach(function(I,F){var he=F.toLowerCase();F!=he&&(ls(this,F),Kr(this,he,I))},i)),i.f=p}(i.b,i.i)):(I||(p=$s(p,Wo)),i.b=new bs(p,i.i))}function xi(i,p,I){i.b.set(p,I)}function Zr(i,p){return i.b.get(p)}function Ti(i){return i instanceof Yi?new Yi(i):new Yi(i,void 0)}function rl(i,p,I,F){var he=new Yi(null,void 0);return i&&_s(he,i),p&&(he.a=p),I&&Ci(he,I),F&&(he.c=F),he}function ca(i,p){return i?p?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $s(i,p,I){return"string"==typeof i?(i=encodeURI(i).replace(p,Hl),I&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Hl(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Yi.prototype.toString=function(){var i=[],p=this.f;p&&i.push($s(p,vl,!0),":");var I=this.a;return(I||"file"==p)&&(i.push("//"),(p=this.l)&&i.push($s(p,vl,!0),"@"),i.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.g)&&i.push(":",String(I))),(I=this.c)&&(this.a&&"/"!=I.charAt(0)&&i.push("/"),i.push($s(I,"/"==I.charAt(0)?Gl:Ra,!0))),(I=this.b.toString())&&i.push("?",I),(I=this.h)&&i.push("#",$s(I,Ks)),i.join("")},Yi.prototype.resolve=function(i){var p=new Yi(this),I=!!i.f;I?_s(p,i.f):I=!!i.l,I?p.l=i.l:I=!!i.a,I?p.a=i.a:I=null!=i.g;var F=i.c;if(I)Ci(p,i.g);else if(I=!!i.c){if("/"!=F.charAt(0))if(this.a&&!this.c)F="/"+F;else{var he=p.c.lastIndexOf("/");-1!=he&&(F=p.c.substr(0,he+1)+F)}if(".."==(he=F)||"."==he)F="";else if(Fe(he,"./")||Fe(he,"/.")){F=0==he.lastIndexOf("/",0),he=he.split("/");for(var De=[],ke=0;ke<he.length;){var it=he[ke++];"."==it?F&&ke==he.length&&De.push(""):".."==it?((1<De.length||1==De.length&&""!=De[0])&&De.pop(),F&&ke==he.length&&De.push("")):(De.push(it),F=!0)}F=De.join("/")}else F=he}return I?p.c=F:I=""!==i.b.toString(),I?Qi(p,Na(i.b)):I=!!i.h,I&&(p.h=i.h),p};var vl=/[#\/\?@]/g,Ra=/[#\?:]/g,Gl=/[#\?]/g,Wo=/[#\?@]/g,Ks=/#/g;function bs(i,p){this.b=this.a=null,this.c=i||null,this.f=!!p}function as(i){i.a||(i.a=new _i,i.b=0,i.c&&function(i,p){if(i){i=i.split("&");for(var I=0;I<i.length;I++){var F=i[I].indexOf("="),he=null;if(0<=F){var De=i[I].substring(0,F);he=i[I].substring(F+1)}else De=i[I];p(De,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}(i.c,function(p,I){i.add(decodeURIComponent(p.replace(/\+/g," ")),I)}))}function ha(i){var p=gl(i);if(void 0===p)throw Error("Keys are undefined");var I=new bs(null,void 0);i=yi(i);for(var F=0;F<p.length;F++){var he=p[F],De=i[F];Array.isArray(De)?Kr(I,he,De):I.add(he,De)}return I}function ls(i,p){as(i),p=vn(i,p),Do(i.a.b,p)&&(i.c=null,i.b-=i.a.get(p).length,Do((i=i.a).b,p)&&(delete i.b[p],i.c--,i.a.length>2*i.c&&Bi(i)))}function ka(i,p){return as(i),p=vn(i,p),Do(i.a.b,p)}function Kr(i,p,I){ls(i,p),0<I.length&&(i.c=null,i.a.set(vn(i,p),Hn(I)),i.b+=I.length)}function Na(i){var p=new bs;return p.c=i.c,i.a&&(p.a=new _i(i.a),p.b=i.b),p}function vn(i,p){return p=String(p),i.f&&(p=p.toLowerCase()),p}function Si(i){var p=[];return Jr(new qo,i,p),p.join("")}function qo(){}function Jr(i,p,I){if(null==p)I.push("null");else{if("object"==typeof p){if(Array.isArray(p)){var F=p;p=F.length,I.push("[");for(var he="",De=0;De<p;De++)I.push(he),Jr(i,F[De],I),he=",";return void I.push("]")}if(!(p instanceof String||p instanceof Number||p instanceof Boolean)){for(F in I.push("{"),he="",p)Object.prototype.hasOwnProperty.call(p,F)&&"function"!=typeof(De=p[F])&&(I.push(he),Fa(F,I),I.push(":"),Jr(i,De,I),he=",");return void I.push("}")}p=p.valueOf()}switch(typeof p){case"string":Fa(p,I);break;case"number":I.push(isFinite(p)&&!isNaN(p)?String(p):"null");break;case"boolean":I.push(String(p));break;case"function":I.push("null");break;default:throw Error("Unknown type: "+typeof p)}}}(C=bs.prototype).add=function(i,p){as(this),this.c=null,i=vn(this,i);var I=this.a.get(i);return I||this.a.set(i,I=[]),I.push(p),this.b+=1,this},C.clear=function(){this.a=this.c=null,this.b=0},C.forEach=function(i,p){as(this),this.a.forEach(function(I,F){St(I,function(he){i.call(p,he,F,this)},this)},this)},C.Y=function(){as(this);for(var i=this.a.V(),p=this.a.Y(),I=[],F=0;F<p.length;F++)for(var he=i[F],De=0;De<he.length;De++)I.push(p[F]);return I},C.V=function(i){as(this);var p=[];if("string"==typeof i)ka(this,i)&&(p=yn(p,this.a.get(vn(this,i))));else{i=this.a.V();for(var I=0;I<i.length;I++)p=yn(p,i[I])}return p},C.set=function(i,p){return as(this),this.c=null,ka(this,i=vn(this,i))&&(this.b-=this.a.get(i).length),this.a.set(i,[p]),this.b+=1,this},C.get=function(i,p){return i&&0<(i=this.V(i)).length?String(i[0]):p},C.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],p=this.a.Y(),I=0;I<p.length;I++){var F=p[I],he=encodeURIComponent(String(F));F=this.V(F);for(var De=0;De<F.length;De++){var ke=he;""!==F[De]&&(ke+="="+encodeURIComponent(String(F[De]))),i.push(ke)}}return this.c=i.join("&")};var xo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},zl=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fa(i,p){p.push('"',i.replace(zl,function(I){var F=xo[I];return F||(F="\\u"+(65536|I.charCodeAt(0)).toString(16).substr(1),xo[I]=F),F}),'"')}function Fi(){var i=Zi();return Ve&&!!vt&&11==vt||/Edge\/\d+/.test(i)}function x(){return j.window&&j.window.location.href||self&&self.location&&self.location.href||""}function ce(i,p){p=p||j.window;var I="about:blank";i&&(I=kt(sn(i))),p.location.href=I}function be(i,p){var F,I=[];for(F in i)F in p?typeof i[F]!=typeof p[F]?I.push(F):"object"==typeof i[F]&&null!=i[F]&&null!=p[F]?0<be(i[F],p[F]).length&&I.push(F):i[F]!==p[F]&&I.push(F):I.push(F);for(F in p)F in i||I.push(F);return I}function ct(i){return!!((i=(i||Zi()).toLowerCase()).match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Dt(i){i=i||j.window;try{i.close()}catch(p){}}function Mn(i,p,I){var F=Math.floor(1e9*Math.random()).toString();p=p||500,I=I||600;var he=(window.screen.availHeight-I)/2,De=(window.screen.availWidth-p)/2;for(ke in p={width:p,height:I,top:0<he?he:0,left:0<De?De:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},I=Zi().toLowerCase(),F&&(p.target=F,Fe(I,"crios/")&&(p.target="_blank")),Ko(Zi())==Qn&&(i=i||"http://localhost",p.scrollbars=!0),I=i||"",(i=p)||(i={}),F=window,p=I instanceof xt?I:sn(void 0!==I.href?I.href:String(I)),I=i.target||I.target,he=[],i)switch(ke){case"width":case"height":case"top":case"left":he.push(ke+"="+i[ke]);break;case"target":case"noopener":case"noreferrer":break;default:he.push(ke+"="+(i[ke]?1:0))}var ke=he.join(",");if((Ht("iPhone")&&!Ht("iPod")&&!Ht("iPad")||Ht("iPad")||Ht("iPod"))&&F.navigator&&F.navigator.standalone&&I&&"_self"!=I?(Ir(ke=wr(document,"A"),"HTMLAnchorElement"),p instanceof xt||p instanceof xt||(p="object"==typeof p&&p.sa?p.ra():String(p),Jt.test(p)||(p="about:invalid#zClosurez"),p=new xt(Wt,p)),ke.href=kt(p),ke.setAttribute("target",I),i.noreferrer&&ke.setAttribute("rel","noreferrer"),(i=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,F,1),ke.dispatchEvent(i),ke={}):i.noreferrer?(ke=F.open("",I,ke),i=kt(p),ke&&(Xe&&Fe(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),ke.opener=null,i=lr('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+at(i)+'">'),F=ke.document)&&(F.write(Er(i)),F.close())):(ke=F.open(kt(p),I,ke))&&i.noopener&&(ke.opener=null),ke)try{ke.focus()}catch(it){}return ke}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wi=/^[^@]+@[^@]+$/;function $o(){var i=null;return new ur(function(p){"complete"==j.document.readyState?p():(i=function(){p()},zo(window,"load",i))}).s(function(p){throw gi(window,"load",i),p})}function Rs(i){return i=i||Zi(),!("file:"!==g()&&"ionic:"!==g()||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ys(){var i=j.window;try{return!(!i||i==i.top)}catch(p){return!1}}function Pi(){return void 0!==j.WorkerGlobalScope&&"function"==typeof j.importScripts}function ji(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":Pi()?"Worker":"Browser"}function lu(){var i=ji();return"ReactNative"===i||"Node"===i}var Qn="Firefox";function Ko(i){var p=i.toLowerCase();return Fe(p,"opera/")||Fe(p,"opr/")||Fe(p,"opios/")?"Opera":Fe(p,"iemobile")?"IEMobile":Fe(p,"msie")||Fe(p,"trident/")?"IE":Fe(p,"edge/")?"Edge":Fe(p,"firefox/")?Qn:Fe(p,"silk/")?"Silk":Fe(p,"blackberry")?"Blackberry":Fe(p,"webos")?"Webos":!Fe(p,"safari/")||Fe(p,"chrome/")||Fe(p,"crios/")||Fe(p,"android")?!Fe(p,"chrome/")&&!Fe(p,"crios/")||Fe(p,"edge/")?Fe(p,"android")?"Android":(i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==i.length?i[1]:"Other":"Chrome":"Safari"}var Ai={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Pn(i,p){p=p||[];var he,I=[],F={};for(he in Ai)F[Ai[he]]=!0;for(he=0;he<p.length;he++)void 0!==F[p[he]]&&(delete F[p[he]],I.push(p[he]));return I.sort(),(p=I).length||(p=["FirebaseCore-web"]),"Browser"===(I=ji())?I=Ko(F=Zi()):"Worker"===I&&(I=Ko(F=Zi())+"-"+I),I+"/JsCore/"+i+"/"+p.join(",")}function Zi(){return j.navigator&&j.navigator.userAgent||""}function ii(i,p){i=i.split("."),p=p||j;for(var I=0;I<i.length&&"object"==typeof p&&null!=p;I++)p=p[i[I]];return I!=i.length&&(p=void 0),p}function us(){try{var i=j.localStorage,p=Ce();if(i)return i.setItem(p,"1"),i.removeItem(p),!Fi()||!!j.indexedDB}catch(I){return Pi()&&!!j.indexedDB}return!1}function Yo(){return(A()||"chrome-extension:"===g()||Rs())&&!lu()&&us()&&!Pi()}function A(){return"http:"===g()||"https:"===g()}function g(){return j.location&&j.location.protocol||null}function b(i){return!(ct(i=i||Zi())||Ko(i)==Qn)}function P(i){return void 0===i?null:Si(i)}function G(i){var I,p={};for(I in i)i.hasOwnProperty(I)&&null!=i[I]&&(p[I]=i[I]);return p}function ie(i){if(null!==i)return JSON.parse(i)}function Ce(i){return i||Math.floor(1e9*Math.random()).toString()}function Oe(i){return!("Safari"==Ko(i=i||Zi())||i.toLowerCase().match(/iphone|ipad|ipod/))}function ze(){var i=j.___jsl;if(i&&i.H)for(var p in i.H)if(i.H[p].r=i.H[p].r||[],i.H[p].L=i.H[p].L||[],i.H[p].r=i.H[p].L.concat(),i.CP)for(var I=0;I<i.CP.length;I++)i.CP[I]=null}function Be(i,p){if(i>p)throw Error("Short delay should be less than long delay!");this.a=i,this.c=p,i=Zi(),p=ji(),this.b=ct(i)||"ReactNative"===p}function yt(){var i=j.document;return!i||void 0===i.visibilityState||"visible"==i.visibilityState}function Ut(i){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(i)}function Xt(i){try{var p=new Date(parseInt(i,10));if(!isNaN(p.getTime())&&!/[^0-9]/.test(i))return p.toUTCString()}catch(I){}return null}function dn(){return!(!ii("fireauth.oauthhelper",j)&&!ii("fireauth.iframe",j))}Be.prototype.get=function(){var i=j.navigator;return!i||"boolean"!=typeof i.onLine||!A()&&"chrome-extension:"!==g()&&void 0===i.connection||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ji,Rr={};function bo(i){Rr[i]||(Rr[i]=!0,Ut(i))}try{var Qo={};Object.defineProperty(Qo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qo,"abcd",{configurable:!0,enumerable:!0,value:2}),Ji=2==Qo.abcd}catch(i){Ji=!1}function Fn(i,p,I){Ji?Object.defineProperty(i,p,{configurable:!0,enumerable:!0,value:I}):i[p]=I}function qi(i,p){if(p)for(var I in p)p.hasOwnProperty(I)&&Fn(i,I,p[I])}function cs(i){var p={};return qi(p,i),p}function Nh(i){var p=i;if("object"==typeof i&&null!=i)for(var I in p="length"in i?[]:{},i)Fn(p,I,Nh(i[I]));return p}function Fc(i){var p=i&&(i[Vc]?"phone":null);if(!(p&&i&&i[Lc]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Fn(this,"uid",i[Lc]),Fn(this,"displayName",i[Qs]||null);var I=null;i[fa]&&(I=new Date(i[fa]).toUTCString()),Fn(this,"enrollmentTime",I),Fn(this,"factorId",p)}function Wl(i){try{var p=new La(i)}catch(I){p=null}return p}Fc.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qs="displayName",fa="enrolledAt",Lc="mfaEnrollmentId",Vc="phoneInfo";function La(i){Fc.call(this,i),Fn(this,"phoneNumber",i[Vc])}function bf(i){var p={},I=i[Ad],F=i[Jv],he=i[Xv];if(i=Wl(i[Dd]),!he||he!=Di&&he!=ql&&!I||he==ql&&!F||he==da&&!i)throw Error("Invalid checkActionCode response!");he==ql?(p[$l]=I||null,p[ws]=I||null,p[Zs]=F):(p[$l]=F||null,p[ws]=F||null,p[Zs]=I||null),p[Oi]=i||null,Fn(this,Li,he),Fn(this,Gr,Nh(p))}U(La,Fc),La.prototype.w=function(){var i=La.$a.w.call(this);return i.phoneNumber=this.phoneNumber,i};var da="REVERT_SECOND_FACTOR_ADDITION",Di="EMAIL_SIGNIN",ql="VERIFY_AND_CHANGE_EMAIL",Ad="email",Dd="mfaInfo",Jv="newEmail",Xv="requestType",Zs="email",$l="fromEmail",Oi="multiFactorInfo",ws="previousEmail",Gr="data",Li="operation";function mr(i){var p=Zr(i=Ti(i),ks)||null,I=Zr(i,lo)||null,F=Zr(i,_l)||null;if(F=F&&Js[F]||null,!p||!I||!F)throw new O("argument-error",ks+", "+lo+"and "+_l+" are required in a valid action code URL.");qi(this,{apiKey:p,operation:F,code:I,continueUrl:Zr(i,vr)||null,languageCode:Zr(i,Xi)||null,tenantId:Zr(i,uu)||null})}var ks="apiKey",lo="oobCode",vr="continueUrl",Xi="languageCode",_l="mode",uu="tenantId",Js={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:da,signIn:Di,verifyAndChangeEmail:ql,verifyEmail:"VERIFY_EMAIL"};function Qu(i){try{return new mr(i)}catch(p){return null}}function Cs(i){var p=i[Ns];if(void 0===p)throw new O("missing-continue-uri");if("string"!=typeof p||"string"==typeof p&&!p.length)throw new O("invalid-continue-uri");this.h=p,this.b=this.a=null,this.g=!1;var I=i[Zo];if(I&&"object"==typeof I){p=I[Lo];var F=I[Fs];if(I=I[Ts],"string"==typeof p&&p.length){if(this.a=p,void 0!==F&&"boolean"!=typeof F)throw new O("argument-error",Fs+" property must be a boolean when specified.");if(this.g=!!F,void 0!==I&&("string"!=typeof I||"string"==typeof I&&!I.length))throw new O("argument-error",Ts+" property must be a non empty string when specified.");this.b=I||null}else{if(void 0!==p)throw new O("argument-error",Lo+" property must be a non empty string when specified.");if(void 0!==F||void 0!==I)throw new O("missing-android-pkg-name")}}else if(void 0!==I)throw new O("argument-error",Zo+" property must be a non null object when specified.");if(this.f=null,(p=i[bl])&&"object"==typeof p){if("string"==typeof(p=p[Ss])&&p.length)this.f=p;else if(void 0!==p)throw new O("argument-error",Ss+" property must be a non empty string when specified.")}else if(void 0!==p)throw new O("argument-error",bl+" property must be a non null object when specified.");if(void 0!==(p=i[Ef])&&"boolean"!=typeof p)throw new O("argument-error",Ef+" property must be a boolean when specified.");if(this.c=!!p,void 0!==(i=i[Eo])&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new O("argument-error",Eo+" property must be a non empty string when specified.");this.i=i||null}var Zo="android",Eo="dynamicLinkDomain",Ef="handleCodeInApp",bl="iOS",Ns="url",Fs="installApp",Ts="minimumVersion",Lo="packageName",Ss="bundleId";function il(i){var p={};for(var I in p.continueUrl=i.h,p.canHandleCodeInApp=i.c,(p.androidPackageName=i.a)&&(p.androidMinimumVersion=i.b,p.androidInstallApp=i.g),p.iOSBundleId=i.f,p.dynamicLinkDomain=i.i,p)null===p[I]&&delete p[I];return p}var Kl=null;function cu(i){var p=Bc(i);if(!(p&&p.sub&&p.iss&&p.aud&&p.exp))throw Error("Invalid JWT");this.g=i,this.c=p.exp,this.h=p.sub,k(),this.a=p.provider_id||p.firebase&&p.firebase.sign_in_provider||null,this.f=p.firebase&&p.firebase.tenant||null,this.b=!!p.is_anonymous||"anonymous"==this.a}function El(i){try{return new cu(i)}catch(p){return null}}function Bc(i){if(!i||3!=(i=i.split(".")).length)return null;for(var p=(4-(i=i[1]).length%4)%4,I=0;I<p;I++)i+=".";try{return JSON.parse(function(i){var p="";return function(i,p){function I(Gt){for(;F<i.length;){var fn=i.charAt(F++),Nr=Kl[fn];if(null!=Nr)return Nr;if(!/^[\s\xa0]*$/.test(fn))throw Error("Unknown base64 encoding at char: "+fn)}return Gt}!function(){if(!Kl){Kl={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=["+/=","+/","-_=","-_.","-_"],I=0;5>I;I++)for(var F=i.concat(p[I].split("")),he=0;he<F.length;he++){var De=F[he];void 0===Kl[De]&&(Kl[De]=he)}}}();for(var F=0;;){var he=I(-1),De=I(0),ke=I(64),it=I(64);if(64===it&&-1===he)break;p(he<<2|De>>4),64!=ke&&(p(De<<4&240|ke>>2),64!=it&&p(ke<<6&192|it))}}(i,function(I){p+=String.fromCharCode(I)}),p}(i))}catch(F){}return null}cu.prototype.S=function(){return this.f},cu.prototype.i=function(){return this.b},cu.prototype.toString=function(){return this.g};var Zu="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),pa=["client_id","response_type","scope","redirect_uri","state"],Ls={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:pa},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:pa},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:pa},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Zu},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Ju(i){for(var p in Ls)if(Ls[p].fa==i)return Ls[p];return null}function hu(i){var p={};p["facebook.com"]=po,p["google.com"]=Co,p["github.com"]=xd,p["twitter.com"]=Pd;var I=i&&i[Yl];try{if(I)return p[I]?new p[I](i):new wo(i);if(void 0!==i[fu])return new ma(i)}catch(F){}return null}var fu="idToken",Yl="providerId";function ma(i){var p=i[Yl];if(!p&&i[fu]){var I=El(i[fu]);I&&I.a&&(p=I.a)}if(!p)throw Error("Invalid additional user info!");("anonymous"==p||"custom"==p)&&(p=null),I=!1,void 0!==i.isNewUser?I=!!i.isNewUser:"identitytoolkit#SignupNewUserResponse"===i.kind&&(I=!0),Fn(this,"providerId",p),Fn(this,"isNewUser",I)}function wo(i){ma.call(this,i),Fn(this,"profile",Nh((i=ie(i.rawUserInfo||"{}"))||{}))}function po(i){if(wo.call(this,i),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function xd(i){if(wo.call(this,i),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Fn(this,"username",this.profile&&this.profile.login||null)}function Co(i){if(wo.call(this,i),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Pd(i){if(wo.call(this,i),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Fn(this,"username",i.screenName||null)}function Od(i){var p=Ti(i),I=Zr(p,"link"),F=Zr(Ti(I),"link");return p=Zr(p,"deep_link_id"),Zr(Ti(p),"link")||p||F||I||i}function du(i,p){if(!i&&!p)throw new O("internal-error","Internal assert: no raw session string available");if(i&&p)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=p||null,this.type=this.a?ol:Xu}U(wo,ma),U(po,wo),U(xd,wo),U(Co,wo),U(Pd,wo);var ol="enroll",Xu="signin";function wl(){}function pu(i,p){return i.then(function(I){if(I[ia]){var F=El(I[ia]);if(!F||p!=F.h)throw new O("user-mismatch");return I}throw new O("user-mismatch")}).s(function(I){throw I&&I.code&&I.code==Q+"user-not-found"?new O("user-mismatch"):I})}function Va(i,p){if(!p)throw new O("internal-error","failed to construct a credential");this.a=p,Fn(this,"providerId",i),Fn(this,"signInMethod",i)}function Ua(i){return{pendingToken:i.a,requestUri:"http://localhost"}}function mu(i){if(i&&i.providerId&&i.signInMethod&&0==i.providerId.indexOf("saml.")&&i.pendingToken)try{return new Va(i.providerId,i.pendingToken)}catch(p){}return null}function To(i,p,I){if(this.a=null,p.idToken||p.accessToken)p.idToken&&Fn(this,"idToken",p.idToken),p.accessToken&&Fn(this,"accessToken",p.accessToken),p.nonce&&!p.pendingToken&&Fn(this,"nonce",p.nonce),p.pendingToken&&(this.a=p.pendingToken);else{if(!p.oauthToken||!p.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Fn(this,"accessToken",p.oauthToken),Fn(this,"secret",p.oauthTokenSecret)}Fn(this,"providerId",i),Fn(this,"signInMethod",I)}function jc(i){var p={};return i.idToken&&(p.id_token=i.idToken),i.accessToken&&(p.access_token=i.accessToken),i.secret&&(p.oauth_token_secret=i.secret),p.providerId=i.providerId,i.nonce&&!i.a&&(p.nonce=i.nonce),p={postBody:ha(p).toString(),requestUri:"http://localhost"},i.a&&(delete p.postBody,p.pendingToken=i.a),p}function ec(i){if(i&&i.providerId&&i.signInMethod){var p={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new To(i.providerId,p,i.signInMethod)}catch(I){}}return null}function Xs(i,p){this.Pc=p||[],qi(this,{providerId:i,isOAuthProvider:!0}),this.Hb={},this.ob=(Ju(i)||{}).Ja||null,this.nb=null}function Cl(i){if("string"!=typeof i||0!=i.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Xs.call(this,i,[])}function Jo(i){Xs.call(this,i,pa),this.a=[]}function sl(){Jo.call(this,"facebook.com")}function Hc(i){if(!i)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=i;return z(i)&&(p=i.accessToken),(new sl).credential({accessToken:p})}function So(){Jo.call(this,"github.com")}function al(i){if(!i)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var p=i;return z(i)&&(p=i.accessToken),(new So).credential({accessToken:p})}function gu(){Jo.call(this,"google.com"),this.Ca("profile")}function Md(i,p){var I=i;return z(i)&&(I=i.idToken,p=i.accessToken),(new gu).credential({idToken:I,accessToken:p})}function vu(){Xs.call(this,"twitter.com",Zu)}function ea(i,p){var I=i;if(z(I)||(I={oauthToken:i,oauthTokenSecret:p}),!I.oauthToken||!I.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new To("twitter.com",I,"twitter.com")}function Ba(i,p,I){this.a=i,this.f=p,Fn(this,"providerId","password"),Fn(this,"signInMethod",I===ga.EMAIL_LINK_SIGN_IN_METHOD?ga.EMAIL_LINK_SIGN_IN_METHOD:ga.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ta(i){return i&&i.email&&i.password?new Ba(i.email,i.password,i.signInMethod):null}function ga(){qi(this,{providerId:"password",isOAuthProvider:!1})}function Vh(i,p){if(!(p=hs(p)))throw new O("argument-error","Invalid email link!");return new Ba(i,p.code,ga.EMAIL_LINK_SIGN_IN_METHOD)}function hs(i){return(i=Qu(i=Od(i)))&&i.operation===Di?i:null}function ja(i){if(!(i.cb&&i.bb||i.La&&i.ea))throw new O("internal-error");this.a=i,Fn(this,"providerId","phone"),this.fa="phone",Fn(this,"signInMethod","phone")}function Gc(i){if(i&&"phone"===i.providerId&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var p={};return St(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(I){i[I]&&(p[I]=i[I])}),new ja(p)}return null}function va(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.cb,code:i.a.bb}}function ya(i){try{this.a=i||t.auth()}catch(p){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qi(this,{providerId:"phone",isOAuthProvider:!1})}function zc(i,p){if(!i)throw new O("missing-verification-id");if(!p)throw new O("missing-verification-code");return new ja({cb:i,bb:p})}function Vs(i){if(i.temporaryProof&&i.phoneNumber)return new ja({La:i.temporaryProof,ea:i.phoneNumber});var p=i&&i.providerId;if(!p||"password"===p)return null;var I=i&&i.oauthAccessToken,F=i&&i.oauthTokenSecret,he=i&&i.nonce,De=i&&i.oauthIdToken,ke=i&&i.pendingToken;try{switch(p){case"google.com":return Md(De,I);case"facebook.com":return Hc(I);case"github.com":return al(I);case"twitter.com":return ea(I,F);default:return I||F||De||ke?ke?0==p.indexOf("saml.")?new Va(p,ke):new To(p,{pendingToken:ke,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},p):new Jo(p).credential({idToken:De,accessToken:I,rawNonce:he}):null}}catch(it){return null}}function Wc(i){if(!i.isOAuthProvider)throw new O("invalid-oauth-provider")}function _a(i,p,I,F,he,De,ke){if(this.c=i,this.b=p||null,this.g=I||null,this.f=F||null,this.i=De||null,this.h=ke||null,this.a=he||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function qc(i){return(i=i||{}).type?new _a(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&H(i.error),i.postBody,i.tenantId):null}function yu(){this.b=null,this.a=[]}du.prototype.Ha=function(){return Kn(this.a?this.a:this.b)},du.prototype.w=function(){return this.type==ol?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},wl.prototype.ja=function(){},wl.prototype.b=function(){},wl.prototype.c=function(){},wl.prototype.w=function(){},Va.prototype.ja=function(i){return Is(i,Ua(this))},Va.prototype.b=function(i,p){var I=Ua(this);return I.idToken=p,pc(i,I)},Va.prototype.c=function(i,p){return pu($h(i,Ua(this)),p)},Va.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},To.prototype.ja=function(i){return Is(i,jc(this))},To.prototype.b=function(i,p){var I=jc(this);return I.idToken=p,pc(i,I)},To.prototype.c=function(i,p){return pu($h(i,jc(this)),p)},To.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i},Xs.prototype.Ka=function(i){return this.Hb=En(i),this},U(Cl,Xs),U(Jo,Xs),Jo.prototype.Ca=function(i){return Nn(this.a,i)||this.a.push(i),this},Jo.prototype.Pb=function(){return Hn(this.a)},Jo.prototype.credential=function(i,p){var I;if(!(I=z(i)?{idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:{idToken:i||null,accessToken:p||null}).idToken&&!I.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new To(this.providerId,I,this.providerId)},U(sl,Jo),Fn(sl,"PROVIDER_ID","facebook.com"),Fn(sl,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),U(So,Jo),Fn(So,"PROVIDER_ID","github.com"),Fn(So,"GITHUB_SIGN_IN_METHOD","github.com"),U(gu,Jo),Fn(gu,"PROVIDER_ID","google.com"),Fn(gu,"GOOGLE_SIGN_IN_METHOD","google.com"),U(vu,Xs),Fn(vu,"PROVIDER_ID","twitter.com"),Fn(vu,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ba.prototype.ja=function(i){return this.signInMethod==ga.EMAIL_LINK_SIGN_IN_METHOD?Pr(i,mc,{email:this.a,oobCode:this.f}):Pr(i,xr,{email:this.a,password:this.f})},Ba.prototype.b=function(i,p){return this.signInMethod==ga.EMAIL_LINK_SIGN_IN_METHOD?Pr(i,jd,{idToken:p,email:this.a,oobCode:this.f}):Pr(i,ot,{idToken:p,email:this.a,password:this.f})},Ba.prototype.c=function(i,p){return pu(this.ja(i),p)},Ba.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},qi(ga,{PROVIDER_ID:"password"}),qi(ga,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qi(ga,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ja.prototype.ja=function(i){return i.eb(va(this))},ja.prototype.b=function(i,p){var I=va(this);return I.idToken=p,Pr(i,Xr,I)},ja.prototype.c=function(i,p){var I=va(this);return I.operation="REAUTH",pu(i=Pr(i,Hi,I),p)},ja.prototype.w=function(){var i={providerId:"phone"};return this.a.cb&&(i.verificationId=this.a.cb),this.a.bb&&(i.verificationCode=this.a.bb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i},ya.prototype.eb=function(i,p){var I=this.a.a;return Kn(p.verify()).then(function(F){if("string"!=typeof F)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===p.type){var ke,he=z(i)?i.session:null,De=z(i)?i.phoneNumber:i;return ke=he&&he.type==ol?he.Ha().then(function(it){return function(i,p){return Pr(i,wt,p).then(function(I){return I.phoneSessionInfo.sessionInfo})}(I,{idToken:it,phoneEnrollmentInfo:{phoneNumber:De,recaptchaToken:F}})}):he&&he.type==Xu?he.Ha().then(function(it){return function(i,p){return Pr(i,Rt,p).then(function(I){return I.phoneResponseInfo.sessionInfo})}(I,{mfaPendingCredential:it,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:F}})}):function(i,p){return Pr(i,Re,p)}(I,{phoneNumber:De,recaptchaToken:F}),ke.then(function(it){return"function"==typeof p.reset&&p.reset(),it},function(it){throw"function"==typeof p.reset&&p.reset(),it})}throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},qi(ya,{PROVIDER_ID:"phone"}),qi(ya,{PHONE_SIGN_IN_METHOD:"phone"}),_a.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},_a.prototype.S=function(){return this.h},_a.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Sl,$c=null;function Uh(i){var p="unauthorized-domain",I=void 0,F=Ti(i);i=F.a,"chrome-extension"==(F=F.f)?I=tt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):"http"==F||"https"==F?I=tt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p="operation-not-supported-in-this-environment",O.call(this,p,I)}function Tl(i,p,I){O.call(this,i,I),(i=p||{}).Ib&&Fn(this,"email",i.Ib),i.ea&&Fn(this,"phoneNumber",i.ea),i.credential&&Fn(this,"credential",i.credential),i.Yb&&Fn(this,"tenantId",i.Yb)}function Ha(i){if(i.code){var p=i.code||"";0==p.indexOf(Q)&&(p=p.substring(Q.length));var I={credential:Vs(i),Yb:i.tenantId};if(i.email)I.Ib=i.email;else if(i.phoneNumber)I.ea=i.phoneNumber;else if(!I.credential)return new O(p,i.message||void 0);return new Tl(p,I,i.message)}return null}function _u(){}function tc(){}function na(i){if(!i.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var p=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],I=0;I<p.length;I++){var F=p[I];try{return new ActiveXObject(F),i.f=F}catch(he){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}function nc(){}function Kc(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=xe(this.pc,this),this.a.onerror=xe(this.Rb,this),this.a.onprogress=xe(this.qc,this),this.a.ontimeout=xe(this.uc,this)}function Ql(i,p){i.readyState=p,i.onreadystatechange&&i.onreadystatechange()}function Rd(i,p,I){this.reset(i,p,I,void 0,void 0)}function Il(i){this.f=i,this.b=this.c=this.a=null}function Zl(i,p){this.name=i,this.value=p}U(Uh,O),U(Tl,O),Tl.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var p=this.credential&&this.credential.w();return p&&xn(i,p),i},Tl.prototype.toJSON=function(){return this.w()},_u.prototype.c=null,U(tc,_u),tc.prototype.a=function(){var i=na(this);return i?new ActiveXObject(i):new XMLHttpRequest},tc.prototype.b=function(){var i={};return na(this)&&(i[0]=!0,i[1]=!0),i},Sl=new tc,U(nc,_u),nc.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if("undefined"!=typeof XDomainRequest)return new Kc;throw Error("Unsupported browser")},nc.prototype.b=function(){return{}},(C=Kc.prototype).open=function(i,p,I){if(null!=I&&!I)throw Error("Only async requests are supported.");this.a.open(i,p)},C.send=function(i){if(i){if("string"!=typeof i)throw Error("Only string data is supported");this.a.send(i)}else this.a.send()},C.abort=function(){this.a.abort()},C.setRequestHeader=function(){},C.getResponseHeader=function(i){return"content-type"==i.toLowerCase()?this.a.contentType:""},C.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ql(this,4)},C.Rb=function(){this.status=500,this.response=this.responseText="",Ql(this,4)},C.uc=function(){this.Rb()},C.qc=function(){this.status=200,Ql(this,1)},C.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Rd.prototype.a=null,Rd.prototype.reset=function(i,p,I,F,he){F||k(),delete this.a},Zl.prototype.toString=function(){return this.name};var ll=new Zl("SEVERE",1e3),Tf=new Zl("WARNING",900),kd=new Zl("CONFIG",700),Sf=new Zl("FINE",500);function rc(i){return i.c?i.c:i.a?rc(i.a):(qe("Root logger has no level set."),null)}Il.prototype.log=function(i,p,I){if(i.value>=rc(this).value)for(W(p)&&(p=p()),i=new Rd(i,String(p),this.f),I&&(i.a=I),I=this;I;)I=I.a};var Yc={},fs=null;function Jl(i){var p;if(fs||(fs=new Il(""),Yc[""]=fs,fs.c=kd),!(p=Yc[i])){p=new Il(i);var I=i.lastIndexOf("."),F=i.substr(I+1);(I=Jl(i.substr(0,I))).b||(I.b={}),I.b[F]=p,p.a=I,Yc[i]=p}return p}function Us(i,p){i&&i.log(Sf,p,void 0)}function Qc(i){this.f=i}function ic(i){Ki.call(this),this.o=i,this.readyState=bu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Jl("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}U(Qc,_u),Qc.prototype.a=function(){return new ic(this.f)},Qc.prototype.b=function(i){return function(){return i}}({}),U(ic,Ki);var bu=0;function oc(i){i.c.read().then(i.oc.bind(i)).catch(i.Ta.bind(i))}function Eu(i,p){p&&i.f&&(i.status=i.f.status,i.statusText=i.f.statusText),i.readyState=4,i.f=null,i.c=null,i.l=null,Xl(i)}function Xl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}function Al(i){Ki.call(this),this.headers=new _i,this.O=i||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=ul,this.u=this.R=!1}(C=ic.prototype).open=function(i,p){if(this.readyState!=bu)throw this.abort(),Error("Error reopening a connection");this.m=i,this.g=p,this.readyState=1,Xl(this)},C.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var p={headers:this.i,method:this.m,credentials:void 0,cache:void 0};i&&(p.body=i),this.o.fetch(new Request(this.g,p)).then(this.tc.bind(this),this.Ta.bind(this))},C.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Eu(this,!1)),this.readyState=bu},C.tc=function(i){this.a&&(this.f=i,this.b||(this.b=i.headers,this.readyState=2,Xl(this)),this.a&&(this.readyState=3,Xl(this),this.a&&("arraybuffer"===this.responseType?i.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==j.ReadableStream&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.l=new TextDecoder,oc(this)):i.text().then(this.sc.bind(this),this.Ta.bind(this)))))},C.oc=function(i){if(this.a){var p=this.l.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});p&&(this.response=this.responseText+=p),i.done?Eu(this,!0):Xl(this),3==this.readyState&&oc(this)}},C.sc=function(i){this.a&&(this.response=this.responseText=i,Eu(this,!0))},C.rc=function(i){this.a&&(this.response=i,Eu(this,!0))},C.Ta=function(i){var p=this.h;p&&p.log(Tf,"Failed to fetch url "+this.g,i instanceof Error?i:Error(i)),this.a&&Eu(this,!0)},C.setRequestHeader=function(i,p){this.i.append(i,p)},C.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.h)&&i.log(Tf,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},C.getAllResponseHeaders=function(){if(!this.b){var i=this.h;return i&&i.log(Tf,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}i=[];for(var p=this.b.entries(),I=p.next();!I.done;)i.push((I=I.value)[0]+": "+I[1]),I=p.next();return i.join("\r\n")},U(Al,Ki);var ul="";Al.prototype.b=Jl("goog.net.XhrIo");var Nd=/^https?$/i,If=["POST","PUT"];function Ld(i){return"content-type"==i.toLowerCase()}function Dl(i,p){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=p,Af(i),ds(i)}function Af(i){i.G||(i.G=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}function Zc(i){if(i.c&&void 0!==B)if(i.A[1]&&4==Ea(i)&&2==wu(i))Us(i.b,Bs(i,"Local request error detected and ignored"));else if(i.i&&4==Ea(i))Mr(i.Ub,0,i);else if(i.dispatchEvent("readystatechange"),4==Ea(i)){Us(i.b,Bs(i,"Request complete")),i.c=!1;try{var F,p=wu(i);e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}if(!(F=I)){var he;if(he=0===p){var De=String(i.l).match(au)[1]||null;if(!De&&j.self&&j.self.location){var ke=j.self.location.protocol;De=ke.substr(0,ke.length-1)}he=!Nd.test(De?De.toLowerCase():"")}F=he}if(F)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var it=2<Ea(i)?i.a.statusText:""}catch(Gt){Us(i.b,"Can not get status: "+Gt.message),it=""}i.h=it+" ["+wu(i)+"]",Af(i)}}finally{ds(i)}}}function ds(i,p){if(i.a){cl(i);var I=i.a,F=i.A[0]?te:null;i.a=null,i.A=null,p||i.dispatchEvent("ready");try{I.onreadystatechange=F}catch(he){(i=i.b)&&i.log(ll,"Problem encountered resetting onreadystatechange: "+he.message,void 0)}}}function cl(i){i.a&&i.u&&(i.a.ontimeout=null),i.o&&(j.clearTimeout(i.o),i.o=null)}function Ea(i){return i.a?i.a.readyState:0}function wu(i){try{return 2<Ea(i)?i.a.status:-1}catch(p){return-1}}function Bs(i,p){return p+" ["+i.P+" "+i.l+" "+wu(i)+"]"}function ra(i){var p=Jc;this.g=[],this.u=p,this.o=i||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function wa(i,p,I){i.a=!0,i.c=I,i.f=!p,jh(i)}function Ga(i){if(i.a){if(!i.m)throw new ps(i);i.m=!1}}function xl(i,p,I,F){i.g.push([p,I,F]),i.a&&jh(i)}function Cu(i){return tn(i.g,function(p){return W(p[1])})}function jh(i){if(i.h&&i.a&&Cu(i)){var p=i.h,I=eu[p];I&&(j.clearTimeout(I.a),delete eu[p]),i.h=0}i.b&&(i.b.l--,delete i.b),p=i.c;for(var F=I=!1;i.g.length&&!i.i;){var he=i.g.shift(),De=he[0],ke=he[1];if(he=he[2],De=i.f?ke:De)try{var it=De.call(he||i.o,p);void 0!==it&&(i.f=i.f&&(it==p||it instanceof Error),i.c=p=it),(we(p)||"function"==typeof j.Promise&&p instanceof j.Promise)&&(F=!0,i.i=!0)}catch(Gt){p=Gt,i.f=!0,Cu(i)||(I=!0)}}i.c=p,F&&(it=xe(i.v,i,!0),F=xe(i.v,i,!1),p instanceof ra?(xl(p,it,F),p.A=!0):p.then(it,F)),I&&(p=new Hh(p),eu[p.a]=p,i.h=p.a)}function ps(){Ne.call(this)}function ac(){Ne.call(this)}function Hh(i){this.a=j.setTimeout(xe(this.c,this),0),this.b=i}(C=Al.prototype).Ma=function(){void 0!==B&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Us(this.b,Bs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},C.abort=function(){this.a&&this.c&&(Us(this.b,Bs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ds(this))},C.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ds(this,!0)),Al.$a.Da.call(this)},C.Ub=function(){this.xa||(this.N||this.i||this.f?Zc(this):this.Ic())},C.Ic=function(){Zc(this)},C.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ul:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(ll,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(p){return Us(this.b,"Can not get response: "+p.message),null}},ra.prototype.cancel=function(i){if(this.a)this.c instanceof ra&&this.c.cancel();else{if(this.b){var p=this.b;delete this.b,i?p.cancel(i):(p.l--,0>=p.l&&p.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(i=new ac(this),Ga(this),wa(this,!1,i))}},ra.prototype.v=function(i,p){this.i=!1,wa(this,i,p)},ra.prototype.then=function(i,p,I){var F,he,De=new ur(function(ke,it){F=ke,he=it});return xl(this,F,function(ke){ke instanceof ac?De.cancel():he(ke)}),De.then(i,p,I)},ra.prototype.$goog_Thenable=!0,U(ps,Ne),ps.prototype.message="Deferred has already fired",ps.prototype.name="AlreadyCalledError",U(ac,Ne),ac.prototype.message="Deferred was canceled",ac.prototype.name="CanceledError",Hh.prototype.c=function(){throw delete eu[this.a],this.b};var eu={};function Io(i){var p={},I=p.document||document,F=hi(i).toString(),he=wr(document,"SCRIPT"),De={Vb:he,Ma:void 0},ke=new ra(De),it=null,Gt=null!=p.timeout?p.timeout:5e3;return 0<Gt&&(it=window.setTimeout(function(){Ca(he,!0);var fn=new uc(Tu,"Timeout reached for loading script "+F);Ga(ke),wa(ke,!1,fn)},Gt),De.Ma=it),he.onload=he.onreadystatechange=function(){he.readyState&&"loaded"!=he.readyState&&"complete"!=he.readyState||(Ca(he,p.wd||!1,it),Ga(ke),wa(ke,!0,null))},he.onerror=function(){Ca(he,!0,it);var fn=new uc(Xo,"Error while loading script "+F);Ga(ke),wa(ke,!1,fn)},xn(De=p.attributes||{},{type:"text/javascript",charset:"UTF-8"}),tr(he,De),function(i,p){Ir(i,"HTMLScriptElement"),i.src=hi(p),null===X&&(X=(p=(p=j.document).querySelector&&p.querySelector("script[nonce]"))&&(p=p.nonce||p.getAttribute("nonce"))&&oe.test(p)?p:""),(p=X)&&i.setAttribute("nonce",p)}(he,i),function(i){var p;return(p=(i||document).getElementsByTagName("HEAD"))&&0!=p.length?p[0]:i.documentElement}(I).appendChild(he),ke}function Jc(){if(this&&this.Vb){var i=this.Vb;i&&"SCRIPT"==i.tagName&&Ca(i,!0,this.Ma)}}function Ca(i,p,I){null!=I&&j.clearTimeout(I),i.onload=te,i.onerror=te,i.onreadystatechange=te,p&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var Xo=0,Tu=1;function uc(i,p){var I="Jsloader error (code #"+i+")";p&&(I+=": "+p),Ne.call(this,I),this.code=i}function Su(i){this.f=i}function Ta(i,p,I){if(this.c=i,this.l=(i=p||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=i.secureTokenTimeout||Gh,this.g=En(i.secureTokenHeaders||Vd),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=i.firebaseTimeout||tu,this.a=En(i.firebaseHeaders||Xc),I&&(this.a["X-Client-Version"]=I,this.g["X-Client-Version"]=I),I="Node"==ji(),!(I=j.XMLHttpRequest||I&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!Pi())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Pi()?new Qc(self):lu()?new Su(I):new nc,this.b=null}U(uc,Ne),U(Su,_u),Su.prototype.a=function(){return new this.f},Su.prototype.b=function(){return{}};var cc,ia="idToken",Gh=new Be(3e4,6e4),Vd={"Content-Type":"application/x-www-form-urlencoded"},tu=new Be(3e4,6e4),Xc={"Content-Type":"application/json"};function xf(i,p){p?i.a["X-Firebase-Locale"]=p:delete i.a["X-Firebase-Locale"]}function js(i,p){p&&(i.l=za("https://securetoken.googleapis.com/v1/token",p),i.h=za("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",p),i.i=za("https://identitytoolkit.googleapis.com/v2/",p))}function za(i,p){return i=Ti(i),p=Ti(p.url),i.c=i.a+i.c,_s(i,p.f),i.a=p.a,Ci(i,p.g),i.toString()}function hc(i,p){p?(i.a["X-Client-Version"]=p,i.g["X-Client-Version"]=p):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}function Iu(i,p,I,F,he,De,ke){(function(){var i=Zi();return!((i="Chrome"!=Ko(i)?null:(i=i.match(/\sChrome\/(\d+)/i))&&2==i.length?parseInt(i[1],10):null)&&30>i||Ve&&vt&&!(9<vt))})()||Pi()?i=xe(i.u,i):(cc||(cc=new ur(function(it,Gt){!function(i,p){((window.gapi||{}).client||{}).request?i():(j[zh]=function(){((window.gapi||{}).client||{}).request?i():p(Error("CORS_UNSUPPORTED"))},function(i,p){xl(i,null,p,void 0)}(Io(Ni(zp,{onload:zh})),function(){p(Error("CORS_UNSUPPORTED"))}))}(it,Gt)})),i=xe(i.o,i)),i(p,I,F,he,De,ke)}Ta.prototype.S=function(){return this.b},Ta.prototype.u=function(i,p,I,F,he,De){if(Pi()&&(void 0===j.fetch||void 0===j.Headers||void 0===j.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ke=new Al(this.f);if(De){ke.g=Math.max(0,De);var it=setTimeout(function(){ke.dispatchEvent("timeout")},De)}Ms(ke,"complete",function(){it&&clearTimeout(it);var Gt=null;try{Gt=JSON.parse(function(i){try{return i.a?i.a.responseText:""}catch(p){return Us(i.b,"Can not get responseText: "+p.message),""}}(this))||null}catch(fn){Gt=null}p&&p(Gt)}),Bl(ke,"ready",function(){it&&clearTimeout(it),pe(this)}),Bl(ke,"timeout",function(){it&&clearTimeout(it),pe(this),p&&p(null)}),function(i,p,I,F,he){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+p);I=I?I.toUpperCase():"GET",i.l=p,i.h="",i.P=I,i.G=!1,i.c=!0,i.a=i.O?i.O.a():Sl.a(),i.A=function(i){return i.c||(i.c=i.b())}(i.O?i.O:Sl),i.a.onreadystatechange=xe(i.Ub,i);try{Us(i.b,Bs(i,"Opening Xhr")),i.N=!0,i.a.open(I,String(p),!0),i.N=!1}catch(ke){return Us(i.b,Bs(i,"Error opening Xhr: "+ke.message)),void Dl(i,ke)}p=F||"";var De=new _i(i.headers);he&&function(i,p){if(i.forEach&&"function"==typeof i.forEach)i.forEach(p,void 0);else if(le(i)||"string"==typeof i)St(i,p,void 0);else for(var I=gl(i),F=yi(i),he=F.length,De=0;De<he;De++)p.call(void 0,F[De],I&&I[De],i)}(he,function(ke,it){De.set(it,ke)}),he=function(i){e:{for(var p=Ld,I=i.length,F="string"==typeof i?i.split(""):i,he=0;he<I;he++)if(he in F&&p.call(void 0,F[he],he,i)){p=he;break e}p=-1}return 0>p?null:"string"==typeof i?i.charAt(p):i[p]}(De.Y()),F=j.FormData&&p instanceof j.FormData,!Nn(If,I)||he||F||De.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),De.forEach(function(ke,it){this.a.setRequestHeader(it,ke)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.R&&(i.a.withCredentials=i.R);try{cl(i),0<i.g&&(i.u=function(i){return Ve&&Et(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(i.a),Us(i.b,Bs(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=xe(i.Ma,i)):i.o=Mr(i.Ma,i.g,i)),Us(i.b,Bs(i,"Sending request")),i.i=!0,i.a.send(p),i.i=!1}catch(ke){Us(i.b,Bs(i,"Send error: "+ke.message)),Dl(i,ke)}}(ke,i,I,F,he)};var zp=new nr(Ar,"https://apis.google.com/js/client.js?onload=%{onload}"),zh="__fcb"+Math.floor(1e6*Math.random()).toString();function fl(i){if("string"!=typeof(i=i.email)||!Wi.test(i))throw new O("invalid-email")}function Pf(i){"email"in i&&fl(i)}function Vo(i){if(!i[ia])throw i.mfaPendingCredential?new O("multi-factor-auth-required",null,En(i)):new O("internal-error")}function nh(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new O("internal-error")}else{if(!i.sessionInfo)throw new O("missing-verification-id");if(!i.code)throw new O("missing-verification-code")}}Ta.prototype.o=function(i,p,I,F,he){var De=this;cc.then(function(){window.gapi.client.setApiKey(De.c);var ke=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:I,body:F,headers:he,authType:"none",callback:function(it){window.gapi.auth.setToken(ke),p&&p(it)}})}).s(function(ke){p&&p({error:{message:ke&&ke.message||"CORS_UNSUPPORTED"}})})},Ta.prototype.yb=function(){return Pr(this,st,{})},Ta.prototype.Ab=function(i,p){return Pr(this,We,{idToken:i,email:p})},Ta.prototype.Bb=function(i,p){return Pr(this,ot,{idToken:i,password:p})};var Pl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function dc(i){if(!i.phoneVerificationInfo)throw new O("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new O("missing-verification-code")}function Wh(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new O("internal-error")}function qh(i,p){return p.oauthIdToken&&p.providerId&&0==p.providerId.indexOf("oidc.")&&!p.pendingToken&&(i.sessionId?p.nonce=i.sessionId:i.postBody&&ka(i=new bs(i.postBody),"nonce")&&(p.nonce=i.get("nonce"))),p}function Ol(i){var p=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",p=Ha(i)):"FEDERATED_USER_ID_ALREADY_LINKED"==i.errorMessage?(i.code="credential-already-in-use",p=Ha(i)):"EMAIL_EXISTS"==i.errorMessage?(i.code="email-already-in-use",p=Ha(i)):i.errorMessage&&(p=nu(i.errorMessage)),p)throw p;Vo(i)}function Is(i,p){return p.returnIdpCredential=!0,Pr(i,jt,p)}function pc(i,p){return p.returnIdpCredential=!0,Pr(i,Un,p)}function $h(i,p){return p.returnIdpCredential=!0,p.autoCreate=!1,Pr(i,$n,p)}function Au(i){if(!i.oobCode)throw new O("invalid-action-code")}(C=Ta.prototype).Cb=function(i,p){var I={idToken:i},F=[];return Tn(Pl,function(he,De){var ke=p[De];null===ke?F.push(he):De in p&&(I[De]=ke)}),F.length&&(I.deleteAttribute=F),Pr(this,We,I)},C.ub=function(i,p){return xn(i={requestType:"PASSWORD_RESET",email:i},p),Pr(this,M,i)},C.vb=function(i,p){return xn(i={requestType:"EMAIL_SIGNIN",email:i},p),Pr(this,c,i)},C.tb=function(i,p){return xn(i={requestType:"VERIFY_EMAIL",idToken:i},p),Pr(this,_,i)},C.Db=function(i,p,I){return xn(i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:p},I),Pr(this,T,i)},C.eb=function(i){return Pr(this,Tr,i)},C.mb=function(i,p){return Pr(this,ye,{oobCode:i,newPassword:p})},C.Qa=function(i){return Pr(this,Wa,{oobCode:i})},C.ib=function(i){return Pr(this,Bd,{oobCode:i})};var Bd={endpoint:"setAccountInfo",B:Au,Z:"email",C:!0},Wa={endpoint:"resetPassword",B:Au,F:function(i){var p=i.requestType;if(!p||!i.email&&"EMAIL_SIGNIN"!=p&&"VERIFY_AND_CHANGE_EMAIL"!=p)throw new O("internal-error")},C:!0},Kh={endpoint:"signupNewUser",B:function(i){if(fl(i),!i.password)throw new O("weak-password")},F:Vo,U:!0,C:!0},Sa={endpoint:"createAuthUri",C:!0},Yp={endpoint:"deleteAccount",M:["idToken"]},Yh={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(i){if("array"!=me(i.deleteProvider))throw new O("internal-error")}},mc={endpoint:"emailLinkSignin",M:["email","oobCode"],B:fl,F:Vo,U:!0,C:!0},jd={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:fl,F:Vo,U:!0},rh={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:dc,F:Vo,C:!0,Na:!0},f={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:dc,F:Vo,C:!0,Na:!0},l={endpoint:"getAccountInfo"},c={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(i){if("EMAIL_SIGNIN"!=i.requestType)throw new O("internal-error");fl(i)},Z:"email",C:!0},_={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(i){if("VERIFY_EMAIL"!=i.requestType)throw new O("internal-error")},Z:"email",C:!0},T={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(i){if("VERIFY_AND_CHANGE_EMAIL"!=i.requestType)throw new O("internal-error")},Z:"email",C:!0},M={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(i){if("PASSWORD_RESET"!=i.requestType)throw new O("internal-error");fl(i)},Z:"email",C:!0},V={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},ae={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(i){if(!i.recaptchaSiteKey)throw new O("internal-error")}},ye={endpoint:"resetPassword",B:Au,Z:"email",C:!0},Re={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},We={endpoint:"setAccountInfo",M:["idToken"],B:Pf,U:!0},ot={endpoint:"setAccountInfo",M:["idToken"],B:function(i){if(Pf(i),!i.password)throw new O("weak-password")},F:Vo,U:!0},st={endpoint:"signupNewUser",F:Vo,U:!0,C:!0},wt={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(i){if(!i.phoneEnrollmentInfo)throw new O("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},Rt={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},jt={endpoint:"verifyAssertion",B:Wh,Xa:qh,F:Ol,U:!0,C:!0},$n={endpoint:"verifyAssertion",B:Wh,Xa:qh,F:function(i){if(i.errorMessage&&"USER_NOT_FOUND"==i.errorMessage)throw new O("user-not-found");if(i.errorMessage)throw nu(i.errorMessage);Vo(i)},U:!0,C:!0},Un={endpoint:"verifyAssertion",B:function(i){if(Wh(i),!i.idToken)throw new O("internal-error")},Xa:qh,F:Ol,U:!0},sr={endpoint:"verifyCustomToken",B:function(i){if(!i.token)throw new O("invalid-custom-token")},F:Vo,U:!0,C:!0},xr={endpoint:"verifyPassword",B:function(i){if(fl(i),!i.password)throw new O("wrong-password")},F:Vo,U:!0,C:!0},Tr={endpoint:"verifyPhoneNumber",B:nh,F:Vo,C:!0},Xr={endpoint:"verifyPhoneNumber",B:function(i){if(!i.idToken)throw new O("internal-error");nh(i)},F:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Ha(i);Vo(i)}},Hi={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:nh,F:Vo,C:!0},ms={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(i){if(!!i[ia]^!!i.refreshToken)throw new O("internal-error")},C:!0,Na:!0};function Pr(i,p,I){if(!function(i,p){if(!p||!p.length)return!0;if(!i)return!1;for(var I=0;I<p.length;I++){var F=i[p[I]];if(null==F||""===F)return!1}return!0}(I,p.M))return gr(new O("internal-error"));var De,F=!!p.Na,he=p.Tb||"POST";return Kn(I).then(p.B).then(function(){return p.U&&(I.returnSecureToken=!0),p.C&&i.b&&void 0===I.tenantId&&(I.tenantId=i.b),function(i,p,I,F,he,De,ke){var it=Ti(p+I);xi(it,"key",i.c),ke&&xi(it,"cb",k().toString());var Gt="GET"==F;if(Gt)for(var fn in he)he.hasOwnProperty(fn)&&xi(it,fn,he[fn]);return new ur(function(Nr,bi){Iu(i,it.toString(),function(Ri){Ri?Ri.error?bi(Du(Ri,De||{})):Nr(Ri):bi(new O("network-request-failed"))},F,Gt?void 0:Si(G(he)),i.a,i.m.get())})}(i,F?i.i:i.h,p.endpoint,he,I,p.Gb,p.kb||!1)}).then(function(ke){return De=ke,p.Xa?p.Xa(I,De):De}).then(p.F).then(function(){if(!p.Z)return De;if(!(p.Z in De))throw new O("internal-error");return De[p.Z]})}function nu(i){return Du({error:{errors:[{message:i}],code:400,message:i}})}function Du(i,p){var I=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",F={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(I=F[I]?new O(F[I]):null)return I;for(var he in I=i.error&&i.error.message||"",xn(F={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},p||{}),p=(p=I.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<p.length?p[1]:void 0,F)if(0===I.indexOf(he))return new O(F[he],p);return!p&&i&&(p=P(i)),new O("internal-error",p)}function qa(i){this.b=i,this.a=null,this.qb=function(i){return(vc||(vc=new ur(function(i,p){function I(){ze(),ii("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){ze(),p(Error("Network Error"))},timeout:oa.get()})}if(ii("gapi.iframes.Iframe"))i();else if(ii("gapi.load"))I();else{var F="__iframefcb"+Math.floor(1e6*Math.random()).toString();j[F]=function(){ii("gapi.load")?I():p(Error("Network Error"))},Kn(Io(F=Ni(Hd,{onload:F}))).s(function(){p(Error("Network Error"))})}}).s(function(i){throw vc=null,i}))).then(function(){return new ur(function(p,I){ii("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(F){function he(){clearTimeout(De),p()}i.a=F,i.a.restyle({setHideOnLeave:!1});var De=setTimeout(function(){I(Error("Network Error"))},dl.get());F.ping(he).then(he,function(){I(Error("Network Error"))})})})})}(this)}var Hd=new nr(Ar,"https://apis.google.com/js/api.js?onload=%{onload}"),oa=new Be(3e4,6e4),dl=new Be(5e3,15e3),vc=null;function Qp(i,p,I,F){this.l=i,this.h=p,this.i=I,this.g=F,this.f=null,i=this.g?rl((i=Ti(this.g.url)).f,i.a,i.g,"/emulator/auth/iframe"):rl("https",this.l,null,"/__/auth/iframe"),this.a=i,xi(this.a,"apiKey",this.h),xi(this.a,"appName",this.i),this.b=null,this.c=[]}function Zh(i,p,I,F,he,De){this.u=i,this.o=p,this.c=I,this.v=F,this.m=De,this.i=this.g=this.l=null,this.a=he,this.h=this.f=null}function zd(i){try{return t.app(i).auth().Ga()}catch(p){return[]}}function Wd(i,p,I,F,he,De){this.o=i,this.g=p,this.b=I,this.f=De,this.c=F||null,this.i=he||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function ih(i){var p=x();return function(i){return Pr(i,V,{}).then(function(p){return p.authorizedDomains||[]})}(i).then(function(I){e:{var F=Ti(p),he=F.f;F=F.a;for(var De=0;De<I.length;De++){var ke=I[De],it=F,Gt=he;if(0==ke.indexOf("chrome-extension://")?it=Ti(ke).a==it&&"chrome-extension"==Gt:"http"!=Gt&&"https"!=Gt?it=!1:_r.test(ke)?it=it==ke:(ke=ke.split(".").join("\\."),it=new RegExp("^(.+\\."+ke+"|"+ke+")$","i").test(it)),it){I=!0;break e}}I=!1}if(!I)throw new Uh(x())})}function qd(i){return i.v||(i.v=$o().then(function(){if(!i.u){var p=i.c,I=i.i,F=zd(i.b),he=new Qp(i.o,i.g,i.b,i.f);he.f=p,he.b=I,he.c=Hn(F||[]),i.u=he.toString()}i.m=new qa(i.u),function(i){if(!i.m)throw Error("IfcHandler must be initialized!");!function(i,p){i.qb.then(function(){i.a.register("authEvent",p,ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i.m,function(p){var I={};if(p&&p.authEvent){var F=!1;for(p=qc(p.authEvent),I=0;I<i.h.length;I++)F=i.h[I](p)||F;return(I={}).status=F?"ACK":"ERROR",Kn(I)}return I.status="ERROR",Kn(I)})}(i)})),i.v}function $d(i){return i.l||(i.A=i.c?Pn(i.c,zd(i.b)):null,i.l=new Ta(i.g,J(i.i),i.A),i.f&&js(i.l,i.f)),i.l}function yc(i,p,I,F,he,De,ke,it,Gt,fn,Nr,bi){return(i=new Zh(i,p,I,F,he,bi)).l=De,i.g=ke,i.i=it,i.b=En(Gt||null),i.f=fn,i.xb(Nr).toString()}function Kd(i){if(this.a=i||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Jp(i){this.b=i,this.a={},this.f=xe(this.c,this)}Qp.prototype.toString=function(){return this.f?xi(this.a,"v",this.f):ls(this.a.b,"v"),this.b?xi(this.a,"eid",this.b):ls(this.a.b,"eid"),this.c.length?xi(this.a,"fw",this.c.join(",")):ls(this.a.b,"fw"),this.a.toString()},Zh.prototype.xb=function(i){return this.h=i,this},Zh.prototype.toString=function(){if(this.m){var i=Ti(this.m.url);i=rl(i.f,i.a,i.g,"/emulator/auth/handler")}else i=rl("https",this.u,null,"/__/auth/handler");if(xi(i,"apiKey",this.o),xi(i,"appName",this.c),xi(i,"authType",this.v),this.a.isOAuthProvider){var p=this.a;try{var I=t.app(this.c).auth().ka()}catch(it){I=null}for(var F in p.nb=I,xi(i,"providerId",this.a.providerId),p=G((I=this.a).Hb))p[F]=p[F].toString();F=I.Pc,p=En(p);for(var he=0;he<F.length;he++){var De=F[he];De in p&&delete p[De]}I.ob&&I.nb&&!p[I.ob]&&(p[I.ob]=I.nb),Dn(p)||xi(i,"customParameters",P(p))}if("function"==typeof this.a.Pb&&(I=this.a.Pb()).length&&xi(i,"scopes",I.join(",")),this.l?xi(i,"redirectUrl",this.l):ls(i.b,"redirectUrl"),this.g?xi(i,"eventId",this.g):ls(i.b,"eventId"),this.i?xi(i,"v",this.i):ls(i.b,"v"),this.b)for(var ke in this.b)this.b.hasOwnProperty(ke)&&!Zr(i,ke)&&xi(i,ke,this.b[ke]);return this.h?xi(i,"tid",this.h):ls(i.b,"tid"),this.f?xi(i,"eid",this.f):ls(i.b,"eid"),(ke=zd(this.c)).length&&xi(i,"fw",ke.join(",")),i.toString()},(C=Wd.prototype).Nb=function(i,p,I){var F=new O("popup-closed-by-user"),he=new O("web-storage-unsupported"),De=this,ke=!1;return this.la().then(function(){(function(i){var p={type:"webStorageSupport"};return qd(i).then(function(){return function(i,p){return i.qb.then(function(){return new ur(function(I){i.a.send(p.type,p,I,ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(i.m,p)}).then(function(I){if(I&&I.length&&void 0!==I[0].webStorageSupport)return I[0].webStorageSupport;throw Error()})})(De).then(function(it){it||(i&&Dt(i),p(he),ke=!0)})}).s(function(){}).then(function(){if(!ke)return function(i){return new ur(function(p){return function I(){_o(2e3).then(function(){if(i&&!i.closed)return I();p()})}()})}(i)}).then(function(){if(!ke)return _o(I).then(function(){p(F)})})},C.Wb=function(){var i=Zi();return!b(i)&&!Oe(i)},C.Sb=function(){return!1},C.Lb=function(i,p,I,F,he,De,ke,it){if(!i)return gr(new O("popup-blocked"));if(ke&&!b())return this.la().s(function(fn){Dt(i),he(fn)}),F(),Kn();this.a||(this.a=ih($d(this)));var Gt=this;return this.a.then(function(){var fn=Gt.la().s(function(Nr){throw Dt(i),he(Nr),Nr});return F(),fn}).then(function(){Wc(I),ke||ce(yc(Gt.o,Gt.g,Gt.b,p,I,null,De,Gt.c,void 0,Gt.i,it,Gt.f),i)}).s(function(fn){throw"auth/network-request-failed"==fn.code&&(Gt.a=null),fn})},C.Mb=function(i,p,I,F){this.a||(this.a=ih($d(this)));var he=this;return this.a.then(function(){Wc(p),ce(yc(he.o,he.g,he.b,i,p,x(),I,he.c,void 0,he.i,F,he.f))}).s(function(De){throw"auth/network-request-failed"==De.code&&(he.a=null),De})},C.la=function(){var i=this;return qd(this).then(function(){return i.m.qb}).s(function(){throw i.a=null,new O("network-request-failed")})},C.Zb=function(){return!0},C.Ea=function(i){this.h.push(i)},C.Ra=function(i){zn(this.h,function(p){return p==i})},(C=Kd.prototype).get=function(i){return Kn(this.a.getItem(i)).then(function(p){return p&&ie(p)})},C.set=function(i,p){return Kn(this.a.setItem(i,P(p)))},C.T=function(i){return Kn(this.a.removeItem(i))},C.ca=function(){},C.ia=function(){};var Of,Tg=[];function Ig(i,p,I){Dn(i.a)&&i.b.addEventListener("message",i.f),void 0===i.a[p]&&(i.a[p]=[]),i.a[p].push(I)}function Yd(i){this.a=i}function Xp(i){this.c=i,this.b=!1,this.a=[]}function Ag(i,p,I,F){var he,ke,it,Gt,De=I||{},fn=null;if(i.b)return gr(Error("connection_unavailable"));var Nr=F?800:50,bi="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ur(function(Ri,Fr){bi?(he=Math.floor(Math.random()*Math.pow(10,20)).toString(),bi.port1.start(),it=setTimeout(function(){Fr(Error("unsupported_event"))},Nr),i.a.push(fn={messageChannel:bi,onMessage:ke=function(pl){pl.data.eventId===he&&("ack"===pl.data.status?(clearTimeout(it),Gt=setTimeout(function(){Fr(Error("timeout"))},3e3)):"done"===pl.data.status?(clearTimeout(Gt),void 0!==pl.data.response?Ri(pl.data.response):Fr(Error("unknown_error"))):(clearTimeout(it),clearTimeout(Gt),Fr(Error("invalid_response"))))}}),bi.port1.addEventListener("message",ke),i.c.postMessage({eventType:p,eventId:he,data:De},[bi.port2])):Fr(Error("connection_unavailable"))}).then(function(Ri){return $a(i,fn),Ri}).s(function(Ri){throw $a(i,fn),Ri})}function $a(i,p){if(p){var I=p.messageChannel;I&&(I.port1.removeEventListener("message",p.onMessage),I.port1.close()),zn(i.a,function(he){return he==p})}}function Dg(){if(!tm())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=j.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var i=this;Pi()&&self?(this.l=function(){var i=Pi()?self:null;if(St(Tg,function(I){I.b==i&&(p=I)}),!p){var p=new Jp(i);Tg.push(p)}return p}(),Ig(this.l,"keyChanged",function(p,I){return kr(i).then(function(F){return 0<F.length&&St(i.a,function(he){he(F)}),{keyProcessed:Nn(F,I.key)}})}),Ig(this.l,"ping",function(){return Kn(["keyChanged"])})):function(){var i=j.navigator;return i&&i.serviceWorker?Kn().then(function(){return i.serviceWorker.ready}).then(function(p){return p.active||null}).s(function(){return null}):Kn(null)}().then(function(p){(i.h=p)&&(i.g=new Xp(new Yd(p)),Ag(i.g,"ping",null,!0).then(function(I){I[0].fulfilled&&Nn(I[0].value,"keyChanged")&&(i.o=!0)}).s(function(){}))})}function em(i){return new ur(function(p,I){var F=i.m.open("firebaseLocalStorageDb",1);F.onerror=function(he){try{he.preventDefault()}catch(De){}I(Error(he.target.error))},F.onupgradeneeded=function(he){he=he.target.result;try{he.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(De){I(De)}},F.onsuccess=function(he){(he=he.target.result).objectStoreNames.contains("firebaseLocalStorage")?p(he):function(i){return new ur(function(p,I){var F=i.m.deleteDatabase("firebaseLocalStorageDb");F.onsuccess=function(){p()},F.onerror=function(he){I(Error(he.target.error))}})}(i).then(function(){return em(i)}).then(function(De){p(De)}).s(function(De){I(De)})}})}function Qd(i){return i.v||(i.v=em(i)),i.v}function tm(){try{return!!j.indexedDB}catch(i){return!1}}function oh(i){return i.objectStore("firebaseLocalStorage")}function Mf(i,p){return i.transaction(["firebaseLocalStorage"],p?"readwrite":"readonly")}function Jh(i){return new ur(function(p,I){i.onsuccess=function(F){F&&F.target?p(F.target.result):p()},i.onerror=function(F){I(F.target.error)}})}function xg(i,p){return i.g&&i.h&&function(){var i=j.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}()===i.h?Ag(i.g,"keyChanged",{key:p},i.o).then(function(){}).s(function(){}):Kn()}function kr(i){return Qd(i).then(function(p){var I=oh(Mf(p,!1));return I.getAll?Jh(I.getAll()):new ur(function(F,he){var De=[],ke=I.openCursor();ke.onsuccess=function(it){(it=it.target.result)?(De.push(it.value),it.continue()):F(De)},ke.onerror=function(it){he(it.target.error)}})}).then(function(p){var I={},F=[];if(0==i.b){for(F=0;F<p.length;F++)I[p[F].fbase_key]=p[F].value;F=be(i.c,I),i.c=I}return F})}function Zd(i){i.i&&i.i.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function nm(i){var p=this,I=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Kn().then(function(){if(tm()){var F=Ce(),he="__sak"+F;return Of||(Of=new Dg),(I=Of).set(he,F).then(function(){return I.get(he)}).then(function(De){if(De!==F)throw Error("indexedDB not supported!");return I.T(he)}).then(function(){return I}).s(function(){return p.c})}return p.c}).then(function(F){return p.type=F.type,F.ca(function(he){St(p.a,function(De){De(he)})}),F})}function Pu(){this.a={},this.type="inMemory"}function Ia(){if(!function(){var i="Node"==ji();if(!(i=rm()||i&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==ji()?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=rm()||t.INTERNAL.node.localStorage,this.type="localStorage"}function rm(){try{var i=j.localStorage,p=Ce();return i&&(i.setItem(p,"1"),i.removeItem(p)),i}catch(I){return null}}function kf(){this.type="nullStorage"}function Ml(){if(!function(){var i="Node"==ji();if(!(i=Jd()||i&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(p){return!1}}())throw"Node"==ji()?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=Jd()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Jd(){try{var i=j.sessionStorage,p=Ce();return i&&(i.setItem(p,"1"),i.removeItem(p)),i}catch(I){return null}}function Xd(){var i={};i.Browser=om,i.Node=z_,i.ReactNative=ep,i.Worker=sm,this.a=i[ji()]}Jp.prototype.c=function(i){var p=i.data.eventType,I=i.data.eventId,F=this.a[p];if(F&&0<F.length){i.ports[0].postMessage({status:"ack",eventId:I,eventType:p,response:null});var he=[];St(F,function(De){he.push(Kn().then(function(){return De(i.origin,i.data.data)}))}),vs(he).then(function(De){var ke=[];St(De,function(it){ke.push({fulfilled:it.Ob,value:it.value,reason:it.reason?it.reason.message:void 0})}),St(ke,function(it){for(var Gt in it)void 0===it[Gt]&&delete it[Gt]}),i.ports[0].postMessage({status:"done",eventId:I,eventType:p,response:ke})})}},Yd.prototype.postMessage=function(i,p){this.a.postMessage(i,p)},Xp.prototype.close=function(){for(;0<this.a.length;)$a(this,this.a[0]);this.b=!0},(C=Dg.prototype).set=function(i,p){var F,I=!1,he=this;return Qd(this).then(function(De){return Jh((De=oh(Mf(F=De,!0))).get(i))}).then(function(De){var ke=oh(Mf(F,!0));return De?(De.value=p,Jh(ke.put(De))):(he.b++,I=!0,(De={}).fbase_key=i,De.value=p,Jh(ke.add(De)))}).then(function(){return he.c[i]=p,xg(he,i)}).na(function(){I&&he.b--})},C.get=function(i){return Qd(this).then(function(p){return Jh(oh(Mf(p,!1)).get(i))}).then(function(p){return p&&p.value})},C.T=function(i){var p=!1,I=this;return Qd(this).then(function(F){return p=!0,I.b++,Jh(oh(Mf(F,!0)).delete(i))}).then(function(){return delete I.c[i],xg(I,i)}).na(function(){p&&I.b--})},C.ca=function(i){0==this.a.length&&function(i){Zd(i),function p(){i.f=setTimeout(function(){i.i=kr(i).then(function(I){0<I.length&&St(i.a,function(F){F(I)})}).then(function(){p()}).s(function(I){"STOP_EVENT"!=I.message&&p()})},800)}()}(this),this.a.push(i)},C.ia=function(i){zn(this.a,function(p){return p==i}),0==this.a.length&&Zd(this)},(C=nm.prototype).get=function(i){return this.b.then(function(p){return p.get(i)})},C.set=function(i,p){return this.b.then(function(I){return I.set(i,p)})},C.T=function(i){return this.b.then(function(p){return p.T(i)})},C.ca=function(i){this.a.push(i)},C.ia=function(i){zn(this.a,function(p){return p==i})},(C=Pu.prototype).get=function(i){return Kn(this.a[i])},C.set=function(i,p){return this.a[i]=p,Kn()},C.T=function(i){return delete this.a[i],Kn()},C.ca=function(){},C.ia=function(){},(C=Ia.prototype).get=function(i){var p=this;return Kn().then(function(){return ie(p.a.getItem(i))})},C.set=function(i,p){var I=this;return Kn().then(function(){var F=P(p);null===F?I.T(i):I.a.setItem(i,F)})},C.T=function(i){var p=this;return Kn().then(function(){p.a.removeItem(i)})},C.ca=function(i){j.window&&Dr(j.window,"storage",i)},C.ia=function(i){j.window&&gi(j.window,"storage",i)},(C=kf.prototype).get=function(){return Kn(null)},C.set=function(){return Kn()},C.T=function(){return Kn()},C.ca=function(){},C.ia=function(){},(C=Ml.prototype).get=function(i){var p=this;return Kn().then(function(){return ie(p.a.getItem(i))})},C.set=function(i,p){var I=this;return Kn().then(function(){var F=P(p);null===F?I.T(i):I.a.setItem(i,F)})},C.T=function(i){var p=this;return Kn().then(function(){p.a.removeItem(i)})},C.ca=function(){},C.ia=function(){};var im,eo,om={D:Ia,ab:Ml},z_={D:Ia,ab:Ml},ep={D:Kd,ab:kf},sm={D:Ia,ab:kf},Aa={qd:"local",NONE:"none",sd:"session"};function Nf(){var i=!(Oe(Zi())||!Ys()),p=b(),I=us();this.v=i,this.h=p,this.l=I,this.a={},im||(im=new Xd),i=im;try{this.g=!Fi()&&dn()||!j.indexedDB?new i.a.D:new nm(Pi()?new Pu:new i.a.D)}catch(F){this.g=new Pu,this.h=!0}try{this.i=new i.a.ab}catch(F){this.i=new Pu}this.m=new Pu,this.f=xe(this.Xb,this),this.b={}}function Ff(){return eo||(eo=new Nf),eo}function ah(i,p){switch(p){case"session":return i.i;case"none":return i.m;default:return i.g}}function Xh(i,p){return"firebase:"+i.name+(p?":"+p:"")}function lh(i,p,I){return I=Xh(p,I),"local"==p.D&&(i.b[I]=null),ah(i,p.D).T(I)}function lm(i){i.c&&(clearInterval(i.c),i.c=null)}function Lf(i){this.a=i,this.b=Ff()}(C=Nf.prototype).get=function(i,p){return ah(this,i.D).get(Xh(i,p))},C.set=function(i,p,I){var F=Xh(i,I),he=this,De=ah(this,i.D);return De.set(F,p).then(function(){return De.get(F)}).then(function(ke){"local"==i.D&&(he.b[F]=ke)})},C.addListener=function(i,p,I){i=Xh(i,p),this.l&&(this.b[i]=j.localStorage.getItem(i)),Dn(this.a)&&(ah(this,"local").ca(this.f),this.h||(Fi()||!dn())&&j.indexedDB||!this.l||function(i){lm(i),i.c=setInterval(function(){for(var p in i.a){var I=j.localStorage.getItem(p),F=i.b[p];I!=F&&(i.b[p]=I,I=new Yt({type:"storage",key:p,target:window,oldValue:F,newValue:I,a:!0}),i.Xb(I))}},1e3)}(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(I)},C.removeListener=function(i,p,I){i=Xh(i,p),this.a[i]&&(zn(this.a[i],function(F){return F==I}),0==this.a[i].length&&delete this.a[i]),Dn(this.a)&&(ah(this,"local").ia(this.f),lm(this))},C.Xb=function(i){if(i&&i.g){var p=i.a.key;if(null==p)for(var I in this.a){var F=this.b[I];void 0===F&&(F=null);var he=j.localStorage.getItem(I);he!==F&&(this.b[I]=he,this.lb(I))}else if(0==p.indexOf("firebase:")&&this.a[p]){if(void 0!==i.a.a?ah(this,"local").ia(this.f):lm(this),this.v)if(I=j.localStorage.getItem(p),(F=i.a.newValue)!==I)null!==F?j.localStorage.setItem(p,F):j.localStorage.removeItem(p);else if(this.b[p]===F&&void 0===i.a.a)return;var De=this;I=function(){(void 0!==i.a.a||De.b[p]!==j.localStorage.getItem(p))&&(De.b[p]=j.localStorage.getItem(p),De.lb(p))},Ve&&vt&&10==vt&&j.localStorage.getItem(p)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(I,10):I()}}else St(i,xe(this.lb,this))},C.lb=function(i){this.a[i]&&St(this.a[i],function(p){p()})};var ru,Vf={name:"authEvent",D:"local"};function ty(){this.a=Ff()}function tp(i,p){this.b=q_,this.f=j.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=p,this.l=j.Int32Array?new Int32Array(64):Array(64),void 0===ru&&(ru=j.Int32Array?new Int32Array(Rg):Rg),this.reset()}U(tp,function(){this.b=-1});for(var q_=64,cm=q_-1,hm=[],fm=0;fm<cm;fm++)hm[fm]=0;var ny=yn(128,hm);function Mg(i){for(var p=i.f,I=i.l,F=0,he=0;he<p.length;)I[F++]=p[he]<<24|p[he+1]<<16|p[he+2]<<8|p[he+3],he=4*F;for(p=16;64>p;p++){var De=(0|I[p-16])+(((he=0|I[p-15])>>>7|he<<25)^(he>>>18|he<<14)^he>>>3)|0,ke=(0|I[p-7])+(((F=0|I[p-2])>>>17|F<<15)^(F>>>19|F<<13)^F>>>10)|0;I[p]=De+ke|0}F=0|i.a[0],he=0|i.a[1];var it=0|i.a[2],Gt=0|i.a[3],fn=0|i.a[4],Nr=0|i.a[5],bi=0|i.a[6];for(De=0|i.a[7],p=0;64>p;p++){var Ri=((F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10))+(F&he^F&it^he&it)|0;ke=(De=De+((fn>>>6|fn<<26)^(fn>>>11|fn<<21)^(fn>>>25|fn<<7))|0)+((ke=(ke=fn&Nr^~fn&bi)+(0|ru[p])|0)+(0|I[p])|0)|0,De=bi,bi=Nr,Nr=fn,fn=Gt+ke|0,Gt=it,it=he,he=F,F=ke+Ri|0}i.a[0]=i.a[0]+F|0,i.a[1]=i.a[1]+he|0,i.a[2]=i.a[2]+it|0,i.a[3]=i.a[3]+Gt|0,i.a[4]=i.a[4]+fn|0,i.a[5]=i.a[5]+Nr|0,i.a[6]=i.a[6]+bi|0,i.a[7]=i.a[7]+De|0}function dm(i,p,I){void 0===I&&(I=p.length);var F=0,he=i.c;if("string"==typeof p)for(;F<I;)i.f[he++]=p.charCodeAt(F++),he==i.b&&(Mg(i),he=0);else{if(!le(p))throw Error("message must be string or array");for(;F<I;){var De=p[F++];if(!("number"==typeof De&&0<=De&&255>=De&&De==(0|De)))throw Error("message must be a byte array");i.f[he++]=De,he==i.b&&(Mg(i),he=0)}}i.c=he,i.g+=I}tp.prototype.reset=function(){this.g=this.c=0,this.a=j.Int32Array?new Int32Array(this.h):Hn(this.h)};var Rg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ou(){tp.call(this,8,gs)}U(Ou,tp);var gs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pm(i,p,I,F,he,De){this.m=i,this.i=p,this.l=I,this.v=F||null,this.u=he||null,this.o=De,this.h=p+":"+I,this.A=new ty,this.g=new Lf(this.h),this.f=null,this.b=[],this.a=this.c=null}function Uf(i){return new O("invalid-cordova-configuration",i)}function gm(i,p){for(var I=0;I<i.b.length;I++)try{i.b[I](p)}catch(F){}}function Mu(i){return i.f||(i.f=i.la().then(function(){return new ur(function(p){i.Ea(function I(F){return p(F),i.Ra(I),!1}),function(i){function p(ke){F=!0,he&&he.cancel(),_c(i).then(function(it){var Gt=I;if(it&&ke&&ke.url){var fn=null;-1!=(Gt=Od(ke.url)).indexOf("/__/auth/callback")&&(fn=(fn="object"==typeof(fn=ie(Zr(fn=Ti(Gt),"firebaseError")||null))?H(fn):null)?new _a(it.c,it.b,null,null,fn,null,it.S()):new _a(it.c,it.b,Gt,it.f,null,null,it.S())),Gt=fn||I}gm(i,Gt)})}var I=new _a("unknown",null,null,null,new O("no-auth-event")),F=!1,he=_o(500).then(function(){return _c(i).then(function(){F||gm(i,I)})}),De=j.handleOpenURL;j.handleOpenURL=function(ke){if(0==ke.toLowerCase().indexOf(ii("BuildInfo.packageName",j).toLowerCase()+"://")&&p({url:ke}),"function"==typeof De)try{De(ke)}catch(it){console.error(it)}},$c||($c=new yu),function(i){var p=$c;p.a.push(i),p.b||(p.b=function(I){for(var F=0;F<p.a.length;F++)p.a[F](I)},"function"==typeof(i=ii("universalLinks.subscribe",j))&&i(null,p.b))}(p)}(i)})})),i.f}function _c(i){var p=null;return function(i){return i.b.get(Vf,i.a).then(function(p){return qc(p)})}(i.g).then(function(I){return p=I,lh((I=i.g).b,Vf,I.a)}).then(function(){return p})}function ef(i){this.a=i,this.b=Ff()}(C=pm.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Rs(void 0)?$o().then(function(){return new ur(function(i,p){var I=j.document,F=setTimeout(function(){p(Error("Cordova framework is not ready."))},1e3);I.addEventListener("deviceready",function(){clearTimeout(F),i()},!1)})}):gr(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ii("universalLinks.subscribe",j))throw Uf("cordova-universal-links-plugin-fix is not installed");if(void 0===ii("BuildInfo.packageName",j))throw Uf("cordova-plugin-buildinfo is not installed");if("function"!=typeof ii("cordova.plugins.browsertab.openUrl",j))throw Uf("cordova-plugin-browsertab is not installed");if("function"!=typeof ii("cordova.InAppBrowser.open",j))throw Uf("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},C.Nb=function(i,p){return p(new O("operation-not-supported-in-this-environment")),Kn()},C.Lb=function(){return gr(new O("operation-not-supported-in-this-environment"))},C.Zb=function(){return!1},C.Wb=function(){return!0},C.Sb=function(){return!0},C.Mb=function(i,p,I,F){if(this.c)return gr(new O("redirect-operation-pending"));var he=this,De=j.document,ke=null,it=null,Gt=null,fn=null;return this.c=Kn().then(function(){return Wc(p),Mu(he)}).then(function(){return function(i,p,I,F,he){var De=function(){for(var i=20,p=[];0<i;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return p.join("")}(),ke=new _a(p,F,null,De,new O("no-auth-event"),null,he),it=ii("BuildInfo.packageName",j);if("string"!=typeof it)throw new O("invalid-cordova-configuration");var Gt=ii("BuildInfo.displayName",j),fn={};if(Zi().toLowerCase().match(/iphone|ipad|ipod/))fn.ibi=it;else{if(!Zi().toLowerCase().match(/android/))return gr(new O("operation-not-supported-in-this-environment"));fn.apn=it}Gt&&(fn.appDisplayName=Gt),De=function(i){var p=new Ou;dm(p,i),i=[];var I=8*p.g;dm(p,ny,56>p.c?56-p.c:p.b-(p.c-56));for(var F=63;56<=F;F--)p.f[F]=255&I,I/=256;for(Mg(p),F=I=0;F<p.i;F++)for(var he=24;0<=he;he-=8)i[I++]=p.a[F]>>he&255;return function(i){return mn(i,function(p){return 1<(p=p.toString(16)).length?p:"0"+p}).join("")}(i)}(De),fn.sessionId=De;var Nr=yc(i.m,i.i,i.l,p,I,null,F,i.v,fn,i.u,he,i.o);return i.la().then(function(){var bi=i.h;return i.A.a.set(Vf,ke.w(),bi)}).then(function(){var bi=ii("cordova.plugins.browsertab.isAvailable",j);if("function"!=typeof bi)throw new O("invalid-cordova-configuration");var Ri=null;bi(function(Fr){if(Fr){if("function"!=typeof(Ri=ii("cordova.plugins.browsertab.openUrl",j)))throw new O("invalid-cordova-configuration");Ri(Nr)}else{if("function"!=typeof(Ri=ii("cordova.InAppBrowser.open",j)))throw new O("invalid-cordova-configuration");Fr=Zi(),i.a=Ri(Nr,Fr.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Fr.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(he,i,p,I,F)}).then(function(){return new ur(function(Nr,bi){it=function(){var Ri=ii("cordova.plugins.browsertab.close",j);return Nr(),"function"==typeof Ri&&Ri(),he.a&&"function"==typeof he.a.close&&(he.a.close(),he.a=null),!1},he.Ea(it),fn=function(){yt()&&Gt()},De.addEventListener("resume",Gt=function(){ke||(ke=_o(2e3).then(function(){bi(new O("redirect-cancelled-by-user"))}))},!1),Zi().toLowerCase().match(/android/)||De.addEventListener("visibilitychange",fn,!1)}).s(function(Nr){return _c(he).then(function(){throw Nr})})}).na(function(){Gt&&De.removeEventListener("resume",Gt,!1),fn&&De.removeEventListener("visibilitychange",fn,!1),ke&&ke.cancel(),it&&he.Ra(it),he.c=null})},C.Ea=function(i){this.b.push(i),Mu(this).s(function(p){"auth/invalid-cordova-configuration"===p.code&&(p=new _a("unknown",null,null,null,new O("no-auth-event")),i(p))})},C.Ra=function(i){zn(this.b,function(p){return p==i})};var vm={name:"pendingRedirect",D:"session"};function Bf(i){return lh(i.b,vm,i.a)}function bc(i,p,I,F){this.i={},this.u=0,this.O=i,this.m=p,this.v=I,this.G=F,this.h=[],this.f=!1,this.l=xe(this.o,this),this.b=new Ru,this.A=new ku,this.g=new ef(Vg(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Ec(this.O,this.m,this.v,je,this.G)}function Ec(i,p,I,F,he){var De=t.SDK_VERSION||null;return Rs()?new pm(i,p,I,De,F,he):new Wd(i,p,I,De,F,he)}function jf(i){i.f||(i.f=!0,i.a.Ea(i.l));var p=i.a;return i.a.la().s(function(I){throw i.a==p&&i.reset(),I})}function uh(i){i.a.Wb()&&jf(i).s(function(p){var I=new _a("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Hf(p)&&i.o(I)}),i.a.Sb()||Da(i.b)}function ch(i,p){Nn(i.h,p)||i.h.push(p),i.f||function(i){return i.b.get(vm,i.a).then(function(p){return"pending"==p})}(i.g).then(function(I){I?Bf(i.g).then(function(){jf(i).s(function(F){var he=new _a("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Hf(F)&&i.o(he)})}):uh(i)}).s(function(){uh(i)})}function iu(i,p){zn(i.h,function(I){return I==p})}bc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Ec(this.O,this.m,this.v,null,this.G),this.i={}},bc.prototype.o=function(i){if(!i)throw new O("invalid-auth-event");if(6e5<=k()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var p=!1,I=0;I<this.h.length;I++){var F=this.h[I];if(F.Eb(i.c,i.b)){(p=this.c[i.c])&&(p.h(i,F),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=k())),p=!0;break}}return Da(this.b),p};var iy=new Be(2e3,1e4),Lg=new Be(3e4,6e4);function ym(i,p,I,F,he,De,ke){return i.a.Lb(p,I,F,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},he,De,ke)}function Hf(i){return!(!i||"auth/cordova-not-ready"!=i.code)}function Gf(i,p,I,F,he){var De;return function(i){return i.b.set(vm,"pending",i.a)}(i.g).then(function(){return i.a.Mb(p,I,F,he).s(function(ke){if(Hf(ke))throw new O("operation-not-supported-in-this-environment");return De=ke,Bf(i.g).then(function(){throw De})}).then(function(){return i.a.Zb()?new ur(function(){}):Bf(i.g).then(function(){return i.qa()}).then(function(){}).s(function(){})})})}function _m(i,p,I,F,he){return i.a.Nb(F,function(De){p.ma(I,null,De,he)},iy.get())}bc.prototype.qa=function(){return this.b.qa()};var hh={};function Vg(i,p,I){return i=i+":"+p,I&&(i=i+":"+I.url),i}function rp(i,p,I,F){var he=Vg(p,I,F);return hh[he]||(hh[he]=new bc(i,p,I,F)),hh[he]}function Ru(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Da(i){i.g||(i.g=!0,fh(i,!1,null,null))}function zf(i){i.g&&!i.i&&fh(i,!1,null,null)}function jg(i,p){if(i.b=function(){return Kn(p)},i.f.length)for(var I=0;I<i.f.length;I++)i.f[I](p)}function fh(i,p,I,F){p?F?function(i,p){if(i.b=function(){return gr(p)},i.c.length)for(var I=0;I<i.c.length;I++)i.c[I](p)}(i,F):jg(i,I):jg(i,{user:null}),i.f=[],i.c=[]}function ku(){}function Hs(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(i){this.hb=i},enumerable:!1})}function Nu(i,p){this.a=p,Fn(this,"verificationId",i)}function ip(i,p,I,F){return new ya(i).eb(p,I).then(function(he){return new Nu(he,F)})}function Gg(i){var p=Bc(i);if(!(p&&p.exp&&p.auth_time&&p.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qi(this,{token:i,expirationTime:Xt(1e3*p.exp),authTime:Xt(1e3*p.auth_time),issuedAtTime:Xt(1e3*p.iat),signInProvider:p.firebase&&p.firebase.sign_in_provider?p.firebase.sign_in_provider:null,signInSecondFactor:p.firebase&&p.firebase.sign_in_second_factor?p.firebase.sign_in_second_factor:null,claims:p})}function op(i,p,I){var F=p&&p[sp];if(!F)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=En(p),this.g=I,this.c=new du(null,F),this.b=[];var he=this;St(p[Wf]||[],function(De){(De=Wl(De))&&he.b.push(De)}),Fn(this,"auth",this.a),Fn(this,"session",this.c),Fn(this,"hints",this.b)}Ru.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ru.prototype.h=function(i,p){if(i){this.reset(),this.g=!0;var I=i.c,F=i.b,he=i.a&&"auth/web-storage-unsupported"==i.a.code,De=i.a&&"auth/operation-not-supported-in-this-environment"==i.a.code;this.i=!(!he&&!De),"unknown"!=I||he||De?i.a?(fh(this,!0,null,i.a),Kn()):p.Fa(I,F)?function(i,p,I){I=I.Fa(p.c,p.b);var F=p.g,he=p.f,De=p.i,ke=p.S(),it=!!p.c.match(/Redirect$/);I(F,he,ke,De).then(function(Gt){fh(i,it,Gt,null)}).s(function(Gt){fh(i,it,null,Gt)})}(this,i,p):gr(new O("invalid-auth-event")):(fh(this,!1,null,null),Kn())}else gr(new O("invalid-auth-event"))},Ru.prototype.qa=function(){var i=this;return new ur(function(p,I){i.b?i.b().then(p,I):(i.f.push(p),i.c.push(I),function(i){var p=new O("timeout");i.a&&i.a.cancel(),i.a=_o(Lg.get()).then(function(){i.b||(i.g=!0,fh(i,!0,null,p))})}(i))})},ku.prototype.h=function(i,p){if(i){var I=i.c,F=i.b;i.a?(p.ma(i.c,null,i.a,i.b),Kn()):p.Fa(I,F)?function(i,p){var I=i.b,F=i.c;p.Fa(F,I)(i.g,i.f,i.S(),i.i).then(function(he){p.ma(F,he,null,I)}).s(function(he){p.ma(F,null,he,I)})}(i,p):gr(new O("invalid-auth-event"))}else gr(new O("invalid-auth-event"))},Nu.prototype.confirm=function(i){return i=zc(this.verificationId,i),this.a(i)};var Wf="mfaInfo",sp="mfaPendingCredential";function ap(i,p,I,F){O.call(this,"multi-factor-auth-required",F,p),this.b=new op(i,p,I),Fn(this,"resolver",this.b)}function bm(i,p,I){if(i&&z(i.serverResponse)&&"auth/multi-factor-auth-required"===i.code)try{return new ap(p,i.serverResponse,I,i.message)}catch(F){}return null}function Em(){}function wc(i){Fn(this,"factorId",i.fa),this.a=i}function Cm(i){if(wc.call(this,i),this.a.fa!=ya.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dh(i,p){for(var I in Nt.call(this,i),p)this[I]=p[I]}function qf(i,p){this.a=i,this.b=[],this.c=xe(this.xc,this),Dr(this.a,"userReloaded",this.c);var I=[];p&&p.multiFactor&&p.multiFactor.enrolledFactors&&St(p.multiFactor.enrolledFactors,function(F){var he=null,De={};if(F){F.uid&&(De[Lc]=F.uid),F.displayName&&(De[Qs]=F.displayName),F.enrollmentTime&&(De[fa]=new Date(F.enrollmentTime).toISOString()),F.phoneNumber&&(De[Vc]=F.phoneNumber);try{he=new La(De)}catch(ke){}F=he}else F=null;F&&I.push(F)}),lp(this,I)}function lp(i,p){i.b=p,Fn(i,"enrolledFactors",p)}function Ka(i,p,I){if(this.h=i,this.i=p,this.g=I,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function $f(i,p){i.stop(),i.b=_o(function(i,p){return p?(i.a=i.c,i.g()):(p=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),p)}(i,p)).then(function(){return function(){var i=j.document,p=null;return yt()||!i?Kn():new ur(function(I){p=function(){yt()&&(i.removeEventListener("visibilitychange",p,!1),I())},i.addEventListener("visibilitychange",p,!1)}).s(function(I){throw i.removeEventListener("visibilitychange",p,!1),I})}()}).then(function(){return i.h()}).then(function(){$f(i,!0)}).s(function(I){i.i(I)&&$f(i,!1)})}function cp(i){this.c=i,this.b=this.a=null}function hp(i){return i.b&&1e3*i.b.c||0}function fp(i,p){var I=p.refreshToken;i.b=El(p[ia]||""),i.a=I}function tf(i,p){this.a=i||null,this.b=p||null,qi(this,{lastSignInTime:Xt(p||null),creationTime:Xt(i||null)})}function $g(i,p,I,F,he,De){qi(this,{uid:i,displayName:F||null,photoURL:he||null,email:I||null,phoneNumber:De||null,providerId:p})}function xa(i,p,I){this.G=[],this.l=i.apiKey,this.m=i.appName,this.o=i.authDomain||null;var F=t.SDK_VERSION?Pn(t.SDK_VERSION):null;this.a=new Ta(this.l,J(je),F),i.emulatorConfig&&js(this.a,i.emulatorConfig),this.b=new cp(this.a),vh(this,p[ia]),fp(this.b,p),Fn(this,"refreshToken",this.b.a),Im(this,I||{}),Ki.call(this),this.P=!1,this.o&&Yo()&&(this.i=rp(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(i){return new Ka(function(){return i.I(!0)},function(p){return!(!p||"auth/network-request-failed"!=p.code)},function(){var p=hp(i.b)-k()-3e5;return 0<p?p:0})}(this),this.$=xe(this.gb,this);var he=this;this.pa=null,this.Ba=function(De){he.wa(De.h)},this.ba=null,this.za=function(De){js(he.a,De.c)},this.W=null,this.X=[],this.Aa=function(De){ts(he,De.f)},this.aa=null,this.N=new qf(this,I),Fn(this,"multiFactor",this.N)}function ph(i,p){i.ba&&gi(i.ba,"languageCodeChanged",i.Ba),(i.ba=p)&&Dr(p,"languageCodeChanged",i.Ba)}function Ya(i,p){i.W&&gi(i.W,"emulatorConfigChanged",i.za),(i.W=p)&&Dr(p,"emulatorConfigChanged",i.za)}function ts(i,p){i.X=p,hc(i.a,t.SDK_VERSION?Pn(t.SDK_VERSION,i.X):null)}function rf(i,p){i.aa&&gi(i.aa,"frameworkChanged",i.Aa),(i.aa=p)&&Dr(p,"frameworkChanged",i.Aa)}function dp(i){try{return t.app(i.m).auth()}catch(p){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function mh(i){i.A||i.u.b||(i.u.start(),gi(i,"tokenChanged",i.$),Dr(i,"tokenChanged",i.$))}function gh(i){gi(i,"tokenChanged",i.$),i.u.stop()}function vh(i,p){i.ya=p,Fn(i,"_lat",p)}function yh(i){for(var p=[],I=0;I<i.R.length;I++)p.push(i.R[I](i));return vs(p).then(function(){return i})}function Cc(i){i.i&&!i.P&&(i.P=!0,ch(i.i,i))}function Im(i,p){qi(i,{uid:p.uid,displayName:p.displayName||null,photoURL:p.photoURL||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,isAnonymous:p.isAnonymous||!1,tenantId:p.tenantId||null,metadata:new tf(p.createdAt,p.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}function Kg(){}function Am(i){return Kn().then(function(){if(i.A)throw new O("app-deleted")})}function Dm(i){return mn(i.providerData,function(p){return p.providerId})}function ou(i,p){p&&(pp(i,p.providerId),i.providerData.push(p))}function pp(i,p){zn(i.providerData,function(I){return I.providerId==p})}function _h(i,p,I){("uid"!=p||I)&&i.hasOwnProperty(p)&&Fn(i,p,I)}function mp(i,p){i!=p&&(qi(i,{uid:p.uid,displayName:p.displayName,photoURL:p.photoURL,email:p.email,emailVerified:p.emailVerified,phoneNumber:p.phoneNumber,isAnonymous:p.isAnonymous,tenantId:p.tenantId,providerData:[]}),Fn(i,"metadata",p.metadata?function(i){return new tf(i.a,i.b)}(p.metadata):new tf),St(p.providerData,function(I){ou(i,I)}),function(i,p){i.b=p.b,i.a=p.a}(i.b,p.b),Fn(i,"refreshToken",i.b.a),lp(i.N,p.N.b))}function Kf(i){return i.I().then(function(p){var I=i.isAnonymous;return function(i,p){return Pr(i.a,l,{idToken:p}).then(xe(i.Jc,i))}(i,p).then(function(){return I||_h(i,"isAnonymous",!1),p})})}function Gs(i,p){p[ia]&&i.ya!=p[ia]&&(fp(i.b,p),i.dispatchEvent(new dh("tokenChanged")),vh(i,p[ia]),_h(i,"refreshToken",i.b.a))}function Tc(i,p){return Kf(i).then(function(){if(Nn(Dm(i),p))return yh(i).then(function(){throw new O("provider-already-linked")})})}function bh(i,p,I){return cs({user:i,credential:Vs(p),additionalUserInfo:p=hu(p),operationType:I})}function Eh(i,p){return Gs(i,p),i.reload().then(function(){return i})}function xm(i,p,I,F,he){if(!Yo())return gr(new O("operation-not-supported-in-this-environment"));if(i.f&&!he)return gr(i.f);var De=Ju(I.providerId),ke=Ce(i.uid+":::"),it=null;(!b()||Ys())&&i.o&&I.isOAuthProvider&&(it=yc(i.o,i.l,i.m,p,I,null,ke,t.SDK_VERSION||null,null,null,i.tenantId));var Gt=Mn(it,De&&De.ua,De&&De.ta);return F=F().then(function(){if(gp(i),!he)return i.I().then(function(){})}).then(function(){return ym(i.i,Gt,p,I,ke,!!it,i.tenantId)}).then(function(){return new ur(function(fn,Nr){i.ma(p,null,new O("cancelled-popup-request"),i.h||null),i.g=fn,i.O=Nr,i.h=ke,i.c=_m(i.i,i,p,Gt,ke)})}).then(function(fn){return Gt&&Dt(Gt),fn?cs(fn):null}).s(function(fn){throw Gt&&Dt(Gt),fn}),ns(i,F,he)}function Pm(i,p,I,F,he){if(!Yo())return gr(new O("operation-not-supported-in-this-environment"));if(i.f&&!he)return gr(i.f);var De=null,ke=Ce(i.uid+":::");return F=F().then(function(){if(gp(i),!he)return i.I().then(function(){})}).then(function(){return i.ga=ke,yh(i)}).then(function(it){return i.ha&&(it=(it=i.ha).b.set(yp,i.w(),it.a)),it}).then(function(){return Gf(i.i,p,I,ke,i.tenantId)}).s(function(it){if(De=it,i.ha)return Om(i.ha);throw De}).then(function(){if(De)throw De}),ns(i,F,he)}function gp(i){if(!i.i||!i.P)throw new O(i.i&&!i.P?"internal-error":"auth-domain-config-required")}function ns(i,p,I){var F=function(i,p,I){return i.f&&!I?(p.cancel(),gr(i.f)):p.s(function(F){throw!F||"auth/user-disabled"!=F.code&&"auth/user-token-expired"!=F.code||(i.f||i.dispatchEvent(new dh("userInvalidated")),i.f=F),F})}(i,p,I);return i.G.push(F),F.na(function(){on(i.G,F)}),F.s(function(he){var De=null;throw he&&"auth/multi-factor-auth-required"===he.code&&(De=bm(he.w(),dp(i),xe(i.ic,i))),De||he})}function Yg(i){if(!i.apiKey)return null;var p={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},I={};if(!i.stsTokenManager||!i.stsTokenManager.accessToken)return null;I[ia]=i.stsTokenManager.accessToken,I.refreshToken=i.stsTokenManager.refreshToken||null;var F=new xa(p,I,i);return i.providerData&&St(i.providerData,function(he){he&&ou(F,cs(he))}),i.redirectEventId&&(F.ga=i.redirectEventId),F}function Sc(i){this.a=i,this.b=Ff()}op.prototype.Qc=function(i){var p=this;return i.rb(this.a.a,this.c).then(function(I){var F=En(p.f);return delete F[Wf],delete F[sp],xn(F,I),p.g(F)})},U(ap,O),Em.prototype.rb=function(i,p,I){return p.type==ol?function(i,p,I,F){return I.Ha().then(function(he){return he={idToken:he},void 0!==F&&(he.displayName=F),xn(he,{phoneVerificationInfo:va(i.a)}),Pr(p,rh,he)})}(this,i,p,I):function(i,p,I){return I.Ha().then(function(F){return xn(F={mfaPendingCredential:F},{phoneVerificationInfo:va(i.a)}),Pr(p,f,F)})}(this,i,p)},U(wc,Em),U(Cm,wc),U(dh,Nt),(C=qf.prototype).xc=function(i){lp(this,function(i){var p=[];return St(i.mfaInfo||[],function(I){(I=Wl(I))&&p.push(I)}),p}(i.gd))},C.Qb=function(){return this.a.I().then(function(i){return new du(i,null)})},C.ec=function(i,p){var I=this,F=this.a.a;return this.Qb().then(function(he){return i.rb(F,he,p)}).then(function(he){return Gs(I.a,he),I.a.reload()})},C.ad=function(i){var p=this,I="string"==typeof i?i:i.uid,F=this.a.a;return this.a.I().then(function(he){return Pr(F,ms,{idToken:he,mfaEnrollmentId:I})}).then(function(he){var De=un(p.b,function(ke){return ke.uid!=I});return lp(p,De),Gs(p.a,he),p.a.reload().s(function(ke){if("auth/user-token-expired"!=ke.code)throw ke})})},C.w=function(){return{multiFactor:{enrolledFactors:mn(this.b,function(i){return i.w()})}}},Ka.prototype.start=function(){this.a=this.c,$f(this,!0)},Ka.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cp.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:hp(this)}},cp.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?gr(new O("user-token-expired")):i||!this.b||k()>hp(this)-3e4?this.a?function(i,p){return function(i,p){return new ur(function(I,F){"refresh_token"==p.grant_type&&p.refresh_token||"authorization_code"==p.grant_type&&p.code?Iu(i,i.l+"?key="+encodeURIComponent(i.c),function(he){he?he.error?F(Du(he)):he.access_token&&he.refresh_token?I(he):F(new O("internal-error")):F(new O("network-request-failed"))},"POST",ha(p).toString(),i.g,i.v.get()):F(new O("internal-error"))})}(i.c,p).then(function(I){return i.b=El(I.access_token),i.a=I.refresh_token,{accessToken:i.b.toString(),refreshToken:i.a}}).s(function(I){throw"auth/user-token-expired"==I.code&&(i.a=null),I})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Kn(null):Kn({accessToken:this.b.toString(),refreshToken:this.a})},tf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},U(xa,Ki),xa.prototype.wa=function(i){this.pa=i,xf(this.a,i)},xa.prototype.ka=function(){return this.pa},xa.prototype.Ga=function(){return Hn(this.X)},xa.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Fn(xa.prototype,"providerId","firebase"),(C=xa.prototype).reload=function(){var i=this;return ns(this,Am(this).then(function(){return Kf(i).then(function(){return yh(i)}).then(Kg)}))},C.nc=function(i){return this.I(i).then(function(p){return new Gg(p)})},C.I=function(i){var p=this;return ns(this,Am(this).then(function(){return p.b.getToken(i)}).then(function(I){if(!I)throw new O("internal-error");return I.accessToken!=p.ya&&(vh(p,I.accessToken),p.dispatchEvent(new dh("tokenChanged"))),_h(p,"refreshToken",I.refreshToken),I.accessToken}))},C.Jc=function(i){if(!(i=i.users)||!i.length)throw new O("internal-error");Im(this,{uid:(i=i[0]).localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var p=function(i){return(i=i.providerUserInfo)&&i.length?mn(i,function(p){return new $g(p.rawId,p.providerId,p.email,p.displayName,p.photoUrl,p.phoneNumber)}):[]}(i),I=0;I<p.length;I++)ou(this,p[I]);_h(this,"isAnonymous",!(this.email&&i.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new dh("userReloaded",{gd:i}))},C.Kc=function(i){return bo("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(i)},C.sb=function(i){var p=this,I=null;return ns(this,i.c(this.a,this.uid).then(function(F){return Gs(p,F),I=bh(p,F,"reauthenticate"),p.f=null,p.reload()}).then(function(){return I}),!0)},C.Bc=function(i){return bo("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(i)},C.pb=function(i){var p=this,I=null;return ns(this,Tc(this,i.providerId).then(function(){return p.I()}).then(function(F){return i.b(p.a,F)}).then(function(F){return I=bh(p,F,"link"),Eh(p,F)}).then(function(){return I}))},C.Cc=function(i,p){var I=this;return ns(this,Tc(this,"phone").then(function(){return ip(dp(I),i,p,xe(I.pb,I))}))},C.Lc=function(i,p){var I=this;return ns(this,Kn().then(function(){return ip(dp(I),i,p,xe(I.sb,I))}),!0)},C.Ab=function(i){var p=this;return ns(this,this.I().then(function(I){return p.a.Ab(I,i)}).then(function(I){return Gs(p,I),p.reload()}))},C.dd=function(i){var p=this;return ns(this,this.I().then(function(I){return i.b(p.a,I)}).then(function(I){return Gs(p,I),p.reload()}))},C.Bb=function(i){var p=this;return ns(this,this.I().then(function(I){return p.a.Bb(I,i)}).then(function(I){return Gs(p,I),p.reload()}))},C.Cb=function(i){if(void 0===i.displayName&&void 0===i.photoURL)return Am(this);var p=this;return ns(this,this.I().then(function(I){return p.a.Cb(I,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(I){return Gs(p,I),_h(p,"displayName",I.displayName||null),_h(p,"photoURL",I.photoUrl||null),St(p.providerData,function(F){"password"===F.providerId&&(Fn(F,"displayName",p.displayName),Fn(F,"photoURL",p.photoURL))}),yh(p)}).then(Kg))},C.bd=function(i){var p=this;return ns(this,Kf(this).then(function(I){return Nn(Dm(p),i)?function(i,p,I){return Pr(i,Yh,{idToken:p,deleteProvider:I})}(p.a,I,[i]).then(function(F){var he={};return St(F.providerUserInfo||[],function(De){he[De.providerId]=!0}),St(Dm(p),function(De){he[De]||pp(p,De)}),he[ya.PROVIDER_ID]||Fn(p,"phoneNumber",null),yh(p)}):yh(p).then(function(){throw new O("no-such-provider")})}))},C.delete=function(){var i=this;return ns(this,this.I().then(function(p){return Pr(i.a,Yp,{idToken:p})}).then(function(){i.dispatchEvent(new dh("userDeleted"))})).then(function(){for(var p=0;p<i.G.length;p++)i.G[p].cancel("app-deleted");ph(i,null),Ya(i,null),rf(i,null),i.G=[],i.A=!0,gh(i),Fn(i,"refreshToken",null),i.i&&iu(i.i,i)})},C.Eb=function(i,p){return!!("linkViaPopup"==i&&(this.h||null)==p&&this.g||"reauthViaPopup"==i&&(this.h||null)==p&&this.g||"linkViaRedirect"==i&&(this.ga||null)==p||"reauthViaRedirect"==i&&(this.ga||null)==p)},C.ma=function(i,p,I,F){"linkViaPopup"!=i&&"reauthViaPopup"!=i||F!=(this.h||null)||(I&&this.O?this.O(I):p&&!I&&this.g&&this.g(p),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},C.Fa=function(i,p){return"linkViaPopup"==i&&p==(this.h||null)?xe(this.Jb,this):"reauthViaPopup"==i&&p==(this.h||null)?xe(this.Kb,this):"linkViaRedirect"==i&&(this.ga||null)==p?xe(this.Jb,this):"reauthViaRedirect"==i&&(this.ga||null)==p?xe(this.Kb,this):null},C.Dc=function(i){var p=this;return xm(this,"linkViaPopup",i,function(){return Tc(p,i.providerId).then(function(){return yh(p)})},!1)},C.Mc=function(i){return xm(this,"reauthViaPopup",i,function(){return Kn()},!0)},C.Ec=function(i){var p=this;return Pm(this,"linkViaRedirect",i,function(){return Tc(p,i.providerId)},!1)},C.Nc=function(i){return Pm(this,"reauthViaRedirect",i,function(){return Kn()},!0)},C.Jb=function(i,p,I,F){var he=this;this.c&&(this.c.cancel(),this.c=null);var De=null;return ns(this,this.I().then(function(ke){return pc(he.a,{requestUri:i,postBody:F,sessionId:p,idToken:ke})}).then(function(ke){return De=bh(he,ke,"link"),Eh(he,ke)}).then(function(){return De}))},C.Kb=function(i,p,I,F){var he=this;this.c&&(this.c.cancel(),this.c=null);var De=null;return ns(this,Kn().then(function(){return pu($h(he.a,{requestUri:i,sessionId:p,postBody:F,tenantId:I}),he.uid)}).then(function(it){return De=bh(he,it,"reauthenticate"),Gs(he,it),he.f=null,he.reload()}).then(function(){return De}),!0)},C.tb=function(i){var p=this,I=null;return ns(this,this.I().then(function(F){return I=F,void 0===i||Dn(i)?{}:il(new Cs(i))}).then(function(F){return p.a.tb(I,F)}).then(function(F){if(p.email!=F)return p.reload()}).then(function(){}))},C.Db=function(i,p){var I=this,F=null;return ns(this,this.I().then(function(he){return F=he,void 0===p||Dn(p)?{}:il(new Cs(p))}).then(function(he){return I.a.Db(F,i,he)}).then(function(he){if(I.email!=he)return I.reload()}).then(function(){}))},C.ic=function(i){var p=null,I=this;return ns(this,i=pu(Kn(i),I.uid).then(function(F){return p=bh(I,F,"reauthenticate"),Gs(I,F),I.f=null,I.reload()}).then(function(){return p}),!0)},C.toJSON=function(){return this.w()},C.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&xn(i,this.metadata.w()),St(this.providerData,function(p){i.providerData.push(function(i){var I,p={};for(I in i)i.hasOwnProperty(I)&&(p[I]=i[I]);return p}(p))}),xn(i,this.N.w()),i};var yp={name:"redirectUser",D:"session"};function Om(i){return lh(i.b,yp,i.a)}function Rl(i){this.a=i,this.b=Ff(),this.c=null,this.f=function(i){var p=sa("local"),I=sa("session"),F=sa("none");return function(i,p,I){var F=Xh(p,I),he=ah(i,p.D);return i.get(p,I).then(function(De){var ke=null;try{ke=ie(j.localStorage.getItem(F))}catch(it){}if(ke&&!De)return j.localStorage.removeItem(F),i.set(p,ke,I);ke&&De&&"localStorage"!=he.type&&j.localStorage.removeItem(F)})}(i.b,p,i.a).then(function(){return i.b.get(I,i.a)}).then(function(he){return he?I:i.b.get(F,i.a).then(function(De){return De?F:i.b.get(p,i.a).then(function(ke){return ke?p:i.b.get(af,i.a).then(function(it){return it?sa(it):p})})})}).then(function(he){return i.c=he,Zg(i,he.D)}).s(function(){i.c||(i.c=p)})}(this),this.b.addListener(sa("local"),this.a,xe(this.g,this))}function Zg(i,p){var F,I=[];for(F in Aa)Aa[F]!==p&&I.push(lh(i.b,sa(Aa[F]),i.a));return I.push(lh(i.b,af,i.a)),function(i){return new ur(function(p,I){var F=i.length,he=[];if(F)for(var De=function(fn,Nr){F--,he[fn]=Nr,0==F&&p(he)},ke=function(fn){I(fn)},it=0;it<i.length;it++)nl(i[it],Ge(De,it),ke);else p(he)})}(I)}Rl.prototype.g=function(){var i=this,p=sa("local");Fu(this,function(){return Kn().then(function(){return i.c&&"local"!=i.c.D?i.b.get(p,i.a):null}).then(function(I){if(I)return Zg(i,"local").then(function(){i.c=p})})})};var af={name:"persistence",D:"session"};function sa(i){return{name:"authUser",D:i}}function _p(i,p){return Fu(i,function(){return i.b.set(i.c,p.w(),i.a)})}function Zf(i){return Fu(i,function(){return lh(i.b,i.c,i.a)})}function bp(i,p,I){return Fu(i,function(){return i.b.get(i.c,i.a).then(function(F){return F&&p&&(F.authDomain=p),F&&I&&(F.emulatorConfig=I),Yg(F||{})})})}function Fu(i,p){return i.f=i.f.then(p,p),i.f}function Qa(i){if(this.m=!1,Fn(this,"settings",new Hs),Fn(this,"app",i),!Mi(this).options||!Mi(this).options.apiKey)throw new O("invalid-api-key");i=t.SDK_VERSION?Pn(t.SDK_VERSION):null,this.a=new Ta(Mi(this).options&&Mi(this).options.apiKey,J(je),i),this.R=[],this.u=[],this.P=[],this.ac=t.INTERNAL.createSubscribe(xe(this.yc,this)),this.X=void 0,this.bc=t.INTERNAL.createSubscribe(xe(this.zc,this)),Sp(this,null),this.l=new Rl(Mi(this).options.apiKey+":"+Mi(this).name),this.G=new Sc(Mi(this).options.apiKey+":"+Mi(this).name),this.$=mo(this,function(i){var p=Mi(i).options.authDomain,I=function(i){var p=function(i,p){return i.b.get(yp,i.a).then(function(I){return I&&p&&(I.authDomain=p),Yg(I||{})})}(i.G,Mi(i).options.authDomain).then(function(I){return(i.o=I)&&(I.ha=i.G),Om(i.G)});return mo(i,p)}(i).then(function(){return bp(i.l,p,i.f)}).then(function(F){return F?(F.ha=i.G,i.o&&(i.o.ga||null)==(F.ga||null)?F:F.reload().then(function(){return _p(i.l,F).then(function(){return F})}).s(function(he){return"auth/network-request-failed"==he.code?F:Zf(i.l)})):null}).then(function(F){Sp(i,F||null)});return mo(i,I)}(this)),this.i=mo(this,function(i){return i.$.then(function(){return Tp(i)}).s(function(){}).then(function(){if(!i.m)return i.pa()}).s(function(){}).then(function(){if(!i.m){i.ba=!0;var p=i.l;p.b.addListener(sa("local"),p.a,i.pa)}})}(this)),this.ba=!1,this.pa=xe(this.Yc,this),this.Ba=xe(this.da,this),this.ya=xe(this.kc,this),this.za=xe(this.vc,this),this.Aa=xe(this.wc,this),this.b=null,function(i){var p=Mi(i).options.authDomain,I=Mi(i).options.apiKey;p&&Yo()&&(i.gb=i.$.then(function(){if(!i.m){if(i.b=rp(p,I,Mi(i).name,i.f),ch(i.b,i),zr(i)&&Cc(zr(i)),i.o){Cc(i.o);var F=i.o;F.wa(i.ka()),ph(F,i),ts(F=i.o,i.N),rf(F,i),js((F=i.o).a,i.f),Ya(F,i),i.o=null}return i.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=xe(this.delete,this),this.INTERNAL.logFramework=xe(this.Fc,this),this.A=0,Ki.call(this),function(i){Object.defineProperty(i,"lc",{get:function(){return this.ka()},set:function(p){this.wa(p)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.S()},set:function(p){this.xb(p)},enumerable:!1}),i.W=null}(this),this.N=[],this.f=null}function Ep(i){Nt.call(this,"languageCodeChanged"),this.h=i}function wp(i){Nt.call(this,"emulatorConfigChanged"),this.c=i}function wh(i){Nt.call(this,"frameworkChanged"),this.f=i}function Jg(i){return i.gb||gr(new O("auth-domain-config-required"))}function Tp(i){if(!Yo())return gr(new O("operation-not-supported-in-this-environment"));var p=Jg(i).then(function(){return i.b.qa()}).then(function(I){return I?cs(I):null});return mo(i,p)}function Sp(i,p){zr(i)&&(function(i,p){zn(i.R,function(I){return I==p})}(zr(i),i.Ba),gi(zr(i),"tokenChanged",i.ya),gi(zr(i),"userDeleted",i.za),gi(zr(i),"userInvalidated",i.Aa),gh(zr(i))),p&&(p.R.push(i.Ba),Dr(p,"tokenChanged",i.ya),Dr(p,"userDeleted",i.za),Dr(p,"userInvalidated",i.Aa),0<i.A&&mh(p)),Fn(i,"currentUser",p),p&&(p.wa(i.ka()),ph(p,i),ts(p,i.N),rf(p,i),js(p.a,i.f),Ya(p,i))}function Ic(i,p){var I=null,F=null;return mo(i,p.then(function(he){return I=Vs(he),F=hu(he),function(i,p){var I={};return I.apiKey=Mi(i).options.apiKey,I.authDomain=Mi(i).options.authDomain,I.appName=Mi(i).name,i.f&&(I.emulatorConfig=i.f),i.$.then(function(){return function(i,p,I,F){var he=new xa(i,p);return I&&(he.ha=I),F&&ts(he,F),he.reload().then(function(){return he})}(I,p,i.G,i.Ga())}).then(function(F){return zr(i)&&F.uid==zr(i).uid?(mp(zr(i),F),i.da(F)):(Sp(i,F),Cc(F),i.da(F))}).then(function(){Lu(i)})}(i,he)},function(he){var De=null;throw he&&"auth/multi-factor-auth-required"===he.code&&(De=bm(he.w(),i,xe(i.jc,i))),De||he}).then(function(){return cs({user:zr(i),credential:I,additionalUserInfo:F,operationType:"signIn"})}))}function Mi(i){return i.app}function zr(i){return i.currentUser}function aa(i){return zr(i)&&zr(i)._lat||null}function Lu(i){if(i.ba){for(var p=0;p<i.u.length;p++)i.u[p]&&i.u[p](aa(i));if(i.X!==i.getUid()&&i.P.length)for(i.X=i.getUid(),p=0;p<i.P.length;p++)i.P[p]&&i.P[p](aa(i))}}function mo(i,p){return i.R.push(p),p.na(function(){on(i.R,p)}),p}function Vu(){}function Ch(){this.a={},this.b=1e12}Rl.prototype.wb=function(i){var p=null,I=this;return function(i){var p=new O("invalid-persistence-type"),I=new O("unsupported-persistence-type");e:{for(F in Aa)if(Aa[F]==i){var F=!0;break e}F=!1}if(!F||"string"!=typeof i)throw p;switch(ji()){case"ReactNative":if("session"===i)throw I;break;case"Node":if("none"!==i)throw I;break;case"Worker":if("session"===i||!tm()&&"none"!==i)throw I;break;default:if(!us()&&"none"!==i)throw I}}(i),Fu(this,function(){return i!=I.c.D?I.b.get(I.c,I.a).then(function(F){return p=F,Zg(I,i)}).then(function(){if(I.c=sa(i),p)return I.b.set(I.c,p,I.a)}):Kn()})},U(Qa,Ki),U(Ep,Nt),U(wp,Nt),U(wh,Nt),(C=Qa.prototype).wb=function(i){return mo(this,i=this.l.wb(i))},C.wa=function(i){this.aa===i||this.m||(this.aa=i,xf(this.a,this.aa),this.dispatchEvent(new Ep(this.ka())))},C.ka=function(){return this.aa},C.ed=function(){var i=j.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},C.fd=function(i){if(!this.f){if(!/^https?:\/\//.test(i))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Ut("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),j.document&&$o().then(function(){var i=j.document.createElement("div");i.innerText="Running in emulator mode. Do not use with production credentials.",i.style.position="fixed",i.style.width="100%",i.style.backgroundColor="#ffffff",i.style.border=".1em solid #000000",i.style.color="#ff0000",i.style.bottom="0px",i.style.left="0px",i.style.margin="0px",i.style.zIndex=1e4,i.style.textAlign="center",i.classList.add("firebase-emulator-warning"),j.document.body.appendChild(i)}),this.f={url:i},this.settings.hb=!0,js(this.a,this.f),this.dispatchEvent(new wp(this.f))}},C.Fc=function(i){this.N.push(i),hc(this.a,t.SDK_VERSION?Pn(t.SDK_VERSION,this.N):null),this.dispatchEvent(new wh(this.N))},C.Ga=function(){return Hn(this.N)},C.xb=function(i){this.W===i||this.m||(this.W=i,this.a.b=this.W)},C.S=function(){return this.W},C.toJSON=function(){return{apiKey:Mi(this).options.apiKey,authDomain:Mi(this).options.authDomain,appName:Mi(this).name,currentUser:zr(this)&&zr(this).w()}},C.Eb=function(i,p){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==p&&!!this.g;default:return!1}},C.ma=function(i,p,I,F){"signInViaPopup"==i&&this.h==F&&(I&&this.O?this.O(I):p&&!I&&this.g&&this.g(p),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},C.Fa=function(i,p){return"signInViaRedirect"==i||"signInViaPopup"==i&&this.h==p&&this.g?xe(this.hc,this):null},C.hc=function(i,p,I,F){var he=this,De={requestUri:i,postBody:F,sessionId:p,tenantId:I};return this.c&&(this.c.cancel(),this.c=null),he.$.then(function(){return Ic(he,Is(he.a,De))})},C.Wc=function(i){if(!Yo())return gr(new O("operation-not-supported-in-this-environment"));var p=this,I=Ju(i.providerId),F=Ce(),he=null;(!b()||Ys())&&Mi(this).options.authDomain&&i.isOAuthProvider&&(he=yc(Mi(this).options.authDomain,Mi(this).options.apiKey,Mi(this).name,"signInViaPopup",i,null,F,t.SDK_VERSION||null,null,null,this.S(),this.f));var De=Mn(he,I&&I.ua,I&&I.ta);return mo(this,I=Jg(this).then(function(ke){return ym(ke,De,"signInViaPopup",i,F,!!he,p.S())}).then(function(){return new ur(function(ke,it){p.ma("signInViaPopup",null,new O("cancelled-popup-request"),p.h),p.g=ke,p.O=it,p.h=F,p.c=_m(p.b,p,"signInViaPopup",De,F)})}).then(function(ke){return De&&Dt(De),ke?cs(ke):null}).s(function(ke){throw De&&Dt(De),ke}))},C.Xc=function(i){if(!Yo())return gr(new O("operation-not-supported-in-this-environment"));var p=this,I=Jg(this).then(function(){return function(i){return Fu(i,function(){return i.b.set(af,i.c.D,i.a)})}(p.l)}).then(function(){return Gf(p.b,"signInViaRedirect",i,void 0,p.S())});return mo(this,I)},C.qa=function(){var i=this;return Tp(this).then(function(p){return i.b&&zf(i.b.b),p}).s(function(p){throw i.b&&zf(i.b.b),p})},C.cd=function(i){if(!i)return gr(new O("null-user"));if(this.W!=i.tenantId)return gr(new O("tenant-id-mismatch"));var p=this,I={};I.apiKey=Mi(this).options.apiKey,I.authDomain=Mi(this).options.authDomain,I.appName=Mi(this).name;var F=function(i,p,I,F){var he=i.b,De={};return De[ia]=he.b&&he.b.toString(),De.refreshToken=he.a,p=new xa(p||{apiKey:i.l,authDomain:i.o,appName:i.m},De),I&&(p.ha=I),F&&ts(p,F),mp(p,i),p}(i,I,p.G,p.Ga());return mo(this,this.i.then(function(){if(Mi(p).options.apiKey!=i.l)return F.reload()}).then(function(){return zr(p)&&i.uid==zr(p).uid?(mp(zr(p),i),p.da(i)):(Sp(p,F),Cc(F),p.da(F))}).then(function(){Lu(p)}))},C.zb=function(){var i=this;return mo(this,this.i.then(function(){return i.b&&zf(i.b.b),zr(i)?(Sp(i,null),Zf(i.l).then(function(){Lu(i)})):Kn()}))},C.Yc=function(){var i=this;return bp(this.l,Mi(this).options.authDomain).then(function(p){if(!i.m){var I;if(I=zr(i)&&p){I=zr(i).uid;var F=p.uid;I=null!=I&&""!==I&&null!=F&&""!==F&&I==F}if(I)return mp(zr(i),p),zr(i).I();(zr(i)||p)&&(Sp(i,p),p&&(Cc(p),p.ha=i.G),i.b&&ch(i.b,i),Lu(i))}})},C.da=function(i){return _p(this.l,i)},C.kc=function(){Lu(this),this.da(zr(this))},C.vc=function(){this.zb()},C.wc=function(){this.zb()},C.jc=function(i){var p=this;return this.i.then(function(){return Ic(p,Kn(i))})},C.yc=function(i){var p=this;this.addAuthTokenListener(function(){i.next(zr(p))})},C.zc=function(i){var p=this;!function(i,p){i.P.push(p),mo(i,i.i.then(function(){!i.m&&Nn(i.P,p)&&i.X!==i.getUid()&&(i.X=i.getUid(),p(aa(i)))}))}(this,function(){i.next(zr(p))})},C.Hc=function(i,p,I){var F=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof i?i(zr(F)):"function"==typeof i.next&&i.next(zr(F))}),this.ac(i,p,I)},C.Gc=function(i,p,I){var F=this;return this.ba&&Promise.resolve().then(function(){F.X=F.getUid(),"function"==typeof i?i(zr(F)):"function"==typeof i.next&&i.next(zr(F))}),this.bc(i,p,I)},C.mc=function(i){var p=this;return mo(this,this.i.then(function(){return zr(p)?zr(p).I(i).then(function(F){return{accessToken:F}}):null}))},C.Sc=function(i){var p=this;return this.i.then(function(){return Ic(p,Pr(p.a,sr,{token:i}))}).then(function(I){var F=I.user;return _h(F,"isAnonymous",!1),p.da(F),I})},C.Tc=function(i,p){var I=this;return this.i.then(function(){return Ic(I,Pr(I.a,xr,{email:i,password:p}))})},C.dc=function(i,p){var I=this;return this.i.then(function(){return Ic(I,Pr(I.a,Kh,{email:i,password:p}))})},C.Za=function(i){var p=this;return this.i.then(function(){return Ic(p,i.ja(p.a))})},C.Rc=function(i){return bo("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(i)},C.yb=function(){var i=this;return this.i.then(function(){var p=zr(i);if(p&&p.isAnonymous){var I=cs({providerId:null,isNewUser:!1});return cs({user:p,credential:null,additionalUserInfo:I,operationType:"signIn"})}return Ic(i,i.a.yb()).then(function(F){var he=F.user;return _h(he,"isAnonymous",!0),i.da(he),F})})},C.getUid=function(){return zr(this)&&zr(this).uid||null},C.cc=function(i){this.addAuthTokenListener(i),this.A++,0<this.A&&zr(this)&&mh(zr(this))},C.Oc=function(i){var p=this;St(this.u,function(I){I==i&&p.A--}),0>this.A&&(this.A=0),0==this.A&&zr(this)&&gh(zr(this)),this.removeAuthTokenListener(i)},C.addAuthTokenListener=function(i){var p=this;this.u.push(i),mo(this,this.i.then(function(){p.m||Nn(p.u,i)&&i(aa(p))}))},C.removeAuthTokenListener=function(i){zn(this.u,function(p){return p==i})},C.delete=function(){this.m=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.l&&(i=this.l).b.removeListener(sa("local"),i.a,this.pa),this.b&&(iu(this.b,this),zf(this.b.b)),Promise.resolve()},C.gc=function(i){return mo(this,function(i,p){return Pr(i,Sa,{identifier:p,continueUri:A()?x():"http://localhost"}).then(function(I){return I.signinMethods||[]})}(this.a,i))},C.Ac=function(i){return!!hs(i)},C.vb=function(i,p){var I=this;return mo(this,Kn().then(function(){var F=new Cs(p);if(!F.c)throw new O("argument-error",Ef+" must be true when sending sign in link to email");return il(F)}).then(function(F){return I.a.vb(i,F)}).then(function(){}))},C.hd=function(i){return this.Qa(i).then(function(p){return p.data.email})},C.mb=function(i,p){return mo(this,this.a.mb(i,p).then(function(){}))},C.Qa=function(i){return mo(this,this.a.Qa(i).then(function(p){return new bf(p)}))},C.ib=function(i){return mo(this,this.a.ib(i).then(function(){}))},C.ub=function(i,p){var I=this;return mo(this,Kn().then(function(){return void 0===p||Dn(p)?{}:il(new Cs(p))}).then(function(F){return I.a.ub(i,F)}).then(function(){}))},C.Vc=function(i,p){return mo(this,ip(this,i,p,xe(this.Za,this)))},C.Uc=function(i,p){var I=this;return mo(this,Kn().then(function(){var F=p||x(),he=Vh(i,F);if(!(F=hs(F)))throw new O("argument-error","Invalid email link!");if(F.tenantId!==I.S())throw new O("tenant-id-mismatch");return I.Za(he)}))},Vu.prototype.render=function(){},Vu.prototype.reset=function(){},Vu.prototype.getResponse=function(){},Vu.prototype.execute=function(){};var tv=null;function Rm(i,p){return(p=km(p))&&i.a[p]||null}function km(i){return(i=void 0===i?1e12:i)?i.toString():null}function Th(i,p){this.g=!1,this.c=p,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Kt(i);var I=this;this.i=function(){I.execute()},this.h?this.execute():Dr(this.f,"click",this.i)}function Nm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function uf(){}function Xf(){}Ch.prototype.render=function(i,p){return this.a[this.b.toString()]=new Th(i,p),this.b++},Ch.prototype.reset=function(i){var p=Rm(this,i);i=km(i),p&&i&&(p.delete(),delete this.a[i])},Ch.prototype.getResponse=function(i){return(i=Rm(this,i))?i.getResponse():null},Ch.prototype.execute=function(i){(i=Rm(this,i))&&i.execute()},Th.prototype.getResponse=function(){return Nm(this),this.b},Th.prototype.execute=function(){Nm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=function(){for(var i=50,p=[];0<i;)p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return p.join("")}();var p=i.c.callback,I=i.c["expired-callback"];if(p)try{p(i.b)}catch(F){}i.a=setTimeout(function(){if(i.a=null,i.b=null,I)try{I()}catch(F){}i.h&&i.execute()},6e4)},500))},Th.prototype.delete=function(){Nm(this),this.g=!0,clearTimeout(this.a),this.a=null,gi(this.f,"click",this.i)},Fn(uf,"FACTOR_ID","phone"),Xf.prototype.g=function(){return tv||(tv=new Ch),Kn(tv)},Xf.prototype.c=function(){};var Fm=null;function Ap(){this.b=j.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var sy=new nr(Ar,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Be(3e4,6e4);Ap.prototype.g=function(i){var p=this;return new ur(function(I,F){var he=setTimeout(function(){F(new O("network-request-failed"))},Sh.get());!j.grecaptcha||i!==p.f&&!p.b?(j[p.a]=function(){if(j.grecaptcha){p.f=i;var ke=j.grecaptcha.render;j.grecaptcha.render=function(it,Gt){return it=ke(it,Gt),p.b++,it},clearTimeout(he),I(j.grecaptcha)}else clearTimeout(he),F(new O("internal-error"));delete j[p.a]},Kn(Io(Ni(sy,{onload:p.a,hl:i||""}))).s(function(){clearTimeout(he),F(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(he),I(j.grecaptcha))})},Ap.prototype.c=function(){this.b--};var Lm=null;function Ac(i,p,I,F,he,De,ke){if(Fn(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=p,this.g=null,ke?(Fm||(Fm=new Xf),ke=Fm):(Lm||(Lm=new Ap),ke=Lm),this.v=ke,this.a=I||{theme:"light",type:"image"},this.h=[],this.a[Ah])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ay],!j.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Kt(p)||!this.i&&Kt(p).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ta(i,De||null,he||null),this.u=F||function(){return null};var it=this;this.l=[];var Gt=this.a[Ih];this.a[Ih]=function(Nr){if(Dh(it,Nr),"function"==typeof Gt)Gt(Nr);else if("string"==typeof Gt){var bi=ii(Gt,j);"function"==typeof bi&&bi(Nr)}};var fn=this.a[Dp];this.a[Dp]=function(){if(Dh(it,null),"function"==typeof fn)fn();else if("string"==typeof fn){var Nr=ii(fn,j);"function"==typeof Nr&&Nr()}}}var Ih="callback",Dp="expired-callback",Ah="sitekey",ay="size";function Dh(i,p){for(var I=0;I<i.l.length;I++)try{i.l[I](p)}catch(F){}}function Za(i,p){return i.h.push(p),p.na(function(){on(i.h,p)}),p}function Dc(i){if(i.A)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Uo(i,p,I){var F=!1;try{this.b=I||t.app()}catch(ke){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");I=this.b.options.apiKey;var he=this,De=null;try{De=this.b.auth().Ga()}catch(ke){}try{F=this.b.auth().settings.appVerificationDisabledForTesting}catch(ke){}De=t.SDK_VERSION?Pn(t.SDK_VERSION,De):null,Ac.call(this,I,i,p,function(){try{var ke=he.b.auth().ka()}catch(it){ke=null}return ke},De,J(je),F)}function xc(i,p,I,F){e:{I=Array.prototype.slice.call(I);for(var he=0,De=!1,ke=0;ke<p.length;ke++)if(p[ke].optional)De=!0;else{if(De)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");he++}if(De=p.length,I.length<he||De<I.length)F="Expected "+(he==De?1==he?"1 argument":he+" arguments":he+"-"+De+" arguments")+" but got "+I.length+".";else{for(he=0;he<I.length;he++)if(De=p[he].optional&&void 0===I[he],!p[he].K(I[he])&&!De){if(p=p[he],0>he||he>=ed.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");I=ed[he],F=(F?"":I+" argument ")+(p.name?'"'+p.name+'" ':"")+"must be "+p.J+".";break e}F=null}}if(F)throw new O("argument-error",i+" failed: "+F)}(C=Ac.prototype).Ia=function(){var i=this;return this.f?this.f:this.f=Za(this,Kn().then(function(){if(A()&&!Pi())return $o();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.v.g(i.u())}).then(function(p){return i.g=p,Pr(i.o,ae,{})}).then(function(p){i.a[Ah]=p.recaptchaSiteKey}).s(function(p){throw i.f=null,p}))},C.render=function(){Dc(this);var i=this;return Za(this,this.Ia().then(function(){if(null===i.c){var p=i.m;if(!i.i){var I=Kt(p);p=function(i,p,I){var F=arguments,he=document,De=String(F[0]),ke=F[1];if(!_n&&ke&&(ke.name||ke.type)){if(De=["<",De],ke.name&&De.push(' name="',at(ke.name),'"'),ke.type){De.push(' type="',at(ke.type),'"');var it={};xn(it,ke),delete it.type,ke=it}De.push(">"),De=De.join("")}return De=wr(he,De),ke&&("string"==typeof ke?De.className=ke:Array.isArray(ke)?De.className=ke.join(" "):tr(De,ke)),2<F.length&&zi(he,De,F),De}("DIV"),I.appendChild(p)}i.c=i.g.render(p,i.a)}return i.c}))},C.verify=function(){Dc(this);var i=this;return Za(this,this.render().then(function(p){return new ur(function(I){var F=i.g.getResponse(p);if(F)I(F);else{var he=function(De){De&&(function(i,p){zn(i.l,function(I){return I==p})}(i,he),I(De))};i.l.push(he),i.i&&i.g.execute(i.c)}})}))},C.reset=function(){Dc(this),null!==this.c&&this.g.reset(this.c)},C.clear=function(){Dc(this),this.A=!0,this.v.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Kt(this.m);for(var p;p=i.firstChild;)i.removeChild(p)}},U(Uo,Ac);var ed="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bn(i,p){return{name:i||"",J:"a valid string",optional:!!p,K:function(I){return"string"==typeof I}}}function td(i,p){return{name:i||"",J:"a boolean",optional:!!p,K:function(I){return"boolean"==typeof I}}}function go(i,p){return{name:i||"",J:"a valid object",optional:!!p,K:z}}function Ja(i,p){return{name:i||"",J:"a function",optional:!!p,K:function(I){return"function"==typeof I}}}function la(i,p){return{name:i||"",J:"null",optional:!!p,K:function(I){return null===I}}}function Xa(i){return{name:i?i+"Credential":"credential",J:i?"a valid "+i+" credential":"a valid credential",optional:!1,K:function(p){return!!p&&!(!p.ja||i&&p.providerId!==i)}}}function nd(i,p){return z(i)&&"string"==typeof i.type&&i.type===p&&"function"==typeof i.Ha}function Um(i){return z(i)&&"string"==typeof i.uid}function co(i,p,I,F){return{name:I||"",J:i.J+" or "+p.J,optional:!!F,K:function(he){return i.K(he)||p.K(he)}}}function to(i,p){for(var I in p){var F=p[I].name;i[F]=jm(F,i[I],p[I].j)}}function Bm(i,p){for(var I in p){var F=p[I].name;F!==I&&Object.defineProperty(i,F,{get:Ge(function(he){return this[he]},I),set:Ge(function(he,De,ke,it){xc(he,[ke],[it],!0),this[De]=it},F,I,p[I].jb),enumerable:!0})}}function vo(i,p,I,F){i[p]=jm(p,I,F)}function jm(i,p,I){function F(){var ke=Array.prototype.slice.call(arguments);return xc(he,I,ke),p.apply(this,ke)}if(!I)return p;var De,he=function(i){return(i=i.split("."))[i.length-1]}(i);for(De in p)F[De]=p[De];for(De in p.prototype)F.prototype[De]=p.prototype[De];return F}to(Qa.prototype,{ib:{name:"applyActionCode",j:[Bn("code")]},Qa:{name:"checkActionCode",j:[Bn("code")]},mb:{name:"confirmPasswordReset",j:[Bn("code"),Bn("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bn("email"),Bn("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Bn("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Bn("emailLink")]},Gc:{name:"onAuthStateChanged",j:[co(go(),Ja(),"nextOrObserver"),Ja("opt_error",!0),Ja("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[co(go(),Ja(),"nextOrObserver"),Ja("opt_error",!0),Ja("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Bn("email"),co(go("opt_actionCodeSettings",!0),la(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Bn("email"),go("actionCodeSettings")]},wb:{name:"setPersistence",j:[Bn("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Xa()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Xa()]},Sc:{name:"signInWithCustomToken",j:[Bn("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Bn("email"),Bn("password")]},Uc:{name:"signInWithEmailLink",j:[Bn("email"),Bn("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Bn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[co({name:"user",J:"an instance of Firebase User",optional:!1,K:function(p){return!!(p&&p instanceof xa)}},la(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bn(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Bn("url")]},hd:{name:"verifyPasswordResetCode",j:[Bn("code")]}}),Bm(Qa.prototype,{lc:{name:"languageCode",jb:co(Bn(),la(),"languageCode")},ti:{name:"tenantId",jb:co(Bn(),la(),"tenantId")}}),(Qa.Persistence=Aa).LOCAL="local",Qa.Persistence.SESSION="session",Qa.Persistence.NONE="none",to(xa.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[td("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[td("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Xa()]},pb:{name:"linkWithCredential",j:[Xa()]},Cc:{name:"linkWithPhoneNumber",j:[Bn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xa()]},sb:{name:"reauthenticateWithCredential",j:[Xa()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Bn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[co(go("opt_actionCodeSettings",!0),la(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bn(null,!0)]},bd:{name:"unlink",j:[Bn("provider")]},Ab:{name:"updateEmail",j:[Bn("email")]},Bb:{name:"updatePassword",j:[Bn("password")]},dd:{name:"updatePhoneNumber",j:[Xa("phone")]},Cb:{name:"updateProfile",j:[go("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Bn("email"),co(go("opt_actionCodeSettings",!0),la(null,!0),"opt_actionCodeSettings",!0)]}}),to(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),to(Vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),to(ur.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Bm(Hs.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:td("appVerificationDisabledForTesting")}}),to(Nu.prototype,{confirm:{name:"confirm",j:[Bn("verificationCode")]}}),vo(wl,"fromJSON",function(i){i="string"==typeof i?JSON.parse(i):i;for(var p,I=[ec,ta,Gc,mu],F=0;F<I.length;F++)if(p=I[F](i))return p;return null},[co(Bn(),go(),"json")]),vo(ga,"credential",function(i,p){return new Ba(i,p)},[Bn("email"),Bn("password")]),to(Ba.prototype,{w:{name:"toJSON",j:[Bn(null,!0)]}}),to(sl.prototype,{Ca:{name:"addScope",j:[Bn("scope")]},Ka:{name:"setCustomParameters",j:[go("customOAuthParameters")]}}),vo(sl,"credential",Hc,[co(Bn(),go(),"token")]),vo(ga,"credentialWithLink",Vh,[Bn("email"),Bn("emailLink")]),to(So.prototype,{Ca:{name:"addScope",j:[Bn("scope")]},Ka:{name:"setCustomParameters",j:[go("customOAuthParameters")]}}),vo(So,"credential",al,[co(Bn(),go(),"token")]),to(gu.prototype,{Ca:{name:"addScope",j:[Bn("scope")]},Ka:{name:"setCustomParameters",j:[go("customOAuthParameters")]}}),vo(gu,"credential",Md,[co(Bn(),co(go(),la()),"idToken"),co(Bn(),la(),"accessToken",!0)]),to(vu.prototype,{Ka:{name:"setCustomParameters",j:[go("customOAuthParameters")]}}),vo(vu,"credential",ea,[co(Bn(),go(),"token"),Bn("secret",!0)]),to(Jo.prototype,{Ca:{name:"addScope",j:[Bn("scope")]},credential:{name:"credential",j:[co(Bn(),co(go(),la()),"optionsOrIdToken"),co(Bn(),la(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[go("customOAuthParameters")]}}),to(To.prototype,{w:{name:"toJSON",j:[Bn(null,!0)]}}),to(Va.prototype,{w:{name:"toJSON",j:[Bn(null,!0)]}}),vo(ya,"credential",zc,[Bn("verificationId"),Bn("verificationCode")]),to(ya.prototype,{eb:{name:"verifyPhoneNumber",j:[co(Bn(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(I){return!!I&&(I.session&&I.phoneNumber?nd(I.session,ol)&&"string"==typeof I.phoneNumber:I.session&&I.multiFactorHint?nd(I.session,Xu)&&Um(I.multiFactorHint):I.session&&I.multiFactorUid?nd(I.session,Xu)&&"string"==typeof I.multiFactorUid:!!I.phoneNumber&&"string"==typeof I.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(i){return!(!i||"string"!=typeof i.type||"function"!=typeof i.verify)}}]}}),to(ja.prototype,{w:{name:"toJSON",j:[Bn(null,!0)]}}),to(O.prototype,{toJSON:{name:"toJSON",j:[Bn(null,!0)]}}),to(Tl.prototype,{toJSON:{name:"toJSON",j:[Bn(null,!0)]}}),to(Uh.prototype,{toJSON:{name:"toJSON",j:[Bn(null,!0)]}}),to(ap.prototype,{toJSON:{name:"toJSON",j:[Bn(null,!0)]}}),to(op.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(i){return!!i&&!!i.rb}}]}}),to(qf.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(i){return!!i&&!!i.rb}},Bn("displayName",!0)]},ad:{name:"unenroll",j:[co({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Um},Bn(),"multiFactorInfoIdentifier")]}}),to(Uo.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),vo(mr,"parseLink",Qu,[Bn("link")]),vo(uf,"assertion",function(i){return new Cm(i)},[Xa("phone")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:da,VERIFY_AND_CHANGE_EMAIL:ql,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qa,AuthCredential:wl,Error:O};vo(i,"EmailAuthProvider",ga,[]),vo(i,"FacebookAuthProvider",sl,[]),vo(i,"GithubAuthProvider",So,[]),vo(i,"GoogleAuthProvider",gu,[]),vo(i,"TwitterAuthProvider",vu,[]),vo(i,"OAuthProvider",Jo,[Bn("providerId")]),vo(i,"SAMLAuthProvider",Cl,[Bn("providerId")]),vo(i,"PhoneAuthProvider",ya,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(i){return!!(i&&i instanceof Qa)}}]),vo(i,"RecaptchaVerifier",Uo,[co(Bn(),{name:"",J:"an HTML element",optional:!1,K:function(i){return!!(i&&i instanceof Element)}},"recaptchaContainer"),go("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(i){return!!(i&&i instanceof t.app.App)}}]),vo(i,"ActionCodeURL",mr,[]),vo(i,"PhoneMultiFactorGenerator",uf,[]),t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(p){return new Qa(p=p.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(p){return{getUid:xe((p=p.getProvider("auth").getImmediate()).getUid,p),getToken:xe(p.mc,p),addAuthTokenListener:xe(p.cc,p),removeAuthTokenListener:xe(p.Oc,p)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.registerVersion("@firebase/auth","0.15.0"),t.INTERNAL.extendNamespace({User:xa})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6355:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t=v(7754),C=v(1270),S=function(){function B(j,oe,X){this.name=j,this.instanceFactory=oe,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return B.prototype.setInstantiationMode=function(j){return this.instantiationMode=j,this},B.prototype.setMultipleInstances=function(j){return this.multipleInstances=j,this},B.prototype.setServiceProps=function(j){return this.serviceProps=j,this},B}(),q="[DEFAULT]",Y=function(){function B(j,oe){this.name=j,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return B.prototype.get=function(j){void 0===j&&(j=q);var oe=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(oe)){var X=new C.Deferred;this.instancesDeferred.set(oe,X);try{var te=this.getOrInitializeService(oe);te&&X.resolve(te)}catch(me){}}return this.instancesDeferred.get(oe).promise},B.prototype.getImmediate=function(j){var oe=t.__assign({identifier:q,optional:!1},j),te=oe.optional,me=this.normalizeInstanceIdentifier(oe.identifier);try{var le=this.getOrInitializeService(me);if(!le){if(te)return null;throw Error("Service "+this.name+" is not available")}return le}catch(W){if(te)return null;throw W}},B.prototype.getComponent=function(){return this.component},B.prototype.setComponent=function(j){var oe,X;if(j.name!==this.name)throw Error("Mismatching Component "+j.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=j,function(B){return"EAGER"===B.instantiationMode}(j))try{this.getOrInitializeService(q)}catch(_e){}try{for(var te=t.__values(this.instancesDeferred.entries()),me=te.next();!me.done;me=te.next()){var le=t.__read(me.value,2),z=le[1],K=this.normalizeInstanceIdentifier(le[0]);try{var ee=this.getOrInitializeService(K);z.resolve(ee)}catch(_e){}}}catch(_e){oe={error:_e}}finally{try{me&&!me.done&&(X=te.return)&&X.call(te)}finally{if(oe)throw oe.error}}},B.prototype.clearInstance=function(j){void 0===j&&(j=q),this.instancesDeferred.delete(j),this.instances.delete(j)},B.prototype.delete=function(){return t.__awaiter(this,void 0,void 0,function(){var j;return t.__generator(this,function(oe){switch(oe.label){case 0:return j=Array.from(this.instances.values()),[4,Promise.all(t.__spread(j.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}),j.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()})))];case 1:return oe.sent(),[2]}})})},B.prototype.isComponentSet=function(){return null!=this.component},B.prototype.getOrInitializeService=function(j){var oe=this.instances.get(j);return!oe&&this.component&&(oe=this.component.instanceFactory(this.container,function(B){return B===q?void 0:B}(j)),this.instances.set(j,oe)),oe||null},B.prototype.normalizeInstanceIdentifier=function(j){return this.component?this.component.multipleInstances?j:q:j},B}(),fe=function(){function B(j){this.name=j,this.providers=new Map}return B.prototype.addComponent=function(j){var oe=this.getProvider(j.name);if(oe.isComponentSet())throw new Error("Component "+j.name+" has already been registered with "+this.name);oe.setComponent(j)},B.prototype.addOrOverwriteComponent=function(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)},B.prototype.getProvider=function(j){if(this.providers.has(j))return this.providers.get(j);var oe=new Y(j,this);return this.providers.set(j,oe),oe},B.prototype.getProviders=function(){return Array.from(this.providers.values())},B}();m.Component=S,m.ComponentContainer=fe,m.Provider=Y},1925:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t=v(9278),C=v(4255),S=v(1270),q=v(4003),Y=v(6355);function se(A){return A&&"object"==typeof A&&"default"in A?A:{default:A}}var A,re=se(t),fe=function(){function A(g){this.domStorage_=g,this.prefix_="firebase:"}return A.prototype.set=function(g,b){null==b?this.domStorage_.removeItem(this.prefixedName_(g)):this.domStorage_.setItem(this.prefixedName_(g),S.stringify(b))},A.prototype.get=function(g){var b=this.domStorage_.getItem(this.prefixedName_(g));return null==b?null:S.jsonEval(b)},A.prototype.remove=function(g){this.domStorage_.removeItem(this.prefixedName_(g))},A.prototype.prefixedName_=function(g){return this.prefix_+g},A.prototype.toString=function(){return this.domStorage_.toString()},A}(),B=function(){function A(){this.cache_={},this.isInMemoryStorage=!0}return A.prototype.set=function(g,b){null==b?delete this.cache_[g]:this.cache_[g]=b},A.prototype.get=function(g){return S.contains(this.cache_,g)?this.cache_[g]:null},A.prototype.remove=function(g){delete this.cache_[g]},A}(),j=function(A){try{if("undefined"!=typeof window&&void 0!==window[A]){var g=window[A];return g.setItem("firebase:sentinel","cache"),g.removeItem("firebase:sentinel"),new fe(g)}}catch(b){}return new B},oe=j("localStorage"),X=j("sessionStorage"),te=new q.Logger("@firebase/database"),me=(A=1,function(){return A++}),le=function(A){var g=S.stringToByteArray(A),b=new S.Sha1;b.update(g);var P=b.digest();return S.base64.encodeByteArray(P)},W=function(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];for(var b="",P=0;P<A.length;P++){var G=A[P];Array.isArray(G)||G&&"object"==typeof G&&"number"==typeof G.length?b+=W.apply(null,G):b+="object"==typeof G?S.stringify(G):G,b+=" "}return b},z=null,K=!0,ee=function(A,g){S.assert(!g||!0===A||!1===A,"Can't turn on custom loggers persistently."),!0===A?(te.logLevel=q.LogLevel.VERBOSE,z=te.log.bind(te),g&&X.set("logging_enabled",!0)):"function"==typeof A?z=A:(z=null,X.remove("logging_enabled"))},_e=function(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];if(!0===K&&(K=!1,null===z&&!0===X.get("logging_enabled")&&ee(!0)),z){var b=W.apply(null,A);z(b)}},ve=function(A){return function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];_e.apply(void 0,C.__spread([A],g))}},Ae=function(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];var b="FIREBASE INTERNAL ERROR: "+W.apply(void 0,C.__spread(A));te.error(b)},xe=function(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];var b="FIREBASE FATAL ERROR: "+W.apply(void 0,C.__spread(A));throw te.error(b),new Error(b)},Ge=function(){for(var A=[],g=0;g<arguments.length;g++)A[g]=arguments[g];var b="FIREBASE WARNING: "+W.apply(void 0,C.__spread(A));te.warn(b)},U=function(A){return"number"==typeof A&&(A!=A||A===Number.POSITIVE_INFINITY||A===Number.NEGATIVE_INFINITY)},H="[MIN_NAME]",Q="[MAX_NAME]",R=function(A,g){if(A===g)return 0;if(A===H||g===Q)return-1;if(g===H||A===Q)return 1;var b=nn(A),P=nn(g);return null!==b?null!==P?b-P==0?A.length-g.length:b-P:-1:null!==P?1:A<g?-1:1},$=function(A,g){return A===g?0:A<g?-1:1},J=function(A,g){if(g&&A in g)return g[A];throw new Error("Missing required key ("+A+") in object: "+S.stringify(g))},je=function(A){if("object"!=typeof A||null===A)return S.stringify(A);var g=[];for(var b in A)g.push(b);g.sort();for(var P="{",G=0;G<g.length;G++)0!==G&&(P+=","),P+=S.stringify(g[G]),P+=":",P+=je(A[g[G]]);return P+"}"},we=function(A,g){var b=A.length;if(b<=g)return[A];for(var P=[],G=0;G<b;G+=g)P.push(A.substring(G,G+g>b?b:G+g));return P};function Ne(A,g){for(var b in A)A.hasOwnProperty(b)&&g(b,A[b])}var Ct,kt,Wt,Er,fr,Xe,ut=function(A){S.assert(!U(A),"Invalid JSON number");var G,ie,Ce,Oe,ze,P=1023;0===A?(ie=0,Ce=0,G=1/A==-1/0?1:0):(G=A<0,(A=Math.abs(A))>=Math.pow(2,1-P)?(ie=(Oe=Math.min(Math.floor(Math.log(A)/Math.LN2),P))+P,Ce=Math.round(A*Math.pow(2,52-Oe)-Math.pow(2,52))):(ie=0,Ce=Math.round(A/Math.pow(2,-1074))));var Be=[];for(ze=52;ze;ze-=1)Be.push(Ce%2?1:0),Ce=Math.floor(Ce/2);for(ze=11;ze;ze-=1)Be.push(ie%2?1:0),ie=Math.floor(ie/2);Be.push(G?1:0),Be.reverse();var yt=Be.join(""),Ot="";for(ze=0;ze<64;ze+=8){var Ut=parseInt(yt.substr(ze,8),2).toString(16);1===Ut.length&&(Ut="0"+Ut),Ot+=Ut}return Ot.toLowerCase()},Pt=new RegExp("^-?(0*)\\d{1,10}$"),nn=function(A){if(Pt.test(A)){var g=Number(A);if(g>=-2147483648&&g<=2147483647)return g}return null},Ft=function(A){try{A()}catch(g){setTimeout(function(){throw Ge("Exception was thrown by user callback.",g.stack||""),g},Math.floor(0))}},rn=function(A,g){var b=setTimeout(A,g);return"object"==typeof b&&b.unref&&b.unref(),b},St=function(){function A(g,b){if(void 0===b){this.pieces_=g.split("/");for(var P=0,G=0;G<this.pieces_.length;G++)this.pieces_[G].length>0&&(this.pieces_[P]=this.pieces_[G],P++);this.pieces_.length=P,this.pieceNum_=0}else this.pieces_=g,this.pieceNum_=b}return Object.defineProperty(A,"Empty",{get:function(){return new A("")},enumerable:!1,configurable:!0}),A.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},A.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},A.prototype.popFront=function(){var g=this.pieceNum_;return g<this.pieces_.length&&g++,new A(this.pieces_,g)},A.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},A.prototype.toString=function(){for(var g="",b=this.pieceNum_;b<this.pieces_.length;b++)""!==this.pieces_[b]&&(g+="/"+this.pieces_[b]);return g||"/"},A.prototype.toUrlEncodedString=function(){for(var g="",b=this.pieceNum_;b<this.pieces_.length;b++)""!==this.pieces_[b]&&(g+="/"+encodeURIComponent(String(this.pieces_[b])));return g||"/"},A.prototype.slice=function(g){return void 0===g&&(g=0),this.pieces_.slice(this.pieceNum_+g)},A.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var g=[],b=this.pieceNum_;b<this.pieces_.length-1;b++)g.push(this.pieces_[b]);return new A(g,0)},A.prototype.child=function(g){for(var b=[],P=this.pieceNum_;P<this.pieces_.length;P++)b.push(this.pieces_[P]);if(g instanceof A)for(P=g.pieceNum_;P<g.pieces_.length;P++)b.push(g.pieces_[P]);else{var G=g.split("/");for(P=0;P<G.length;P++)G[P].length>0&&b.push(G[P])}return new A(b,0)},A.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},A.relativePath=function(g,b){var P=g.getFront(),G=b.getFront();if(null===P)return b;if(P===G)return A.relativePath(g.popFront(),b.popFront());throw new Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+g+")")},A.comparePaths=function(g,b){for(var P=g.slice(),G=b.slice(),ie=0;ie<P.length&&ie<G.length;ie++){var Ce=R(P[ie],G[ie]);if(0!==Ce)return Ce}return P.length===G.length?0:P.length<G.length?-1:1},A.prototype.equals=function(g){if(this.getLength()!==g.getLength())return!1;for(var b=this.pieceNum_,P=g.pieceNum_;b<=this.pieces_.length;b++,P++)if(this.pieces_[b]!==g.pieces_[P])return!1;return!0},A.prototype.contains=function(g){var b=this.pieceNum_,P=g.pieceNum_;if(this.getLength()>g.getLength())return!1;for(;b<this.pieces_.length;){if(this.pieces_[b]!==g.pieces_[P])return!1;++b,++P}return!0},A}(),qn=function(){function A(g,b){this.errorPrefix_=b,this.parts_=g.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var P=0;P<this.parts_.length;P++)this.byteLength_+=S.stringLength(this.parts_[P]);this.checkValid_()}return Object.defineProperty(A,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(A,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),A.prototype.push=function(g){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(g),this.byteLength_+=S.stringLength(g),this.checkValid_()},A.prototype.pop=function(){var g=this.parts_.pop();this.byteLength_-=S.stringLength(g),this.parts_.length>0&&(this.byteLength_-=1)},A.prototype.checkValid_=function(){if(this.byteLength_>A.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+A.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>A.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},A.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},A}(),on="firebaseio.com",Hn="websocket",ir="long_polling",or=function(){function A(g,b,P,G,ie,Ce,Oe){void 0===ie&&(ie=!1),void 0===Ce&&(Ce=""),void 0===Oe&&(Oe=!1),this.secure=b,this.namespace=P,this.webSocketOnly=G,this.nodeAdmin=ie,this.persistenceKey=Ce,this.includeNamespaceInQueryParams=Oe,this.host=g.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=oe.get("host:"+g)||this.host}return A.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},A.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},A.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},A.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},A.prototype.updateHost=function(g){g!==this.internalHost&&(this.internalHost=g,this.isCacheableHost()&&oe.set("host:"+this.host,this.internalHost))},A.prototype.connectionURL=function(g,b){var P;if(S.assert("string"==typeof g,"typeof type must == string"),S.assert("object"==typeof b,"typeof params must == object"),g===Hn)P=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(g!==ir)throw new Error("Unknown connection type: "+g);P=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(b.ns=this.namespace);var G=[];return Ne(b,function(ie,Ce){G.push(ie+"="+Ce)}),P+G.join("&")},A.prototype.toString=function(){var g=this.toURLString();return this.persistenceKey&&(g+="<"+this.persistenceKey+">"),g},A.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},A}(),Gn=function(A,g){var b=An(A),P=b.namespace;return"firebase.com"===b.domain&&xe(b.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!P||"undefined"===P)&&"localhost"!==b.domain&&xe("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),b.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new or(b.host,b.secure,P,g,"ws"===b.scheme||"wss"===b.scheme,"",P!==b.subdomain),path:new St(b.pathString)}},An=function(A){var g="",b="",P="",G="",ie="",Ce=!0,Oe="https",ze=443;if("string"==typeof A){var Be=A.indexOf("//");Be>=0&&(Oe=A.substring(0,Be-1),A=A.substring(Be+2));var yt=A.indexOf("/");-1===yt&&(yt=A.length);var Ot=A.indexOf("?");-1===Ot&&(Ot=A.length),g=A.substring(0,Math.min(yt,Ot)),yt<Ot&&(G=function(A){for(var g="",b=A.split("/"),P=0;P<b.length;P++)if(b[P].length>0){var G=b[P];try{G=decodeURIComponent(G.replace(/\+/g," "))}catch(ie){}g+="/"+G}return g}(A.substring(yt,Ot)));var Ut=function(A){var g,b,P={};"?"===A.charAt(0)&&(A=A.substring(1));try{for(var G=C.__values(A.split("&")),ie=G.next();!ie.done;ie=G.next()){var Ce=ie.value;if(0!==Ce.length){var Oe=Ce.split("=");2===Oe.length?P[decodeURIComponent(Oe[0])]=decodeURIComponent(Oe[1]):Ge("Invalid query segment '"+Ce+"' in query '"+A+"'")}}}catch(ze){g={error:ze}}finally{try{ie&&!ie.done&&(b=G.return)&&b.call(G)}finally{if(g)throw g.error}}return P}(A.substring(Math.min(A.length,Ot)));(Be=g.indexOf(":"))>=0?(Ce="https"===Oe||"wss"===Oe,ze=parseInt(g.substring(Be+1),10)):Be=g.length;var Xt=g.slice(0,Be);if("localhost"===Xt.toLowerCase())b="localhost";else if(Xt.split(".").length<=2)b=Xt;else{var dn=g.indexOf(".");P=g.substring(0,dn).toLowerCase(),b=g.substring(dn+1),ie=P}"ns"in Ut&&(ie=Ut.ns)}return{host:g,port:ze,domain:b,subdomain:P,secure:Ce,scheme:Oe,pathString:G,namespace:ie}},Wr=/[\[\].#$\/\u0000-\u001F\u007F]/,ft=/[\[\].#$\u0000-\u001F\u007F]/,Fe=10485760,rt=function(A){return"string"==typeof A&&0!==A.length&&!Wr.test(A)},Tt=function(A){return"string"==typeof A&&0!==A.length&&!ft.test(A)},ln=function(A){return null===A||"string"==typeof A||"number"==typeof A&&!U(A)||A&&"object"==typeof A&&S.contains(A,".sv")},Ht=function(A,g,b,P,G){G&&void 0===b||Tn(S.errorPrefix(A,g,G),b,P)},Tn=function(A,g,b){var P=b instanceof St?new qn(b,A):b;if(void 0===g)throw new Error(A+"contains undefined "+P.toErrorString());if("function"==typeof g)throw new Error(A+"contains a function "+P.toErrorString()+" with contents = "+g.toString());if(U(g))throw new Error(A+"contains "+g.toString()+" "+P.toErrorString());if("string"==typeof g&&g.length>Fe/3&&S.stringLength(g)>Fe)throw new Error(A+"contains a string greater than "+Fe+" utf8 bytes "+P.toErrorString()+" ('"+g.substring(0,50)+"...')");if(g&&"object"==typeof g){var G=!1,ie=!1;if(Ne(g,function(Ce,Oe){if(".value"===Ce)G=!0;else if(".priority"!==Ce&&".sv"!==Ce&&(ie=!0,!rt(Ce)))throw new Error(A+" contains an invalid key ("+Ce+") "+P.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');P.push(Ce),Tn(A,Oe,P),P.pop()}),G&&ie)throw new Error(A+' contains ".value" child '+P.toErrorString()+" in addition to actual children.")}},En=function(A,g,b,P,G){if(!G||void 0!==b){var ie=S.errorPrefix(A,g,G);if(!b||"object"!=typeof b||Array.isArray(b))throw new Error(ie+" must be an object containing the children to replace.");var Ce=[];Ne(b,function(Oe,ze){var Be=new St(Oe);if(Tn(ie,ze,P.child(Be)),".priority"===Be.getBack()&&!ln(ze))throw new Error(ie+"contains an invalid value for '"+Be.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");Ce.push(Be)}),function(A,g){var b,P;for(b=0;b<g.length;b++)for(var G=(P=g[b]).slice(),ie=0;ie<G.length;ie++)if((".priority"!==G[ie]||ie!==G.length-1)&&!rt(G[ie]))throw new Error(A+"contains an invalid key ("+G[ie]+") in path "+P.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');g.sort(St.comparePaths);var Ce=null;for(b=0;b<g.length;b++){if(P=g[b],null!==Ce&&Ce.contains(P))throw new Error(A+"contains a path "+Ce.toString()+" that is ancestor of another path "+P.toString());Ce=P}}(ie,Ce)}},Wn=function(A,g,b,P){if(!P||void 0!==b){if(U(b))throw new Error(S.errorPrefix(A,g,P)+"is "+b.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ln(b))throw new Error(S.errorPrefix(A,g,P)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xn=function(A,g,b,P){if(!P||void 0!==b)switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(S.errorPrefix(A,g,P)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ir=function(A,g,b,P){if(!(P&&void 0===b||rt(b)))throw new Error(S.errorPrefix(A,g,P)+'was an invalid key = "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nr=function(A,g,b,P){if(!(P&&void 0===b||Tt(b)))throw new Error(S.errorPrefix(A,g,P)+'was an invalid path = "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pi=function(A,g,b,P){b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),nr(A,g,b,P)},er=function(A,g){if(".info"===g.getFront())throw new Error(A+" failed = Can't modify data under /.info/")},Ar=function(A,g,b){var P=b.path.toString();if("string"!=typeof b.repoInfo.host||0===b.repoInfo.host.length||!rt(b.repoInfo.namespace)&&"localhost"!==b.repoInfo.host.split(":")[0]||0!==P.length&&!function(A){return A&&(A=A.replace(/^\/*\.info(\/|$)/,"/")),Tt(A)}(P))throw new Error(S.errorPrefix(A,g,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},no=function(A,g,b,P){if((!P||void 0!==b)&&"boolean"!=typeof b)throw new Error(S.errorPrefix(A,g,P)+"must be a boolean.")},qr=function(){function A(g,b){this.repo_=g,this.path_=b}return A.prototype.cancel=function(g){S.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),S.validateCallback("OnDisconnect.cancel",1,g,!0);var b=new S.Deferred;return this.repo_.onDisconnectCancel(this.path_,b.wrapCallback(g)),b.promise},A.prototype.remove=function(g){S.validateArgCount("OnDisconnect.remove",0,1,arguments.length),er("OnDisconnect.remove",this.path_),S.validateCallback("OnDisconnect.remove",1,g,!0);var b=new S.Deferred;return this.repo_.onDisconnectSet(this.path_,null,b.wrapCallback(g)),b.promise},A.prototype.set=function(g,b){S.validateArgCount("OnDisconnect.set",1,2,arguments.length),er("OnDisconnect.set",this.path_),Ht("OnDisconnect.set",1,g,this.path_,!1),S.validateCallback("OnDisconnect.set",2,b,!0);var P=new S.Deferred;return this.repo_.onDisconnectSet(this.path_,g,P.wrapCallback(b)),P.promise},A.prototype.setWithPriority=function(g,b,P){S.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),er("OnDisconnect.setWithPriority",this.path_),Ht("OnDisconnect.setWithPriority",1,g,this.path_,!1),Wn("OnDisconnect.setWithPriority",2,b,!1),S.validateCallback("OnDisconnect.setWithPriority",3,P,!0);var G=new S.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,g,b,G.wrapCallback(P)),G.promise},A.prototype.update=function(g,b){if(S.validateArgCount("OnDisconnect.update",1,2,arguments.length),er("OnDisconnect.update",this.path_),Array.isArray(g)){for(var P={},G=0;G<g.length;++G)P[""+G]=g[G];g=P,Ge("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}En("OnDisconnect.update",1,g,this.path_,!1),S.validateCallback("OnDisconnect.update",2,b,!0);var ie=new S.Deferred;return this.repo_.onDisconnectUpdate(this.path_,g,ie.wrapCallback(b)),ie.promise},A}(),hi=function(){function A(g,b){this.committed=g,this.snapshot=b}return A.prototype.toJSON=function(){return S.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},A}(),Ni=function(){var A="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",g=0,b=[];return function(P){var G=P===g;g=P;var ie,Ce=new Array(8);for(ie=7;ie>=0;ie--)Ce[ie]=A.charAt(P%64),P=Math.floor(P/64);S.assert(0===P,"Cannot push at time == 0");var Oe=Ce.join("");if(G){for(ie=11;ie>=0&&63===b[ie];ie--)b[ie]=0;b[ie]++}else for(ie=0;ie<12;ie++)b[ie]=Math.floor(64*Math.random());for(ie=0;ie<12;ie++)Oe+=A.charAt(b[ie]);return S.assert(20===Oe.length,"nextPushId: Length should be 20."),Oe}}(),Qe=function(){function A(g,b){this.name=g,this.node=b}return A.Wrap=function(g,b){return new A(g,b)},A}(),_t=function(){function A(){}return A.prototype.getCompare=function(){return this.compare.bind(this)},A.prototype.indexedValueChanged=function(g,b){var P=new Qe(H,g),G=new Qe(H,b);return 0!==this.compare(P,G)},A.prototype.minPost=function(){return Qe.MIN},A}(),Lt=function(A){function g(){return null!==A&&A.apply(this,arguments)||this}return C.__extends(g,A),Object.defineProperty(g,"__EMPTY_NODE",{get:function(){return Ct},set:function(b){Ct=b},enumerable:!1,configurable:!0}),g.prototype.compare=function(b,P){return R(b.name,P.name)},g.prototype.isDefinedOn=function(b){throw S.assertionError("KeyIndex.isDefinedOn not expected to be called.")},g.prototype.indexedValueChanged=function(b,P){return!1},g.prototype.minPost=function(){return Qe.MIN},g.prototype.maxPost=function(){return new Qe(Q,Ct)},g.prototype.makePost=function(b,P){return S.assert("string"==typeof b,"KeyIndex indexValue must always be a string."),new Qe(b,Ct)},g.prototype.toString=function(){return".key"},g}(_t),xt=new Lt,sn=function(A){return"number"==typeof A?"number:"+ut(A):"string:"+A},In=function(A){if(A.isLeafNode()){var g=A.val();S.assert("string"==typeof g||"number"==typeof g||"object"==typeof g&&S.contains(g,".sv"),"Priority must be a string or number.")}else S.assert(A===kt||A.isEmpty(),"priority of unexpected type.");S.assert(A===kt||A.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},bn=function(){function A(g,b){void 0===b&&(b=A.__childrenNodeConstructor.EMPTY_NODE),this.value_=g,this.priorityNode_=b,this.lazyHash_=null,S.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),In(this.priorityNode_)}return Object.defineProperty(A,"__childrenNodeConstructor",{get:function(){return Wt},set:function(g){Wt=g},enumerable:!1,configurable:!0}),A.prototype.isLeafNode=function(){return!0},A.prototype.getPriority=function(){return this.priorityNode_},A.prototype.updatePriority=function(g){return new A(this.value_,g)},A.prototype.getImmediateChild=function(g){return".priority"===g?this.priorityNode_:A.__childrenNodeConstructor.EMPTY_NODE},A.prototype.getChild=function(g){return g.isEmpty()?this:".priority"===g.getFront()?this.priorityNode_:A.__childrenNodeConstructor.EMPTY_NODE},A.prototype.hasChild=function(){return!1},A.prototype.getPredecessorChildName=function(g,b){return null},A.prototype.updateImmediateChild=function(g,b){return".priority"===g?this.updatePriority(b):b.isEmpty()&&".priority"!==g?this:A.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,b).updatePriority(this.priorityNode_)},A.prototype.updateChild=function(g,b){var P=g.getFront();return null===P?b:b.isEmpty()&&".priority"!==P?this:(S.assert(".priority"!==P||1===g.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(P,A.__childrenNodeConstructor.EMPTY_NODE.updateChild(g.popFront(),b)))},A.prototype.isEmpty=function(){return!1},A.prototype.numChildren=function(){return 0},A.prototype.forEachChild=function(g,b){return!1},A.prototype.val=function(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},A.prototype.hash=function(){if(null===this.lazyHash_){var g="";this.priorityNode_.isEmpty()||(g+="priority:"+sn(this.priorityNode_.val())+":");var b=typeof this.value_;g+=b+":",g+="number"===b?ut(this.value_):this.value_,this.lazyHash_=le(g)}return this.lazyHash_},A.prototype.getValue=function(){return this.value_},A.prototype.compareTo=function(g){return g===A.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof A.__childrenNodeConstructor?-1:(S.assert(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))},A.prototype.compareToLeafNode_=function(g){var b=typeof g.value_,P=typeof this.value_,G=A.VALUE_TYPE_ORDER.indexOf(b),ie=A.VALUE_TYPE_ORDER.indexOf(P);return S.assert(G>=0,"Unknown leaf type: "+b),S.assert(ie>=0,"Unknown leaf type: "+P),G===ie?"object"===P?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:ie-G},A.prototype.withIndex=function(){return this},A.prototype.isIndexed=function(){return!0},A.prototype.equals=function(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))},A.VALUE_TYPE_ORDER=["object","boolean","number","string"],A}(),Ke=function(A){function g(){return null!==A&&A.apply(this,arguments)||this}return C.__extends(g,A),g.prototype.compare=function(b,P){var G=b.node.getPriority(),ie=P.node.getPriority(),Ce=G.compareTo(ie);return 0===Ce?R(b.name,P.name):Ce},g.prototype.isDefinedOn=function(b){return!b.getPriority().isEmpty()},g.prototype.indexedValueChanged=function(b,P){return!b.getPriority().equals(P.getPriority())},g.prototype.minPost=function(){return Qe.MIN},g.prototype.maxPost=function(){return new Qe(Q,new bn("[PRIORITY-POST]",fr))},g.prototype.makePost=function(b,P){var G=Er(b);return new Qe(P,new bn("[PRIORITY-POST]",G))},g.prototype.toString=function(){return".priority"},g}(_t),He=new Ke,tt=function(){function A(g,b,P,G,ie){void 0===ie&&(ie=null),this.isReverse_=G,this.resultGenerator_=ie,this.nodeStack_=[];for(var Ce=1;!g.isEmpty();)if(g=g,Ce=b?P(g.key,b):1,G&&(Ce*=-1),Ce<0)g=this.isReverse_?g.left:g.right;else{if(0===Ce){this.nodeStack_.push(g);break}this.nodeStack_.push(g),g=this.isReverse_?g.right:g.left}}return A.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var b,g=this.nodeStack_.pop();if(b=this.resultGenerator_?this.resultGenerator_(g.key,g.value):{key:g.key,value:g.value},this.isReverse_)for(g=g.left;!g.isEmpty();)this.nodeStack_.push(g),g=g.right;else for(g=g.right;!g.isEmpty();)this.nodeStack_.push(g),g=g.left;return b},A.prototype.hasNext=function(){return this.nodeStack_.length>0},A.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var g=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(g.key,g.value):{key:g.key,value:g.value}},A}(),at=function(){function A(g,b,P,G,ie){this.key=g,this.value=b,this.color=null!=P?P:A.RED,this.left=null!=G?G:ue.EMPTY_NODE,this.right=null!=ie?ie:ue.EMPTY_NODE}return A.prototype.copy=function(g,b,P,G,ie){return new A(null!=g?g:this.key,null!=b?b:this.value,null!=P?P:this.color,null!=G?G:this.left,null!=ie?ie:this.right)},A.prototype.count=function(){return this.left.count()+1+this.right.count()},A.prototype.isEmpty=function(){return!1},A.prototype.inorderTraversal=function(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)},A.prototype.reverseTraversal=function(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)},A.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},A.prototype.minKey=function(){return this.min_().key},A.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},A.prototype.insert=function(g,b,P){var G=this,ie=P(g,G.key);return(G=ie<0?G.copy(null,null,null,G.left.insert(g,b,P),null):0===ie?G.copy(null,b,null,null,null):G.copy(null,null,null,null,G.right.insert(g,b,P))).fixUp_()},A.prototype.removeMin_=function(){if(this.left.isEmpty())return ue.EMPTY_NODE;var g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),(g=g.copy(null,null,null,g.left.removeMin_(),null)).fixUp_()},A.prototype.remove=function(g,b){var P,G;if(b(g,(P=this).key)<0)!P.left.isEmpty()&&!P.left.isRed_()&&!P.left.left.isRed_()&&(P=P.moveRedLeft_()),P=P.copy(null,null,null,P.left.remove(g,b),null);else{if(P.left.isRed_()&&(P=P.rotateRight_()),!P.right.isEmpty()&&!P.right.isRed_()&&!P.right.left.isRed_()&&(P=P.moveRedRight_()),0===b(g,P.key)){if(P.right.isEmpty())return ue.EMPTY_NODE;G=P.right.min_(),P=P.copy(G.key,G.value,null,null,P.right.removeMin_())}P=P.copy(null,null,null,null,P.right.remove(g,b))}return P.fixUp_()},A.prototype.isRed_=function(){return this.color},A.prototype.fixUp_=function(){var g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g},A.prototype.moveRedLeft_=function(){var g=this.colorFlip_();return g.right.left.isRed_()&&(g=(g=(g=g.copy(null,null,null,null,g.right.rotateRight_())).rotateLeft_()).colorFlip_()),g},A.prototype.moveRedRight_=function(){var g=this.colorFlip_();return g.left.left.isRed_()&&(g=(g=g.rotateRight_()).colorFlip_()),g},A.prototype.rotateLeft_=function(){var g=this.copy(null,null,A.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)},A.prototype.rotateRight_=function(){var g=this.copy(null,null,A.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)},A.prototype.colorFlip_=function(){var g=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,b)},A.prototype.checkMaxDepth_=function(){var g=this.check_();return Math.pow(2,g)<=this.count()+1},A.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)},A.RED=!0,A.BLACK=!1,A}(),Se=function(){function A(){}return A.prototype.copy=function(g,b,P,G,ie){return this},A.prototype.insert=function(g,b,P){return new at(g,b,null)},A.prototype.remove=function(g,b){return this},A.prototype.count=function(){return 0},A.prototype.isEmpty=function(){return!0},A.prototype.inorderTraversal=function(g){return!1},A.prototype.reverseTraversal=function(g){return!1},A.prototype.minKey=function(){return null},A.prototype.maxKey=function(){return null},A.prototype.check_=function(){return 0},A.prototype.isRed_=function(){return!1},A}(),ue=function(){function A(g,b){void 0===b&&(b=A.EMPTY_NODE),this.comparator_=g,this.root_=b}return A.prototype.insert=function(g,b){return new A(this.comparator_,this.root_.insert(g,b,this.comparator_).copy(null,null,at.BLACK,null,null))},A.prototype.remove=function(g){return new A(this.comparator_,this.root_.remove(g,this.comparator_).copy(null,null,at.BLACK,null,null))},A.prototype.get=function(g){for(var b,P=this.root_;!P.isEmpty();){if(0===(b=this.comparator_(g,P.key)))return P.value;b<0?P=P.left:b>0&&(P=P.right)}return null},A.prototype.getPredecessorKey=function(g){for(var b,P=this.root_,G=null;!P.isEmpty();){if(0===(b=this.comparator_(g,P.key))){if(P.left.isEmpty())return G?G.key:null;for(P=P.left;!P.right.isEmpty();)P=P.right;return P.key}b<0?P=P.left:b>0&&(G=P,P=P.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},A.prototype.isEmpty=function(){return this.root_.isEmpty()},A.prototype.count=function(){return this.root_.count()},A.prototype.minKey=function(){return this.root_.minKey()},A.prototype.maxKey=function(){return this.root_.maxKey()},A.prototype.inorderTraversal=function(g){return this.root_.inorderTraversal(g)},A.prototype.reverseTraversal=function(g){return this.root_.reverseTraversal(g)},A.prototype.getIterator=function(g){return new tt(this.root_,null,this.comparator_,!1,g)},A.prototype.getIteratorFrom=function(g,b){return new tt(this.root_,g,this.comparator_,!1,b)},A.prototype.getReverseIteratorFrom=function(g,b){return new tt(this.root_,g,this.comparator_,!0,b)},A.prototype.getReverseIterator=function(g){return new tt(this.root_,null,this.comparator_,!0,g)},A.EMPTY_NODE=new Se,A}(),Ie=Math.log(2),Ve=function(){function A(g){this.count=parseInt(Math.log(g+1)/Ie,10),this.current_=this.count-1;var G=parseInt(Array(this.count+1).join("1"),2);this.bits_=g+1&G}return A.prototype.nextBitIsOne=function(){var g=!(this.bits_&1<<this.current_);return this.current_--,g},A}(),et=function(A,g,b,P){A.sort(g);var G=function(ze,Be){var Ot,Ut,yt=Be-ze;if(0===yt)return null;if(1===yt)return Ot=A[ze],Ut=b?b(Ot):Ot,new at(Ut,Ot.node,at.BLACK,null,null);var Xt=parseInt(yt/2,10)+ze,dn=G(ze,Xt),On=G(Xt+1,Be);return Ot=A[Xt],Ut=b?b(Ot):Ot,new at(Ut,Ot.node,at.BLACK,dn,On)},Oe=function(ze){for(var Be=null,yt=null,Ot=A.length,Ut=function(Rr,bo){var Ji=Ot-Rr,Qo=Ot;Ot-=Rr;var Fn=G(Ji+1,Qo),qi=A[Ji],cs=b?b(qi):qi;Xt(new at(cs,qi.node,bo,null,Fn))},Xt=function(Rr){Be?(Be.left=Rr,Be=Rr):(yt=Rr,Be=Rr)},dn=0;dn<ze.count;++dn){var On=ze.nextBitIsOne(),Lr=Math.pow(2,ze.count-(dn+1));On?Ut(Lr,at.BLACK):(Ut(Lr,at.BLACK),Ut(Lr,at.RED))}return yt}(new Ve(A.length));return new ue(P||g,Oe)},mt={},Vt=function(){function A(g,b){this.indexes_=g,this.indexSet_=b}return Object.defineProperty(A,"Default",{get:function(){return S.assert(mt&&He,"ChildrenNode.ts has not been loaded"),Xe=Xe||new A({".priority":mt},{".priority":He})},enumerable:!1,configurable:!0}),A.prototype.get=function(g){var b=S.safeGet(this.indexes_,g);if(!b)throw new Error("No index defined for "+g);return b instanceof ue?b:null},A.prototype.hasIndex=function(g){return S.contains(this.indexSet_,g.toString())},A.prototype.addIndex=function(g,b){S.assert(g!==xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var P=[],G=!1,ie=b.getIterator(Qe.Wrap),Ce=ie.getNext();Ce;)G=G||g.isDefinedOn(Ce.node),P.push(Ce),Ce=ie.getNext();var Oe;Oe=G?et(P,g.getCompare()):mt;var ze=g.toString(),Be=C.__assign({},this.indexSet_);Be[ze]=g;var yt=C.__assign({},this.indexes_);return yt[ze]=Oe,new A(yt,Be)},A.prototype.addToIndexes=function(g,b){var P=this;return new A(S.map(this.indexes_,function(ie,Ce){var Oe=S.safeGet(P.indexSet_,Ce);if(S.assert(Oe,"Missing index implementation for "+Ce),ie===mt){if(Oe.isDefinedOn(g.node)){for(var ze=[],Be=b.getIterator(Qe.Wrap),yt=Be.getNext();yt;)yt.name!==g.name&&ze.push(yt),yt=Be.getNext();return ze.push(g),et(ze,Oe.getCompare())}return mt}var Ot=b.get(g.name),Ut=ie;return Ot&&(Ut=Ut.remove(new Qe(g.name,Ot))),Ut.insert(g,g.node)}),this.indexSet_)},A.prototype.removeFromIndexes=function(g,b){return new A(S.map(this.indexes_,function(G){if(G===mt)return G;var ie=b.get(g.name);return ie?G.remove(new Qe(g.name,ie)):G}),this.indexSet_)},A}();function cn(A,g){return R(A.name,g.name)}function Vn(A,g){return R(A,g)}var Qt,hn=function(){function A(g,b,P){this.children_=g,this.priorityNode_=b,this.indexMap_=P,this.lazyHash_=null,this.priorityNode_&&In(this.priorityNode_),this.children_.isEmpty()&&S.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(A,"EMPTY_NODE",{get:function(){return Qt||(Qt=new A(new ue(Vn),null,Vt.Default))},enumerable:!1,configurable:!0}),A.prototype.isLeafNode=function(){return!1},A.prototype.getPriority=function(){return this.priorityNode_||Qt},A.prototype.updatePriority=function(g){return this.children_.isEmpty()?this:new A(this.children_,g,this.indexMap_)},A.prototype.getImmediateChild=function(g){if(".priority"===g)return this.getPriority();var b=this.children_.get(g);return null===b?Qt:b},A.prototype.getChild=function(g){var b=g.getFront();return null===b?this:this.getImmediateChild(b).getChild(g.popFront())},A.prototype.hasChild=function(g){return null!==this.children_.get(g)},A.prototype.updateImmediateChild=function(g,b){if(S.assert(b,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(b);var P=new Qe(g,b),G=void 0,ie=void 0;b.isEmpty()?(G=this.children_.remove(g),ie=this.indexMap_.removeFromIndexes(P,this.children_)):(G=this.children_.insert(g,b),ie=this.indexMap_.addToIndexes(P,this.children_));var Ce=G.isEmpty()?Qt:this.priorityNode_;return new A(G,Ce,ie)},A.prototype.updateChild=function(g,b){var P=g.getFront();if(null===P)return b;S.assert(".priority"!==g.getFront()||1===g.getLength(),".priority must be the last token in a path");var G=this.getImmediateChild(P).updateChild(g.popFront(),b);return this.updateImmediateChild(P,G)},A.prototype.isEmpty=function(){return this.children_.isEmpty()},A.prototype.numChildren=function(){return this.children_.count()},A.prototype.val=function(g){if(this.isEmpty())return null;var b={},P=0,G=0,ie=!0;if(this.forEachChild(He,function(ze,Be){b[ze]=Be.val(g),P++,ie&&A.INTEGER_REGEXP_.test(ze)?G=Math.max(G,Number(ze)):ie=!1}),!g&&ie&&G<2*P){var Ce=[];for(var Oe in b)Ce[Oe]=b[Oe];return Ce}return g&&!this.getPriority().isEmpty()&&(b[".priority"]=this.getPriority().val()),b},A.prototype.hash=function(){if(null===this.lazyHash_){var g="";this.getPriority().isEmpty()||(g+="priority:"+sn(this.getPriority().val())+":"),this.forEachChild(He,function(b,P){var G=P.hash();""!==G&&(g+=":"+b+":"+G)}),this.lazyHash_=""===g?"":le(g)}return this.lazyHash_},A.prototype.getPredecessorChildName=function(g,b,P){var G=this.resolveIndex_(P);if(G){var ie=G.getPredecessorKey(new Qe(g,b));return ie?ie.name:null}return this.children_.getPredecessorKey(g)},A.prototype.getFirstChildName=function(g){var b=this.resolveIndex_(g);if(b){var P=b.minKey();return P&&P.name}return this.children_.minKey()},A.prototype.getFirstChild=function(g){var b=this.getFirstChildName(g);return b?new Qe(b,this.children_.get(b)):null},A.prototype.getLastChildName=function(g){var b=this.resolveIndex_(g);if(b){var P=b.maxKey();return P&&P.name}return this.children_.maxKey()},A.prototype.getLastChild=function(g){var b=this.getLastChildName(g);return b?new Qe(b,this.children_.get(b)):null},A.prototype.forEachChild=function(g,b){var P=this.resolveIndex_(g);return P?P.inorderTraversal(function(G){return b(G.name,G.node)}):this.children_.inorderTraversal(b)},A.prototype.getIterator=function(g){return this.getIteratorFrom(g.minPost(),g)},A.prototype.getIteratorFrom=function(g,b){var P=this.resolveIndex_(b);if(P)return P.getIteratorFrom(g,function(Ce){return Ce});for(var G=this.children_.getIteratorFrom(g.name,Qe.Wrap),ie=G.peek();null!=ie&&b.compare(ie,g)<0;)G.getNext(),ie=G.peek();return G},A.prototype.getReverseIterator=function(g){return this.getReverseIteratorFrom(g.maxPost(),g)},A.prototype.getReverseIteratorFrom=function(g,b){var P=this.resolveIndex_(b);if(P)return P.getReverseIteratorFrom(g,function(Ce){return Ce});for(var G=this.children_.getReverseIteratorFrom(g.name,Qe.Wrap),ie=G.peek();null!=ie&&b.compare(ie,g)>0;)G.getNext(),ie=G.peek();return G},A.prototype.compareTo=function(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===At?-1:0},A.prototype.withIndex=function(g){if(g===xt||this.indexMap_.hasIndex(g))return this;var b=this.indexMap_.addIndex(g,this.children_);return new A(this.children_,this.priorityNode_,b)},A.prototype.isIndexed=function(g){return g===xt||this.indexMap_.hasIndex(g)},A.prototype.equals=function(g){if(g===this)return!0;if(g.isLeafNode())return!1;var b=g;if(this.getPriority().equals(b.getPriority())){if(this.children_.count()===b.children_.count()){for(var P=this.getIterator(He),G=b.getIterator(He),ie=P.getNext(),Ce=G.getNext();ie&&Ce;){if(ie.name!==Ce.name||!ie.node.equals(Ce.node))return!1;ie=P.getNext(),Ce=G.getNext()}return null===ie&&null===Ce}return!1}return!1},A.prototype.resolveIndex_=function(g){return g===xt?null:this.indexMap_.get(g.toString())},A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,A}(),Je=function(A){function g(){return A.call(this,new ue(Vn),hn.EMPTY_NODE,Vt.Default)||this}return C.__extends(g,A),g.prototype.compareTo=function(b){return b===this?0:1},g.prototype.equals=function(b){return b===this},g.prototype.getPriority=function(){return this},g.prototype.getImmediateChild=function(b){return hn.EMPTY_NODE},g.prototype.isEmpty=function(){return!1},g}(hn),At=new Je;function vt(A,g){if(void 0===g&&(g=null),null===A)return hn.EMPTY_NODE;if("object"==typeof A&&".priority"in A&&(g=A[".priority"]),S.assert(null===g||"string"==typeof g||"number"==typeof g||"object"==typeof g&&".sv"in g,"Invalid priority type found: "+typeof g),"object"==typeof A&&".value"in A&&null!==A[".value"]&&(A=A[".value"]),"object"!=typeof A||".sv"in A)return new bn(A,vt(g));if(A instanceof Array){var ze=hn.EMPTY_NODE;return Ne(A,function(Be,yt){if(S.contains(A,Be)&&"."!==Be.substring(0,1)){var Ot=vt(yt);(Ot.isLeafNode()||!Ot.isEmpty())&&(ze=ze.updateImmediateChild(Be,Ot))}}),ze.updatePriority(vt(g))}var P=[],G=!1;if(Ne(A,function(Be,yt){if("."!==Be.substring(0,1)){var Ot=vt(yt);Ot.isEmpty()||(G=G||!Ot.getPriority().isEmpty(),P.push(new Qe(Be,Ot)))}}),0===P.length)return hn.EMPTY_NODE;var Ce=et(P,cn,function(Be){return Be.name},Vn);if(G){var Oe=et(P,He.getCompare());return new hn(Ce,vt(g),new Vt({".priority":Oe},{".priority":He}))}return new hn(Ce,vt(g),Vt.Default)}Object.defineProperties(Qe,{MIN:{value:new Qe(H,hn.EMPTY_NODE)},MAX:{value:new Qe(Q,At)}}),Lt.__EMPTY_NODE=hn.EMPTY_NODE,bn.__childrenNodeConstructor=hn,function(A){kt=A}(At),function(A){fr=A}(At),function(A){Er=A}(vt);var Po,_n=function(A){function g(){return null!==A&&A.apply(this,arguments)||this}return C.__extends(g,A),g.prototype.compare=function(b,P){var G=b.node.compareTo(P.node);return 0===G?R(b.name,P.name):G},g.prototype.isDefinedOn=function(b){return!0},g.prototype.indexedValueChanged=function(b,P){return!b.equals(P)},g.prototype.minPost=function(){return Qe.MIN},g.prototype.maxPost=function(){return Qe.MAX},g.prototype.makePost=function(b,P){var G=vt(b);return new Qe(P,G)},g.prototype.toString=function(){return".value"},g}(_t),Kt=new _n,tr=function(A){function g(b){var P=A.call(this)||this;return P.indexPath_=b,S.assert(!b.isEmpty()&&".priority"!==b.getFront(),"Can't create PathIndex with empty path or .priority key"),P}return C.__extends(g,A),g.prototype.extractChild=function(b){return b.getChild(this.indexPath_)},g.prototype.isDefinedOn=function(b){return!b.getChild(this.indexPath_).isEmpty()},g.prototype.compare=function(b,P){var G=this.extractChild(b.node),ie=this.extractChild(P.node),Ce=G.compareTo(ie);return 0===Ce?R(b.name,P.name):Ce},g.prototype.makePost=function(b,P){var G=vt(b),ie=hn.EMPTY_NODE.updateChild(this.indexPath_,G);return new Qe(P,ie)},g.prototype.maxPost=function(){var b=hn.EMPTY_NODE.updateChild(this.indexPath_,At);return new Qe(Q,b)},g.prototype.toString=function(){return this.indexPath_.slice().join("/")},g}(_t),Xn=function(){function A(g,b,P){this.node_=g,this.ref_=b,this.index_=P}return A.prototype.val=function(){return S.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},A.prototype.exportVal=function(){return S.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},A.prototype.toJSON=function(){return S.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},A.prototype.exists=function(){return S.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},A.prototype.child=function(g){S.validateArgCount("DataSnapshot.child",0,1,arguments.length),g=String(g),nr("DataSnapshot.child",1,g,!1);var b=new St(g),P=this.ref_.child(b);return new A(this.node_.getChild(b),P,He)},A.prototype.hasChild=function(g){S.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),nr("DataSnapshot.hasChild",1,g,!1);var b=new St(g);return!this.node_.getChild(b).isEmpty()},A.prototype.getPriority=function(){return S.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},A.prototype.forEach=function(g){var b=this;if(S.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),S.validateCallback("DataSnapshot.forEach",1,g,!1),this.node_.isLeafNode())return!1;var P=this.node_;return!!P.forEachChild(this.index_,function(G,ie){return g(new A(ie,b.ref_.child(G),He))})},A.prototype.hasChildren=function(){return S.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(A.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),A.prototype.numChildren=function(){return S.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},A.prototype.getRef=function(){return S.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(A.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),A}(),si=function(){function A(g,b,P,G){this.eventType=g,this.eventRegistration=b,this.snapshot=P,this.prevName=G}return A.prototype.getPath=function(){var g=this.snapshot.getRef();return"value"===this.eventType?g.path:g.getParent().path},A.prototype.getEventType=function(){return this.eventType},A.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},A.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+S.stringify(this.snapshot.exportVal())},A}(),zi=function(){function A(g,b,P){this.eventRegistration=g,this.error=b,this.path=P}return A.prototype.getPath=function(){return this.path},A.prototype.getEventType=function(){return"cancel"},A.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},A.prototype.toString=function(){return this.path.toString()+":cancel"},A}(),wr=function(){function A(g,b,P){this.callback_=g,this.cancelCallback_=b,this.context_=P}return A.prototype.respondsTo=function(g){return"value"===g},A.prototype.createEvent=function(g,b){var P=b.getQueryParams().getIndex();return new si("value",this,new Xn(g.snapshotNode,b.getRef(),P))},A.prototype.getEventRunner=function(g){var b=this.context_;if("cancel"===g.getEventType()){S.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var P=this.cancelCallback_;return function(){P.call(b,g.error)}}var G=this.callback_;return function(){G.call(b,g.snapshot)}},A.prototype.createCancelEvent=function(g,b){return this.cancelCallback_?new zi(this,g,b):null},A.prototype.matches=function(g){return g instanceof A&&(!g.callback_||!this.callback_||g.callback_===this.callback_&&g.context_===this.context_)},A.prototype.hasAnyCallback=function(){return null!==this.callback_},A}(),Hr=function(){function A(g,b,P){this.callbacks_=g,this.cancelCallback_=b,this.context_=P}return A.prototype.respondsTo=function(g){var b="children_added"===g?"child_added":g;return S.contains(this.callbacks_,b="children_removed"===b?"child_removed":b)},A.prototype.createCancelEvent=function(g,b){return this.cancelCallback_?new zi(this,g,b):null},A.prototype.createEvent=function(g,b){S.assert(null!=g.childName,"Child events should have a childName.");var P=b.getRef().child(g.childName),G=b.getQueryParams().getIndex();return new si(g.type,this,new Xn(g.snapshotNode,P,G),g.prevName)},A.prototype.getEventRunner=function(g){var b=this.context_;if("cancel"===g.getEventType()){S.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var P=this.cancelCallback_;return function(){P.call(b,g.error)}}var G=this.callbacks_[g.eventType];return function(){G.call(b,g.snapshot,g.prevName)}},A.prototype.matches=function(g){var b=this;if(g instanceof A){if(!this.callbacks_||!g.callbacks_)return!0;if(this.context_===g.context_){var P=Object.keys(g.callbacks_),G=Object.keys(this.callbacks_),ie=P.length;if(ie===G.length){if(1===ie){var Oe=P[0],ze=G[0];return!(ze!==Oe||g.callbacks_[Oe]&&this.callbacks_[ze]&&g.callbacks_[Oe]!==this.callbacks_[ze])}return G.every(function(Be){return g.callbacks_[Be]===b.callbacks_[Be]})}}}return!1},A.prototype.hasAnyCallback=function(){return null!==this.callbacks_},A}(),ro=function(){function A(g,b,P,G){this.repo=g,this.path=b,this.queryParams_=P,this.orderByCalled_=G}return Object.defineProperty(A,"__referenceConstructor",{get:function(){return S.assert(Po,"Reference.ts has not been loaded"),Po},set:function(g){Po=g},enumerable:!1,configurable:!0}),A.validateQueryEndpoints_=function(g){var b=null,P=null;if(g.hasStart()&&(b=g.getIndexStartValue()),g.hasEnd()&&(P=g.getIndexEndValue()),g.getIndex()===xt){var G="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",ie="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==H)throw new Error(G);if("string"!=typeof b)throw new Error(ie)}if(g.hasEnd()){if(g.getIndexEndName()!==Q)throw new Error(G);if("string"!=typeof P)throw new Error(ie)}}else if(g.getIndex()===He){if(null!=b&&!ln(b)||null!=P&&!ln(P))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S.assert(g.getIndex()instanceof tr||g.getIndex()===Kt,"unknown index type."),null!=b&&"object"==typeof b||null!=P&&"object"==typeof P)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},A.validateLimit_=function(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},A.prototype.validateNoPreviousOrderByCall_=function(g){if(!0===this.orderByCalled_)throw new Error(g+": You can't combine multiple orderBy calls.")},A.prototype.getQueryParams=function(){return this.queryParams_},A.prototype.getRef=function(){return S.validateArgCount("Query.ref",0,0,arguments.length),new A.__referenceConstructor(this.repo,this.path)},A.prototype.on=function(g,b,P,G){S.validateArgCount("Query.on",2,4,arguments.length),xn("Query.on",1,g,!1),S.validateCallback("Query.on",2,b,!1);var ie=A.getCancelAndContextArgs_("Query.on",P,G);if("value"===g)this.onValueEvent(b,ie.cancel,ie.context);else{var Ce={};Ce[g]=b,this.onChildEvent(Ce,ie.cancel,ie.context)}return b},A.prototype.onValueEvent=function(g,b,P){var G=new wr(g,b||null,P||null);this.repo.addEventCallbackForQuery(this,G)},A.prototype.onChildEvent=function(g,b,P){var G=new Hr(g,b,P);this.repo.addEventCallbackForQuery(this,G)},A.prototype.off=function(g,b,P){S.validateArgCount("Query.off",0,3,arguments.length),xn("Query.off",1,g,!0),S.validateCallback("Query.off",2,b,!0),S.validateContextObject("Query.off",3,P,!0);var G=null,ie=null;if("value"===g){var Ce=b||null;G=new wr(Ce,null,P||null)}else g&&(b&&((ie={})[g]=b),G=new Hr(ie,null,P||null));this.repo.removeEventCallbackForQuery(this,G)},A.prototype.once=function(g,b,P,G){var ie=this;S.validateArgCount("Query.once",1,4,arguments.length),xn("Query.once",1,g,!1),S.validateCallback("Query.once",2,b,!0);var Ce=A.getCancelAndContextArgs_("Query.once",P,G),Oe=!0,ze=new S.Deferred;ze.promise.catch(function(){});var Be=function(yt){Oe&&(Oe=!1,ie.off(g,Be),b&&b.bind(Ce.context)(yt),ze.resolve(yt))};return this.on(g,Be,function(yt){ie.off(g,Be),Ce.cancel&&Ce.cancel.bind(Ce.context)(yt),ze.reject(yt)}),ze.promise},A.prototype.limitToFirst=function(g){if(S.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new A(this.repo,this.path,this.queryParams_.limitToFirst(g),this.orderByCalled_)},A.prototype.limitToLast=function(g){if(S.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new A(this.repo,this.path,this.queryParams_.limitToLast(g),this.orderByCalled_)},A.prototype.orderByChild=function(g){if(S.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===g)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===g)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===g)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');nr("Query.orderByChild",1,g,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var b=new St(g);if(b.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var P=new tr(b),G=this.queryParams_.orderBy(P);return A.validateQueryEndpoints_(G),new A(this.repo,this.path,G,!0)},A.prototype.orderByKey=function(){S.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var g=this.queryParams_.orderBy(xt);return A.validateQueryEndpoints_(g),new A(this.repo,this.path,g,!0)},A.prototype.orderByPriority=function(){S.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var g=this.queryParams_.orderBy(He);return A.validateQueryEndpoints_(g),new A(this.repo,this.path,g,!0)},A.prototype.orderByValue=function(){S.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var g=this.queryParams_.orderBy(Kt);return A.validateQueryEndpoints_(g),new A(this.repo,this.path,g,!0)},A.prototype.startAt=function(g,b){void 0===g&&(g=null),S.validateArgCount("Query.startAt",0,2,arguments.length),Ht("Query.startAt",1,g,this.path,!0),Ir("Query.startAt",2,b,!0);var P=this.queryParams_.startAt(g,b);if(A.validateLimit_(P),A.validateQueryEndpoints_(P),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===g&&(g=null,b=null),new A(this.repo,this.path,P,this.orderByCalled_)},A.prototype.endAt=function(g,b){void 0===g&&(g=null),S.validateArgCount("Query.endAt",0,2,arguments.length),Ht("Query.endAt",1,g,this.path,!0),Ir("Query.endAt",2,b,!0);var P=this.queryParams_.endAt(g,b);if(A.validateLimit_(P),A.validateQueryEndpoints_(P),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new A(this.repo,this.path,P,this.orderByCalled_)},A.prototype.equalTo=function(g,b){if(S.validateArgCount("Query.equalTo",1,2,arguments.length),Ht("Query.equalTo",1,g,this.path,!1),Ir("Query.equalTo",2,b,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(g,b).endAt(g,b)},A.prototype.toString=function(){return S.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},A.prototype.toJSON=function(){return S.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},A.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},A.prototype.queryIdentifier=function(){var g=this.queryObject(),b=je(g);return"{}"===b?"default":b},A.prototype.isEqual=function(g){if(S.validateArgCount("Query.isEqual",1,1,arguments.length),!(g instanceof A)){var b="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(b)}var P=this.repo===g.repo,G=this.path.equals(g.path),ie=this.queryIdentifier()===g.queryIdentifier();return P&&G&&ie},A.getCancelAndContextArgs_=function(g,b,P){var G={cancel:null,context:null};if(b&&P)G.cancel=b,S.validateCallback(g,3,G.cancel,!0),G.context=P,S.validateContextObject(g,4,G.context,!0);else if(b)if("object"==typeof b&&null!==b)G.context=b;else{if("function"!=typeof b)throw new Error(S.errorPrefix(g,3,!0)+" must either be a cancel callback or a context object.");G.cancel=b}return G},Object.defineProperty(A.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),A}(),jo=function(){function A(g){this.node_=g}return A.prototype.getImmediateChild=function(g){return new A(this.node_.getImmediateChild(g))},A.prototype.node=function(){return this.node_},A}(),fi=function(){function A(g,b){this.syncTree_=g,this.path_=b}return A.prototype.getImmediateChild=function(g){var b=this.path_.child(g);return new A(this.syncTree_,b)},A.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},A}(),is=function(A,g,b){return A&&"object"==typeof A?(S.assert(".sv"in A,"Unexpected leaf node or priority contents"),"string"==typeof A[".sv"]?oo(A[".sv"],g,b):"object"==typeof A[".sv"]?wi(A[".sv"],g):void S.assert(!1,"Unexpected server value: "+JSON.stringify(A,null,2))):A},oo=function(A,g,b){if("timestamp"===A)return b.timestamp;S.assert(!1,"Unexpected server value: "+A)},wi=function(A,g,b){A.hasOwnProperty("increment")||S.assert(!1,"Unexpected server value: "+JSON.stringify(A,null,2));var P=A.increment;"number"!=typeof P&&S.assert(!1,"Unexpected increment value: "+P);var G=g.node();if(S.assert(null!=G,"Expected ChildrenNode.EMPTY_NODE for nulls"),!G.isLeafNode())return P;var Ce=G.getValue();return"number"!=typeof Ce?P:Ce+P},ho=function(A,g,b,P){return so(g,new fi(b,A),P)},ur=function(A,g,b){return so(A,new jo(g),b)};function so(A,g,b){var ie,P=A.getPriority().val(),G=is(P,g.getImmediateChild(".priority"),b);if(A.isLeafNode()){var Ce=A,Oe=is(Ce.getValue(),g,b);return Oe!==Ce.getValue()||G!==Ce.getPriority().val()?new bn(Oe,vt(G)):A}var ze=A;return ie=ze,G!==ze.getPriority().val()&&(ie=ie.updatePriority(new bn(G))),ze.forEachChild(He,function(Be,yt){var Ot=so(yt,g.getImmediateChild(Be),b);Ot!==yt&&(ie=ie.updateImmediateChild(Be,Ot))}),ie}var Oo,Go,xs=function(){function A(){this.value=null,this.children=new Map}return A.prototype.find=function(g){if(null!=this.value)return this.value.getChild(g);if(!g.isEmpty()&&this.children.size>0){var b=g.getFront();return g=g.popFront(),this.children.has(b)?this.children.get(b).find(g):null}return null},A.prototype.remember=function(g,b){if(g.isEmpty())this.value=b,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(g,b);else{var P=g.getFront();this.children.has(P)||this.children.set(P,new A);var G=this.children.get(P);g=g.popFront(),G.remember(g,b)}},A.prototype.forget=function(g){if(g.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var b=this.value;this.value=null;var P=this;return b.forEachChild(He,function(Ce,Oe){P.remember(new St(Ce),Oe)}),this.forget(g)}if(this.children.size>0){var G=g.getFront();return g=g.popFront(),this.children.has(G)&&this.children.get(G).forget(g)&&this.children.delete(G),0===this.children.size}return!0},A.prototype.forEachTree=function(g,b){null!==this.value?b(g,this.value):this.forEachChild(function(P,G){var ie=new St(g.toString()+"/"+P);G.forEachTree(ie,b)})},A.prototype.forEachChild=function(g){this.children.forEach(function(b,P){g(P,b)})},A}(),Qr=(()=>(function(A){A[A.OVERWRITE=0]="OVERWRITE",A[A.MERGE=1]="MERGE",A[A.ACK_USER_WRITE=2]="ACK_USER_WRITE",A[A.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Qr||(Qr={})),Qr))(),Ho=function(){function A(g,b,P,G){this.fromUser=g,this.fromServer=b,this.queryId=P,this.tagged=G,S.assert(!G||b,"Tagged queries must be from server.")}return A.User=new A(!0,!1,null,!1),A.Server=new A(!1,!0,null,!1),A.forServerTaggedQuery=function(g){return new A(!1,!0,g,!0)},A}(),ua=function(){function A(g,b,P){this.path=g,this.affectedTree=b,this.revert=P,this.type=Qr.ACK_USER_WRITE,this.source=Ho.User}return A.prototype.operationForChild=function(g){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return S.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var b=this.affectedTree.subtree(new St(g));return new A(St.Empty,b,this.revert)}return S.assert(this.path.getFront()===g,"operationForChild called for unrelated child."),new A(this.path.popFront(),this.affectedTree,this.revert)},A}(),gr=function(){function A(g,b){void 0===b&&(Oo||(Oo=new ue($)),b=Oo),this.value=g,this.children=b}return A.fromObject=function(g){var b=A.Empty;return Ne(g,function(P,G){b=b.set(new St(P),G)}),b},A.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},A.prototype.findRootMostMatchingPathAndValue=function(g,b){if(null!=this.value&&b(this.value))return{path:St.Empty,value:this.value};if(g.isEmpty())return null;var P=g.getFront(),G=this.children.get(P);if(null!==G){var ie=G.findRootMostMatchingPathAndValue(g.popFront(),b);return null!=ie?{path:new St(P).child(ie.path),value:ie.value}:null}return null},A.prototype.findRootMostValueAndPath=function(g){return this.findRootMostMatchingPathAndValue(g,function(){return!0})},A.prototype.subtree=function(g){if(g.isEmpty())return this;var b=g.getFront(),P=this.children.get(b);return null!==P?P.subtree(g.popFront()):A.Empty},A.prototype.set=function(g,b){if(g.isEmpty())return new A(b,this.children);var P=g.getFront(),ie=(this.children.get(P)||A.Empty).set(g.popFront(),b),Ce=this.children.insert(P,ie);return new A(this.value,Ce)},A.prototype.remove=function(g){if(g.isEmpty())return this.children.isEmpty()?A.Empty:new A(null,this.children);var b=g.getFront(),P=this.children.get(b);if(P){var G=P.remove(g.popFront()),ie=void 0;return ie=G.isEmpty()?this.children.remove(b):this.children.insert(b,G),null===this.value&&ie.isEmpty()?A.Empty:new A(this.value,ie)}return this},A.prototype.get=function(g){if(g.isEmpty())return this.value;var b=g.getFront(),P=this.children.get(b);return P?P.get(g.popFront()):null},A.prototype.setTree=function(g,b){if(g.isEmpty())return b;var Ce,P=g.getFront(),ie=(this.children.get(P)||A.Empty).setTree(g.popFront(),b);return Ce=ie.isEmpty()?this.children.remove(P):this.children.insert(P,ie),new A(this.value,Ce)},A.prototype.fold=function(g){return this.fold_(St.Empty,g)},A.prototype.fold_=function(g,b){var P={};return this.children.inorderTraversal(function(G,ie){P[G]=ie.fold_(g.child(G),b)}),b(g,this.value,P)},A.prototype.findOnPath=function(g,b){return this.findOnPath_(g,St.Empty,b)},A.prototype.findOnPath_=function(g,b,P){var G=!!this.value&&P(b,this.value);if(G)return G;if(g.isEmpty())return null;var ie=g.getFront(),Ce=this.children.get(ie);return Ce?Ce.findOnPath_(g.popFront(),b.child(ie),P):null},A.prototype.foreachOnPath=function(g,b){return this.foreachOnPath_(g,St.Empty,b)},A.prototype.foreachOnPath_=function(g,b,P){if(g.isEmpty())return this;this.value&&P(b,this.value);var G=g.getFront(),ie=this.children.get(G);return ie?ie.foreachOnPath_(g.popFront(),b.child(G),P):A.Empty},A.prototype.foreach=function(g){this.foreach_(St.Empty,g)},A.prototype.foreach_=function(g,b){this.children.inorderTraversal(function(P,G){G.foreach_(g.child(P),b)}),this.value&&b(g,this.value)},A.prototype.foreachChild=function(g){this.children.inorderTraversal(function(b,P){P.value&&g(b,P.value)})},A.Empty=new A(null),A}(),nl=function(){function A(g,b){this.source=g,this.path=b,this.type=Qr.LISTEN_COMPLETE}return A.prototype.operationForChild=function(g){return this.path.isEmpty()?new A(this.source,St.Empty):new A(this.source,this.path.popFront())},A}(),Ps=function(){function A(g,b,P){this.source=g,this.path=b,this.snap=P,this.type=Qr.OVERWRITE}return A.prototype.operationForChild=function(g){return this.path.isEmpty()?new A(this.source,St.Empty,this.snap.getImmediateChild(g)):new A(this.source,this.path.popFront(),this.snap)},A}(),vs=function(){function A(g,b,P){this.source=g,this.path=b,this.children=P,this.type=Qr.MERGE}return A.prototype.operationForChild=function(g){if(this.path.isEmpty()){var b=this.children.subtree(new St(g));return b.isEmpty()?null:b.value?new Ps(this.source,St.Empty,b.value):new A(this.source,St.Empty,b)}return S.assert(this.path.getFront()===g,"Can't get a merge for a child not on the path of the operation"),new A(this.source,this.path.popFront(),this.children)},A.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},A}(),Mo=function(){function A(g,b,P){this.node_=g,this.fullyInitialized_=b,this.filtered_=P}return A.prototype.isFullyInitialized=function(){return this.fullyInitialized_},A.prototype.isFiltered=function(){return this.filtered_},A.prototype.isCompleteForPath=function(g){if(g.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var b=g.getFront();return this.isCompleteForChild(b)},A.prototype.isCompleteForChild=function(g){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(g)},A.prototype.getNode=function(){return this.node_},A}(),Ro=function(){function A(g,b){this.eventCache_=g,this.serverCache_=b}return A.prototype.updateEventSnap=function(g,b,P){return new A(new Mo(g,b,P),this.serverCache_)},A.prototype.updateServerSnap=function(g,b,P){return new A(this.eventCache_,new Mo(g,b,P))},A.prototype.getEventCache=function(){return this.eventCache_},A.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},A.prototype.getServerCache=function(){return this.serverCache_},A.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},A.Empty=new A(new Mo(hn.EMPTY_NODE,!1,!1),new Mo(hn.EMPTY_NODE,!1,!1)),A}(),yr=function(){function A(g,b,P,G,ie){this.type=g,this.snapshotNode=b,this.childName=P,this.oldSnap=G,this.prevName=ie}return A.valueChange=function(g){return new A(A.VALUE,g)},A.childAddedChange=function(g,b){return new A(A.CHILD_ADDED,b,g)},A.childRemovedChange=function(g,b){return new A(A.CHILD_REMOVED,b,g)},A.childChangedChange=function(g,b,P){return new A(A.CHILD_CHANGED,b,g,P)},A.childMovedChange=function(g,b){return new A(A.CHILD_MOVED,b,g)},A.CHILD_ADDED="child_added",A.CHILD_REMOVED="child_removed",A.CHILD_CHANGED="child_changed",A.CHILD_MOVED="child_moved",A.VALUE="value",A}(),ko=function(){function A(g){this.index_=g}return A.prototype.updateChild=function(g,b,P,G,ie,Ce){S.assert(g.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Oe=g.getImmediateChild(b);return Oe.getChild(G).equals(P.getChild(G))&&Oe.isEmpty()===P.isEmpty()||(null!=Ce&&(P.isEmpty()?g.hasChild(b)?Ce.trackChildChange(yr.childRemovedChange(b,Oe)):S.assert(g.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Oe.isEmpty()?Ce.trackChildChange(yr.childAddedChange(b,P)):Ce.trackChildChange(yr.childChangedChange(b,P,Oe))),g.isLeafNode()&&P.isEmpty())?g:g.updateImmediateChild(b,P).withIndex(this.index_)},A.prototype.updateFullNode=function(g,b,P){return null!=P&&(g.isLeafNode()||g.forEachChild(He,function(G,ie){b.hasChild(G)||P.trackChildChange(yr.childRemovedChange(G,ie))}),b.isLeafNode()||b.forEachChild(He,function(G,ie){if(g.hasChild(G)){var Ce=g.getImmediateChild(G);Ce.equals(ie)||P.trackChildChange(yr.childChangedChange(G,ie,Ce))}else P.trackChildChange(yr.childAddedChange(G,ie))})),b.withIndex(this.index_)},A.prototype.updatePriority=function(g,b){return g.isEmpty()?hn.EMPTY_NODE:g.updatePriority(b)},A.prototype.filtersNodes=function(){return!1},A.prototype.getIndexedFilter=function(){return this},A.prototype.getIndex=function(){return this.index_},A}(),No=function(){function A(){this.changeMap=new Map}return A.prototype.trackChildChange=function(g){var b=g.type,P=g.childName;S.assert(b===yr.CHILD_ADDED||b===yr.CHILD_CHANGED||b===yr.CHILD_REMOVED,"Only child changes supported for tracking"),S.assert(".priority"!==P,"Only non-priority child changes can be tracked.");var G=this.changeMap.get(P);if(G){var ie=G.type;if(b===yr.CHILD_ADDED&&ie===yr.CHILD_REMOVED)this.changeMap.set(P,yr.childChangedChange(P,g.snapshotNode,G.snapshotNode));else if(b===yr.CHILD_REMOVED&&ie===yr.CHILD_ADDED)this.changeMap.delete(P);else if(b===yr.CHILD_REMOVED&&ie===yr.CHILD_CHANGED)this.changeMap.set(P,yr.childRemovedChange(P,G.oldSnap));else if(b===yr.CHILD_CHANGED&&ie===yr.CHILD_ADDED)this.changeMap.set(P,yr.childAddedChange(P,g.snapshotNode));else{if(b!==yr.CHILD_CHANGED||ie!==yr.CHILD_CHANGED)throw S.assertionError("Illegal combination of changes: "+g+" occurred after "+G);this.changeMap.set(P,yr.childChangedChange(P,g.snapshotNode,G.oldSnap))}}else this.changeMap.set(P,g)},A.prototype.getChanges=function(){return Array.from(this.changeMap.values())},A}(),Ao=function(){function A(){}return A.prototype.getCompleteChild=function(g){return null},A.prototype.getChildAfterChild=function(g,b,P){return null},A}(),Fo=new Ao,ys=function(){function A(g,b,P){void 0===P&&(P=null),this.writes_=g,this.viewCache_=b,this.optCompleteServerCache_=P}return A.prototype.getCompleteChild=function(g){var b=this.viewCache_.getEventCache();if(b.isCompleteForChild(g))return b.getNode().getImmediateChild(g);var P=null!=this.optCompleteServerCache_?new Mo(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(g,P)},A.prototype.getChildAfterChild=function(g,b,P){var G=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),ie=this.writes_.calcIndexedSlice(G,b,1,P,g);return 0===ie.length?null:ie[0]},A}(),os=function(g,b){this.viewCache=g,this.changes=b},Ma=function(){function A(g){this.filter_=g}return A.prototype.assertIndexed=function(g){S.assert(g.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),S.assert(g.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},A.prototype.applyOperation=function(g,b,P,G){var Ce,Oe,ie=new No;if(b.type===Qr.OVERWRITE){var ze=b;ze.source.fromUser?Ce=this.applyUserOverwrite_(g,ze.path,ze.snap,P,G,ie):(S.assert(ze.source.fromServer,"Unknown source."),Oe=ze.source.tagged||g.getServerCache().isFiltered()&&!ze.path.isEmpty(),Ce=this.applyServerOverwrite_(g,ze.path,ze.snap,P,G,Oe,ie))}else if(b.type===Qr.MERGE){var Be=b;Be.source.fromUser?Ce=this.applyUserMerge_(g,Be.path,Be.children,P,G,ie):(S.assert(Be.source.fromServer,"Unknown source."),Oe=Be.source.tagged||g.getServerCache().isFiltered(),Ce=this.applyServerMerge_(g,Be.path,Be.children,P,G,Oe,ie))}else if(b.type===Qr.ACK_USER_WRITE){var yt=b;Ce=yt.revert?this.revertUserWrite_(g,yt.path,P,G,ie):this.ackUserWrite_(g,yt.path,yt.affectedTree,P,G,ie)}else{if(b.type!==Qr.LISTEN_COMPLETE)throw S.assertionError("Unknown operation type: "+b.type);Ce=this.listenComplete_(g,b.path,P,ie)}var Ot=ie.getChanges();return A.maybeAddValueEvent_(g,Ce,Ot),new os(Ce,Ot)},A.maybeAddValueEvent_=function(g,b,P){var G=b.getEventCache();if(G.isFullyInitialized()){var ie=G.getNode().isLeafNode()||G.getNode().isEmpty(),Ce=g.getCompleteEventSnap();(P.length>0||!g.getEventCache().isFullyInitialized()||ie&&!G.getNode().equals(Ce)||!G.getNode().getPriority().equals(Ce.getPriority()))&&P.push(yr.valueChange(b.getCompleteEventSnap()))}},A.prototype.generateEventCacheAfterServerEvent_=function(g,b,P,G,ie){var Ce=g.getEventCache();if(null!=P.shadowingWrite(b))return g;var Oe=void 0,ze=void 0;if(b.isEmpty())if(S.assert(g.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),g.getServerCache().isFiltered()){var Be=g.getCompleteServerSnap(),Ot=P.calcCompleteEventChildren(Be instanceof hn?Be:hn.EMPTY_NODE);Oe=this.filter_.updateFullNode(g.getEventCache().getNode(),Ot,ie)}else{var Ut=P.calcCompleteEventCache(g.getCompleteServerSnap());Oe=this.filter_.updateFullNode(g.getEventCache().getNode(),Ut,ie)}else{var Xt=b.getFront();if(".priority"===Xt){S.assert(1===b.getLength(),"Can't have a priority with additional path components");var dn=Ce.getNode();ze=g.getServerCache().getNode();var On=P.calcEventCacheAfterServerOverwrite(b,dn,ze);Oe=null!=On?this.filter_.updatePriority(dn,On):Ce.getNode()}else{var Lr=b.popFront(),Rr=void 0;if(Ce.isCompleteForChild(Xt)){ze=g.getServerCache().getNode();var bo=P.calcEventCacheAfterServerOverwrite(b,Ce.getNode(),ze);Rr=null!=bo?Ce.getNode().getImmediateChild(Xt).updateChild(Lr,bo):Ce.getNode().getImmediateChild(Xt)}else Rr=P.calcCompleteChild(Xt,g.getServerCache());Oe=null!=Rr?this.filter_.updateChild(Ce.getNode(),Xt,Rr,Lr,G,ie):Ce.getNode()}}return g.updateEventSnap(Oe,Ce.isFullyInitialized()||b.isEmpty(),this.filter_.filtersNodes())},A.prototype.applyServerOverwrite_=function(g,b,P,G,ie,Ce,Oe){var Be,ze=g.getServerCache(),yt=Ce?this.filter_:this.filter_.getIndexedFilter();if(b.isEmpty())Be=yt.updateFullNode(ze.getNode(),P,null);else if(yt.filtersNodes()&&!ze.isFiltered()){var Ot=ze.getNode().updateChild(b,P);Be=yt.updateFullNode(ze.getNode(),Ot,null)}else{var Ut=b.getFront();if(!ze.isCompleteForPath(b)&&b.getLength()>1)return g;var Xt=b.popFront(),On=ze.getNode().getImmediateChild(Ut).updateChild(Xt,P);Be=".priority"===Ut?yt.updatePriority(ze.getNode(),On):yt.updateChild(ze.getNode(),Ut,On,Xt,Fo,null)}var Lr=g.updateServerSnap(Be,ze.isFullyInitialized()||b.isEmpty(),yt.filtersNodes()),Rr=new ys(G,Lr,ie);return this.generateEventCacheAfterServerEvent_(Lr,b,G,Rr,Oe)},A.prototype.applyUserOverwrite_=function(g,b,P,G,ie,Ce){var ze,Be,Oe=g.getEventCache(),yt=new ys(G,g,ie);if(b.isEmpty())Be=this.filter_.updateFullNode(g.getEventCache().getNode(),P,Ce),ze=g.updateEventSnap(Be,!0,this.filter_.filtersNodes());else{var Ot=b.getFront();if(".priority"===Ot)Be=this.filter_.updatePriority(g.getEventCache().getNode(),P),ze=g.updateEventSnap(Be,Oe.isFullyInitialized(),Oe.isFiltered());else{var Ut=b.popFront(),Xt=Oe.getNode().getImmediateChild(Ot),dn=void 0;if(Ut.isEmpty())dn=P;else{var On=yt.getCompleteChild(Ot);dn=null!=On?".priority"===Ut.getBack()&&On.getChild(Ut.parent()).isEmpty()?On:On.updateChild(Ut,P):hn.EMPTY_NODE}if(Xt.equals(dn))ze=g;else{var Lr=this.filter_.updateChild(Oe.getNode(),Ot,dn,Ut,yt,Ce);ze=g.updateEventSnap(Lr,Oe.isFullyInitialized(),this.filter_.filtersNodes())}}}return ze},A.cacheHasChild_=function(g,b){return g.getEventCache().isCompleteForChild(b)},A.prototype.applyUserMerge_=function(g,b,P,G,ie,Ce){var Oe=this,ze=g;return P.foreach(function(Be,yt){var Ot=b.child(Be);A.cacheHasChild_(g,Ot.getFront())&&(ze=Oe.applyUserOverwrite_(ze,Ot,yt,G,ie,Ce))}),P.foreach(function(Be,yt){var Ot=b.child(Be);A.cacheHasChild_(g,Ot.getFront())||(ze=Oe.applyUserOverwrite_(ze,Ot,yt,G,ie,Ce))}),ze},A.prototype.applyMerge_=function(g,b){return b.foreach(function(P,G){g=g.updateChild(P,G)}),g},A.prototype.applyServerMerge_=function(g,b,P,G,ie,Ce,Oe){var ze=this;if(g.getServerCache().getNode().isEmpty()&&!g.getServerCache().isFullyInitialized())return g;var yt,Be=g;yt=b.isEmpty()?P:gr.Empty.setTree(b,P);var Ot=g.getServerCache().getNode();return yt.children.inorderTraversal(function(Ut,Xt){if(Ot.hasChild(Ut)){var dn=g.getServerCache().getNode().getImmediateChild(Ut),On=ze.applyMerge_(dn,Xt);Be=ze.applyServerOverwrite_(Be,new St(Ut),On,G,ie,Ce,Oe)}}),yt.children.inorderTraversal(function(Ut,Xt){var dn=!g.getServerCache().isCompleteForChild(Ut)&&null==Xt.value;if(!Ot.hasChild(Ut)&&!dn){var On=g.getServerCache().getNode().getImmediateChild(Ut),Lr=ze.applyMerge_(On,Xt);Be=ze.applyServerOverwrite_(Be,new St(Ut),Lr,G,ie,Ce,Oe)}}),Be},A.prototype.ackUserWrite_=function(g,b,P,G,ie,Ce){if(null!=G.shadowingWrite(b))return g;var Oe=g.getServerCache().isFiltered(),ze=g.getServerCache();if(null!=P.value){if(b.isEmpty()&&ze.isFullyInitialized()||ze.isCompleteForPath(b))return this.applyServerOverwrite_(g,b,ze.getNode().getChild(b),G,ie,Oe,Ce);if(b.isEmpty()){var Be=gr.Empty;return ze.getNode().forEachChild(xt,function(Ot,Ut){Be=Be.set(new St(Ot),Ut)}),this.applyServerMerge_(g,b,Be,G,ie,Oe,Ce)}return g}var yt=gr.Empty;return P.foreach(function(Ot,Ut){var Xt=b.child(Ot);ze.isCompleteForPath(Xt)&&(yt=yt.set(Ot,ze.getNode().getChild(Xt)))}),this.applyServerMerge_(g,b,yt,G,ie,Oe,Ce)},A.prototype.listenComplete_=function(g,b,P,G){var ie=g.getServerCache(),Ce=g.updateServerSnap(ie.getNode(),ie.isFullyInitialized()||b.isEmpty(),ie.isFiltered());return this.generateEventCacheAfterServerEvent_(Ce,b,P,Fo,G)},A.prototype.revertUserWrite_=function(g,b,P,G,ie){var Ce;if(null!=P.shadowingWrite(b))return g;var Oe=new ys(P,g,G),ze=g.getEventCache().getNode(),Be=void 0;if(b.isEmpty()||".priority"===b.getFront()){var yt=void 0;if(g.getServerCache().isFullyInitialized())yt=P.calcCompleteEventCache(g.getCompleteServerSnap());else{var Ot=g.getServerCache().getNode();S.assert(Ot instanceof hn,"serverChildren would be complete if leaf node"),yt=P.calcCompleteEventChildren(Ot)}Be=this.filter_.updateFullNode(ze,yt=yt,ie)}else{var Ut=b.getFront(),Xt=P.calcCompleteChild(Ut,g.getServerCache());null==Xt&&g.getServerCache().isCompleteForChild(Ut)&&(Xt=ze.getImmediateChild(Ut)),(Be=null!=Xt?this.filter_.updateChild(ze,Ut,Xt,b.popFront(),Oe,ie):g.getEventCache().getNode().hasChild(Ut)?this.filter_.updateChild(ze,Ut,hn.EMPTY_NODE,b.popFront(),Oe,ie):ze).isEmpty()&&g.getServerCache().isFullyInitialized()&&(Ce=P.calcCompleteEventCache(g.getCompleteServerSnap())).isLeafNode()&&(Be=this.filter_.updateFullNode(Be,Ce,ie))}return Ce=g.getServerCache().isFullyInitialized()||null!=P.shadowingWrite(St.Empty),g.updateEventSnap(Be,Ce,this.filter_.filtersNodes())},A}(),di=function(){function A(g){this.query_=g,this.index_=this.query_.getQueryParams().getIndex()}return A.prototype.generateEventsForChanges=function(g,b,P){var G=this,ie=[],Ce=[];return g.forEach(function(Oe){Oe.type===yr.CHILD_CHANGED&&G.index_.indexedValueChanged(Oe.oldSnap,Oe.snapshotNode)&&Ce.push(yr.childMovedChange(Oe.childName,Oe.snapshotNode))}),this.generateEventsForType_(ie,yr.CHILD_REMOVED,g,P,b),this.generateEventsForType_(ie,yr.CHILD_ADDED,g,P,b),this.generateEventsForType_(ie,yr.CHILD_MOVED,Ce,P,b),this.generateEventsForType_(ie,yr.CHILD_CHANGED,g,P,b),this.generateEventsForType_(ie,yr.VALUE,g,P,b),ie},A.prototype.generateEventsForType_=function(g,b,P,G,ie){var Ce=this,Oe=P.filter(function(ze){return ze.type===b});Oe.sort(this.compareChanges_.bind(this)),Oe.forEach(function(ze){var Be=Ce.materializeSingleChange_(ze,ie);G.forEach(function(yt){yt.respondsTo(ze.type)&&g.push(yt.createEvent(Be,Ce.query_))})})},A.prototype.materializeSingleChange_=function(g,b){return"value"===g.type||"child_removed"===g.type||(g.prevName=b.getPredecessorChildName(g.childName,g.snapshotNode,this.index_)),g},A.prototype.compareChanges_=function(g,b){if(null==g.childName||null==b.childName)throw S.assertionError("Should only compare child_ events.");var P=new Qe(g.childName,g.snapshotNode),G=new Qe(b.childName,b.snapshotNode);return this.index_.compare(P,G)},A}(),ai=function(){function A(g,b){this.query_=g,this.eventRegistrations_=[];var P=this.query_.getQueryParams(),G=new ko(P.getIndex()),ie=P.getNodeFilter();this.processor_=new Ma(ie);var Ce=b.getServerCache(),Oe=b.getEventCache(),ze=G.updateFullNode(hn.EMPTY_NODE,Ce.getNode(),null),Be=ie.updateFullNode(hn.EMPTY_NODE,Oe.getNode(),null),yt=new Mo(ze,Ce.isFullyInitialized(),G.filtersNodes()),Ot=new Mo(Be,Oe.isFullyInitialized(),ie.filtersNodes());this.viewCache_=new Ro(Ot,yt),this.eventGenerator_=new di(this.query_)}return A.prototype.getQuery=function(){return this.query_},A.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},A.prototype.getCompleteServerCache=function(g){var b=this.viewCache_.getCompleteServerSnap();return b&&(this.query_.getQueryParams().loadsAllData()||!g.isEmpty()&&!b.getImmediateChild(g.getFront()).isEmpty())?b.getChild(g):null},A.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},A.prototype.addEventRegistration=function(g){this.eventRegistrations_.push(g)},A.prototype.removeEventRegistration=function(g,b){var P=[];if(b){S.assert(null==g,"A cancel should cancel all event registrations.");var G=this.query_.path;this.eventRegistrations_.forEach(function(ze){var Be=ze.createCancelEvent(b=b,G);Be&&P.push(Be)})}if(g){for(var ie=[],Ce=0;Ce<this.eventRegistrations_.length;++Ce){var Oe=this.eventRegistrations_[Ce];if(Oe.matches(g)){if(g.hasAnyCallback()){ie=ie.concat(this.eventRegistrations_.slice(Ce+1));break}}else ie.push(Oe)}this.eventRegistrations_=ie}else this.eventRegistrations_=[];return P},A.prototype.applyOperation=function(g,b,P){g.type===Qr.MERGE&&null!==g.source.queryId&&(S.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),S.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var G=this.viewCache_,ie=this.processor_.applyOperation(G,g,b,P);return this.processor_.assertIndexed(ie.viewCache),S.assert(ie.viewCache.getServerCache().isFullyInitialized()||!G.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=ie.viewCache,this.generateEventsForChanges_(ie.changes,ie.viewCache.getEventCache().getNode(),null)},A.prototype.getInitialEvents=function(g){var b=this.viewCache_.getEventCache(),P=[];return b.getNode().isLeafNode()||b.getNode().forEachChild(He,function(ie,Ce){P.push(yr.childAddedChange(ie,Ce))}),b.isFullyInitialized()&&P.push(yr.valueChange(b.getNode())),this.generateEventsForChanges_(P,b.getNode(),g)},A.prototype.generateEventsForChanges_=function(g,b,P){return this.eventGenerator_.generateEventsForChanges(g,b,P?[P]:this.eventRegistrations_)},A}(),qs=function(){function A(){this.views=new Map}return Object.defineProperty(A,"__referenceConstructor",{get:function(){return S.assert(Go,"Reference.ts has not been loaded"),Go},set:function(g){S.assert(!Go,"__referenceConstructor has already been defined"),Go=g},enumerable:!1,configurable:!0}),A.prototype.isEmpty=function(){return 0===this.views.size},A.prototype.applyOperation=function(g,b,P){var G,ie,Ce=g.source.queryId;if(null!==Ce){var Oe=this.views.get(Ce);return S.assert(null!=Oe,"SyncTree gave us an op for an invalid query."),Oe.applyOperation(g,b,P)}var ze=[];try{for(var Be=C.__values(this.views.values()),yt=Be.next();!yt.done;yt=Be.next())ze=ze.concat((Oe=yt.value).applyOperation(g,b,P))}catch(Ot){G={error:Ot}}finally{try{yt&&!yt.done&&(ie=Be.return)&&ie.call(Be)}finally{if(G)throw G.error}}return ze},A.prototype.addEventRegistration=function(g,b,P,G,ie){var Ce=g.queryIdentifier(),Oe=this.views.get(Ce);if(!Oe){var ze=P.calcCompleteEventCache(ie?G:null),Be=!1;ze?Be=!0:G instanceof hn?(ze=P.calcCompleteEventChildren(G),Be=!1):(ze=hn.EMPTY_NODE,Be=!1);var yt=new Ro(new Mo(ze,Be,!1),new Mo(G,ie,!1));Oe=new ai(g,yt),this.views.set(Ce,Oe)}return Oe.addEventRegistration(b),Oe.getInitialEvents(b)},A.prototype.removeEventRegistration=function(g,b,P){var G,ie,Ce=g.queryIdentifier(),Oe=[],ze=[],Be=this.hasCompleteView();if("default"===Ce)try{for(var yt=C.__values(this.views.entries()),Ot=yt.next();!Ot.done;Ot=yt.next()){var dn,Ut=C.__read(Ot.value,2),Xt=Ut[0];ze=ze.concat((dn=Ut[1]).removeEventRegistration(b,P)),dn.isEmpty()&&(this.views.delete(Xt),dn.getQuery().getQueryParams().loadsAllData()||Oe.push(dn.getQuery()))}}catch(On){G={error:On}}finally{try{Ot&&!Ot.done&&(ie=yt.return)&&ie.call(yt)}finally{if(G)throw G.error}}else(dn=this.views.get(Ce))&&(ze=ze.concat(dn.removeEventRegistration(b,P)),dn.isEmpty()&&(this.views.delete(Ce),dn.getQuery().getQueryParams().loadsAllData()||Oe.push(dn.getQuery())));return Be&&!this.hasCompleteView()&&Oe.push(new A.__referenceConstructor(g.repo,g.path)),{removed:Oe,events:ze}},A.prototype.getQueryViews=function(){var g,b,P=[];try{for(var G=C.__values(this.views.values()),ie=G.next();!ie.done;ie=G.next()){var Ce=ie.value;Ce.getQuery().getQueryParams().loadsAllData()||P.push(Ce)}}catch(Oe){g={error:Oe}}finally{try{ie&&!ie.done&&(b=G.return)&&b.call(G)}finally{if(g)throw g.error}}return P},A.prototype.getCompleteServerCache=function(g){var b,P,G=null;try{for(var ie=C.__values(this.views.values()),Ce=ie.next();!Ce.done;Ce=ie.next())G=G||Ce.value.getCompleteServerCache(g)}catch(ze){b={error:ze}}finally{try{Ce&&!Ce.done&&(P=ie.return)&&P.call(ie)}finally{if(b)throw b.error}}return G},A.prototype.viewForQuery=function(g){if(g.getQueryParams().loadsAllData())return this.getCompleteView();var P=g.queryIdentifier();return this.views.get(P)},A.prototype.viewExistsForQuery=function(g){return null!=this.viewForQuery(g)},A.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},A.prototype.getCompleteView=function(){var g,b;try{for(var P=C.__values(this.views.values()),G=P.next();!G.done;G=P.next()){var ie=G.value;if(ie.getQuery().getQueryParams().loadsAllData())return ie}}catch(Ce){g={error:Ce}}finally{try{G&&!G.done&&(b=P.return)&&b.call(P)}finally{if(g)throw g.error}}return null},A}(),yo=function(){function A(g){this.writeTree_=g}return A.prototype.addWrite=function(g,b){if(g.isEmpty())return new A(new gr(b));var P=this.writeTree_.findRootMostValueAndPath(g);if(null!=P){var G=P.path,ie=P.value,Ce=St.relativePath(G,g);return ie=ie.updateChild(Ce,b),new A(this.writeTree_.set(G,ie))}var Oe=new gr(b);return new A(this.writeTree_.setTree(g,Oe))},A.prototype.addWrites=function(g,b){var P=this;return Ne(b,function(G,ie){P=P.addWrite(g.child(G),ie)}),P},A.prototype.removeWrite=function(g){return g.isEmpty()?A.Empty:new A(this.writeTree_.setTree(g,gr.Empty))},A.prototype.hasCompleteWrite=function(g){return null!=this.getCompleteNode(g)},A.prototype.getCompleteNode=function(g){var b=this.writeTree_.findRootMostValueAndPath(g);return null!=b?this.writeTree_.get(b.path).getChild(St.relativePath(b.path,g)):null},A.prototype.getCompleteChildren=function(){var g=[],b=this.writeTree_.value;return null!=b?b.isLeafNode()||b.forEachChild(He,function(P,G){g.push(new Qe(P,G))}):this.writeTree_.children.inorderTraversal(function(P,G){null!=G.value&&g.push(new Qe(P,G.value))}),g},A.prototype.childCompoundWrite=function(g){if(g.isEmpty())return this;var b=this.getCompleteNode(g);return new A(null!=b?new gr(b):this.writeTree_.subtree(g))},A.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},A.prototype.apply=function(g){return ge(St.Empty,this.writeTree_,g)},A.Empty=new A(new gr(null)),A}();function ge(A,g,b){if(null!=g.value)return b.updateChild(A,g.value);var P=null;return g.children.inorderTraversal(function(G,ie){".priority"===G?(S.assert(null!==ie.value,"Priority writes must always be leaf nodes"),P=ie.value):b=ge(A.child(G),ie,b)}),!b.getChild(A).isEmpty()&&null!==P&&(b=b.updateChild(A.child(".priority"),P)),b}var pe=function(){function A(){this.visibleWrites_=yo.Empty,this.allWrites_=[],this.lastWriteId_=-1}return A.prototype.childWrites=function(g){return new Me(g,this)},A.prototype.addOverwrite=function(g,b,P,G){S.assert(P>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===G&&(G=!0),this.allWrites_.push({path:g,snap:b,writeId:P,visible:G}),G&&(this.visibleWrites_=this.visibleWrites_.addWrite(g,b)),this.lastWriteId_=P},A.prototype.addMerge=function(g,b,P){S.assert(P>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:g,children:b,writeId:P,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(g,b),this.lastWriteId_=P},A.prototype.getWrite=function(g){for(var b=0;b<this.allWrites_.length;b++){var P=this.allWrites_[b];if(P.writeId===g)return P}return null},A.prototype.removeWrite=function(g){var b=this,P=this.allWrites_.findIndex(function(yt){return yt.writeId===g});S.assert(P>=0,"removeWrite called with nonexistent writeId.");var G=this.allWrites_[P];this.allWrites_.splice(P,1);for(var ie=G.visible,Ce=!1,Oe=this.allWrites_.length-1;ie&&Oe>=0;){var ze=this.allWrites_[Oe];ze.visible&&(Oe>=P&&this.recordContainsPath_(ze,G.path)?ie=!1:G.path.contains(ze.path)&&(Ce=!0)),Oe--}return!!ie&&(Ce?(this.resetTree_(),!0):(G.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(G.path):Ne(G.children,function(yt){b.visibleWrites_=b.visibleWrites_.removeWrite(G.path.child(yt))}),!0))},A.prototype.getCompleteWriteData=function(g){return this.visibleWrites_.getCompleteNode(g)},A.prototype.calcCompleteEventCache=function(g,b,P,G){if(P||G){var ze=this.visibleWrites_.childCompoundWrite(g);return!G&&ze.isEmpty()?b:G||null!=b||ze.hasCompleteWrite(St.Empty)?A.layerTree_(this.allWrites_,function(Ut){return(Ut.visible||G)&&(!P||!~P.indexOf(Ut.writeId))&&(Ut.path.contains(g)||g.contains(Ut.path))},g).apply(b||hn.EMPTY_NODE):null}var ie=this.visibleWrites_.getCompleteNode(g);if(null!=ie)return ie;var Ce=this.visibleWrites_.childCompoundWrite(g);return Ce.isEmpty()?b:null!=b||Ce.hasCompleteWrite(St.Empty)?Ce.apply(b||hn.EMPTY_NODE):null},A.prototype.calcCompleteEventChildren=function(g,b){var P=hn.EMPTY_NODE,G=this.visibleWrites_.getCompleteNode(g);if(G)return G.isLeafNode()||G.forEachChild(He,function(Oe,ze){P=P.updateImmediateChild(Oe,ze)}),P;if(b){var ie=this.visibleWrites_.childCompoundWrite(g);return b.forEachChild(He,function(Oe,ze){var Be=ie.childCompoundWrite(new St(Oe)).apply(ze);P=P.updateImmediateChild(Oe,Be)}),ie.getCompleteChildren().forEach(function(Oe){P=P.updateImmediateChild(Oe.name,Oe.node)}),P}return this.visibleWrites_.childCompoundWrite(g).getCompleteChildren().forEach(function(Oe){P=P.updateImmediateChild(Oe.name,Oe.node)}),P},A.prototype.calcEventCacheAfterServerOverwrite=function(g,b,P,G){S.assert(P||G,"Either existingEventSnap or existingServerSnap must exist");var ie=g.child(b);if(this.visibleWrites_.hasCompleteWrite(ie))return null;var Ce=this.visibleWrites_.childCompoundWrite(ie);return Ce.isEmpty()?G.getChild(b):Ce.apply(G.getChild(b))},A.prototype.calcCompleteChild=function(g,b,P){var G=g.child(b),ie=this.visibleWrites_.getCompleteNode(G);return null!=ie?ie:P.isCompleteForChild(b)?this.visibleWrites_.childCompoundWrite(G).apply(P.getNode().getImmediateChild(b)):null},A.prototype.shadowingWrite=function(g){return this.visibleWrites_.getCompleteNode(g)},A.prototype.calcIndexedSlice=function(g,b,P,G,ie,Ce){var Oe,ze=this.visibleWrites_.childCompoundWrite(g),Be=ze.getCompleteNode(St.Empty);if(null!=Be)Oe=Be;else{if(null==b)return[];Oe=ze.apply(b)}if((Oe=Oe.withIndex(Ce)).isEmpty()||Oe.isLeafNode())return[];for(var yt=[],Ot=Ce.getCompare(),Ut=ie?Oe.getReverseIteratorFrom(P,Ce):Oe.getIteratorFrom(P,Ce),Xt=Ut.getNext();Xt&&yt.length<G;)0!==Ot(Xt,P)&&yt.push(Xt),Xt=Ut.getNext();return yt},A.prototype.recordContainsPath_=function(g,b){if(g.snap)return g.path.contains(b);for(var P in g.children)if(g.children.hasOwnProperty(P)&&g.path.child(P).contains(b))return!0;return!1},A.prototype.resetTree_=function(){this.visibleWrites_=A.layerTree_(this.allWrites_,A.DefaultFilter_,St.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},A.DefaultFilter_=function(g){return g.visible},A.layerTree_=function(g,b,P){for(var G=yo.Empty,ie=0;ie<g.length;++ie){var Ce=g[ie];if(b(Ce)){var Oe=Ce.path,ze=void 0;if(Ce.snap)P.contains(Oe)?(ze=St.relativePath(P,Oe),G=G.addWrite(ze,Ce.snap)):Oe.contains(P)&&(ze=St.relativePath(Oe,P),G=G.addWrite(St.Empty,Ce.snap.getChild(ze)));else{if(!Ce.children)throw S.assertionError("WriteRecord should have .snap or .children");if(P.contains(Oe))ze=St.relativePath(P,Oe),G=G.addWrites(ze,Ce.children);else if(Oe.contains(P))if((ze=St.relativePath(Oe,P)).isEmpty())G=G.addWrites(St.Empty,Ce.children);else{var Be=S.safeGet(Ce.children,ze.getFront());if(Be){var yt=Be.getChild(ze.popFront());G=G.addWrite(St.Empty,yt)}}}}}return G},A}(),Me=function(){function A(g,b){this.treePath_=g,this.writeTree_=b}return A.prototype.calcCompleteEventCache=function(g,b,P){return this.writeTree_.calcCompleteEventCache(this.treePath_,g,b,P)},A.prototype.calcCompleteEventChildren=function(g){return this.writeTree_.calcCompleteEventChildren(this.treePath_,g)},A.prototype.calcEventCacheAfterServerOverwrite=function(g,b,P){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,g,b,P)},A.prototype.shadowingWrite=function(g){return this.writeTree_.shadowingWrite(this.treePath_.child(g))},A.prototype.calcIndexedSlice=function(g,b,P,G,ie){return this.writeTree_.calcIndexedSlice(this.treePath_,g,b,P,G,ie)},A.prototype.calcCompleteChild=function(g,b){return this.writeTree_.calcCompleteChild(this.treePath_,g,b)},A.prototype.child=function(g){return new A(this.treePath_.child(g),this.writeTree_)},A}(),Ye=function(){function A(g){this.listenProvider_=g,this.syncPointTree_=gr.Empty,this.pendingWriteTree_=new pe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return A.prototype.applyUserOverwrite=function(g,b,P,G){return this.pendingWriteTree_.addOverwrite(g,b,P,G),G?this.applyOperationToSyncPoints_(new Ps(Ho.User,g,b)):[]},A.prototype.applyUserMerge=function(g,b,P){this.pendingWriteTree_.addMerge(g,b,P);var G=gr.fromObject(b);return this.applyOperationToSyncPoints_(new vs(Ho.User,g,G))},A.prototype.ackUserWrite=function(g,b){void 0===b&&(b=!1);var P=this.pendingWriteTree_.getWrite(g);if(this.pendingWriteTree_.removeWrite(g)){var ie=gr.Empty;return null!=P.snap?ie=ie.set(St.Empty,!0):Ne(P.children,function(Ce,Oe){ie=ie.set(new St(Ce),Oe)}),this.applyOperationToSyncPoints_(new ua(P.path,ie,b))}return[]},A.prototype.applyServerOverwrite=function(g,b){return this.applyOperationToSyncPoints_(new Ps(Ho.Server,g,b))},A.prototype.applyServerMerge=function(g,b){var P=gr.fromObject(b);return this.applyOperationToSyncPoints_(new vs(Ho.Server,g,P))},A.prototype.applyListenComplete=function(g){return this.applyOperationToSyncPoints_(new nl(Ho.Server,g))},A.prototype.applyTaggedQueryOverwrite=function(g,b,P){var G=this.queryKeyForTag_(P);if(null!=G){var ie=A.parseQueryKey_(G),Ce=ie.path,Oe=ie.queryId,ze=St.relativePath(Ce,g),Be=new Ps(Ho.forServerTaggedQuery(Oe),ze,b);return this.applyTaggedOperation_(Ce,Be)}return[]},A.prototype.applyTaggedQueryMerge=function(g,b,P){var G=this.queryKeyForTag_(P);if(G){var ie=A.parseQueryKey_(G),Ce=ie.path,Oe=ie.queryId,ze=St.relativePath(Ce,g),Be=gr.fromObject(b),yt=new vs(Ho.forServerTaggedQuery(Oe),ze,Be);return this.applyTaggedOperation_(Ce,yt)}return[]},A.prototype.applyTaggedListenComplete=function(g,b){var P=this.queryKeyForTag_(b);if(P){var G=A.parseQueryKey_(P),ie=G.path,Ce=G.queryId,Oe=St.relativePath(ie,g),ze=new nl(Ho.forServerTaggedQuery(Ce),Oe);return this.applyTaggedOperation_(ie,ze)}return[]},A.prototype.addEventRegistration=function(g,b){var P=g.path,G=null,ie=!1;this.syncPointTree_.foreachOnPath(P,function(On,Lr){var Rr=St.relativePath(On,P);G=G||Lr.getCompleteServerCache(Rr),ie=ie||Lr.hasCompleteView()});var Oe,Ce=this.syncPointTree_.get(P);Ce?(ie=ie||Ce.hasCompleteView(),G=G||Ce.getCompleteServerCache(St.Empty)):(Ce=new qs,this.syncPointTree_=this.syncPointTree_.set(P,Ce)),null!=G?Oe=!0:(Oe=!1,G=hn.EMPTY_NODE,this.syncPointTree_.subtree(P).foreachChild(function(On,Lr){var Rr=Lr.getCompleteServerCache(St.Empty);Rr&&(G=G.updateImmediateChild(On,Rr))}));var Be=Ce.viewExistsForQuery(g);if(!Be&&!g.getQueryParams().loadsAllData()){var yt=A.makeQueryKey_(g);S.assert(!this.queryToTagMap.has(yt),"View does not exist, but we have a tag");var Ot=A.getNextQueryTag_();this.queryToTagMap.set(yt,Ot),this.tagToQueryMap.set(Ot,yt)}var Ut=this.pendingWriteTree_.childWrites(P),Xt=Ce.addEventRegistration(g,b,Ut,G,Oe);if(!Be&&!ie){var dn=Ce.viewForQuery(g);Xt=Xt.concat(this.setupListener_(g,dn))}return Xt},A.prototype.removeEventRegistration=function(g,b,P){var G=this,ie=g.path,Ce=this.syncPointTree_.get(ie),Oe=[];if(Ce&&("default"===g.queryIdentifier()||Ce.viewExistsForQuery(g))){var ze=Ce.removeEventRegistration(g,b,P);Ce.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(ie));var Be=ze.removed;Oe=ze.events;var yt=-1!==Be.findIndex(function(Ji){return Ji.getQueryParams().loadsAllData()}),Ot=this.syncPointTree_.findOnPath(ie,function(Ji,Qo){return Qo.hasCompleteView()});if(yt&&!Ot){var Ut=this.syncPointTree_.subtree(ie);if(!Ut.isEmpty())for(var Xt=this.collectDistinctViewsForSubTree_(Ut),dn=0;dn<Xt.length;++dn){var On=Xt[dn],Lr=On.getQuery(),Rr=this.createListenerForView_(On);this.listenProvider_.startListening(A.queryForListening_(Lr),this.tagForQuery_(Lr),Rr.hashFn,Rr.onComplete)}}!Ot&&Be.length>0&&!P&&(yt?this.listenProvider_.stopListening(A.queryForListening_(g),null):Be.forEach(function(Ji){var Qo=G.queryToTagMap.get(A.makeQueryKey_(Ji));G.listenProvider_.stopListening(A.queryForListening_(Ji),Qo)})),this.removeTags_(Be)}return Oe},A.prototype.calcCompleteEventCache=function(g,b){var G=this.pendingWriteTree_,ie=this.syncPointTree_.findOnPath(g,function(Ce,Oe){var ze=St.relativePath(Ce,g),Be=Oe.getCompleteServerCache(ze);if(Be)return Be});return G.calcCompleteEventCache(g,ie,b,!0)},A.prototype.collectDistinctViewsForSubTree_=function(g){return g.fold(function(b,P,G){if(P&&P.hasCompleteView())return[P.getCompleteView()];var Ce=[];return P&&(Ce=P.getQueryViews()),Ne(G,function(Oe,ze){Ce=Ce.concat(ze)}),Ce})},A.prototype.removeTags_=function(g){for(var b=0;b<g.length;++b){var P=g[b];if(!P.getQueryParams().loadsAllData()){var G=A.makeQueryKey_(P),ie=this.queryToTagMap.get(G);this.queryToTagMap.delete(G),this.tagToQueryMap.delete(ie)}}},A.queryForListening_=function(g){return g.getQueryParams().loadsAllData()&&!g.getQueryParams().isDefault()?g.getRef():g},A.prototype.setupListener_=function(g,b){var P=g.path,G=this.tagForQuery_(g),ie=this.createListenerForView_(b),Ce=this.listenProvider_.startListening(A.queryForListening_(g),G,ie.hashFn,ie.onComplete),Oe=this.syncPointTree_.subtree(P);if(G)S.assert(!Oe.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var ze=Oe.fold(function(Ot,Ut,Xt){if(!Ot.isEmpty()&&Ut&&Ut.hasCompleteView())return[Ut.getCompleteView().getQuery()];var dn=[];return Ut&&(dn=dn.concat(Ut.getQueryViews().map(function(On){return On.getQuery()}))),Ne(Xt,function(On,Lr){dn=dn.concat(Lr)}),dn}),Be=0;Be<ze.length;++Be){var yt=ze[Be];this.listenProvider_.stopListening(A.queryForListening_(yt),this.tagForQuery_(yt))}return Ce},A.prototype.createListenerForView_=function(g){var b=this,P=g.getQuery(),G=this.tagForQuery_(P);return{hashFn:function(){return(g.getServerCache()||hn.EMPTY_NODE).hash()},onComplete:function(ie){if("ok"===ie)return G?b.applyTaggedListenComplete(P.path,G):b.applyListenComplete(P.path);var Ce=function(A,g){var b="Unknown Error";"too_big"===A?b="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===A?b="Client doesn't have permission to access the desired data.":"unavailable"===A&&(b="The service is unavailable");var P=new Error(A+" at "+g.path.toString()+": "+b);return P.code=A.toUpperCase(),P}(ie,P);return b.removeEventRegistration(P,null,Ce)}}},A.makeQueryKey_=function(g){return g.path.toString()+"$"+g.queryIdentifier()},A.parseQueryKey_=function(g){var b=g.indexOf("$");return S.assert(-1!==b&&b<g.length-1,"Bad queryKey."),{queryId:g.substr(b+1),path:new St(g.substr(0,b))}},A.prototype.queryKeyForTag_=function(g){return this.tagToQueryMap.get(g)},A.prototype.tagForQuery_=function(g){var b=A.makeQueryKey_(g);return this.queryToTagMap.get(b)},A.getNextQueryTag_=function(){return A.nextQueryTag_++},A.prototype.applyTaggedOperation_=function(g,b){var P=this.syncPointTree_.get(g);S.assert(P,"Missing sync point for query tag that we're tracking");var G=this.pendingWriteTree_.childWrites(g);return P.applyOperation(b,G,null)},A.prototype.applyOperationToSyncPoints_=function(g){return this.applyOperationHelper_(g,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(St.Empty))},A.prototype.applyOperationHelper_=function(g,b,P,G){if(g.path.isEmpty())return this.applyOperationDescendantsHelper_(g,b,P,G);var ie=b.get(St.Empty);null==P&&null!=ie&&(P=ie.getCompleteServerCache(St.Empty));var Ce=[],Oe=g.path.getFront(),ze=g.operationForChild(Oe),Be=b.children.get(Oe);if(Be&&ze){var yt=P?P.getImmediateChild(Oe):null,Ot=G.child(Oe);Ce=Ce.concat(this.applyOperationHelper_(ze,Be,yt,Ot))}return ie&&(Ce=Ce.concat(ie.applyOperation(g,G,P))),Ce},A.prototype.applyOperationDescendantsHelper_=function(g,b,P,G){var ie=this,Ce=b.get(St.Empty);null==P&&null!=Ce&&(P=Ce.getCompleteServerCache(St.Empty));var Oe=[];return b.children.inorderTraversal(function(ze,Be){var yt=P?P.getImmediateChild(ze):null,Ot=G.child(ze),Ut=g.operationForChild(ze);Ut&&(Oe=Oe.concat(ie.applyOperationDescendantsHelper_(Ut,Be,yt,Ot)))}),Ce&&(Oe=Oe.concat(Ce.applyOperation(g,G,P))),Oe},A.nextQueryTag_=1,A}(),nt=function(){function A(){this.rootNode_=hn.EMPTY_NODE}return A.prototype.getNode=function(g){return this.rootNode_.getChild(g)},A.prototype.updateSnapshot=function(g,b){this.rootNode_=this.rootNode_.updateChild(g,b)},A}(),pt=function(){function A(){this.counters_={}}return A.prototype.incrementCounter=function(g,b){void 0===b&&(b=1),S.contains(this.counters_,g)||(this.counters_[g]=0),this.counters_[g]+=b},A.prototype.get=function(){return S.deepCopy(this.counters_)},A}(),Nt=function(){function A(){}return A.getCollection=function(g){var b=g.toString();return this.collections_[b]||(this.collections_[b]=new pt),this.collections_[b]},A.getOrCreateReporter=function(g,b){var P=g.toString();return this.reporters_[P]||(this.reporters_[P]=b()),this.reporters_[P]},A.collections_={},A.reporters_={},A}(),Yt=function(){function A(g){this.collection_=g,this.last_=null}return A.prototype.get=function(){var g=this.collection_.get(),b=C.__assign({},g);return this.last_&&Ne(this.last_,function(P,G){b[P]=b[P]-G}),this.last_=g,b},A}(),Cr=function(){function A(g,b){this.server_=b,this.statsToReport_={},this.statsListener_=new Yt(g);var P=1e4+2e4*Math.random();rn(this.reportStats_.bind(this),Math.floor(P))}return A.prototype.includeStat=function(g){this.statsToReport_[g]=!0},A.prototype.reportStats_=function(){var g=this,b=this.statsListener_.get(),P={},G=!1;Ne(b,function(ie,Ce){Ce>0&&S.contains(g.statsToReport_,ie)&&(P[ie]=Ce,G=!0)}),G&&this.server_.reportStats(P),rn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},A}(),Rn=function(){function A(){this.eventLists_=[],this.recursionDepth_=0}return A.prototype.queueEvents=function(g){for(var b=null,P=0;P<g.length;P++){var G=g[P],ie=G.getPath();null!==b&&!ie.equals(b.getPath())&&(this.eventLists_.push(b),b=null),null===b&&(b=new ti(ie)),b.add(G)}b&&this.eventLists_.push(b)},A.prototype.raiseEventsAtPath=function(g,b){this.queueEvents(b),this.raiseQueuedEventsMatchingPredicate_(function(P){return P.equals(g)})},A.prototype.raiseEventsForChangedPath=function(g,b){this.queueEvents(b),this.raiseQueuedEventsMatchingPredicate_(function(P){return P.contains(g)||g.contains(P)})},A.prototype.raiseQueuedEventsMatchingPredicate_=function(g){this.recursionDepth_++;for(var b=!0,P=0;P<this.eventLists_.length;P++){var G=this.eventLists_[P];G&&(g(G.getPath())?(this.eventLists_[P].raise(),this.eventLists_[P]=null):b=!1)}b&&(this.eventLists_=[]),this.recursionDepth_--},A}(),ti=function(){function A(g){this.path_=g,this.events_=[]}return A.prototype.add=function(g){this.events_.push(g)},A.prototype.raise=function(){for(var g=0;g<this.events_.length;g++){var b=this.events_[g];if(null!==b){this.events_[g]=null;var P=b.getEventRunner();z&&_e("event: "+b.toString()),Ft(P)}}},A.prototype.getPath=function(){return this.path_},A}(),Or=function(){function A(g){this.allowedEvents_=g,this.listeners_={},S.assert(Array.isArray(g)&&g.length>0,"Requires a non-empty array")}return A.prototype.trigger=function(g){for(var b=[],P=1;P<arguments.length;P++)b[P-1]=arguments[P];if(Array.isArray(this.listeners_[g]))for(var G=C.__spread(this.listeners_[g]),ie=0;ie<G.length;ie++)G[ie].callback.apply(G[ie].context,b)},A.prototype.on=function(g,b,P){this.validateEventType_(g),this.listeners_[g]=this.listeners_[g]||[],this.listeners_[g].push({callback:b,context:P});var G=this.getInitialEvent(g);G&&b.apply(P,G)},A.prototype.off=function(g,b,P){this.validateEventType_(g);for(var G=this.listeners_[g]||[],ie=0;ie<G.length;ie++)if(G[ie].callback===b&&(!P||P===G[ie].context))return void G.splice(ie,1)},A.prototype.validateEventType_=function(g){S.assert(this.allowedEvents_.find(function(b){return b===g}),"Unknown event: "+g)},A}(),ni=function(A){function g(){var P,G,b=A.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(G="visibilitychange",P="hidden"):void 0!==document.mozHidden?(G="mozvisibilitychange",P="mozHidden"):void 0!==document.msHidden?(G="msvisibilitychange",P="msHidden"):void 0!==document.webkitHidden&&(G="webkitvisibilitychange",P="webkitHidden")),b.visible_=!0,G&&document.addEventListener(G,function(){var ie=!document[P];ie!==b.visible_&&(b.visible_=ie,b.trigger("visible",ie))},!1),b}return C.__extends(g,A),g.getInstance=function(){return new g},g.prototype.getInitialEvent=function(b){return S.assert("visible"===b,"Unknown event type: "+b),[this.visible_]},g}(Or),pr=function(A){function g(){var b=A.call(this,["online"])||this;return b.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!S.isMobileCordova()&&(window.addEventListener("online",function(){b.online_||(b.online_=!0,b.trigger("online",!0))},!1),window.addEventListener("offline",function(){b.online_&&(b.online_=!1,b.trigger("online",!1))},!1)),b}return C.__extends(g,A),g.getInstance=function(){return new g},g.prototype.getInitialEvent=function(b){return S.assert("online"===b,"Unknown event type: "+b),[this.online_]},g.prototype.currentlyOnline=function(){return this.online_},g}(Or),ao=function(){function A(g){this.onMessage_=g,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return A.prototype.closeAfter=function(g,b){this.closeAfterResponse=g,this.onClose=b,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},A.prototype.handleResponse=function(g,b){var P=this;this.pendingResponses[g]=b;for(var G=function(){var Oe=ie.pendingResponses[ie.currentResponseNum];delete ie.pendingResponses[ie.currentResponseNum];for(var ze=function(yt){Oe[yt]&&Ft(function(){P.onMessage_(Oe[yt])})},Be=0;Be<Oe.length;++Be)ze(Be);if(ie.currentResponseNum===ie.closeAfterResponse)return ie.onClose&&(ie.onClose(),ie.onClose=null),"break";ie.currentResponseNum++},ie=this;this.pendingResponses[this.currentResponseNum]&&"break"!==G(););},A}(),Zt=function(){function A(g,b,P,G,ie){this.connId=g,this.repoInfo=b,this.applicationId=P,this.transportSessionId=G,this.lastSessionId=ie,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ve(g),this.stats_=Nt.getCollection(b),this.urlFn=function(Ce){return b.connectionURL(ir,Ce)}}return A.prototype.open=function(g,b){var P=this;this.curSegmentNum=0,this.onDisconnect_=b,this.myPacketOrderer=new ao(g),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){P.log_("Timed out trying to connect."),P.onClosed_(),P.connectTimeoutTimer_=null},Math.floor(3e4)),function(A){if(S.isNodeSdk()||"complete"===document.readyState)A();else{var g=!1,b=function(){document.body?g||(g=!0,A()):setTimeout(b,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",b,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&b()}),window.attachEvent("onload",b))}}(function(){if(!P.isClosed_){P.scriptTagHolder=new Mr(function(){for(var Ce=[],Oe=0;Oe<arguments.length;Oe++)Ce[Oe]=arguments[Oe];var ze=C.__read(Ce,5),Be=ze[0],yt=ze[1],Ot=ze[2];if(P.incrementIncomingBytes_(Ce),P.scriptTagHolder)if(P.connectTimeoutTimer_&&(clearTimeout(P.connectTimeoutTimer_),P.connectTimeoutTimer_=null),P.everConnected_=!0,"start"===Be)P.id=yt,P.password=Ot;else{if("close"!==Be)throw new Error("Unrecognized command received: "+Be);yt?(P.scriptTagHolder.sendNewPolls=!1,P.myPacketOrderer.closeAfter(yt,function(){P.onClosed_()})):P.onClosed_()}},function(){for(var Ce=[],Oe=0;Oe<arguments.length;Oe++)Ce[Oe]=arguments[Oe];var ze=C.__read(Ce,2),Be=ze[0],yt=ze[1];P.incrementIncomingBytes_(Ce),P.myPacketOrderer.handleResponse(Be,yt)},function(){P.onClosed_()},P.urlFn);var G={start:"t"};G.ser=Math.floor(1e8*Math.random()),P.scriptTagHolder.uniqueCallbackIdentifier&&(G.cb=P.scriptTagHolder.uniqueCallbackIdentifier),G.v="5",P.transportSessionId&&(G.s=P.transportSessionId),P.lastSessionId&&(G.ls=P.lastSessionId),P.applicationId&&(G.p=P.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(on)&&(G.r="f");var ie=P.urlFn(G);P.log_("Connecting via long-poll to "+ie),P.scriptTagHolder.addTag(ie,function(){})}})},A.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},A.forceAllow=function(){A.forceAllow_=!0},A.forceDisallow=function(){A.forceDisallow_=!0},A.isAvailable=function(){return!(S.isNodeSdk()||!A.forceAllow_&&(A.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},A.prototype.markConnectionHealthy=function(){},A.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},A.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},A.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},A.prototype.send=function(g){var b=S.stringify(g);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);for(var P=S.base64Encode(b),G=we(P,1840),ie=0;ie<G.length;ie++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,G.length,G[ie]),this.curSegmentNum++},A.prototype.addDisconnectPingFrame=function(g,b){if(!S.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var P={dframe:"t"};P.id=g,P.pw=b,this.myDisconnFrame.src=this.urlFn(P),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},A.prototype.incrementIncomingBytes_=function(g){var b=S.stringify(g).length;this.bytesReceived+=b,this.stats_.incrementCounter("bytes_received",b)},A}(),Mr=function(){function A(g,b,P,G){if(this.onDisconnect=P,this.urlFn=G,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,S.isNodeSdk())this.commandCB=g,this.onMessageCB=b;else{this.uniqueCallbackIdentifier=me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=g,window["pRTLPCB"+this.uniqueCallbackIdentifier]=b,this.myIFrame=A.createIFrame_();var ie="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(ie='<script>document.domain="'+document.domain+'";<\/script>');var Oe="<html><body>"+ie+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Oe),this.myIFrame.doc.close()}catch(ze){_e("frame writing exception"),ze.stack&&_e(ze.stack),_e(ze)}}}return A.createIFrame_=function(){var g=document.createElement("iframe");if(g.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(g);try{g.contentWindow.document||_e("No IE domain setting required")}catch(G){var P=document.domain;g.src="javascript:void((function(){document.open();document.domain='"+P+"';document.close();})())"}return g.contentDocument?g.doc=g.contentDocument:g.contentWindow?g.doc=g.contentWindow.document:g.document&&(g.doc=g.document),g},A.prototype.close=function(){var g=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==g.myIFrame&&(document.body.removeChild(g.myIFrame),g.myIFrame=null)},Math.floor(0)));var b=this.onDisconnect;b&&(this.onDisconnect=null,b())},A.prototype.startLongPoll=function(g,b){for(this.myID=g,this.myPW=b,this.alive=!0;this.newRequest_(););},A.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var g={};g.id=this.myID,g.pw=this.myPW,g.ser=this.currentSerial;for(var b=this.urlFn(g),P="",G=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+P.length<=1870;){var Ce=this.pendingSegs.shift();P=P+"&seg"+G+"="+Ce.seg+"&ts"+G+"="+Ce.ts+"&d"+G+"="+Ce.d,G++}return this.addLongPollTag_(b+=P,this.currentSerial),!0}return!1},A.prototype.enqueueSegment=function(g,b,P){this.pendingSegs.push({seg:g,ts:b,d:P}),this.alive&&this.newRequest_()},A.prototype.addLongPollTag_=function(g,b){var P=this;this.outstandingRequests.add(b);var G=function(){P.outstandingRequests.delete(b),P.newRequest_()},ie=setTimeout(G,Math.floor(25e3));this.addTag(g,function(){clearTimeout(ie),G()})},A.prototype.addTag=function(g,b){var P=this;S.isNodeSdk()?this.doNodeLongPoll(g,b):setTimeout(function(){try{if(!P.sendNewPolls)return;var G=P.myIFrame.doc.createElement("script");G.type="text/javascript",G.async=!0,G.src=g,G.onload=G.onreadystatechange=function(){var ie=G.readyState;(!ie||"loaded"===ie||"complete"===ie)&&(G.onload=G.onreadystatechange=null,G.parentNode&&G.parentNode.removeChild(G),b())},G.onerror=function(){_e("Long-poll script failed to load: "+g),P.sendNewPolls=!1,P.close()},P.myIFrame.doc.body.appendChild(G)}catch(ie){}},Math.floor(1))},A}(),_o="",_i=null;"undefined"!=typeof MozWebSocket?_i=MozWebSocket:"undefined"!=typeof WebSocket&&(_i=WebSocket);var Bi=function(){function A(g,b,P,G,ie){this.connId=g,this.applicationId=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ve(this.connId),this.stats_=Nt.getCollection(b),this.connURL=A.connectionURL_(b,G,ie),this.nodeAdmin=b.nodeAdmin}return A.connectionURL_=function(g,b,P){var G={v:"5"};return!S.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(on)&&(G.r="f"),b&&(G.s=b),P&&(G.ls=P),g.connectionURL(Hn,G)},A.prototype.open=function(g,b){var P=this;this.onDisconnect=b,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oe.set("previous_websocket_failure",!0);try{if(S.isNodeSdk()){var ie={headers:{"User-Agent":"Firebase/5/"+_o+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},Ce=process.env,Oe=0===this.connURL.indexOf("wss://")?Ce.HTTPS_PROXY||Ce.https_proxy:Ce.HTTP_PROXY||Ce.http_proxy;Oe&&(ie.proxy={origin:Oe}),this.mySock=new _i(this.connURL,[],ie)}else this.mySock=new _i(this.connURL,[],ie={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(Be){this.log_("Error instantiating WebSocket.");var ze=Be.message||Be.data;return ze&&this.log_(ze),void this.onClosed_()}this.mySock.onopen=function(){P.log_("Websocket connected."),P.everConnected_=!0},this.mySock.onclose=function(){P.log_("Websocket connection was disconnected."),P.mySock=null,P.onClosed_()},this.mySock.onmessage=function(Be){P.handleIncomingFrame(Be)},this.mySock.onerror=function(Be){P.log_("WebSocket error.  Closing connection.");var yt=Be.message||Be.data;yt&&P.log_(yt),P.onClosed_()}},A.prototype.start=function(){},A.forceDisallow=function(){A.forceDisallow_=!0},A.isAvailable=function(){var g=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var P=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);P&&P.length>1&&parseFloat(P[1])<4.4&&(g=!0)}return!g&&null!==_i&&!A.forceDisallow_},A.previouslyFailed=function(){return oe.isInMemoryStorage||!0===oe.get("previous_websocket_failure")},A.prototype.markConnectionHealthy=function(){oe.remove("previous_websocket_failure")},A.prototype.appendFrame_=function(g){if(this.frames.push(g),this.frames.length===this.totalFrames){var b=this.frames.join("");this.frames=null;var P=S.jsonEval(b);this.onMessage(P)}},A.prototype.handleNewFrameCount_=function(g){this.totalFrames=g,this.frames=[]},A.prototype.extractFrameCount_=function(g){if(S.assert(null===this.frames,"We already have a frame buffer"),g.length<=6){var b=Number(g);if(!isNaN(b))return this.handleNewFrameCount_(b),null}return this.handleNewFrameCount_(1),g},A.prototype.handleIncomingFrame=function(g){if(null!==this.mySock){var b=g.data;if(this.bytesReceived+=b.length,this.stats_.incrementCounter("bytes_received",b.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(b);else{var P=this.extractFrameCount_(b);null!==P&&this.appendFrame_(P)}}},A.prototype.send=function(g){this.resetKeepAlive();var b=S.stringify(g);this.bytesSent+=b.length,this.stats_.incrementCounter("bytes_sent",b.length);var P=we(b,16384);P.length>1&&this.sendString_(String(P.length));for(var G=0;G<P.length;G++)this.sendString_(P[G])},A.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},A.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},A.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},A.prototype.resetKeepAlive=function(){var g=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){g.mySock&&g.sendString_("0"),g.resetKeepAlive()},Math.floor(45e3))},A.prototype.sendString_=function(g){try{this.mySock.send(g)}catch(b){this.log_("Exception thrown from WebSocket.send():",b.message||b.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},A.responsesRequiredToBeHealthy=2,A.healthyTimeout=3e4,A}(),Do=function(){function A(g){this.initTransports_(g)}return Object.defineProperty(A,"ALL_TRANSPORTS",{get:function(){return[Zt,Bi]},enumerable:!1,configurable:!0}),A.prototype.initTransports_=function(g){var b,P,G=Bi&&Bi.isAvailable(),ie=G&&!Bi.previouslyFailed();if(g.webSocketOnly&&(G||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ie=!0),ie)this.transports_=[Bi];else{var Ce=this.transports_=[];try{for(var Oe=C.__values(A.ALL_TRANSPORTS),ze=Oe.next();!ze.done;ze=Oe.next()){var Be=ze.value;Be&&Be.isAvailable()&&Ce.push(Be)}}catch(yt){b={error:yt}}finally{try{ze&&!ze.done&&(P=Oe.return)&&P.call(Oe)}finally{if(b)throw b.error}}}},A.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},A.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},A}(),Ra=function(){function A(g,b,P,G,ie,Ce,Oe,ze){this.id=g,this.repoInfo_=b,this.applicationId_=P,this.onMessage_=G,this.onReady_=ie,this.onDisconnect_=Ce,this.onKill_=Oe,this.lastSessionId=ze,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ve("c:"+this.id+":"),this.transportManager_=new Do(b),this.log_("Connection created"),this.start_()}return A.prototype.start_=function(){var g=this,b=this.transportManager_.initialTransport();this.conn_=new b(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=b.responsesRequiredToBeHealthy||0;var P=this.connReceiver_(this.conn_),G=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){g.conn_&&g.conn_.open(P,G)},Math.floor(0));var ie=b.healthyTimeout||0;ie>0&&(this.healthyTimeout_=rn(function(){g.healthyTimeout_=null,g.isHealthy_||(g.conn_&&g.conn_.bytesReceived>102400?(g.log_("Connection exceeded healthy timeout but has received "+g.conn_.bytesReceived+" bytes.  Marking connection healthy."),g.isHealthy_=!0,g.conn_.markConnectionHealthy()):g.conn_&&g.conn_.bytesSent>10240?g.log_("Connection exceeded healthy timeout but has sent "+g.conn_.bytesSent+" bytes.  Leaving connection alive."):(g.log_("Closing unhealthy connection after timeout."),g.close()))},Math.floor(ie)))},A.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},A.prototype.disconnReceiver_=function(g){var b=this;return function(P){g===b.conn_?b.onConnectionLost_(P):g===b.secondaryConn_?(b.log_("Secondary connection lost."),b.onSecondaryConnectionLost_()):b.log_("closing an old connection")}},A.prototype.connReceiver_=function(g){var b=this;return function(P){2!==b.state_&&(g===b.rx_?b.onPrimaryMessageReceived_(P):g===b.secondaryConn_?b.onSecondaryMessageReceived_(P):b.log_("message on old connection"))}},A.prototype.sendRequest=function(g){this.sendData_({t:"d",d:g})},A.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},A.prototype.onSecondaryControl_=function(g){if("t"in g){var b=g.t;"a"===b?this.upgradeIfSecondaryHealthy_():"r"===b?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===b&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},A.prototype.onSecondaryMessageReceived_=function(g){var b=J("t",g),P=J("d",g);if("c"===b)this.onSecondaryControl_(P);else{if("d"!==b)throw new Error("Unknown protocol layer: "+b);this.pendingDataMessages.push(P)}},A.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},A.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},A.prototype.onPrimaryMessageReceived_=function(g){var b=J("t",g),P=J("d",g);"c"===b?this.onControl_(P):"d"===b&&this.onDataMessage_(P)},A.prototype.onDataMessage_=function(g){this.onPrimaryResponse_(),this.onMessage_(g)},A.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},A.prototype.onControl_=function(g){var b=J("t",g);if("d"in g){var P=g.d;if("h"===b)this.onHandshake_(P);else if("n"===b){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var G=0;G<this.pendingDataMessages.length;++G)this.onDataMessage_(this.pendingDataMessages[G]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===b?this.onConnectionShutdown_(P):"r"===b?this.onReset_(P):"e"===b?Ae("Server Error: "+P):"o"===b?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ae("Unknown control packet command: "+b)}},A.prototype.onHandshake_=function(g){var b=g.ts,P=g.v,G=g.h;this.sessionId=g.s,this.repoInfo_.updateHost(G),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,b),"5"!==P&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())},A.prototype.tryStartUpgrade_=function(){var g=this.transportManager_.upgradeTransport();g&&this.startUpgrade_(g)},A.prototype.startUpgrade_=function(g){var b=this;this.secondaryConn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var P=this.connReceiver_(this.secondaryConn_),G=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(P,G),rn(function(){b.secondaryConn_&&(b.log_("Timed out trying to upgrade."),b.secondaryConn_.close())},Math.floor(6e4))},A.prototype.onReset_=function(g){this.log_("Reset packet received.  New host: "+g),this.repoInfo_.updateHost(g),1===this.state_?this.close():(this.closeConnections_(),this.start_())},A.prototype.onConnectionEstablished_=function(g,b){var P=this;this.log_("Realtime connection established."),this.conn_=g,this.state_=1,this.onReady_&&(this.onReady_(b,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rn(function(){P.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},A.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},A.prototype.onSecondaryConnectionLost_=function(){var g=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===g||this.rx_===g)&&this.close()},A.prototype.onConnectionLost_=function(g){this.conn_=null,g||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},A.prototype.onConnectionShutdown_=function(g){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(g),this.onKill_=null),this.onDisconnect_=null,this.close()},A.prototype.sendData_=function(g){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(g)},A.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},A.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},A}(),Gl=function(){function A(){}return A.prototype.put=function(g,b,P,G){},A.prototype.merge=function(g,b,P,G){},A.prototype.refreshAuthToken=function(g){},A.prototype.onDisconnectPut=function(g,b,P){},A.prototype.onDisconnectMerge=function(g,b,P){},A.prototype.onDisconnectCancel=function(g,b){},A.prototype.reportStats=function(g){},A}(),Wo=1e3,Kr=function(A){function g(b,P,G,ie,Ce,Oe,ze){var Be=A.call(this)||this;if(Be.repoInfo_=b,Be.applicationId_=P,Be.onDataUpdate_=G,Be.onConnectStatus_=ie,Be.onServerInfoUpdate_=Ce,Be.authTokenProvider_=Oe,Be.authOverride_=ze,Be.id=g.nextPersistentConnectionId_++,Be.log_=ve("p:"+Be.id+":"),Be.interruptReasons_={},Be.listens=new Map,Be.outstandingPuts_=[],Be.outstandingPutCount_=0,Be.onDisconnectRequestQueue_=[],Be.connected_=!1,Be.reconnectDelay_=Wo,Be.maxReconnectDelay_=3e5,Be.securityDebugCallback_=null,Be.lastSessionId=null,Be.establishConnectionTimer_=null,Be.visible_=!1,Be.requestCBHash_={},Be.requestNumber_=0,Be.realtime_=null,Be.authToken_=null,Be.forceTokenRefresh_=!1,Be.invalidAuthTokenCount_=0,Be.firstConnection_=!0,Be.lastConnectionAttemptTime_=null,Be.lastConnectionEstablishedTime_=null,ze&&!S.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Be.scheduleConnect_(0),ni.getInstance().on("visible",Be.onVisible_,Be),-1===b.host.indexOf("fblocal")&&pr.getInstance().on("online",Be.onOnline_,Be),Be}return C.__extends(g,A),g.prototype.sendRequest=function(b,P,G){var ie=++this.requestNumber_,Ce={r:ie,a:b,b:P};this.log_(S.stringify(Ce)),S.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Ce),G&&(this.requestCBHash_[ie]=G)},g.prototype.listen=function(b,P,G,ie){var Ce=b.queryIdentifier(),Oe=b.path.toString();this.log_("Listen called for "+Oe+" "+Ce),this.listens.has(Oe)||this.listens.set(Oe,new Map),S.assert(b.getQueryParams().isDefault()||!b.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),S.assert(!this.listens.get(Oe).has(Ce),"listen() called twice for same path/queryId.");var ze={onComplete:ie,hashFn:P,query:b,tag:G};this.listens.get(Oe).set(Ce,ze),this.connected_&&this.sendListen_(ze)},g.prototype.sendListen_=function(b){var P=this,G=b.query,ie=G.path.toString(),Ce=G.queryIdentifier();this.log_("Listen on "+ie+" for "+Ce);var Oe={p:ie};b.tag&&(Oe.q=G.queryObject(),Oe.t=b.tag),Oe.h=b.hashFn(),this.sendRequest("q",Oe,function(Be){var yt=Be.d,Ot=Be.s;g.warnOnListenWarnings_(yt,G),(P.listens.get(ie)&&P.listens.get(ie).get(Ce))===b&&(P.log_("listen response",Be),"ok"!==Ot&&P.removeListen_(ie,Ce),b.onComplete&&b.onComplete(Ot,yt))})},g.warnOnListenWarnings_=function(b,P){if(b&&"object"==typeof b&&S.contains(b,"w")){var G=S.safeGet(b,"w");if(Array.isArray(G)&&~G.indexOf("no_index")){var ie='".indexOn": "'+P.getQueryParams().getIndex().toString()+'"',Ce=P.path.toString();Ge("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+ie+" at "+Ce+" to your security rules for better performance.")}}},g.prototype.refreshAuthToken=function(b){this.authToken_=b,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(b)},g.prototype.reduceReconnectDelayIfAdminCredential_=function(b){(b&&40===b.length||S.isAdmin(b))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},g.prototype.tryAuth=function(){var b=this;if(this.connected_&&this.authToken_){var P=this.authToken_,G=S.isValidFormat(P)?"auth":"gauth",ie={cred:P};null===this.authOverride_?ie.noauth=!0:"object"==typeof this.authOverride_&&(ie.authvar=this.authOverride_),this.sendRequest(G,ie,function(Ce){var Oe=Ce.s,ze=Ce.d||"error";b.authToken_===P&&("ok"===Oe?b.invalidAuthTokenCount_=0:b.onAuthRevoked_(Oe,ze))})}},g.prototype.unlisten=function(b,P){var G=b.path.toString(),ie=b.queryIdentifier();this.log_("Unlisten called for "+G+" "+ie),S.assert(b.getQueryParams().isDefault()||!b.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(G,ie)&&this.connected_&&this.sendUnlisten_(G,ie,b.queryObject(),P)},g.prototype.sendUnlisten_=function(b,P,G,ie){this.log_("Unlisten on "+b+" for "+P);var Ce={p:b};ie&&(Ce.q=G,Ce.t=ie),this.sendRequest("n",Ce)},g.prototype.onDisconnectPut=function(b,P,G){this.connected_?this.sendOnDisconnect_("o",b,P,G):this.onDisconnectRequestQueue_.push({pathString:b,action:"o",data:P,onComplete:G})},g.prototype.onDisconnectMerge=function(b,P,G){this.connected_?this.sendOnDisconnect_("om",b,P,G):this.onDisconnectRequestQueue_.push({pathString:b,action:"om",data:P,onComplete:G})},g.prototype.onDisconnectCancel=function(b,P){this.connected_?this.sendOnDisconnect_("oc",b,null,P):this.onDisconnectRequestQueue_.push({pathString:b,action:"oc",data:null,onComplete:P})},g.prototype.sendOnDisconnect_=function(b,P,G,ie){var Ce={p:P,d:G};this.log_("onDisconnect "+b,Ce),this.sendRequest(b,Ce,function(Oe){ie&&setTimeout(function(){ie(Oe.s,Oe.d)},Math.floor(0))})},g.prototype.put=function(b,P,G,ie){this.putInternal("p",b,P,G,ie)},g.prototype.merge=function(b,P,G,ie){this.putInternal("m",b,P,G,ie)},g.prototype.putInternal=function(b,P,G,ie,Ce){var Oe={p:P,d:G};void 0!==Ce&&(Oe.h=Ce),this.outstandingPuts_.push({action:b,request:Oe,onComplete:ie}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+P)},g.prototype.sendPut_=function(b){var P=this,G=this.outstandingPuts_[b].action,ie=this.outstandingPuts_[b].request,Ce=this.outstandingPuts_[b].onComplete;this.outstandingPuts_[b].queued=this.connected_,this.sendRequest(G,ie,function(Oe){P.log_(G+" response",Oe),delete P.outstandingPuts_[b],P.outstandingPutCount_--,0===P.outstandingPutCount_&&(P.outstandingPuts_=[]),Ce&&Ce(Oe.s,Oe.d)})},g.prototype.reportStats=function(b){var P=this;if(this.connected_){var G={c:b};this.log_("reportStats",G),this.sendRequest("s",G,function(ie){"ok"!==ie.s&&P.log_("reportStats","Error sending stats: "+ie.d)})}},g.prototype.onDataMessage_=function(b){if("r"in b){this.log_("from server: "+S.stringify(b));var P=b.r,G=this.requestCBHash_[P];G&&(delete this.requestCBHash_[P],G(b.b))}else{if("error"in b)throw"A server-side error has occurred: "+b.error;"a"in b&&this.onDataPush_(b.a,b.b)}},g.prototype.onDataPush_=function(b,P){this.log_("handleServerMessage",b,P),"d"===b?this.onDataUpdate_(P.p,P.d,!1,P.t):"m"===b?this.onDataUpdate_(P.p,P.d,!0,P.t):"c"===b?this.onListenRevoked_(P.p,P.q):"ac"===b?this.onAuthRevoked_(P.s,P.d):"sd"===b?this.onSecurityDebugPacket_(P):Ae("Unrecognized action received from server: "+S.stringify(b)+"\nAre you using the latest client?")},g.prototype.onReady_=function(b,P){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(b),this.lastSessionId=P,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},g.prototype.scheduleConnect_=function(b){var P=this;S.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){P.establishConnectionTimer_=null,P.establishConnection_()},Math.floor(b))},g.prototype.onVisible_=function(b){b&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=b},g.prototype.onOnline_=function(b){b?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},g.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var P=(new Date).getTime()-this.lastConnectionAttemptTime_,G=Math.max(0,this.reconnectDelay_-P);G=Math.random()*G,this.log_("Trying to reconnect in "+G+"ms"),this.scheduleConnect_(G),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},g.prototype.establishConnection_=function(){var b=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var P=this.onDataMessage_.bind(this),G=this.onReady_.bind(this),ie=this.onRealtimeDisconnect_.bind(this),Ce=this.id+":"+g.nextConnectionId_++,Oe=this,ze=this.lastSessionId,Be=!1,yt=null,Ot=function(){yt?yt.close():(Be=!0,ie())};this.realtime_={close:Ot,sendRequest:function(dn){S.assert(yt,"sendRequest call when we're not connected not allowed."),yt.sendRequest(dn)}};var Xt=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(Xt).then(function(dn){Be?_e("getToken() completed but was canceled"):(_e("getToken() completed. Creating connection."),Oe.authToken_=dn&&dn.accessToken,yt=new Ra(Ce,Oe.repoInfo_,Oe.applicationId_,P,G,ie,function(On){Ge(On+" ("+Oe.repoInfo_.toString()+")"),Oe.interrupt("server_kill")},ze))}).then(null,function(dn){Oe.log_("Failed to get token: "+dn),Be||(b.repoInfo_.nodeAdmin&&Ge(dn),Ot())})}},g.prototype.interrupt=function(b){_e("Interrupting connection for reason: "+b),this.interruptReasons_[b]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},g.prototype.resume=function(b){_e("Resuming connection for reason: "+b),delete this.interruptReasons_[b],S.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))},g.prototype.handleTimestamp_=function(b){var P=b-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:P})},g.prototype.cancelSentTransactions_=function(){for(var b=0;b<this.outstandingPuts_.length;b++){var P=this.outstandingPuts_[b];P&&"h"in P.request&&P.queued&&(P.onComplete&&P.onComplete("disconnect"),delete this.outstandingPuts_[b],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},g.prototype.onListenRevoked_=function(b,P){var G;G=P?P.map(function(Ce){return je(Ce)}).join("$"):"default";var ie=this.removeListen_(b,G);ie&&ie.onComplete&&ie.onComplete("permission_denied")},g.prototype.removeListen_=function(b,P){var ie,G=new St(b).toString();if(this.listens.has(G)){var Ce=this.listens.get(G);ie=Ce.get(P),Ce.delete(P),0===Ce.size&&this.listens.delete(G)}else ie=void 0;return ie},g.prototype.onAuthRevoked_=function(b,P){_e("Auth token revoked: "+b+"/"+P),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===b||"permission_denied"===b)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},g.prototype.onSecurityDebugPacket_=function(b){this.securityDebugCallback_?this.securityDebugCallback_(b):"msg"in b&&console.log("FIREBASE: "+b.msg.replace("\n","\nFIREBASE: "))},g.prototype.restoreState_=function(){var b,P,G,ie;this.tryAuth();try{for(var Ce=C.__values(this.listens.values()),Oe=Ce.next();!Oe.done;Oe=Ce.next()){var ze=Oe.value;try{for(var Be=(G=void 0,C.__values(ze.values())),yt=Be.next();!yt.done;yt=Be.next())this.sendListen_(yt.value)}catch(dn){G={error:dn}}finally{try{yt&&!yt.done&&(ie=Be.return)&&ie.call(Be)}finally{if(G)throw G.error}}}}catch(dn){b={error:dn}}finally{try{Oe&&!Oe.done&&(P=Ce.return)&&P.call(Ce)}finally{if(b)throw b.error}}for(var Ut=0;Ut<this.outstandingPuts_.length;Ut++)this.outstandingPuts_[Ut]&&this.sendPut_(Ut);for(;this.onDisconnectRequestQueue_.length;){var Xt=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Xt.action,Xt.pathString,Xt.data,Xt.onComplete)}},g.prototype.sendConnectStats_=function(){var b={},P="js";S.isNodeSdk()&&(P=this.repoInfo_.nodeAdmin?"admin_node":"node"),b["sdk."+P+"."+_o.replace(/\./g,"-")]=1,S.isMobileCordova()?b["framework.cordova"]=1:S.isReactNative()&&(b["framework.reactnative"]=1),this.reportStats(b)},g.prototype.shouldReconnect_=function(){var b=pr.getInstance().currentlyOnline();return S.isEmpty(this.interruptReasons_)&&b},g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g}(Gl),Na=function(A){function g(b,P,G){var ie=A.call(this)||this;return ie.repoInfo_=b,ie.onDataUpdate_=P,ie.authTokenProvider_=G,ie.log_=ve("p:rest:"),ie.listens_={},ie}return C.__extends(g,A),g.prototype.reportStats=function(b){throw new Error("Method not implemented.")},g.getListenId_=function(b,P){return void 0!==P?"tag$"+P:(S.assert(b.getQueryParams().isDefault(),"should have a tag if it's not a default query."),b.path.toString())},g.prototype.listen=function(b,P,G,ie){var Ce=this,Oe=b.path.toString();this.log_("Listen called for "+Oe+" "+b.queryIdentifier());var ze=g.getListenId_(b,G),Be={};this.listens_[ze]=Be;var yt=b.getQueryParams().toRestQueryStringParameters();this.restRequest_(Oe+".json",yt,function(Ot,Ut){var Xt=Ut;404===Ot&&(Xt=null,Ot=null),null===Ot&&Ce.onDataUpdate_(Oe,Xt,!1,G),S.safeGet(Ce.listens_,ze)===Be&&ie(Ot?401===Ot?"permission_denied":"rest_error:"+Ot:"ok",null)})},g.prototype.unlisten=function(b,P){var G=g.getListenId_(b,P);delete this.listens_[G]},g.prototype.refreshAuthToken=function(b){},g.prototype.restRequest_=function(b,P,G){var ie=this;void 0===P&&(P={}),P.format="export",this.authTokenProvider_.getToken(!1).then(function(Ce){var Oe=Ce&&Ce.accessToken;Oe&&(P.auth=Oe);var ze=(ie.repoInfo_.secure?"https://":"http://")+ie.repoInfo_.host+b+"?ns="+ie.repoInfo_.namespace+S.querystring(P);ie.log_("Sending REST request for "+ze);var Be=new XMLHttpRequest;Be.onreadystatechange=function(){if(G&&4===Be.readyState){ie.log_("REST Response for "+ze+" received. status:",Be.status,"response:",Be.responseText);var yt=null;if(Be.status>=200&&Be.status<300){try{yt=S.jsonEval(Be.responseText)}catch(Ot){Ge("Failed to parse JSON response for "+ze+": "+Be.responseText)}G(null,yt)}else 401!==Be.status&&404!==Be.status&&Ge("Got unsuccessful REST response for "+ze+" Status: "+Be.status),G(Be.status);G=null}},Be.open("GET",ze,!0),Be.send()})},g}(Gl),vn="repo_interrupt",ui=function(){function A(g,b,P,G){var ie=this;if(this.repoInfo_=g,this.app=P,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new xs,this.persistentConnection_=null,this.stats_=Nt.getCollection(g),b||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Na(this.repoInfo_,this.onDataUpdate_.bind(this),G),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var Ce=P.options.databaseAuthVariableOverride;if(null!=Ce){if("object"!=typeof Ce)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{S.stringify(Ce)}catch(Oe){throw new Error("Invalid authOverride provided: "+Oe)}}this.persistentConnection_=new Kr(this.repoInfo_,P.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),G,Ce),this.server_=this.persistentConnection_}G.addTokenChangeListener(function(Oe){ie.server_.refreshAuthToken(Oe)}),this.statsReporter_=Nt.getOrCreateReporter(g,function(){return new Cr(ie.stats_,ie.server_)}),this.transactionsInit_(),this.infoData_=new nt,this.infoSyncTree_=new Ye({startListening:function(Oe,ze,Be,yt){var Ot=[],Ut=ie.infoData_.getNode(Oe.path);return Ut.isEmpty()||(Ot=ie.infoSyncTree_.applyServerOverwrite(Oe.path,Ut),setTimeout(function(){yt("ok")},0)),Ot},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ye({startListening:function(Oe,ze,Be,yt){return ie.server_.listen(Oe,Be,ze,function(Ot,Ut){var Xt=yt(Ot,Ut);ie.eventQueue_.raiseEventsForChangedPath(Oe.path,Xt)}),[]},stopListening:function(Oe,ze){ie.server_.unlisten(Oe,ze)}})}return A.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},A.prototype.name=function(){return this.repoInfo_.namespace},A.prototype.serverTime=function(){var b=this.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+b},A.prototype.generateServerValues=function(){return function(A){return(A=A||{}).timestamp=A.timestamp||(new Date).getTime(),A}({timestamp:this.serverTime()})},A.prototype.onDataUpdate_=function(g,b,P,G){this.dataUpdateCount++;var ie=new St(g);b=this.interceptServerDataCallback_?this.interceptServerDataCallback_(g,b):b;var Ce=[];if(G)if(P){var Oe=S.map(b,function(Ut){return vt(Ut)});Ce=this.serverSyncTree_.applyTaggedQueryMerge(ie,Oe,G)}else{var ze=vt(b);Ce=this.serverSyncTree_.applyTaggedQueryOverwrite(ie,ze,G)}else if(P){var Be=S.map(b,function(Ut){return vt(Ut)});Ce=this.serverSyncTree_.applyServerMerge(ie,Be)}else{var yt=vt(b);Ce=this.serverSyncTree_.applyServerOverwrite(ie,yt)}var Ot=ie;Ce.length>0&&(Ot=this.rerunTransactions_(ie)),this.eventQueue_.raiseEventsForChangedPath(Ot,Ce)},A.prototype.interceptServerData_=function(g){this.interceptServerDataCallback_=g},A.prototype.onConnectStatus_=function(g){this.updateInfo_("connected",g),!1===g&&this.runOnDisconnectEvents_()},A.prototype.onServerInfoUpdate_=function(g){var b=this;Ne(g,function(P,G){b.updateInfo_(P,G)})},A.prototype.updateInfo_=function(g,b){var P=new St("/.info/"+g),G=vt(b);this.infoData_.updateSnapshot(P,G);var ie=this.infoSyncTree_.applyServerOverwrite(P,G);this.eventQueue_.raiseEventsForChangedPath(P,ie)},A.prototype.getNextWriteId_=function(){return this.nextWriteId_++},A.prototype.setWithPriority=function(g,b,P,G){var ie=this;this.log_("set",{path:g.toString(),value:b,priority:P});var Ce=this.generateServerValues(),Oe=vt(b,P),ze=this.serverSyncTree_.calcCompleteEventCache(g),Be=ur(Oe,ze,Ce),yt=this.getNextWriteId_(),Ot=this.serverSyncTree_.applyUserOverwrite(g,Be,yt,!0);this.eventQueue_.queueEvents(Ot),this.server_.put(g.toString(),Oe.val(!0),function(Xt,dn){var On="ok"===Xt;On||Ge("set at "+g+" failed: "+Xt);var Lr=ie.serverSyncTree_.ackUserWrite(yt,!On);ie.eventQueue_.raiseEventsForChangedPath(g,Lr),ie.callOnCompleteCallback(G,Xt,dn)});var Ut=this.abortTransactions_(g);this.rerunTransactions_(Ut),this.eventQueue_.raiseEventsForChangedPath(Ut,[])},A.prototype.update=function(g,b,P){var G=this;this.log_("update",{path:g.toString(),value:b});var ie=!0,Ce=this.generateServerValues(),Oe={};if(Ne(b,function(yt,Ot){ie=!1,Oe[yt]=ho(g.child(yt),vt(Ot),G.serverSyncTree_,Ce)}),ie)_e("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(P,"ok");else{var ze=this.getNextWriteId_(),Be=this.serverSyncTree_.applyUserMerge(g,Oe,ze);this.eventQueue_.queueEvents(Be),this.server_.merge(g.toString(),b,function(yt,Ot){var Ut="ok"===yt;Ut||Ge("update at "+g+" failed: "+yt);var Xt=G.serverSyncTree_.ackUserWrite(ze,!Ut),dn=Xt.length>0?G.rerunTransactions_(g):g;G.eventQueue_.raiseEventsForChangedPath(dn,Xt),G.callOnCompleteCallback(P,yt,Ot)}),Ne(b,function(yt){var Ot=G.abortTransactions_(g.child(yt));G.rerunTransactions_(Ot)}),this.eventQueue_.raiseEventsForChangedPath(g,[])}},A.prototype.runOnDisconnectEvents_=function(){var g=this;this.log_("onDisconnectEvents");var b=this.generateServerValues(),P=new xs;this.onDisconnect_.forEachTree(St.Empty,function(ie,Ce){var Oe=ho(ie,Ce,g.serverSyncTree_,b);P.remember(ie,Oe)});var G=[];P.forEachTree(St.Empty,function(ie,Ce){G=G.concat(g.serverSyncTree_.applyServerOverwrite(ie,Ce));var Oe=g.abortTransactions_(ie);g.rerunTransactions_(Oe)}),this.onDisconnect_=new xs,this.eventQueue_.raiseEventsForChangedPath(St.Empty,G)},A.prototype.onDisconnectCancel=function(g,b){var P=this;this.server_.onDisconnectCancel(g.toString(),function(G,ie){"ok"===G&&P.onDisconnect_.forget(g),P.callOnCompleteCallback(b,G,ie)})},A.prototype.onDisconnectSet=function(g,b,P){var G=this,ie=vt(b);this.server_.onDisconnectPut(g.toString(),ie.val(!0),function(Ce,Oe){"ok"===Ce&&G.onDisconnect_.remember(g,ie),G.callOnCompleteCallback(P,Ce,Oe)})},A.prototype.onDisconnectSetWithPriority=function(g,b,P,G){var ie=this,Ce=vt(b,P);this.server_.onDisconnectPut(g.toString(),Ce.val(!0),function(Oe,ze){"ok"===Oe&&ie.onDisconnect_.remember(g,Ce),ie.callOnCompleteCallback(G,Oe,ze)})},A.prototype.onDisconnectUpdate=function(g,b,P){var G=this;if(S.isEmpty(b))return _e("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(P,"ok");this.server_.onDisconnectMerge(g.toString(),b,function(ie,Ce){"ok"===ie&&Ne(b,function(Oe,ze){var Be=vt(ze);G.onDisconnect_.remember(g.child(Oe),Be)}),G.callOnCompleteCallback(P,ie,Ce)})},A.prototype.addEventCallbackForQuery=function(g,b){var P;P=".info"===g.path.getFront()?this.infoSyncTree_.addEventRegistration(g,b):this.serverSyncTree_.addEventRegistration(g,b),this.eventQueue_.raiseEventsAtPath(g.path,P)},A.prototype.removeEventCallbackForQuery=function(g,b){var P;P=".info"===g.path.getFront()?this.infoSyncTree_.removeEventRegistration(g,b):this.serverSyncTree_.removeEventRegistration(g,b),this.eventQueue_.raiseEventsAtPath(g.path,P)},A.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(vn)},A.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(vn)},A.prototype.stats=function(g){if(void 0===g&&(g=!1),"undefined"!=typeof console){var b;g?(this.statsListener_||(this.statsListener_=new Yt(this.stats_)),b=this.statsListener_.get()):b=this.stats_.get();var P=Object.keys(b).reduce(function(G,ie){return Math.max(ie.length,G)},0);Ne(b,function(G,ie){for(var Ce=G,Oe=G.length;Oe<P+2;Oe++)Ce+=" ";console.log(Ce+ie)})}},A.prototype.statsIncrementCounter=function(g){this.stats_.incrementCounter(g),this.statsReporter_.includeStat(g)},A.prototype.log_=function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];var P="";this.persistentConnection_&&(P=this.persistentConnection_.id+":"),_e.apply(void 0,C.__spread([P],g))},A.prototype.callOnCompleteCallback=function(g,b,P){g&&Ft(function(){if("ok"===b)g(null);else{var G=(b||"error").toUpperCase(),ie=G;P&&(ie+=": "+P);var Ce=new Error(ie);Ce.code=G,g(Ce)}})},Object.defineProperty(A.prototype,"database",{get:function(){return this.__database||(this.__database=new Dt(this))},enumerable:!1,configurable:!0}),A}(),Si=function(){function A(g){this.indexedFilter_=new ko(g.getIndex()),this.index_=g.getIndex(),this.startPost_=A.getStartPost_(g),this.endPost_=A.getEndPost_(g)}return A.prototype.getStartPost=function(){return this.startPost_},A.prototype.getEndPost=function(){return this.endPost_},A.prototype.matches=function(g){return this.index_.compare(this.getStartPost(),g)<=0&&this.index_.compare(g,this.getEndPost())<=0},A.prototype.updateChild=function(g,b,P,G,ie,Ce){return this.matches(new Qe(b,P))||(P=hn.EMPTY_NODE),this.indexedFilter_.updateChild(g,b,P,G,ie,Ce)},A.prototype.updateFullNode=function(g,b,P){b.isLeafNode()&&(b=hn.EMPTY_NODE);var G=b.withIndex(this.index_);G=G.updatePriority(hn.EMPTY_NODE);var ie=this;return b.forEachChild(He,function(Ce,Oe){ie.matches(new Qe(Ce,Oe))||(G=G.updateImmediateChild(Ce,hn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(g,G,P)},A.prototype.updatePriority=function(g,b){return g},A.prototype.filtersNodes=function(){return!0},A.prototype.getIndexedFilter=function(){return this.indexedFilter_},A.prototype.getIndex=function(){return this.index_},A.getStartPost_=function(g){if(g.hasStart()){var b=g.getIndexStartName();return g.getIndex().makePost(g.getIndexStartValue(),b)}return g.getIndex().minPost()},A.getEndPost_=function(g){if(g.hasEnd()){var b=g.getIndexEndName();return g.getIndex().makePost(g.getIndexEndValue(),b)}return g.getIndex().maxPost()},A}(),qo=function(){function A(g){this.rangedFilter_=new Si(g),this.index_=g.getIndex(),this.limit_=g.getLimit(),this.reverse_=!g.isViewFromLeft()}return A.prototype.updateChild=function(g,b,P,G,ie,Ce){return this.rangedFilter_.matches(new Qe(b,P))||(P=hn.EMPTY_NODE),g.getImmediateChild(b).equals(P)?g:g.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(g,b,P,G,ie,Ce):this.fullLimitUpdateChild_(g,b,P,ie,Ce)},A.prototype.updateFullNode=function(g,b,P){var G;if(b.isLeafNode()||b.isEmpty())G=hn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<b.numChildren()&&b.isIndexed(this.index_)){G=hn.EMPTY_NODE.withIndex(this.index_);var ie=void 0;ie=this.reverse_?b.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):b.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Ce=0;ie.hasNext()&&Ce<this.limit_;){var Oe=ie.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Oe)<=0:this.index_.compare(Oe,this.rangedFilter_.getEndPost())<=0))break;G=G.updateImmediateChild(Oe.name,Oe.node),Ce++}}else{G=(G=b.withIndex(this.index_)).updatePriority(hn.EMPTY_NODE);var Be=void 0,yt=void 0,Ot=void 0;if(ie=void 0,this.reverse_){ie=G.getReverseIterator(this.index_),Be=this.rangedFilter_.getEndPost(),yt=this.rangedFilter_.getStartPost();var Ut=this.index_.getCompare();Ot=function(Lr,Rr){return Ut(Rr,Lr)}}else ie=G.getIterator(this.index_),Be=this.rangedFilter_.getStartPost(),yt=this.rangedFilter_.getEndPost(),Ot=this.index_.getCompare();Ce=0;for(var Xt=!1;ie.hasNext();)Oe=ie.getNext(),!Xt&&Ot(Be,Oe)<=0&&(Xt=!0),Xt&&Ce<this.limit_&&Ot(Oe,yt)<=0?Ce++:G=G.updateImmediateChild(Oe.name,hn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(g,G,P)},A.prototype.updatePriority=function(g,b){return g},A.prototype.filtersNodes=function(){return!0},A.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},A.prototype.getIndex=function(){return this.index_},A.prototype.fullLimitUpdateChild_=function(g,b,P,G,ie){var Ce;if(this.reverse_){var Oe=this.index_.getCompare();Ce=function(bo,Ji){return Oe(Ji,bo)}}else Ce=this.index_.getCompare();var ze=g;S.assert(ze.numChildren()===this.limit_,"");var Be=new Qe(b,P),yt=this.reverse_?ze.getFirstChild(this.index_):ze.getLastChild(this.index_),Ot=this.rangedFilter_.matches(Be);if(ze.hasChild(b)){for(var Ut=ze.getImmediateChild(b),Xt=G.getChildAfterChild(this.index_,yt,this.reverse_);null!=Xt&&(Xt.name===b||ze.hasChild(Xt.name));)Xt=G.getChildAfterChild(this.index_,Xt,this.reverse_);var dn=null==Xt?1:Ce(Xt,Be);if(Ot&&!P.isEmpty()&&dn>=0)return null!=ie&&ie.trackChildChange(yr.childChangedChange(b,P,Ut)),ze.updateImmediateChild(b,P);null!=ie&&ie.trackChildChange(yr.childRemovedChange(b,Ut));var Lr=ze.updateImmediateChild(b,hn.EMPTY_NODE);return null!=Xt&&this.rangedFilter_.matches(Xt)?(null!=ie&&ie.trackChildChange(yr.childAddedChange(Xt.name,Xt.node)),Lr.updateImmediateChild(Xt.name,Xt.node)):Lr}return P.isEmpty()?g:Ot&&Ce(yt,Be)>=0?(null!=ie&&(ie.trackChildChange(yr.childRemovedChange(yt.name,yt.node)),ie.trackChildChange(yr.childAddedChange(b,P))),ze.updateImmediateChild(b,P).updateImmediateChild(yt.name,hn.EMPTY_NODE)):g},A}(),Jr=function(){function A(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}return A.prototype.hasStart=function(){return this.startSet_},A.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===A.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},A.prototype.getIndexStartValue=function(){return S.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},A.prototype.getIndexStartName=function(){return S.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:H},A.prototype.hasEnd=function(){return this.endSet_},A.prototype.getIndexEndValue=function(){return S.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},A.prototype.getIndexEndName=function(){return S.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Q},A.prototype.hasLimit=function(){return this.limitSet_},A.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},A.prototype.getLimit=function(){return S.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},A.prototype.getIndex=function(){return this.index_},A.prototype.copy_=function(){var g=new A;return g.limitSet_=this.limitSet_,g.limit_=this.limit_,g.startSet_=this.startSet_,g.indexStartValue_=this.indexStartValue_,g.startNameSet_=this.startNameSet_,g.indexStartName_=this.indexStartName_,g.endSet_=this.endSet_,g.indexEndValue_=this.indexEndValue_,g.endNameSet_=this.endNameSet_,g.indexEndName_=this.indexEndName_,g.index_=this.index_,g.viewFrom_=this.viewFrom_,g},A.prototype.limit=function(g){var b=this.copy_();return b.limitSet_=!0,b.limit_=g,b.viewFrom_="",b},A.prototype.limitToFirst=function(g){var b=this.copy_();return b.limitSet_=!0,b.limit_=g,b.viewFrom_=A.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,b},A.prototype.limitToLast=function(g){var b=this.copy_();return b.limitSet_=!0,b.limit_=g,b.viewFrom_=A.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,b},A.prototype.startAt=function(g,b){var P=this.copy_();return P.startSet_=!0,void 0===g&&(g=null),P.indexStartValue_=g,null!=b?(P.startNameSet_=!0,P.indexStartName_=b):(P.startNameSet_=!1,P.indexStartName_=""),P},A.prototype.endAt=function(g,b){var P=this.copy_();return P.endSet_=!0,void 0===g&&(g=null),P.indexEndValue_=g,void 0!==b?(P.endNameSet_=!0,P.indexEndName_=b):(P.endNameSet_=!1,P.indexEndName_=""),P},A.prototype.orderBy=function(g){var b=this.copy_();return b.index_=g,b},A.prototype.getQueryObject=function(){var g=A.WIRE_PROTOCOL_CONSTANTS_,b={};if(this.startSet_&&(b[g.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(b[g.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(b[g.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(b[g.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){b[g.LIMIT]=this.limit_;var P=this.viewFrom_;""===P&&(P=this.isViewFromLeft()?g.VIEW_FROM_LEFT:g.VIEW_FROM_RIGHT),b[g.VIEW_FROM]=P}return this.index_!==He&&(b[g.INDEX]=this.index_.toString()),b},A.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},A.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===He},A.prototype.getNodeFilter=function(){return this.loadsAllData()?new ko(this.getIndex()):this.hasLimit()?new qo(this):new Si(this)},A.prototype.toRestQueryStringParameters=function(){var P,g=A.REST_QUERY_CONSTANTS_,b={};return this.isDefault()||(this.index_===He?P=g.PRIORITY_INDEX:this.index_===Kt?P=g.VALUE_INDEX:this.index_===xt?P=g.KEY_INDEX:(S.assert(this.index_ instanceof tr,"Unrecognized index type!"),P=this.index_.toString()),b[g.ORDER_BY]=S.stringify(P),this.startSet_&&(b[g.START_AT]=S.stringify(this.indexStartValue_),this.startNameSet_&&(b[g.START_AT]+=","+S.stringify(this.indexStartName_))),this.endSet_&&(b[g.END_AT]=S.stringify(this.indexEndValue_),this.endNameSet_&&(b[g.END_AT]+=","+S.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?b[g.LIMIT_TO_FIRST]=this.limit_:b[g.LIMIT_TO_LAST]=this.limit_)),b},A.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},A.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},A.DEFAULT=new A,A}(),xo=function(A){function g(b,P){if(!(b instanceof ui))throw new Error("new Reference() no longer supported - use app.database().");return A.call(this,b,P,Jr.DEFAULT,!1)||this}return C.__extends(g,A),g.prototype.getKey=function(){return S.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},g.prototype.child=function(b){return S.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof b?b=String(b):b instanceof St||(null===this.path.getFront()?pi("Reference.child",1,b,!1):nr("Reference.child",1,b,!1)),new g(this.repo,this.path.child(b))},g.prototype.getParent=function(){S.validateArgCount("Reference.parent",0,0,arguments.length);var b=this.path.parent();return null===b?null:new g(this.repo,b)},g.prototype.getRoot=function(){S.validateArgCount("Reference.root",0,0,arguments.length);for(var b=this;null!==b.getParent();)b=b.getParent();return b},g.prototype.databaseProp=function(){return this.repo.database},g.prototype.set=function(b,P){S.validateArgCount("Reference.set",1,2,arguments.length),er("Reference.set",this.path),Ht("Reference.set",1,b,this.path,!1),S.validateCallback("Reference.set",2,P,!0);var G=new S.Deferred;return this.repo.setWithPriority(this.path,b,null,G.wrapCallback(P)),G.promise},g.prototype.update=function(b,P){if(S.validateArgCount("Reference.update",1,2,arguments.length),er("Reference.update",this.path),Array.isArray(b)){for(var G={},ie=0;ie<b.length;++ie)G[""+ie]=b[ie];b=G,Ge("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}En("Reference.update",1,b,this.path,!1),S.validateCallback("Reference.update",2,P,!0);var Ce=new S.Deferred;return this.repo.update(this.path,b,Ce.wrapCallback(P)),Ce.promise},g.prototype.setWithPriority=function(b,P,G){if(S.validateArgCount("Reference.setWithPriority",2,3,arguments.length),er("Reference.setWithPriority",this.path),Ht("Reference.setWithPriority",1,b,this.path,!1),Wn("Reference.setWithPriority",2,P,!1),S.validateCallback("Reference.setWithPriority",3,G,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var ie=new S.Deferred;return this.repo.setWithPriority(this.path,b,P,ie.wrapCallback(G)),ie.promise},g.prototype.remove=function(b){return S.validateArgCount("Reference.remove",0,1,arguments.length),er("Reference.remove",this.path),S.validateCallback("Reference.remove",1,b,!0),this.set(null,b)},g.prototype.transaction=function(b,P,G){if(S.validateArgCount("Reference.transaction",1,3,arguments.length),er("Reference.transaction",this.path),S.validateCallback("Reference.transaction",1,b,!1),S.validateCallback("Reference.transaction",2,P,!0),no("Reference.transaction",3,G,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===G&&(G=!0);var ie=new S.Deferred;"function"==typeof P&&ie.promise.catch(function(){});var Ce=function(Oe,ze,Be){Oe?ie.reject(Oe):ie.resolve(new hi(ze,Be)),"function"==typeof P&&P(Oe,ze,Be)};return this.repo.startTransaction(this.path,b,Ce,G),ie.promise},g.prototype.setPriority=function(b,P){S.validateArgCount("Reference.setPriority",1,2,arguments.length),er("Reference.setPriority",this.path),Wn("Reference.setPriority",1,b,!1),S.validateCallback("Reference.setPriority",2,P,!0);var G=new S.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),b,null,G.wrapCallback(P)),G.promise},g.prototype.push=function(b,P){S.validateArgCount("Reference.push",0,2,arguments.length),er("Reference.push",this.path),Ht("Reference.push",1,b,this.path,!0),S.validateCallback("Reference.push",2,P,!0);var ze,G=this.repo.serverTime(),ie=Ni(G),Ce=this.child(ie),Oe=this.child(ie);return ze=null!=b?Ce.set(b,P).then(function(){return Oe}):Promise.resolve(Oe),Ce.then=ze.then.bind(ze),Ce.catch=ze.then.bind(ze,void 0),"function"==typeof P&&ze.catch(function(){}),Ce},g.prototype.onDisconnect=function(){return er("Reference.onDisconnect",this.path),new qr(this.repo,this.path)},Object.defineProperty(g.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),g}(ro);ro.__referenceConstructor=xo,qs.__referenceConstructor=xo;var zl=function(){this.children={},this.childCount=0,this.value=null},Fa=function(){function A(g,b,P){void 0===g&&(g=""),void 0===b&&(b=null),void 0===P&&(P=new zl),this.name_=g,this.parent_=b,this.node_=P}return A.prototype.subTree=function(g){for(var b=g instanceof St?g:new St(g),P=this,G=b.getFront();null!==G;)P=new A(G,P,S.safeGet(P.node_.children,G)||new zl),G=(b=b.popFront()).getFront();return P},A.prototype.getValue=function(){return this.node_.value},A.prototype.setValue=function(g){S.assert(void 0!==g,"Cannot set value to undefined"),this.node_.value=g,this.updateParents_()},A.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},A.prototype.hasChildren=function(){return this.node_.childCount>0},A.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},A.prototype.forEachChild=function(g){var b=this;Ne(this.node_.children,function(P,G){g(new A(P,b,G))})},A.prototype.forEachDescendant=function(g,b,P){b&&!P&&g(this),this.forEachChild(function(G){G.forEachDescendant(g,!0,P)}),b&&P&&g(this)},A.prototype.forEachAncestor=function(g,b){for(var P=b?this:this.parent();null!==P;){if(g(P))return!0;P=P.parent()}return!1},A.prototype.forEachImmediateDescendantWithValue=function(g){this.forEachChild(function(b){null!==b.getValue()?g(b):b.forEachImmediateDescendantWithValue(g)})},A.prototype.path=function(){return new St(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},A.prototype.name=function(){return this.name_},A.prototype.parent=function(){return this.parent_},A.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},A.prototype.updateChild_=function(g,b){var P=b.isEmpty(),G=S.contains(this.node_.children,g);P&&G?(delete this.node_.children[g],this.node_.childCount--,this.updateParents_()):!P&&!G&&(this.node_.children[g]=b.node_,this.node_.childCount++,this.updateParents_())},A}(),Fi=(()=>(function(A){A[A.RUN=0]="RUN",A[A.SENT=1]="SENT",A[A.COMPLETED=2]="COMPLETED",A[A.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",A[A.NEEDS_ABORT=4]="NEEDS_ABORT"}(Fi||(Fi={})),Fi))();ui.MAX_TRANSACTION_RETRIES_=25,ui.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Fa},ui.prototype.startTransaction=function(A,g,b,P){this.log_("transaction on "+A);var G=function(){},ie=new xo(this,A);ie.on("value",G);var Oe={path:A,update:g,onComplete:b,status:null,order:me(),applyLocally:P,retryCount:0,unwatcher:function(){ie.off("value",G)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ze=this.getLatestState_(A);Oe.currentInputSnapshot=ze;var Be=Oe.update(ze.val());if(void 0===Be){if(Oe.unwatcher(),Oe.currentOutputSnapshotRaw=null,Oe.currentOutputSnapshotResolved=null,Oe.onComplete){var yt=new Xn(Oe.currentInputSnapshot,new xo(this,Oe.path),He);Oe.onComplete(null,!1,yt)}}else{Tn("transaction failed: Data returned ",Be,Oe.path),Oe.status=Fi.RUN;var Ot=this.transactionQueueTree_.subTree(A),Ut=Ot.getValue()||[];Ut.push(Oe),Ot.setValue(Ut);var Xt=void 0;"object"==typeof Be&&null!==Be&&S.contains(Be,".priority")?(Xt=S.safeGet(Be,".priority"),S.assert(ln(Xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Xt=(this.serverSyncTree_.calcCompleteEventCache(A)||hn.EMPTY_NODE).getPriority().val(),Xt=Xt;var On=this.generateServerValues(),Lr=vt(Be,Xt),Rr=ur(Lr,ze,On);Oe.currentOutputSnapshotRaw=Lr,Oe.currentOutputSnapshotResolved=Rr,Oe.currentWriteId=this.getNextWriteId_();var bo=this.serverSyncTree_.applyUserOverwrite(A,Rr,Oe.currentWriteId,Oe.applyLocally);this.eventQueue_.raiseEventsForChangedPath(A,bo),this.sendReadyTransactions_()}},ui.prototype.getLatestState_=function(A,g){return this.serverSyncTree_.calcCompleteEventCache(A,g)||hn.EMPTY_NODE},ui.prototype.sendReadyTransactions_=function(A){var g=this;if(void 0===A&&(A=this.transactionQueueTree_),A||this.pruneCompletedTransactionsBelowNode_(A),null!==A.getValue()){var b=this.buildTransactionQueue_(A);S.assert(b.length>0,"Sending zero length transaction queue"),b.every(function(G){return G.status===Fi.RUN})&&this.sendTransactionQueue_(A.path(),b)}else A.hasChildren()&&A.forEachChild(function(G){g.sendReadyTransactions_(G)})},ui.prototype.sendTransactionQueue_=function(A,g){for(var b=this,P=g.map(function(Ut){return Ut.currentWriteId}),G=this.getLatestState_(A,P),ie=G,Ce=G.hash(),Oe=0;Oe<g.length;Oe++){var ze=g[Oe];S.assert(ze.status===Fi.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),ze.status=Fi.SENT,ze.retryCount++;var Be=St.relativePath(A,ze.path);ie=ie.updateChild(Be,ze.currentOutputSnapshotRaw)}var yt=ie.val(!0),Ot=A;this.server_.put(Ot.toString(),yt,function(Ut){b.log_("transaction put response",{path:Ot.toString(),status:Ut});var Xt=[];if("ok"===Ut){for(var dn=[],On=0;On<g.length;On++){if(g[On].status=Fi.COMPLETED,Xt=Xt.concat(b.serverSyncTree_.ackUserWrite(g[On].currentWriteId)),g[On].onComplete){var Lr=g[On].currentOutputSnapshotResolved,Rr=new xo(b,g[On].path),bo=new Xn(Lr,Rr,He);dn.push(g[On].onComplete.bind(null,null,!0,bo))}g[On].unwatcher()}for(b.pruneCompletedTransactionsBelowNode_(b.transactionQueueTree_.subTree(A)),b.sendReadyTransactions_(),b.eventQueue_.raiseEventsForChangedPath(A,Xt),On=0;On<dn.length;On++)Ft(dn[On])}else{if("datastale"===Ut)for(On=0;On<g.length;On++)g[On].status=g[On].status===Fi.SENT_NEEDS_ABORT?Fi.NEEDS_ABORT:Fi.RUN;else for(Ge("transaction at "+Ot.toString()+" failed: "+Ut),On=0;On<g.length;On++)g[On].status=Fi.NEEDS_ABORT,g[On].abortReason=Ut;b.rerunTransactions_(A)}},Ce)},ui.prototype.rerunTransactions_=function(A){var g=this.getAncestorTransactionNode_(A),b=g.path(),P=this.buildTransactionQueue_(g);return this.rerunTransactionQueue_(P,b),b},ui.prototype.rerunTransactionQueue_=function(A,g){if(0!==A.length){for(var b=[],P=[],ie=A.filter(function(Fn){return Fn.status===Fi.RUN}).map(function(Fn){return Fn.currentWriteId}),Ce=0;Ce<A.length;Ce++){var Oe=A[Ce],ze=St.relativePath(g,Oe.path),Be=!1,yt=void 0;if(S.assert(null!==ze,"rerunTransactionsUnderNode_: relativePath should not be null."),Oe.status===Fi.NEEDS_ABORT)Be=!0,yt=Oe.abortReason,P=P.concat(this.serverSyncTree_.ackUserWrite(Oe.currentWriteId,!0));else if(Oe.status===Fi.RUN)if(Oe.retryCount>=ui.MAX_TRANSACTION_RETRIES_)Be=!0,yt="maxretry",P=P.concat(this.serverSyncTree_.ackUserWrite(Oe.currentWriteId,!0));else{var Ot=this.getLatestState_(Oe.path,ie);Oe.currentInputSnapshot=Ot;var Ut=A[Ce].update(Ot.val());if(void 0!==Ut){Tn("transaction failed: Data returned ",Ut,Oe.path);var Xt=vt(Ut);"object"==typeof Ut&&null!=Ut&&S.contains(Ut,".priority")||(Xt=Xt.updatePriority(Ot.getPriority()));var On=Oe.currentWriteId,Lr=this.generateServerValues(),Rr=ur(Xt,Ot,Lr);Oe.currentOutputSnapshotRaw=Xt,Oe.currentOutputSnapshotResolved=Rr,Oe.currentWriteId=this.getNextWriteId_(),ie.splice(ie.indexOf(On),1),P=(P=P.concat(this.serverSyncTree_.applyUserOverwrite(Oe.path,Rr,Oe.currentWriteId,Oe.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(On,!0))}else Be=!0,yt="nodata",P=P.concat(this.serverSyncTree_.ackUserWrite(Oe.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(g,P),P=[],Be&&(A[Ce].status=Fi.COMPLETED,setTimeout(A[Ce].unwatcher,Math.floor(0)),A[Ce].onComplete))if("nodata"===yt){var bo=new xo(this,A[Ce].path),Qo=new Xn(A[Ce].currentInputSnapshot,bo,He);b.push(A[Ce].onComplete.bind(null,null,!1,Qo))}else b.push(A[Ce].onComplete.bind(null,new Error(yt),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),Ce=0;Ce<b.length;Ce++)Ft(b[Ce]);this.sendReadyTransactions_()}},ui.prototype.getAncestorTransactionNode_=function(A){var g,b=this.transactionQueueTree_;for(g=A.getFront();null!==g&&null===b.getValue();)b=b.subTree(g),g=(A=A.popFront()).getFront();return b},ui.prototype.buildTransactionQueue_=function(A){var g=[];return this.aggregateTransactionQueuesForNode_(A,g),g.sort(function(b,P){return b.order-P.order}),g},ui.prototype.aggregateTransactionQueuesForNode_=function(A,g){var b=this,P=A.getValue();if(null!==P)for(var G=0;G<P.length;G++)g.push(P[G]);A.forEachChild(function(ie){b.aggregateTransactionQueuesForNode_(ie,g)})},ui.prototype.pruneCompletedTransactionsBelowNode_=function(A){var g=this,b=A.getValue();if(b){for(var P=0,G=0;G<b.length;G++)b[G].status!==Fi.COMPLETED&&(b[P]=b[G],P++);b.length=P,A.setValue(b.length>0?b:null)}A.forEachChild(function(ie){g.pruneCompletedTransactionsBelowNode_(ie)})},ui.prototype.abortTransactions_=function(A){var g=this,b=this.getAncestorTransactionNode_(A).path(),P=this.transactionQueueTree_.subTree(A);return P.forEachAncestor(function(G){g.abortTransactionsOnNode_(G)}),this.abortTransactionsOnNode_(P),P.forEachDescendant(function(G){g.abortTransactionsOnNode_(G)}),b},ui.prototype.abortTransactionsOnNode_=function(A){var g=A.getValue();if(null!==g){for(var b=[],P=[],G=-1,ie=0;ie<g.length;ie++)g[ie].status!==Fi.SENT_NEEDS_ABORT&&(g[ie].status===Fi.SENT?(S.assert(G===ie-1,"All SENT items should be at beginning of queue."),G=ie,g[ie].status=Fi.SENT_NEEDS_ABORT,g[ie].abortReason="set"):(S.assert(g[ie].status===Fi.RUN,"Unexpected transaction status in abort"),g[ie].unwatcher(),P=P.concat(this.serverSyncTree_.ackUserWrite(g[ie].currentWriteId,!0)),g[ie].onComplete&&b.push(g[ie].onComplete.bind(null,new Error("set"),!1,null))));for(-1===G?A.setValue(null):g.length=G+1,this.eventQueue_.raiseEventsForChangedPath(A.path(),P),ie=0;ie<b.length;ie++)Ft(b[ie])}};var Ue,x=function(){function A(g,b){var P=this;this.app_=g,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.get().then(function(G){return P.auth_=G})}return A.prototype.getToken=function(g){return this.auth_?this.auth_.getToken(g).catch(function(b){return b&&"auth/token-not-initialized"===b.code?(_e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)}):Promise.resolve(null)},A.prototype.addTokenChangeListener=function(g){this.auth_?this.auth_.addAuthTokenListener(g):(setTimeout(function(){return g(null)},0),this.authProvider_.get().then(function(b){return b.addAuthTokenListener(g)}))},A.prototype.removeTokenChangeListener=function(g){this.authProvider_.get().then(function(b){return b.removeAuthTokenListener(g)})},A.prototype.notifyForInvalidToken=function(){var g='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';Ge(g+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},A}(),ce=function(){function A(){}return A.prototype.getToken=function(g){return Promise.resolve({accessToken:A.EMULATOR_AUTH_TOKEN})},A.prototype.addTokenChangeListener=function(g){g(A.EMULATOR_AUTH_TOKEN)},A.prototype.removeTokenChangeListener=function(g){},A.prototype.notifyForInvalidToken=function(){},A.EMULATOR_AUTH_TOKEN="owner",A}(),ct=function(){function A(){this.repos_={},this.useRestClient_=!1}return A.getInstance=function(){return Ue||(Ue=new A),Ue},A.prototype.interrupt=function(){var g,b,P,G;try{for(var ie=C.__values(Object.keys(this.repos_)),Ce=ie.next();!Ce.done;Ce=ie.next()){var Oe=Ce.value;try{for(var ze=(P=void 0,C.__values(Object.keys(this.repos_[Oe]))),Be=ze.next();!Be.done;Be=ze.next())this.repos_[Oe][Be.value].interrupt()}catch(Ot){P={error:Ot}}finally{try{Be&&!Be.done&&(G=ze.return)&&G.call(ze)}finally{if(P)throw P.error}}}}catch(Ot){g={error:Ot}}finally{try{Ce&&!Ce.done&&(b=ie.return)&&b.call(ie)}finally{if(g)throw g.error}}},A.prototype.resume=function(){var g,b,P,G;try{for(var ie=C.__values(Object.keys(this.repos_)),Ce=ie.next();!Ce.done;Ce=ie.next()){var Oe=Ce.value;try{for(var ze=(P=void 0,C.__values(Object.keys(this.repos_[Oe]))),Be=ze.next();!Be.done;Be=ze.next())this.repos_[Oe][Be.value].resume()}catch(Ot){P={error:Ot}}finally{try{Be&&!Be.done&&(G=ze.return)&&G.call(ze)}finally{if(P)throw P.error}}}}catch(Ot){g={error:Ot}}finally{try{Ce&&!Ce.done&&(b=ie.return)&&b.call(ie)}finally{if(g)throw g.error}}},A.prototype.databaseFromApp=function(g,b,P,G){var ie=P||g.options.databaseURL;void 0===ie&&(g.options.projectId||xe("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_e("Using default host for project ",g.options.projectId),ie=g.options.projectId+"-default-rtdb.firebaseio.com");var ze,Ce=Gn(ie,G),Oe=Ce.repoInfo,Be=void 0;"undefined"!=typeof process&&(Be=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Be?(ze=!0,Oe=(Ce=Gn(ie="http://"+Be+"?ns="+Oe.namespace,G)).repoInfo):ze=!Ce.repoInfo.secure;var yt=G&&ze?new ce:new x(g,b);return Ar("Invalid Firebase Database URL",1,Ce),Ce.path.isEmpty()||xe("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(Oe,g,yt).database},A.prototype.deleteRepo=function(g){var b=S.safeGet(this.repos_,g.app.name);(!b||S.safeGet(b,g.repoInfo_.toURLString())!==g)&&xe("Database "+g.app.name+"("+g.repoInfo_+") has already been deleted."),g.interrupt(),delete b[g.repoInfo_.toURLString()]},A.prototype.createRepo=function(g,b,P){var G=S.safeGet(this.repos_,b.name);G||(this.repos_[b.name]=G={});var ie=S.safeGet(G,g.toURLString());return ie&&xe("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ie=new ui(g,this.useRestClient_,b,P),G[g.toURLString()]=ie,ie},A.prototype.forceRestClient=function(g){this.useRestClient_=g},A}(),Dt=function(){function A(g){this.repo_=g,g instanceof ui||xe("Don't call new Database() directly - please use firebase.database()."),this.root_=new xo(g,St.Empty),this.INTERNAL=new Mn(this)}return Object.defineProperty(A.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),A.prototype.ref=function(g){return this.checkDeleted_("ref"),S.validateArgCount("database.ref",0,1,arguments.length),g instanceof xo?this.refFromURL(g.toString()):void 0!==g?this.root_.child(g):this.root_},A.prototype.refFromURL=function(g){var b="database.refFromURL";this.checkDeleted_(b),S.validateArgCount(b,1,1,arguments.length);var P=Gn(g,this.repo_.repoInfo_.nodeAdmin);Ar(b,1,P);var G=P.repoInfo;return G.host!==this.repo_.repoInfo_.host&&xe(b+": Host name does not match the current database: (found "+G.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(P.path.toString())},A.prototype.checkDeleted_=function(g){null===this.repo_&&xe("Cannot call "+g+" on a deleted database.")},A.prototype.goOffline=function(){S.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},A.prototype.goOnline=function(){S.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},A.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(g){return{".sv":{increment:g}}}},A}(),Mn=function(){function A(g){this.database=g}return A.prototype.delete=function(){return C.__awaiter(this,void 0,void 0,function(){return C.__generator(this,function(g){return this.database.checkDeleted_("delete"),ct.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},A}(),ji=Object.freeze({__proto__:null,forceLongPolling:function(){Bi.forceDisallow(),Zt.forceAllow()},forceWebSockets:function(){Zt.forceDisallow()},isWebSocketsAvailable:function(){return Bi.isAvailable()},setSecurityDebugCallback:function(A,g){A.repo.persistentConnection_.securityDebugCallback_=g},stats:function(A,g){A.repo.stats(g)},statsIncrementCounter:function(A,g){A.repo.statsIncrementCounter(g)},dataUpdateCount:function(A){return A.repo.dataUpdateCount},interceptServerData:function(A,g){return A.repo.interceptServerData_(g)}}),lu=Kr;Kr.prototype.simpleListen=function(A,g){this.sendRequest("q",{p:A},g)},Kr.prototype.echo=function(A,g){this.sendRequest("echo",{d:A},g)};var Pn=Object.freeze({__proto__:null,DataConnection:lu,RealTimeConnection:Ra,hijackHash:function(A){var g=Kr.prototype.put;return Kr.prototype.put=function(b,P,G,ie){void 0!==ie&&(ie=A()),g.call(this,b,P,G,ie)},function(){Kr.prototype.put=g}},ConnectionTarget:or,queryIdentifier:function(A){return A.queryIdentifier()},forceRestClient:function(A){ct.getInstance().forceRestClient(A)}}),us=Dt.ServerValue;function Yo(A){!function(A){_o=A}(A.SDK_VERSION);var g=A.INTERNAL.registerComponent(new Y.Component("database",function(b,P){var G=b.getProvider("app").getImmediate(),ie=b.getProvider("auth-internal");return ct.getInstance().databaseFromApp(G,ie,P)},"PUBLIC").setServiceProps({Reference:xo,Query:ro,Database:Dt,DataSnapshot:Xn,enableLogging:ee,INTERNAL:ji,ServerValue:us,TEST_ACCESS:Pn}).setMultipleInstances(!0));A.registerVersion("@firebase/database","0.6.13"),S.isNodeSdk()&&(h.exports=g)}Yo(re.default),m.DataSnapshot=Xn,m.Database=Dt,m.OnDisconnect=qr,m.Query=ro,m.Reference=xo,m.ServerValue=us,m.enableLogging=ee,m.registerDatabase=Yo},199:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var f,t=v(617),C=v(9278),S=v(4003),q=v(1270),Y=v(670),se=v(6355),fe=(f=C)&&"object"==typeof f&&"default"in f?f:{default:f},B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(f){function l(c,_){var T=this;return(T=f.call(this,_)||this).code=c,T.message=_,T.name="FirebaseError",T.toString=function(){return T.name+": [code="+T.code+"]: "+T.message},T}return t.__extends(l,f),l}(Error),oe=new S.Logger("@firebase/firestore");function X(){return oe.logLevel}function te(f){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];if(oe.logLevel<=S.LogLevel.DEBUG){var _=l.map(W);oe.debug.apply(oe,t.__spreadArrays(["Firestore (7.24.0): "+f],_))}}function me(f){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];if(oe.logLevel<=S.LogLevel.ERROR){var _=l.map(W);oe.error.apply(oe,t.__spreadArrays(["Firestore (7.24.0): "+f],_))}}function le(f){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];if(oe.logLevel<=S.LogLevel.WARN){var _=l.map(W);oe.warn.apply(oe,t.__spreadArrays(["Firestore (7.24.0): "+f],_))}}function W(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch(c){return f}}function z(f){void 0===f&&(f="Unexpected state");var l="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw me(l),new Error(l)}function K(f,l){f||z()}function ee(f,l){return f}function _e(f){var l=0;for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&l++;return l}function ve(f,l){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&l(c,f[c])}function Ae(f){for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l))return!1;return!0}var xe=function(){function f(l,c,_){void 0===c?c=0:c>l.length&&z(),void 0===_?_=l.length-c:_>l.length-c&&z(),this.segments=l,this.offset=c,this.t=_}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return 0===f.i(this,l)},f.prototype.child=function(l){var c=this.segments.slice(this.offset,this.limit());return l instanceof f?l.forEach(function(_){c.push(_)}):c.push(l),this.o(c)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(l){return this.o(this.segments,this.offset+(l=void 0===l?1:l),this.length-l)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(l){return this.segments[this.offset+l]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(l){if(l.length<this.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==l.get(c))return!1;return!0},f.prototype.I=function(l){if(this.length+1!==l.length)return!1;for(var c=0;c<this.length;c++)if(this.get(c)!==l.get(c))return!1;return!0},f.prototype.forEach=function(l){for(var c=this.offset,_=this.limit();c<_;c++)l(this.segments[c])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(l,c){for(var _=Math.min(l.length,c.length),T=0;T<_;T++){var M=l.get(T),V=c.get(T);if(M<V)return-1;if(M>V)return 1}return l.length<c.length?-1:l.length>c.length?1:0},f}(),Ge=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.o=function(c,_,T){return new l(c,_,T)},l.prototype.R=function(){return this.A().join("/")},l.prototype.toString=function(){return this.R()},l.g=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];for(var T=[],M=0,V=c;M<V.length;M++){var ae=V[M];if(ae.indexOf("//")>=0)throw new j(B.INVALID_ARGUMENT,"Invalid segment ("+ae+"). Paths must not contain // in them.");T.push.apply(T,ae.split("/").filter(function(ye){return ye.length>0}))}return new l(T)},l.P=function(){return new l([])},l}(xe),k=/^[_a-zA-Z][_a-zA-Z0-9]*$/,U=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.o=function(c,_,T){return new l(c,_,T)},l.V=function(c){return k.test(c)},l.prototype.R=function(){return this.A().map(function(c){return c=c.replace("\\","\\\\").replace("`","\\`"),l.V(c)||(c="`"+c+"`"),c}).join(".")},l.prototype.toString=function(){return this.R()},l.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},l.v=function(){return new l(["__name__"])},l.S=function(c){for(var _=[],T="",M=0,V=function(){if(0===T.length)throw new j(B.INVALID_ARGUMENT,"Invalid field path ("+c+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");_.push(T),T=""},ae=!1;M<c.length;){var ye=c[M];if("\\"===ye){if(M+1===c.length)throw new j(B.INVALID_ARGUMENT,"Path has trailing escape character: "+c);var Re=c[M+1];if("\\"!==Re&&"."!==Re&&"`"!==Re)throw new j(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+c);T+=Re,M+=2}else"`"===ye?(ae=!ae,M++):"."!==ye||ae?(T+=ye,M++):(V(),M++)}if(V(),ae)throw new j(B.INVALID_ARGUMENT,"Unterminated ` in path: "+c);return new l(_)},l.P=function(){return new l([])},l}(xe),O=function(){function f(l){this.path=l}return f.D=function(l){return new f(Ge.g(l))},f.C=function(l){return new f(Ge.g(l).u(5))},f.prototype.N=function(l){return this.path.length>=2&&this.path.get(this.path.length-2)===l},f.prototype.isEqual=function(l){return null!==l&&0===Ge.i(this.path,l.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(l,c){return Ge.i(l.path,c.path)},f.F=function(l){return l.length%2==0},f.$=function(l){return new f(new Ge(l.slice()))},f}();function H(f,l){if(0!==l.length)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+qn(l.length,"argument")+".")}function Q(f,l,c){if(l.length!==c)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires "+qn(c,"argument")+", but was called with "+qn(l.length,"argument")+".")}function R(f,l,c){if(l.length<c)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires at least "+qn(c,"argument")+", but was called with "+qn(l.length,"argument")+".")}function $(f,l,c,_){if(l.length<c||l.length>_)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires between "+c+" and "+_+" arguments, but was called with "+qn(l.length,"argument")+".")}function J(f,l,c,_){$e(f,l,St(c)+" argument",_)}function je(f,l,c,_){void 0!==_&&J(f,l,c,_)}function we(f,l,c,_){$e(f,l,c+" option",_)}function Ne(f,l,c,_){void 0!==_&&we(f,l,c,_)}function ut(f,l,c,_,T){void 0!==_&&function(M,V,ae,ye,Re){for(var We=[],ot=0,st=Re;ot<st.length;ot++){var wt=st[ot];if(wt===ye)return;We.push(Pt(wt))}var Rt=Pt(ye);throw new j(B.INVALID_ARGUMENT,"Invalid value "+Rt+" provided to function "+M+'() for option "'+ae+'". Acceptable values: '+We.join(", "))}(f,0,c,_,T)}function qe(f,l,c,_){if(!l.some(function(T){return T===_}))throw new j(B.INVALID_ARGUMENT,"Invalid value "+Pt(_)+" provided to function "+f+"() for its "+St(c)+" argument. Acceptable values: "+l.join(", "));return _}function $e(f,l,c,_){if(!("object"===l?lt(_):"non-empty string"===l?"string"==typeof _&&""!==_:typeof _===l)){var T=Pt(_);throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires its "+c+" to be of type "+l+", but it was: "+T)}}function lt(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function Pt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var l=function(c){if(c.constructor){var _=/function\s+([^\s(]+)\s*\(/.exec(c.constructor.toString());if(_&&_.length>1)return _[1]}return null}(f);return l?"a custom "+l+" object":"an object"}return"function"==typeof f?"a function":z()}function nn(f,l,c){if(void 0===c)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+St(l)+" argument, but it was undefined.")}function Ft(f,l,c){ve(l,function(_,T){if(c.indexOf(_)<0)throw new j(B.INVALID_ARGUMENT,"Unknown option '"+_+"' passed to function "+f+"(). Available options: "+c.join(", "))})}function pn(f,l,c,_){var T=Pt(_);return new j(B.INVALID_ARGUMENT,"Function "+f+"() requires its "+St(c)+" argument to be a "+l+", but it was: "+T)}function rn(f,l,c){if(c<=0)throw new j(B.INVALID_ARGUMENT,"Function "+f+"() requires its "+St(l)+" argument to be a positive number, but it was: "+c+".")}function St(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function qn(f,l){return f+" "+l+(1===f?"":"s")}function un(f){var l="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(f);if(l&&"function"==typeof l.getRandomValues)l.getRandomValues(c);else for(var _=0;_<f;_++)c[_]=Math.floor(256*Math.random());return c}var mn=function(){function f(){}return f.k=function(){for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/l.length)*l.length,_="";_.length<20;)for(var T=un(40),M=0;M<T.length;++M)_.length<20&&T[M]<c&&(_+=l.charAt(T[M]%l.length));return _},f}();function tn(f,l){return f<l?-1:f>l?1:0}function Cn(f,l,c){return f.length===l.length&&f.every(function(_,T){return c(_,l[T])})}function Nn(f){return f+"\0"}var on=function(){function f(l){this.M=l}return f.fromBase64String=function(l){return new f(atob(l))},f.fromUint8Array=function(l){return new f(function(c){for(var _="",T=0;T<c.length;++T)_+=String.fromCharCode(c[T]);return _}(l))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(l){for(var c=new Uint8Array(l.length),_=0;_<l.length;_++)c[_]=l.charCodeAt(_);return c}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(l){return tn(this.M,l.M)},f.prototype.isEqual=function(l){return this.M===l.M},f}();on.B=new on("");var zn=function(){function f(l){this.q=l}return f.fromBase64String=function(l){try{return new f(on.fromBase64String(l))}catch(c){throw new j(B.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+c)}},f.fromUint8Array=function(l){return new f(on.fromUint8Array(l))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(l){return this.q.isEqual(l.q)},f}();function yn(){if("undefined"==typeof Uint8Array)throw new j(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hn(){if("undefined"==typeof atob)throw new j(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ir=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.fromBase64String=function(c){Q("Blob.fromBase64String",arguments,1),J("Blob.fromBase64String","string",1,c),Hn();try{return new l(on.fromBase64String(c))}catch(_){throw new j(B.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+_)}},l.fromUint8Array=function(c){if(Q("Blob.fromUint8Array",arguments,1),yn(),!(c instanceof Uint8Array))throw pn("Blob.fromUint8Array","Uint8Array",1,c);return new l(on.fromUint8Array(c))},l.prototype.toBase64=function(){return Q("Blob.toBase64",arguments,0),Hn(),f.prototype.toBase64.call(this)},l.prototype.toUint8Array=function(){return Q("Blob.toUint8Array",arguments,0),yn(),f.prototype.toUint8Array.call(this)},l.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},l}(zn),or=function(f,l,c,_,T,M){this.U=f,this.persistenceKey=l,this.host=c,this.ssl=_,this.forceLongPolling=T,this.W=M},dr=function(){function f(l,c){this.projectId=l,this.database=c||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return l instanceof f&&l.projectId===this.projectId&&l.database===this.database},f.prototype.L=function(l){return tn(this.projectId,l.projectId)||tn(this.database,l.database)},f}(),hr=function(){function f(l,c){this.K=l,this.G=c,this.H={}}return f.prototype.get=function(l){var c=this.K(l),_=this.H[c];if(void 0!==_)for(var T=0,M=_;T<M.length;T++){var V=M[T],ye=V[1];if(this.G(V[0],l))return ye}},f.prototype.has=function(l){return void 0!==this.get(l)},f.prototype.set=function(l,c){var _=this.K(l),T=this.H[_];if(void 0!==T){for(var M=0;M<T.length;M++)if(this.G(T[M][0],l))return void(T[M]=[l,c]);T.push([l,c])}else this.H[_]=[[l,c]]},f.prototype.delete=function(l){var c=this.K(l),_=this.H[c];if(void 0===_)return!1;for(var T=0;T<_.length;T++)if(this.G(_[T][0],l))return 1===_.length?delete this.H[c]:_.splice(T,1),!0;return!1},f.prototype.forEach=function(l){ve(this.H,function(c,_){for(var T=0,M=_;T<M.length;T++){var V=M[T];l(V[0],V[1])}})},f.prototype.m=function(){return Ae(this.H)},f}(),Gn=function(){function f(l,c){if(this.seconds=l,this.nanoseconds=c,c<0)throw new j(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new j(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(l<-62135596800)throw new j(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l);if(l>=253402300800)throw new j(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(l){return f.fromMillis(l.getTime())},f.fromMillis=function(l){var c=Math.floor(l/1e3);return new f(c,1e6*(l-1e3*c))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(l){return this.seconds===l.seconds?tn(this.nanoseconds,l.nanoseconds):tn(this.seconds,l.seconds)},f.prototype.isEqual=function(l){return l.seconds===this.seconds&&l.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),An=function(){function f(l){this.timestamp=l}return f.J=function(l){return new f(l)},f.min=function(){return new f(new Gn(0,0))},f.prototype.L=function(l){return this.timestamp.Y(l.timestamp)},f.prototype.isEqual=function(l){return this.timestamp.isEqual(l.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Wr(f){return null==f}function ft(f){return 0===f&&1/f==-1/0}function Fe(f){return"number"==typeof f&&Number.isInteger(f)&&!ft(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var rt=function(f,l,c,_,T,M,V){void 0===l&&(l=null),void 0===c&&(c=[]),void 0===_&&(_=[]),void 0===T&&(T=null),void 0===M&&(M=null),void 0===V&&(V=null),this.path=f,this.collectionGroup=l,this.orderBy=c,this.filters=_,this.limit=T,this.startAt=M,this.endAt=V,this.tt=null};function Tt(f,l,c,_,T,M,V){return void 0===l&&(l=null),void 0===c&&(c=[]),void 0===_&&(_=[]),void 0===T&&(T=null),void 0===M&&(M=null),void 0===V&&(V=null),new rt(f,l,c,_,T,M,V)}function gt(f){var l=ee(f);if(null===l.tt){var c=l.path.R();null!==l.collectionGroup&&(c+="|cg:"+l.collectionGroup),c+="|f:",c+=l.filters.map(function(_){return(T=_).field.R()+T.op.toString()+Vn(T.value);var T}).join(","),c+="|ob:",c+=l.orderBy.map(function(_){return(T=_).field.R()+T.dir;var T}).join(","),Wr(l.limit)||(c+="|l:",c+=l.limit),l.startAt&&(c+="|lb:",c+=Ks(l.startAt)),l.endAt&&(c+="|ub:",c+=Ks(l.endAt)),l.tt=c}return l.tt}function ln(f,l){if(f.limit!==l.limit||f.orderBy.length!==l.orderBy.length)return!1;for(var c=0;c<f.orderBy.length;c++)if(!ka(f.orderBy[c],l.orderBy[c]))return!1;if(f.filters.length!==l.filters.length)return!1;for(var _=0;_<f.filters.length;_++)if((T=f.filters[_]).op!==(M=l.filters[_]).op||!T.field.isEqual(M.field)||!Xe(T.value,M.value))return!1;var T,M;return f.collectionGroup===l.collectionGroup&&!!f.path.isEqual(l.path)&&!!as(f.startAt,l.startAt)&&as(f.endAt,l.endAt)}function Ht(f){return O.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Tn,Dn,En=function(){function f(l,c,_,T,M,V,ae){void 0===M&&(M=An.min()),void 0===V&&(V=An.min()),void 0===ae&&(ae=on.B),this.target=l,this.targetId=c,this.et=_,this.sequenceNumber=T,this.nt=M,this.lastLimboFreeSnapshotVersion=V,this.resumeToken=ae}return f.prototype.st=function(l){return new f(this.target,this.targetId,this.et,l,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(l,c){return new f(this.target,this.targetId,this.et,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,l)},f.prototype.rt=function(l){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,l,this.resumeToken)},f}(),Wn=function(f){this.count=f};function xn(f){switch(f){case B.OK:return z();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return z()}}function Ir(f){if(void 0===f)return me("GRPC error has no .code"),B.UNKNOWN;switch(f){case Tn.OK:return B.OK;case Tn.CANCELLED:return B.CANCELLED;case Tn.UNKNOWN:return B.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return B.INTERNAL;case Tn.UNAVAILABLE:return B.UNAVAILABLE;case Tn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Tn.NOT_FOUND:return B.NOT_FOUND;case Tn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Tn.ABORTED:return B.ABORTED;case Tn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Tn.DATA_LOSS:return B.DATA_LOSS;default:return z()}}(Dn=Tn||(Tn={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";var nr=function(){function f(l,c){this.i=l,this.root=c||er.EMPTY}return f.prototype.ot=function(l,c){return new f(this.i,this.root.ot(l,c,this.i).copy(null,null,er.at,null,null))},f.prototype.remove=function(l){return new f(this.i,this.root.remove(l,this.i).copy(null,null,er.at,null,null))},f.prototype.get=function(l){for(var c=this.root;!c.m();){var _=this.i(l,c.key);if(0===_)return c.value;_<0?c=c.left:_>0&&(c=c.right)}return null},f.prototype.indexOf=function(l){for(var c=0,_=this.root;!_.m();){var T=this.i(l,_.key);if(0===T)return c+_.left.size;T<0?_=_.left:(c+=_.left.size+1,_=_.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(l){return this.root.ht(l)},f.prototype.forEach=function(l){this.ht(function(c,_){return l(c,_),!1})},f.prototype.toString=function(){var l=[];return this.ht(function(c,_){return l.push(c+":"+_),!1}),"{"+l.join(", ")+"}"},f.prototype.lt=function(l){return this.root.lt(l)},f.prototype._t=function(){return new pi(this.root,null,this.i,!1)},f.prototype.ft=function(l){return new pi(this.root,l,this.i,!1)},f.prototype.dt=function(){return new pi(this.root,null,this.i,!0)},f.prototype.wt=function(l){return new pi(this.root,l,this.i,!0)},f}(),pi=function(){function f(l,c,_,T){this.Tt=T,this.Et=[];for(var M=1;!l.m();)if(M=c?_(l.key,c):1,T&&(M*=-1),M<0)l=this.Tt?l.left:l.right;else{if(0===M){this.Et.push(l);break}this.Et.push(l),l=this.Tt?l.right:l.left}}return f.prototype.It=function(){var l=this.Et.pop(),c={key:l.key,value:l.value};if(this.Tt)for(l=l.left;!l.m();)this.Et.push(l),l=l.right;else for(l=l.right;!l.m();)this.Et.push(l),l=l.left;return c},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var l=this.Et[this.Et.length-1];return{key:l.key,value:l.value}},f}(),er=function(){function f(l,c,_,T,M){this.key=l,this.value=c,this.color=null!=_?_:f.RED,this.left=null!=T?T:f.EMPTY,this.right=null!=M?M:f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(l,c,_,T,M){return new f(null!=l?l:this.key,null!=c?c:this.value,null!=_?_:this.color,null!=T?T:this.left,null!=M?M:this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(l){return this.left.ht(l)||l(this.key,this.value)||this.right.ht(l)},f.prototype.lt=function(l){return this.right.lt(l)||l(this.key,this.value)||this.left.lt(l)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(l,c,_){var T=this,M=_(l,T.key);return(T=M<0?T.copy(null,null,null,T.left.ot(l,c,_),null):0===M?T.copy(null,c,null,null,null):T.copy(null,null,null,null,T.right.ot(l,c,_))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var l=this;return l.left.yt()||l.left.left.yt()||(l=l.Vt()),(l=l.copy(null,null,null,l.left.Pt(),null)).gt()},f.prototype.remove=function(l,c){var _,T=this;if(c(l,T.key)<0)T.left.m()||T.left.yt()||T.left.left.yt()||(T=T.Vt()),T=T.copy(null,null,null,T.left.remove(l,c),null);else{if(T.left.yt()&&(T=T.bt()),T.right.m()||T.right.yt()||T.right.left.yt()||(T=T.vt()),0===c(l,T.key)){if(T.right.m())return f.EMPTY;_=T.right.min(),T=T.copy(_.key,_.value,null,null,T.right.Pt())}T=T.copy(null,null,null,null,T.right.remove(l,c))}return T.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var l=this;return l.right.yt()&&!l.left.yt()&&(l=l.St()),l.left.yt()&&l.left.left.yt()&&(l=l.bt()),l.left.yt()&&l.right.yt()&&(l=l.Dt()),l},f.prototype.Vt=function(){var l=this.Dt();return l.right.left.yt()&&(l=(l=(l=l.copy(null,null,null,null,l.right.bt())).St()).Dt()),l},f.prototype.vt=function(){var l=this.Dt();return l.left.left.yt()&&(l=(l=l.bt()).Dt()),l},f.prototype.St=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.bt=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.Dt=function(){var l=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,c)},f.prototype.Ct=function(){var l=this.Nt();return Math.pow(2,l)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw z();var l=this.left.Nt();if(l!==this.right.Nt())throw z();return l+(this.yt()?0:1)},f}();er.EMPTY=null,er.RED=!0,er.at=!1,er.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw z()},enumerable:!1,configurable:!0}),f.prototype.copy=function(l,c,_,T,M){return this},f.prototype.ot=function(l,c,_){return new er(l,c)},f.prototype.remove=function(l,c){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(l){return!1},f.prototype.lt=function(l){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var Ar=function(){function f(l){this.i=l,this.data=new nr(this.i)}return f.prototype.has=function(l){return null!==this.data.get(l)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(l){return this.data.indexOf(l)},f.prototype.forEach=function(l){this.data.ht(function(c,_){return l(c),!1})},f.prototype.Ft=function(l,c){for(var _=this.data.ft(l[0]);_.At();){var T=_.It();if(this.i(T.key,l[1])>=0)return;c(T.key)}},f.prototype.xt=function(l,c){var _;for(_=void 0!==c?this.data.ft(c):this.data._t();_.At();)if(!l(_.It().key))return},f.prototype.$t=function(l){var c=this.data.ft(l);return c.At()?c.It().key:null},f.prototype._t=function(){return new no(this.data._t())},f.prototype.ft=function(l){return new no(this.data.ft(l))},f.prototype.add=function(l){return this.copy(this.data.remove(l).ot(l,!0))},f.prototype.delete=function(l){return this.has(l)?this.copy(this.data.remove(l)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(l){var c=this;return c.size<l.size&&(c=l,l=this),l.forEach(function(_){c=c.add(_)}),c},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var c=this.data._t(),_=l.data._t();c.At();){var T=c.It().key,M=_.It().key;if(0!==this.i(T,M))return!1}return!0},f.prototype.A=function(){var l=[];return this.forEach(function(c){l.push(c)}),l},f.prototype.toString=function(){var l=[];return this.forEach(function(c){return l.push(c)}),"SortedSet("+l.toString()+")"},f.prototype.copy=function(l){var c=new f(this.i);return c.data=l,c},f}(),no=function(){function f(l){this.Mt=l}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),qr=new nr(O.i);function hi(){return qr}function Ni(){return hi()}var Qe=new nr(O.i);function _t(){return Qe}var Ct=new nr(O.i),Lt=new Ar(O.i);function xt(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var c=Lt,_=0,T=f;_<T.length;_++){var M=T[_];c=c.add(M)}return c}var kt=new Ar(tn);function Jt(){return kt}var sn=function(){function f(l){this.i=l?function(c,_){return l(c,_)||O.i(c.key,_.key)}:function(c,_){return O.i(c.key,_.key)},this.Ot=_t(),this.Lt=new nr(this.i)}return f.Bt=function(l){return new f(l.i)},f.prototype.has=function(l){return null!=this.Ot.get(l)},f.prototype.get=function(l){return this.Ot.get(l)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(l){var c=this.Ot.get(l);return c?this.Lt.indexOf(c):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l){this.Lt.ht(function(c,_){return l(c),!1})},f.prototype.add=function(l){var c=this.delete(l.key);return c.copy(c.Ot.ot(l.key,l),c.Lt.ot(l,null))},f.prototype.delete=function(l){var c=this.get(l);return c?this.copy(this.Ot.remove(l),this.Lt.remove(c)):this},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var c=this.Lt._t(),_=l.Lt._t();c.At();){var T=c.It().key,M=_.It().key;if(!T.isEqual(M))return!1}return!0},f.prototype.toString=function(){var l=[];return this.forEach(function(c){l.push(c.toString())}),0===l.length?"DocumentSet ()":"DocumentSet (\n  "+l.join("  \n")+"\n)"},f.prototype.copy=function(l,c){var _=new f;return _.i=this.i,_.Ot=l,_.Lt=c,_},f}(),In=function(){function f(){this.qt=new nr(O.i)}return f.prototype.track=function(l){var c=l.doc.key,_=this.qt.get(c);_?0!==l.type&&3===_.type?this.qt=this.qt.ot(c,l):3===l.type&&1!==_.type?this.qt=this.qt.ot(c,{type:_.type,doc:l.doc}):2===l.type&&2===_.type?this.qt=this.qt.ot(c,{type:2,doc:l.doc}):2===l.type&&0===_.type?this.qt=this.qt.ot(c,{type:0,doc:l.doc}):1===l.type&&0===_.type?this.qt=this.qt.remove(c):1===l.type&&2===_.type?this.qt=this.qt.ot(c,{type:1,doc:_.doc}):0===l.type&&1===_.type?this.qt=this.qt.ot(c,{type:2,doc:l.doc}):z():this.qt=this.qt.ot(c,l)},f.prototype.Ut=function(){var l=[];return this.qt.ht(function(c,_){l.push(_)}),l},f}(),Wt=function(){function f(l,c,_,T,M,V,ae,ye){this.query=l,this.docs=c,this.Qt=_,this.docChanges=T,this.Wt=M,this.fromCache=V,this.jt=ae,this.Kt=ye}return f.Gt=function(l,c,_,T){var M=[];return c.forEach(function(V){M.push({type:0,doc:V})}),new f(l,c,sn.Bt(c),M,_,T,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(this.fromCache===l.fromCache&&this.jt===l.jt&&this.Wt.isEqual(l.Wt)&&Yi(this.query,l.query)&&this.docs.isEqual(l.docs)&&this.Qt.isEqual(l.Qt)))return!1;var c=this.docChanges,_=l.docChanges;if(c.length!==_.length)return!1;for(var T=0;T<c.length;T++)if(c[T].type!==_[T].type||!c[T].doc.isEqual(_[T].doc))return!1;return!0},f}(),bn=function(){function f(l,c,_,T,M){this.nt=l,this.zt=c,this.Ht=_,this.Yt=T,this.Jt=M}return f.Xt=function(l,c){var _=new Map;return _.set(l,Er.Zt(l,c)),new f(An.min(),_,Jt(),hi(),xt())},f}(),Er=function(){function f(l,c,_,T,M){this.resumeToken=l,this.te=c,this.ee=_,this.ne=T,this.se=M}return f.Zt=function(l,c){return new f(on.B,c,xt(),xt(),xt())},f}(),fr=function(f,l,c,_){this.ie=f,this.removedTargetIds=l,this.key=c,this.re=_},lr=function(f,l){this.targetId=f,this.oe=l},$r=function(f,l,c,_){void 0===c&&(c=on.B),void 0===_&&(_=null),this.state=f,this.targetIds=l,this.resumeToken=c,this.cause=_},Ke=function(){function f(){this.ae=0,this.ce=at(),this.ue=on.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(l){l.O()>0&&(this.le=!0,this.ue=l)},f.prototype.we=function(){var l=xt(),c=xt(),_=xt();return this.ce.forEach(function(T,M){switch(M){case 0:l=l.add(T);break;case 2:c=c.add(T);break;case 1:_=_.add(T);break;default:z()}}),new Er(this.ue,this.he,l,c,_)},f.prototype.me=function(){this.le=!1,this.ce=at()},f.prototype.Te=function(l,c){this.le=!0,this.ce=this.ce.ot(l,c)},f.prototype.Ee=function(l){this.le=!0,this.ce=this.ce.remove(l)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),He=function(){function f(l){this.ge=l,this.Pe=new Map,this.ye=hi(),this.Ve=tt(),this.pe=new Ar(tn)}return f.prototype.be=function(l){for(var c=0,_=l.ie;c<_.length;c++){var T=_[c];l.re instanceof Vr?this.ve(T,l.re):l.re instanceof Ui&&this.Se(T,l.key,l.re)}for(var M=0,V=l.removedTargetIds;M<V.length;M++)this.Se(V[M],l.key,l.re)},f.prototype.De=function(l){var c=this;this.Ce(l,function(_){var T=c.Ne(_);switch(l.state){case 0:c.Fe(_)&&T.de(l.resumeToken);break;case 1:T.Ae(),T._e||T.me(),T.de(l.resumeToken);break;case 2:T.Ae(),T._e||c.removeTarget(_);break;case 3:c.Fe(_)&&(T.Re(),T.de(l.resumeToken));break;case 4:c.Fe(_)&&(c.xe(_),T.de(l.resumeToken));break;default:z()}})},f.prototype.Ce=function(l,c){var _=this;l.targetIds.length>0?l.targetIds.forEach(c):this.Pe.forEach(function(T,M){_.Fe(M)&&c(M)})},f.prototype.$e=function(l){var c=l.targetId,_=l.oe.count,T=this.ke(c);if(T){var M=T.target;if(Ht(M))if(0===_){var V=new O(M.path);this.Se(c,V,new Ui(V,An.min()))}else K(1===_);else this.Me(c)!==_&&(this.xe(c),this.pe=this.pe.add(c))}},f.prototype.Oe=function(l){var c=this,_=new Map;this.Pe.forEach(function(V,ae){var ye=c.ke(ae);if(ye){if(V.te&&Ht(ye.target)){var Re=new O(ye.target.path);null!==c.ye.get(Re)||c.Le(ae,Re)||c.Se(ae,Re,new Ui(Re,l))}V.fe&&(_.set(ae,V.we()),V.me())}});var T=xt();this.Ve.forEach(function(V,ae){var ye=!0;ae.xt(function(Re){var We=c.ke(Re);return!We||2===We.et||(ye=!1,!1)}),ye&&(T=T.add(V))});var M=new bn(l,_,this.pe,this.ye,T);return this.ye=hi(),this.Ve=tt(),this.pe=new Ar(tn),M},f.prototype.ve=function(l,c){if(this.Fe(l)){var _=this.Le(l,c.key)?2:0;this.Ne(l).Te(c.key,_),this.ye=this.ye.ot(c.key,c),this.Ve=this.Ve.ot(c.key,this.Be(c.key).add(l))}},f.prototype.Se=function(l,c,_){if(this.Fe(l)){var T=this.Ne(l);this.Le(l,c)?T.Te(c,1):T.Ee(c),this.Ve=this.Ve.ot(c,this.Be(c).delete(l)),_&&(this.ye=this.ye.ot(c,_))}},f.prototype.removeTarget=function(l){this.Pe.delete(l)},f.prototype.Me=function(l){var c=this.Ne(l).we();return this.ge.qe(l).size+c.ee.size-c.se.size},f.prototype.Ie=function(l){this.Ne(l).Ie()},f.prototype.Ne=function(l){var c=this.Pe.get(l);return c||(c=new Ke,this.Pe.set(l,c)),c},f.prototype.Be=function(l){var c=this.Ve.get(l);return c||(c=new Ar(tn),this.Ve=this.Ve.ot(l,c)),c},f.prototype.Fe=function(l){var c=null!==this.ke(l);return c||te("WatchChangeAggregator","Detected inactive target",l),c},f.prototype.ke=function(l){var c=this.Pe.get(l);return c&&c._e?null:this.ge.Ue(l)},f.prototype.xe=function(l){var c=this;this.Pe.set(l,new Ke),this.ge.qe(l).forEach(function(_){c.Se(l,_,null)})},f.prototype.Le=function(l,c){return this.ge.qe(l).has(c)},f}();function tt(){return new nr(O.i)}function at(){return new nr(O.i)}function Se(f){var l,c;return"server_timestamp"===(null===(c=((null===(l=null==f?void 0:f.mapValue)||void 0===l?void 0:l.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function ue(f){var l=f.mapValue.fields.__previous_value__;return Se(l)?ue(l):l}function Ie(f){var l=hn(f.mapValue.fields.__local_write_time__.timestampValue);return new Gn(l.seconds,l.nanos)}var Ve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function et(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?Se(f)?4:10:z()}function Xe(f,l){var T,c=et(f);if(c!==et(l))return!1;switch(c){case 0:return!0;case 1:return f.booleanValue===l.booleanValue;case 4:return Ie(f).isEqual(Ie(l));case 3:return function(_,T){if("string"==typeof _.timestampValue&&"string"==typeof T.timestampValue&&_.timestampValue.length===T.timestampValue.length)return _.timestampValue===T.timestampValue;var M=hn(_.timestampValue),V=hn(T.timestampValue);return M.seconds===V.seconds&&M.nanos===V.nanos}(f,l);case 5:return f.stringValue===l.stringValue;case 6:return T=l,At(f.bytesValue).isEqual(At(T.bytesValue));case 7:return f.referenceValue===l.referenceValue;case 8:return function(_,T){return Je(_.geoPointValue.latitude)===Je(T.geoPointValue.latitude)&&Je(_.geoPointValue.longitude)===Je(T.geoPointValue.longitude)}(f,l);case 2:return function(_,T){if("integerValue"in _&&"integerValue"in T)return Je(_.integerValue)===Je(T.integerValue);if("doubleValue"in _&&"doubleValue"in T){var M=Je(_.doubleValue),V=Je(T.doubleValue);return M===V?ft(M)===ft(V):isNaN(M)&&isNaN(V)}return!1}(f,l);case 9:return Cn(f.arrayValue.values||[],l.arrayValue.values||[],Xe);case 10:return function(_,T){var M=_.mapValue.fields||{},V=T.mapValue.fields||{};if(_e(M)!==_e(V))return!1;for(var ae in M)if(M.hasOwnProperty(ae)&&(void 0===V[ae]||!Xe(M[ae],V[ae])))return!1;return!0}(f,l);default:return z()}}function mt(f,l){return void 0!==(f.values||[]).find(function(c){return Xe(c,l)})}function Vt(f,l){var T,M,V,ae,c=et(f),_=et(l);if(c!==_)return tn(c,_);switch(c){case 0:return 0;case 1:return tn(f.booleanValue,l.booleanValue);case 2:return M=l,(V=Je((T=f).integerValue||T.doubleValue))<(ae=Je(M.integerValue||M.doubleValue))?-1:V>ae?1:V===ae?0:isNaN(V)?isNaN(ae)?0:-1:1;case 3:return cn(f.timestampValue,l.timestampValue);case 4:return cn(Ie(f),Ie(l));case 5:return tn(f.stringValue,l.stringValue);case 6:return function(T,M){var V=At(T),ae=At(M);return V.L(ae)}(f.bytesValue,l.bytesValue);case 7:return function(T,M){for(var V=T.split("/"),ae=M.split("/"),ye=0;ye<V.length&&ye<ae.length;ye++){var Re=tn(V[ye],ae[ye]);if(0!==Re)return Re}return tn(V.length,ae.length)}(f.referenceValue,l.referenceValue);case 8:return function(T,M){var V=tn(Je(T.latitude),Je(M.latitude));return 0!==V?V:tn(Je(T.longitude),Je(M.longitude))}(f.geoPointValue,l.geoPointValue);case 9:return function(T,M){for(var V=T.values||[],ae=M.values||[],ye=0;ye<V.length&&ye<ae.length;++ye){var Re=Vt(V[ye],ae[ye]);if(Re)return Re}return tn(V.length,ae.length)}(f.arrayValue,l.arrayValue);case 10:return function(T,M){var V=T.fields||{},ae=Object.keys(V),ye=M.fields||{},Re=Object.keys(ye);ae.sort(),Re.sort();for(var We=0;We<ae.length&&We<Re.length;++We){var ot=tn(ae[We],Re[We]);if(0!==ot)return ot;var st=Vt(V[ae[We]],ye[Re[We]]);if(0!==st)return st}return tn(ae.length,Re.length)}(f.mapValue,l.mapValue);default:throw z()}}function cn(f,l){if("string"==typeof f&&"string"==typeof l&&f.length===l.length)return tn(f,l);var c=hn(f),_=hn(l),T=tn(c.seconds,_.seconds);return 0!==T?T:tn(c.nanos,_.nanos)}function Vn(f){return Qt(f)}function Qt(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(T=hn(f.timestampValue)).seconds+","+T.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?At(f.bytesValue).toBase64():"referenceValue"in f?O.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(l=f.geoPointValue).latitude+","+l.longitude+")":"arrayValue"in f?function(_){for(var T="[",M=!0,V=0,ae=_.values||[];V<ae.length;V++)M?M=!1:T+=",",T+=Qt(ae[V]);return T+"]"}(f.arrayValue):"mapValue"in f?function(_){for(var T="{",M=!0,V=0,ae=Object.keys(_.fields||{}).sort();V<ae.length;V++){var ye=ae[V];M?M=!1:T+=",",T+=ye+":"+Qt(_.fields[ye])}return T+"}"}(f.mapValue):z();var T,l}function hn(f){if(K(!!f),"string"==typeof f){var l=0,c=Ve.exec(f);if(K(!!c),c[1]){var _=c[1];_=(_+"000000000").substr(0,9),l=Number(_)}var T=new Date(f);return{seconds:Math.floor(T.getTime()/1e3),nanos:l}}return{seconds:Je(f.seconds),nanos:Je(f.nanos)}}function Je(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function At(f){return"string"==typeof f?on.fromBase64String(f):on.fromUint8Array(f)}function Et(f,l){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+l.path.R()}}function vt(f){return!!f&&"integerValue"in f}function _n(f){return!!f&&"arrayValue"in f}function Kt(f){return!!f&&"nullValue"in f}function tr(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Xn(f){return!!f&&"mapValue"in f}var si={asc:"ASCENDING",desc:"DESCENDING"},zi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wr=function(f,l){this.U=f,this.Qe=l};function Hr(f){return{integerValue:""+f}}function Po(f,l){if(f.Qe){if(isNaN(l))return{doubleValue:"NaN"};if(l===1/0)return{doubleValue:"Infinity"};if(l===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ft(l)?"-0":l}}function ro(f,l){return Fe(l)?Hr(l):Po(f,l)}function jo(f,l){return f.Qe?new Date(1e3*l.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+l.nanoseconds).slice(-9)+"Z":{seconds:""+l.seconds,nanos:l.nanoseconds}}function fi(f,l){return f.Qe?l.toBase64():l.toUint8Array()}function io(f,l){return jo(f,l.Z())}function is(f){return K(!!f),An.J((c=hn(f),new Gn(c.seconds,c.nanos)));var c}function oo(f,l){return(c=f,new Ge(["projects",c.projectId,"databases",c.database])).child("documents").child(l).R();var c}function wi(f){var l=Ge.g(f);return K(Ma(l)),l}function ho(f,l){return oo(f.U,l.path)}function ur(f,l){var c=wi(l);return K(c.get(1)===f.U.projectId),K(!c.get(3)&&!f.U.database||c.get(3)===f.U.database),new O(Ho(c))}function so(f,l){return oo(f.U,l)}function xs(f){var l=wi(f);return 4===l.length?Ge.P():Ho(l)}function Qr(f){return new Ge(["projects",f.U.projectId,"databases",f.U.database]).R()}function Ho(f){return K(f.length>4&&"documents"===f.get(4)),f.u(5)}function ua(f,l,c){return{name:ho(f,l),fields:c.proto.mapValue.fields}}function Oo(f,l){var c,T;if(l instanceof ri)c={update:ua(f,l.key,l.value)};else if(l instanceof mi)c={delete:ho(f,l.key)};else if(l instanceof Dr)c={update:ua(f,l.key,l.data),updateMask:os(l.We)};else if(l instanceof $i)c={transform:{document:ho(f,l.key),fieldTransforms:l.fieldTransforms.map(function(_){return function(T,M){var V=M.transform;if(V instanceof yo)return{fieldPath:M.field.R(),setToServerValue:"REQUEST_TIME"};if(V instanceof ge)return{fieldPath:M.field.R(),appendMissingElements:{values:V.elements}};if(V instanceof Me)return{fieldPath:M.field.R(),removeAllFromArray:{values:V.elements}};if(V instanceof nt)return{fieldPath:M.field.R(),increment:V.je};throw z()}(0,_)})}};else{if(!(l instanceof Os))return z();c={verify:ho(f,l.key)}}return l.Ge.Ke||(c.currentDocument=void 0!==(T=l.Ge).updateTime?{updateTime:io(f,T.updateTime)}:void 0!==T.exists?{exists:T.exists}:z()),c}function Kn(f,l){var We,c=l.currentDocument?void 0!==(We=l.currentDocument).updateTime?Sn.updateTime(is(We.updateTime)):void 0!==We.exists?Sn.exists(We.exists):Sn.ze():Sn.ze();if(l.update){var _=ur(f,l.update.name),T=new ss({mapValue:{fields:l.update.fields}});if(l.updateMask){var M=function(We){return new Yt((We.fieldPaths||[]).map(function(st){return U.S(st)}))}(l.updateMask);return new Dr(_,T,M,c)}return new ri(_,T,c)}if(l.delete){var V=ur(f,l.delete);return new mi(V,c)}if(l.transform){var ae=ur(f,l.transform.document),ye=l.transform.fieldTransforms.map(function(We){return function(ot,st){var wt=null;"setToServerValue"in st?(K("REQUEST_TIME"===st.setToServerValue),wt=new yo):"appendMissingElements"in st?wt=new ge(st.appendMissingElements.values||[]):"removeAllFromArray"in st?wt=new Me(st.removeAllFromArray.values||[]):"increment"in st?wt=new nt(ot,st.increment):z();var $n=U.S(st.fieldPath);return new zt($n,wt)}(f,We)});return K(!0===c.exists),new $i(ae,ye)}if(l.verify){var Re=ur(f,l.verify);return new Os(Re,c)}return z()}function gr(f,l){return{documents:[so(f,l.path)]}}function nl(f,l){var c={structuredQuery:{}},_=l.path;null!==l.collectionGroup?(c.parent=so(f,_),c.structuredQuery.from=[{collectionId:l.collectionGroup,allDescendants:!0}]):(c.parent=so(f,_.h()),c.structuredQuery.from=[{collectionId:_._()}]);var T=function(ae){if(0!==ae.length){var ye=ae.map(function(Re){return function(We){if("=="===We.op){if(tr(We.value))return{unaryFilter:{field:No(We.field),op:"IS_NAN"}};if(Kt(We.value))return{unaryFilter:{field:No(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(tr(We.value))return{unaryFilter:{field:No(We.field),op:"IS_NOT_NAN"}};if(Kt(We.value))return{unaryFilter:{field:No(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(We.field),op:ko(We.op),value:We.value}}}(Re)});return 1===ye.length?ye[0]:{compositeFilter:{op:"AND",filters:ye}}}}(l.filters);T&&(c.structuredQuery.where=T);var M=function(ae){if(0!==ae.length)return ae.map(function(ye){return{field:No((Re=ye).field),direction:yr(Re.dir)};var Re})}(l.orderBy);M&&(c.structuredQuery.orderBy=M);var ye,V=(ye=l.limit,f.Qe||Wr(ye)?ye:{value:ye});return null!==V&&(c.structuredQuery.limit=V),l.startAt&&(c.structuredQuery.startAt=Mo(l.startAt)),l.endAt&&(c.structuredQuery.endAt=Mo(l.endAt)),c}function Ps(f){var l=xs(f.parent),c=f.structuredQuery,_=c.from?c.from.length:0,T=null;if(_>0){K(1===_);var M=c.from[0];M.allDescendants?T=M.collectionId:l=l.child(M.collectionId)}var V=[];c.where&&(V=vs(c.where));var ae=[];c.orderBy&&(ae=c.orderBy.map(function(ot){return new ha(Ao((st=ot).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(st.direction));var st}));var ot,st,ye=null;c.limit&&(ye=Wr(st="object"==typeof(ot=c.limit)?ot.value:ot)?null:st);var Re=null;c.startAt&&(Re=Ro(c.startAt));var We=null;return c.endAt&&(We=Ro(c.endAt)),Bi(Bl(l,T,ae,V,ye,"F",Re,We))}function vs(f){return f?void 0!==f.unaryFilter?[ys(f)]:void 0!==f.fieldFilter?[Fo(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(l){return vs(l)}).reduce(function(l,c){return l.concat(c)}):z():[]}function Mo(f){return{before:f.before,values:f.position}}function Ro(f){return new Wo(f.values||[],!!f.before)}function yr(f){return si[f]}function ko(f){return zi[f]}function No(f){return{fieldPath:f.R()}}function Ao(f){return U.S(f.fieldPath)}function Fo(f){return Zr.create(Ao(f.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(f.fieldFilter.op),f.fieldFilter.value)}function ys(f){switch(f.unaryFilter.op){case"IS_NAN":var l=Ao(f.unaryFilter.field);return Zr.create(l,"==",{doubleValue:NaN});case"IS_NULL":var c=Ao(f.unaryFilter.field);return Zr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var _=Ao(f.unaryFilter.field);return Zr.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var T=Ao(f.unaryFilter.field);return Zr.create(T,"!=",{nullValue:"NULL_VALUE"});default:return z()}}function os(f){var l=[];return f.fields.forEach(function(c){return l.push(c.R())}),{fieldPaths:l}}function Ma(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var di=function(){this.He=void 0};function ai(f,l,c){return f instanceof yo?(M={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(_=c).seconds,nanos:_.nanoseconds}}}},(T=l)&&(M.fields.__previous_value__=T),{mapValue:M}):f instanceof ge?pe(f,l):f instanceof Me?Ye(f,l):function(_,T){var M=qs(_,T),V=pt(M)+pt(_.je);return vt(M)&&vt(_.je)?Hr(V):Po(_.serializer,V)}(f,l);var _,T,M}function Go(f,l,c){return f instanceof ge?pe(f,l):f instanceof Me?Ye(f,l):c}function qs(f,l){return f instanceof nt?vt(c=l)||(_=c)&&"doubleValue"in _?l:{integerValue:0}:null;var _,c}var yo=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l}(di),ge=function(f){function l(c){var _=this;return(_=f.call(this)||this).elements=c,_}return t.__extends(l,f),l}(di);function pe(f,l){for(var c=Nt(l),_=function(V){c.some(function(ae){return Xe(ae,V)})||c.push(V)},T=0,M=f.elements;T<M.length;T++)_(M[T]);return{arrayValue:{values:c}}}var Me=function(f){function l(c){var _=this;return(_=f.call(this)||this).elements=c,_}return t.__extends(l,f),l}(di);function Ye(f,l){for(var c=Nt(l),_=function(V){c=c.filter(function(ae){return!Xe(ae,V)})},T=0,M=f.elements;T<M.length;T++)_(M[T]);return{arrayValue:{values:c}}}var nt=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).serializer=c,T.je=_,T}return t.__extends(l,f),l}(di);function pt(f){return Je(f.integerValue||f.doubleValue)}function Nt(f){return _n(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Yt=function(){function f(l){this.fields=l,l.sort(U.i)}return f.prototype.Ye=function(l){for(var c=0,_=this.fields;c<_.length;c++)if(_[c].T(l))return!0;return!1},f.prototype.isEqual=function(l){return Cn(this.fields,l.fields,function(c,_){return c.isEqual(_)})},f}(),zt=function(f,l){this.field=f,this.transform=l},$t=function(f,l){this.version=f,this.transformResults=l},Sn=function(){function f(l,c){this.updateTime=l,this.exists=c}return f.ze=function(){return new f},f.exists=function(l){return new f(void 0,l)},f.updateTime=function(l){return new f(l)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.exists===l.exists&&(this.updateTime?!!l.updateTime&&this.updateTime.isEqual(l.updateTime):!l.updateTime)},f}();function Cr(f,l){return void 0!==f.updateTime?l instanceof Vr&&l.version.isEqual(f.updateTime):void 0===f.exists||f.exists===l instanceof Vr}var Rn=function(){};function ti(f,l,c){return f instanceof ri?new Vr((_=f).key,c.version,_.value,{hasCommittedMutations:!0}):f instanceof Dr?function(_,T,M){if(!Cr(_.Ge,T))return new Ki(_.key,M.version);var V=li(_,T);return new Vr(_.key,M.version,V,{hasCommittedMutations:!0})}(f,l,c):f instanceof $i?function(_,T,M){if(K(null!=M.transformResults),!Cr(_.Ge,T))return new Ki(_.key,M.version);var V=zo(0,T),ae=function(We,ot,st){var wt=[];K(We.length===st.length);for(var Rt=0;Rt<st.length;Rt++){var jt=We[Rt],$n=jt.transform,Un=null;ot instanceof Vr&&(Un=ot.field(jt.field)),wt.push(Go($n,Un,st[Rt]))}return wt}(_.fieldTransforms,T,M.transformResults),ye=M.version,Re=gi(_,V.data(),ae);return new Vr(_.key,ye,Re,{hasCommittedMutations:!0})}(f,l,c):function(_,T,M){return new Ui(_.key,M.version,{hasCommittedMutations:!0})}(f,0,c);var _}function Or(f,l,c,_){return f instanceof ri?function(T,M){if(!Cr(T.Ge,M))return M;var V=ao(M);return new Vr(T.key,V,T.value,{Je:!0})}(f,l):f instanceof Dr?function(T,M){if(!Cr(T.Ge,M))return M;var V=ao(M),ae=li(T,M);return new Vr(T.key,V,ae,{Je:!0})}(f,l):f instanceof $i?function(T,M,V,ae){if(!Cr(T.Ge,M))return M;var ye=zo(0,M),Re=function(ot,st,wt,Rt){for(var jt=[],$n=0,Un=ot;$n<Un.length;$n++){var sr=Un[$n],xr=sr.transform,Tr=null;wt instanceof Vr&&(Tr=wt.field(sr.field)),null===Tr&&Rt instanceof Vr&&(Tr=Rt.field(sr.field)),jt.push(ai(xr,Tr,st))}return jt}(T.fieldTransforms,V,M,ae),We=gi(T,ye.data(),Re);return new Vr(T.key,ye.version,We,{Je:!0})}(f,l,_,c):Cr((T=f).Ge,M=l)?new Ui(T.key,An.min()):M;var T,M}function ni(f,l){return f instanceof $i?function(c,_){for(var T=null,M=0,V=c.fieldTransforms;M<V.length;M++){var ae=V[M],ye=_ instanceof Vr?_.field(ae.field):void 0,Re=qs(ae.transform,ye||null);null!=Re&&(T=null==T?(new Zn).set(ae.field,Re):T.set(ae.field,Re))}return T?T.Xe():null}(f,l):null}function pr(f,l){return f.type===l.type&&!!f.key.isEqual(l.key)&&!!f.Ge.isEqual(l.Ge)&&(0===f.type?f.value.isEqual(l.value):1===f.type?f.data.isEqual(l.data)&&f.We.isEqual(l.We):2!==f.type||Cn(f.fieldTransforms,f.fieldTransforms,function(c,_){return(T=c).field.isEqual((M=_).field)&&(ae=M.transform,(V=T.transform)instanceof ge&&ae instanceof ge||V instanceof Me&&ae instanceof Me?Cn(V.elements,ae.elements,Xe):V instanceof nt&&ae instanceof nt?Xe(V.je,ae.je):V instanceof yo&&ae instanceof yo);var T,M,V,ae}))}function ao(f){return f instanceof Vr?f.version:An.min()}var ri=function(f){function l(c,_,T){var M=this;return(M=f.call(this)||this).key=c,M.value=_,M.Ge=T,M.type=0,M}return t.__extends(l,f),l}(Rn),Dr=function(f){function l(c,_,T,M){var V=this;return(V=f.call(this)||this).key=c,V.data=_,V.We=T,V.Ge=M,V.type=1,V}return t.__extends(l,f),l}(Rn);function li(f,l){return c=f,_=l instanceof Vr?l.data():ss.empty(),T=new Zn(_),c.We.fields.forEach(function(M){if(!M.m()){var V=c.data.field(M);null!==V?T.set(M,V):T.delete(M)}}),T.Xe();var c,_,T}var $i=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).key=c,T.fieldTransforms=_,T.type=2,T.Ge=Sn.exists(!0),T}return t.__extends(l,f),l}(Rn);function zo(f,l){return l}function gi(f,l,c){for(var _=new Zn(l),T=0;T<f.fieldTransforms.length;T++)_.set(f.fieldTransforms[T].field,c[T]);return _.Xe()}var mi=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).key=c,T.Ge=_,T.type=3,T}return t.__extends(l,f),l}(Rn),Os=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).key=c,T.Ge=_,T.type=4,T}return t.__extends(l,f),l}(Rn),ss=function(){function f(l){this.proto=l}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(l){if(l.m())return this.proto;for(var c=this.proto,_=0;_<l.length-1;++_)if(!c.mapValue.fields||!Xn(c=c.mapValue.fields[l.get(_)]))return null;return(c=(c.mapValue.fields||{})[l._()])||null},f.prototype.isEqual=function(l){return Xe(this.proto,l.proto)},f}(),Zn=function(){function f(l){void 0===l&&(l=ss.empty()),this.Ze=l,this.tn=new Map}return f.prototype.set=function(l,c){return this.en(l,c),this},f.prototype.delete=function(l){return this.en(l,null),this},f.prototype.en=function(l,c){for(var _=this.tn,T=0;T<l.length-1;++T){var M=l.get(T),V=_.get(M);V instanceof Map?_=V:V&&10===et(V)?(V=new Map(Object.entries(V.mapValue.fields||{})),_.set(M,V),_=V):(_.set(M,V=new Map),_=V)}_.set(l._(),c)},f.prototype.Xe=function(){var l=this.nn(U.P(),this.tn);return null!=l?new ss(l):this.Ze},f.prototype.nn=function(l,c){var _=this,T=!1,M=this.Ze.field(l),V=Xn(M)?Object.assign({},M.mapValue.fields):{};return c.forEach(function(ae,ye){if(ae instanceof Map){var Re=_.nn(l.child(ye),ae);null!=Re&&(V[ye]=Re,T=!0)}else null!==ae?(V[ye]=ae,T=!0):V.hasOwnProperty(ye)&&(delete V[ye],T=!0)}),T?{mapValue:{fields:V}}:null},f}();function Yu(f){var l=[];return ve(f.fields||{},function(c,_){var T=new U([c]);if(Xn(_)){var M=Yu(_.mapValue).fields;if(0===M.length)l.push(T);else for(var V=0,ae=M;V<ae.length;V++)l.push(T.child(ae[V]))}else l.push(T)}),new Yt(l)}var vi=function(f,l){this.key=f,this.version=l},Vr=function(f){function l(c,_,T,M){var V=this;return(V=f.call(this,c,_)||this).sn=T,V.Je=!!M.Je,V.hasCommittedMutations=!!M.hasCommittedMutations,V}return t.__extends(l,f),l.prototype.field=function(c){return this.sn.field(c)},l.prototype.data=function(){return this.sn},l.prototype.rn=function(){return this.sn.proto},l.prototype.isEqual=function(c){return c instanceof l&&this.key.isEqual(c.key)&&this.version.isEqual(c.version)&&this.Je===c.Je&&this.hasCommittedMutations===c.hasCommittedMutations&&this.sn.isEqual(c.sn)},l.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),l}(vi),Ui=function(f){function l(c,_,T){var M=this;return(M=f.call(this,c,_)||this).hasCommittedMutations=!(!T||!T.hasCommittedMutations),M}return t.__extends(l,f),l.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(c){return c instanceof l&&c.hasCommittedMutations===this.hasCommittedMutations&&c.version.isEqual(this.version)&&c.key.isEqual(this.key)},l}(vi),Ki=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(c){return c instanceof l&&c.version.isEqual(this.version)&&c.key.isEqual(this.key)},l}(vi),Ms=function(f,l,c,_,T,M,V,ae){void 0===l&&(l=null),void 0===c&&(c=[]),void 0===_&&(_=[]),void 0===T&&(T=null),void 0===M&&(M="F"),void 0===V&&(V=null),void 0===ae&&(ae=null),this.path=f,this.collectionGroup=l,this.on=c,this.filters=_,this.limit=T,this.an=M,this.startAt=V,this.endAt=ae,this.cn=null,this.un=null};function Bl(f,l,c,_,T,M,V,ae){return new Ms(f,l,c,_,T,M,V,ae)}function Zt(f){return new Ms(f)}function Mr(f){return!Wr(f.limit)&&"F"===f.an}function _o(f){return!Wr(f.limit)&&"L"===f.an}function yi(f){return f.on.length>0?f.on[0].field:null}function gl(f){for(var l=0,c=f.filters;l<c.length;l++){var _=c[l];if(_.hn())return _.field}return null}function fo(f){return null!==f.collectionGroup}function _i(f){var l=ee(f);if(null===l.cn){l.cn=[];var c=gl(l),_=yi(l);if(null!==c&&null===_)c.p()||l.cn.push(new ha(c)),l.cn.push(new ha(U.v(),"asc"));else{for(var T=!1,M=0,V=l.on;M<V.length;M++){var ae=V[M];l.cn.push(ae),ae.field.p()&&(T=!0)}if(!T){var ye=l.on.length>0?l.on[l.on.length-1].dir:"asc";l.cn.push(new ha(U.v(),ye))}}}return l.cn}function Bi(f){var l=ee(f);if(!l.un)if("F"===l.an)l.un=Tt(l.path,l.collectionGroup,_i(l),l.filters,l.limit,l.startAt,l.endAt);else{for(var c=[],_=0,T=_i(l);_<T.length;_++){var M=T[_];c.push(new ha(M.field,"desc"===M.dir?"asc":"desc"))}var ae=l.endAt?new Wo(l.endAt.position,!l.endAt.before):null,ye=l.startAt?new Wo(l.startAt.position,!l.startAt.before):null;l.un=Tt(l.path,l.collectionGroup,c,l.filters,l.limit,ae,ye)}return l.un}function Do(f,l,c){return new Ms(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),l,c,f.startAt,f.endAt)}function au(f,l){return new Ms(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,l,f.endAt)}function jl(f,l){return new Ms(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,l)}function Yi(f,l){return ln(Bi(f),Bi(l))&&f.an===l.an}function _s(f){return gt(Bi(f))+"|lt:"+f.an}function Ci(f){return"Query(target="+(c=(l=Bi(f)).path.R(),null!==l.collectionGroup&&(c+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(c+=", filters: ["+l.filters.map(function(_){return(T=_).field.R()+" "+T.op+" "+Vn(T.value);var T}).join(", ")+"]"),Wr(l.limit)||(c+=", limit: "+l.limit),l.orderBy.length>0&&(c+=", orderBy: ["+l.orderBy.map(function(_){return(T=_).field.R()+" ("+T.dir+")";var T}).join(", ")+"]"),l.startAt&&(c+=", startAt: "+Ks(l.startAt)),l.endAt&&(c+=", endAt: "+Ks(l.endAt)),"Target("+c+"); limitType=")+f.an+")";var l,c}function Qi(f,l){return T=(_=l).key.path,(null!==(c=f).collectionGroup?_.key.N(c.collectionGroup)&&c.path.T(T):O.F(c.path)?c.path.isEqual(T):c.path.I(T))&&function(c,_){for(var T=0,M=c.on;T<M.length;T++){var V=M[T];if(!V.field.p()&&null===_.field(V.field))return!1}return!0}(f,l)&&function(c,_){for(var T=0,M=c.filters;T<M.length;T++)if(!M[T].matches(_))return!1;return!0}(f,l)&&function(c,_){return!(c.startAt&&!bs(c.startAt,_i(c),_)||c.endAt&&bs(c.endAt,_i(c),_))}(f,l);var c,_,T}function xi(f){return function(l,c){for(var _=!1,T=0,M=_i(f);T<M.length;T++){var V=M[T],ae=ls(V,l,c);if(0!==ae)return ae;_=_||V.field.p()}return 0}}var Zr=function(f){function l(c,_,T){var M=this;return(M=f.call(this)||this).field=c,M.op=_,M.value=T,M}return t.__extends(l,f),l.create=function(c,_,T){if(c.p())return"in"===_||"not-in"===_?this.ln(c,_,T):new Ti(c,_,T);if(Kt(T)){if("=="!==_&&"!="!==_)throw new j(B.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new l(c,_,T)}if(tr(T)){if("=="!==_&&"!="!==_)throw new j(B.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new l(c,_,T)}return"array-contains"===_?new Hl(c,T):"in"===_?new vl(c,T):"not-in"===_?new Ra(c,T):"array-contains-any"===_?new Gl(c,T):new l(c,_,T)},l.ln=function(c,_,T){return"in"===_?new rl(c,T):new ca(c,T)},l.prototype.matches=function(c){var _=c.field(this.field);return"!="===this.op?null!==_&&this._n(Vt(_,this.value)):null!==_&&et(this.value)===et(_)&&this._n(Vt(_,this.value))},l.prototype._n=function(c){switch(this.op){case"<":return c<0;case"<=":return c<=0;case"==":return 0===c;case"!=":return 0!==c;case">":return c>0;case">=":return c>=0;default:return z()}},l.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},l}(function(){}),Ti=function(f){function l(c,_,T){var M=this;return(M=f.call(this,c,_,T)||this).key=O.C(T.referenceValue),M}return t.__extends(l,f),l.prototype.matches=function(c){var _=O.i(c.key,this.key);return this._n(_)},l}(Zr),rl=function(f){function l(c,_){var T=this;return(T=f.call(this,c,"in",_)||this).keys=$s(0,_),T}return t.__extends(l,f),l.prototype.matches=function(c){return this.keys.some(function(_){return _.isEqual(c.key)})},l}(Zr),ca=function(f){function l(c,_){var T=this;return(T=f.call(this,c,"not-in",_)||this).keys=$s(0,_),T}return t.__extends(l,f),l.prototype.matches=function(c){return!this.keys.some(function(_){return _.isEqual(c.key)})},l}(Zr);function $s(f,l){var c;return((null===(c=l.arrayValue)||void 0===c?void 0:c.values)||[]).map(function(_){return O.C(_.referenceValue)})}var Hl=function(f){function l(c,_){return f.call(this,c,"array-contains",_)||this}return t.__extends(l,f),l.prototype.matches=function(c){var _=c.field(this.field);return _n(_)&&mt(_.arrayValue,this.value)},l}(Zr),vl=function(f){function l(c,_){return f.call(this,c,"in",_)||this}return t.__extends(l,f),l.prototype.matches=function(c){var _=c.field(this.field);return null!==_&&mt(this.value.arrayValue,_)},l}(Zr),Ra=function(f){function l(c,_){return f.call(this,c,"not-in",_)||this}return t.__extends(l,f),l.prototype.matches=function(c){if(mt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var _=c.field(this.field);return null!==_&&!mt(this.value.arrayValue,_)},l}(Zr),Gl=function(f){function l(c,_){return f.call(this,c,"array-contains-any",_)||this}return t.__extends(l,f),l.prototype.matches=function(c){var _=this,T=c.field(this.field);return!(!_n(T)||!T.arrayValue.values)&&T.arrayValue.values.some(function(M){return mt(_.value.arrayValue,M)})},l}(Zr),Wo=function(f,l){this.position=f,this.before=l};function Ks(f){return(f.before?"b":"a")+":"+f.position.map(function(l){return Vn(l)}).join(",")}function bs(f,l,c){for(var _=0,T=0;T<f.position.length;T++){var M=l[T],V=f.position[T];if(_=M.field.p()?O.i(O.C(V.referenceValue),c.key):Vt(V,c.field(M.field)),"desc"===M.dir&&(_*=-1),0!==_)break}return f.before?_<=0:_<0}function as(f,l){if(null===f)return null===l;if(null===l||f.before!==l.before||f.position.length!==l.position.length)return!1;for(var c=0;c<f.position.length;c++)if(!Xe(f.position[c],l.position[c]))return!1;return!0}var ha=function(f,l){void 0===l&&(l="asc"),this.field=f,this.dir=l};function ls(f,l,c){var T,V,ae,ye,_=f.field.p()?O.i(l.key,c.key):(V=c,ae=l.field(T=f.field),ye=V.field(T),null!==ae&&null!==ye?Vt(ae,ye):z());switch(f.dir){case"asc":return _;case"desc":return-1*_;default:return z()}}function ka(f,l){return f.dir===l.dir&&f.field.isEqual(l.field)}var Kr=function(){var f=this;this.promise=new Promise(function(l,c){f.resolve=l,f.reject=c})},Na=function(){function f(l,c,_,T,M){void 0===_&&(_=1e3),void 0===T&&(T=1.5),void 0===M&&(M=6e4),this.fn=l,this.dn=c,this.wn=_,this.mn=T,this.Tn=M,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(l){var c=this;this.cancel();var _=Math.floor(this.En+this.Pn()),T=Math.max(0,Date.now()-this.An),M=Math.max(0,_-T);M>0&&te("ExponentialBackoff","Backing off for "+M+" ms (base delay: "+this.En+" ms, delay with jitter: "+_+" ms, last attempt: "+T+" ms ago)"),this.In=this.fn.yn(this.dn,M,function(){return c.An=Date.now(),l()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),vn=function(){function f(l){var c=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,l(function(_){c.Sn=!0,c.result=_,c.bn&&c.bn(_)},function(_){c.Sn=!0,c.error=_,c.vn&&c.vn(_)})}return f.prototype.catch=function(l){return this.next(void 0,l)},f.prototype.next=function(l,c){var _=this;return this.Dn&&z(),this.Dn=!0,this.Sn?this.error?this.Cn(c,this.error):this.Nn(l,this.result):new f(function(T,M){_.bn=function(V){_.Nn(l,V).next(T,M)},_.vn=function(V){_.Cn(c,V).next(T,M)}})},f.prototype.Fn=function(){var l=this;return new Promise(function(c,_){l.next(c,_)})},f.prototype.xn=function(l){try{var c=l();return c instanceof f?c:f.resolve(c)}catch(_){return f.reject(_)}},f.prototype.Nn=function(l,c){return l?this.xn(function(){return l(c)}):f.resolve(c)},f.prototype.Cn=function(l,c){return l?this.xn(function(){return l(c)}):f.reject(c)},f.resolve=function(l){return new f(function(c,_){c(l)})},f.reject=function(l){return new f(function(c,_){_(l)})},f.$n=function(l){return new f(function(c,_){var T=0,M=0,V=!1;l.forEach(function(ae){++T,ae.next(function(){++M,V&&M===T&&c()},function(ye){return _(ye)})}),V=!0,M===T&&c()})},f.kn=function(l){for(var c=f.resolve(!1),_=function(V){c=c.next(function(ae){return ae?f.resolve(ae):V()})},T=0,M=l;T<M.length;T++)_(M[T]);return c},f.forEach=function(l,c){var _=this,T=[];return l.forEach(function(M,V){T.push(c.call(_,M,V))}),this.$n(T)},f}(),ui=function(){function f(l,c,_){this.name=l,this.version=c,this.Mn=_,12.2===f.On(q.getUA())&&me("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(l){return te("SimpleDb","Removing database:",l),Fa(window.indexedDB.deleteDatabase(l)).Fn()},f.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(f.Bn())return!0;var l=q.getUA(),c=f.On(l),_=0<c&&c<10,T=f.qn(l),M=0<T&&T<4.5;return!(l.indexOf("MSIE ")>0||l.indexOf("Trident/")>0||l.indexOf("Edge/")>0||_||M)},f.Bn=function(){var l;return"undefined"!=typeof process&&"YES"===(null===(l=process.env)||void 0===l?void 0:l.Un)},f.Qn=function(l,c){return l.store(c)},f.On=function(l){var c=l.match(/i(?:phone|pad|pod) os ([\d_]+)/i),_=c?c[1].split("_").slice(0,2).join("."):"-1";return Number(_)},f.qn=function(l){var c=l.match(/Android ([\d.]+)/i),_=c?c[1].split(".").slice(0,2).join("."):"-1";return Number(_)},f.prototype.Wn=function(l){return t.__awaiter(this,void 0,void 0,function(){var c,_=this;return t.__generator(this,function(T){switch(T.label){case 0:return this.db?[3,2]:(te("SimpleDb","Opening database:",this.name),c=this,[4,new Promise(function(M,V){var ae=indexedDB.open(_.name,_.version);ae.onsuccess=function(ye){M(ye.target.result)},ae.onblocked=function(){V(new qo(l,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},ae.onerror=function(ye){var Re=ye.target.error;V("VersionError"===Re.name?new j(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new qo(l,Re))},ae.onupgradeneeded=function(ye){te("SimpleDb",'Database "'+_.name+'" requires upgrade from version:',ye.oldVersion),_.Mn.createOrUpgrade(ye.target.result,ae.transaction,ye.oldVersion,_.version).next(function(){te("SimpleDb","Database upgrade to version "+_.version+" complete")})}})]);case 1:c.db=T.sent(),T.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(M){return _.jn(M)}),this.db)]}})})},f.prototype.Kn=function(l){this.jn=l,this.db&&(this.db.onversionchange=function(c){return l(c)})},f.prototype.runTransaction=function(l,c,_,T){return t.__awaiter(this,void 0,void 0,function(){var M,V,ae,ye,Re;return t.__generator(this,function(We){switch(We.label){case 0:M="readonly"===c,V=0,ae=function(){var ot,st,wt,Rt,jt;return t.__generator(this,function($n){switch($n.label){case 0:++V,$n.label=1;case 1:return $n.trys.push([1,4,,5]),[4,ye.Wn(l)];case 2:return ye.db=$n.sent(),ot=xo.open(ye.db,l,M?"readonly":"readwrite",_),st=T(ot).catch(function(Un){return ot.abort(Un),vn.reject(Un)}).Fn(),wt={},st.catch(function(){}),[4,ot.Gn];case 3:return[2,(wt.value=($n.sent(),st),wt)];case 4:return te("SimpleDb","Transaction failed with error:",(Rt=$n.sent()).message,"Retrying:",jt="FirebaseError"!==Rt.name&&V<3),ye.close(),jt?[3,5]:[2,{value:Promise.reject(Rt)}];case 5:return[2]}})},ye=this,We.label=1;case 1:return[5,ae()];case 2:if("object"==typeof(Re=We.sent()))return[2,Re.value];We.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Si=function(){function f(l){this.zn=l,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(l){this.zn=l},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(l){this.Yn=l},f.prototype.delete=function(){return Fa(this.zn.delete())},f}(),qo=function(f){function l(c,_){var T=this;return(T=f.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+c+"' failed: "+_)||this).name="IndexedDbTransactionError",T}return t.__extends(l,f),l}(j);function Jr(f){return"IndexedDbTransactionError"===f.name}var xo=function(){function f(l,c){var _=this;this.action=l,this.transaction=c,this.aborted=!1,this.Zn=new Kr,this.transaction.oncomplete=function(){_.Zn.resolve()},this.transaction.onabort=function(){c.error?_.Zn.reject(new qo(l,c.error)):_.Zn.resolve()},this.transaction.onerror=function(T){var M=x(T.target.error);_.Zn.reject(new qo(l,M))}}return f.open=function(l,c,_,T){try{return new f(c,l.transaction(T,_))}catch(M){throw new qo(c,M)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(l){l&&this.Zn.reject(l),this.aborted||(te("SimpleDb","Aborting transaction:",l?l.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(l){var c=this.transaction.objectStore(l);return new zl(c)},f}(),zl=function(){function f(l){this.store=l}return f.prototype.put=function(l,c){var _;return void 0!==c?(te("SimpleDb","PUT",this.store.name,l,c),_=this.store.put(c,l)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",l),_=this.store.put(l)),Fa(_)},f.prototype.add=function(l){return te("SimpleDb","ADD",this.store.name,l,l),Fa(this.store.add(l))},f.prototype.get=function(l){var c=this;return Fa(this.store.get(l)).next(function(_){return void 0===_&&(_=null),te("SimpleDb","GET",c.store.name,l,_),_})},f.prototype.delete=function(l){return te("SimpleDb","DELETE",this.store.name,l),Fa(this.store.delete(l))},f.prototype.count=function(){return te("SimpleDb","COUNT",this.store.name),Fa(this.store.count())},f.prototype.ts=function(l,c){var _=this.cursor(this.options(l,c)),T=[];return this.es(_,function(M,V){T.push(V)}).next(function(){return T})},f.prototype.ns=function(l,c){te("SimpleDb","DELETE ALL",this.store.name);var _=this.options(l,c);_.ss=!1;var T=this.cursor(_);return this.es(T,function(M,V,ae){return ae.delete()})},f.prototype.rs=function(l,c){var _;c?_=l:(_={},c=l);var T=this.cursor(_);return this.es(T,c)},f.prototype.os=function(l){var c=this.cursor({});return new vn(function(_,T){c.onerror=function(M){var V=x(M.target.error);T(V)},c.onsuccess=function(M){var V=M.target.result;V?l(V.primaryKey,V.value).next(function(ae){ae?V.continue():_()}):_()}})},f.prototype.es=function(l,c){var _=[];return new vn(function(T,M){l.onerror=function(V){M(V.target.error)},l.onsuccess=function(V){var ae=V.target.result;if(ae){var ye=new Si(ae),Re=c(ae.primaryKey,ae.value,ye);if(Re instanceof vn){var We=Re.catch(function(ot){return ye.done(),vn.reject(ot)});_.push(We)}ye.Sn?T():null===ye.Jn?ae.continue():ae.continue(ye.Jn)}else T()}}).next(function(){return vn.$n(_)})},f.prototype.options=function(l,c){var _=void 0;return void 0!==l&&("string"==typeof l?_=l:c=l),{index:_,range:c}},f.prototype.cursor=function(l){var c="next";if(l.reverse&&(c="prev"),l.index){var _=this.store.index(l.index);return l.ss?_.openKeyCursor(l.range,c):_.openCursor(l.range,c)}return this.store.openCursor(l.range,c)},f}();function Fa(f){return new vn(function(l,c){f.onsuccess=function(_){l(_.target.result)},f.onerror=function(_){var T=x(_.target.error);c(T)}})}var Fi=!1;function x(f){var l=ui.On(q.getUA());if(l>=12.2&&l<13){var c="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(c)>=0){var _=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+c+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Fi||(Fi=!0,setTimeout(function(){throw _},0)),_}}return f}function ce(){return"undefined"!=typeof window?window:null}function be(){return"undefined"!=typeof document?document:null}var Ue=function(){function f(l,c,_,T,M){this.cs=l,this.dn=c,this.us=_,this.op=T,this.hs=M,this.ls=new Kr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(V){})}return f._s=function(l,c,_,T,M){var V=new f(l,c,Date.now()+_,T,M);return V.start(_),V},f.prototype.start=function(l){var c=this;this.fs=setTimeout(function(){return c.ds()},l)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(l){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new j(B.CANCELLED,"Operation cancelled"+(l?": "+l:""))))},f.prototype.ds=function(){var l=this;this.cs.ws(function(){return null!==l.fs?(l.clearTimeout(),l.op().then(function(c){return l.ls.resolve(c)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),ct=function(){function f(){var l=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Na(this,"async_queue_retry"),this.Vs=function(){var _=be();_&&te("AsyncQueue","Visibility state changed to  ",_.visibilityState),l.ys.Vn()};var c=be();c&&"function"==typeof c.addEventListener&&c.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(l){this.enqueue(l)},f.prototype.bs=function(l){this.vs(),this.Ss(l)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var l=be();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(l){return this.vs(),this.Is?new Promise(function(c){}):this.Ss(l)},f.prototype.Cs=function(l){var c=this;this.ws(function(){return c.Es.push(l),c.Ns()})},f.prototype.Ns=function(){return t.__awaiter(this,void 0,void 0,function(){var l,c=this;return t.__generator(this,function(_){switch(_.label){case 0:if(0===this.Es.length)return[3,5];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return _.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Jr(l=_.sent()))throw l;return te("AsyncQueue","Operation failed with retryable error: "+l),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return c.Ns()}),_.label=5;case 5:return[2]}})})},f.prototype.Ss=function(l){var c=this,_=this.Ts.then(function(){return c.gs=!0,l().catch(function(T){throw c.Rs=T,c.gs=!1,me("INTERNAL UNHANDLED ERROR: ",(V=(M=T).message||"",M.stack&&(V=M.stack.includes(M.message)?M.stack:M.message+"\n"+M.stack),V)),T;var M,V}).then(function(T){return c.gs=!1,T})});return this.Ts=_,_},f.prototype.yn=function(l,c,_){var T=this;this.vs(),this.Ps.indexOf(l)>-1&&(c=0);var M=Ue._s(this,l,c,_,function(V){return T.Fs(V)});return this.As.push(M),M},f.prototype.vs=function(){this.Rs&&z()},f.prototype.xs=function(){},f.prototype.$s=function(){return t.__awaiter(this,void 0,void 0,function(){var l;return t.__generator(this,function(c){switch(c.label){case 0:return[4,l=this.Ts];case 1:c.sent(),c.label=2;case 2:if(l!==this.Ts)return[3,0];c.label=3;case 3:return[2]}})})},f.prototype.ks=function(l){for(var c=0,_=this.As;c<_.length;c++)if(_[c].dn===l)return!0;return!1},f.prototype.Ms=function(l){var c=this;return this.$s().then(function(){c.As.sort(function(V,ae){return V.us-ae.us});for(var _=0,T=c.As;_<T.length;_++){var M=T[_];if(M.pn(),"all"!==l&&M.dn===l)break}return c.$s()})},f.prototype.Os=function(l){this.Ps.push(l)},f.prototype.Fs=function(l){var c=this.As.indexOf(l);this.As.splice(c,1)},f}();function Dt(f,l){if(me("AsyncQueue",l+": "+f),Jr(f))return new j(B.UNAVAILABLE,l+": "+f);throw f}var Mn=function(){this.Ls=void 0,this.listeners=[]},Br=function(){this.Bs=new hr(function(f){return _s(f)},Yi),this.onlineState="Unknown",this.qs=new Set};function _r(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T,M,V,ae,ye;return t.__generator(this,function(Re){switch(Re.label){case 0:if(c=ee(f),T=!1,(M=c.Bs.get(_=l.query))||(T=!0,M=new Mn),!T)return[3,4];Re.label=1;case 1:return Re.trys.push([1,3,,4]),V=M,[4,c.Us(_)];case 2:return V.Ls=Re.sent(),[3,4];case 3:return ae=Re.sent(),ye=Dt(ae,"Initialization of query '"+Ci(l.query)+"' failed"),[2,void l.onError(ye)];case 4:return c.Bs.set(_,M),M.listeners.push(l),l.Qs(c.onlineState),M.Ls&&l.Ws(M.Ls)&&Rs(c),[2]}})})}function Wi(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T,M,V;return t.__generator(this,function(ae){return c=ee(f),T=!1,(M=c.Bs.get(_=l.query))&&(V=M.listeners.indexOf(l))>=0&&(M.listeners.splice(V,1),T=0===M.listeners.length),T?[2,(c.Bs.delete(_),c.js(_))]:[2]})})}function $o(f,l){for(var c=ee(f),_=!1,T=0,M=l;T<M.length;T++){var V=M[T],ye=c.Bs.get(V.query);if(ye){for(var Re=0,We=ye.listeners;Re<We.length;Re++)We[Re].Ws(V)&&(_=!0);ye.Ls=V}}_&&Rs(c)}function Es(f,l,c){var _=ee(f),T=_.Bs.get(l);if(T)for(var M=0,V=T.listeners;M<V.length;M++)V[M].onError(c);_.Bs.delete(l)}function Rs(f){f.qs.forEach(function(l){l.next()})}var Ys=function(){function f(l,c,_){this.query=l,this.Ks=c,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=_||{}}return f.prototype.Ws=function(l){if(!this.options.includeMetadataChanges){for(var c=[],_=0,T=l.docChanges;_<T.length;_++){var M=T[_];3!==M.type&&c.push(M)}l=new Wt(l.query,l.docs,l.Qt,c,l.Wt,l.fromCache,l.jt,!0)}var V=!1;return this.Gs?this.Hs(l)&&(this.Ks.next(l),V=!0):this.Ys(l,this.onlineState)&&(this.Js(l),V=!0),this.zs=l,V},f.prototype.onError=function(l){this.Ks.error(l)},f.prototype.Qs=function(l){this.onlineState=l;var c=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,l)&&(this.Js(this.zs),c=!0),c},f.prototype.Ys=function(l,c){return!l.fromCache||!(this.options.Xs&&"Offline"!==c||l.docs.m()&&"Offline"!==c)},f.prototype.Hs=function(l){return l.docChanges.length>0||!!(l.jt||this.zs&&this.zs.hasPendingWrites!==l.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(l){l=Wt.Gt(l.query,l.docs,l.Wt,l.fromCache),this.Gs=!0,this.Ks.next(l)},f}(),Pi=function(){function f(l){this.uid=l}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(l){return l.uid===this.uid},f}();Pi.UNAUTHENTICATED=new Pi(null),Pi.ei=new Pi("google-credentials-uid"),Pi.ni=new Pi("first-party-uid");var ji=function(){function f(l,c){var _=this;this.previousValue=l,c&&(c.si=function(T){return _.ii(T)},this.ri=function(T){return c.oi(T)})}return f.prototype.ii=function(l){return this.previousValue=Math.max(l,this.previousValue),this.previousValue},f.prototype.next=function(){var l=++this.previousValue;return this.ri&&this.ri(l),l},f}();function lu(f,l){return"firestore_clients_"+f+"_"+l}function Sd(f,l,c){var _="firestore_mutations_"+f+"_"+c;return l.Zs()&&(_+="_"+l.uid),_}function Qn(f,l){return"firestore_targets_"+f+"_"+l}ji.ai=-1;var Ii=function(){function f(l,c,_,T){this.user=l,this.batchId=c,this.state=_,this.error=T}return f.ci=function(l,c,_){var T=JSON.parse(_),M="object"==typeof T&&-1!==["pending","acknowledged","rejected"].indexOf(T.state)&&(void 0===T.error||"object"==typeof T.error),V=void 0;return M&&T.error&&(M="string"==typeof T.error.message&&"string"==typeof T.error.code)&&(V=new j(T.error.code,T.error.message)),M?new f(l,c,T.state,V):(me("SharedClientState","Failed to parse mutation state for ID '"+c+"': "+_),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Ko=function(){function f(l,c,_){this.targetId=l,this.state=c,this.error=_}return f.ci=function(l,c){var _=JSON.parse(c),T="object"==typeof _&&-1!==["not-current","current","rejected"].indexOf(_.state)&&(void 0===_.error||"object"==typeof _.error),M=void 0;return T&&_.error&&(T="string"==typeof _.error.message&&"string"==typeof _.error.code)&&(M=new j(_.error.code,_.error.message)),T?new f(l,_.state,M):(me("SharedClientState","Failed to parse target state for ID '"+l+"': "+c),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Ai=function(){function f(l,c){this.clientId=l,this.activeTargetIds=c}return f.ci=function(l,c){for(var _=JSON.parse(c),T="object"==typeof _&&_.activeTargetIds instanceof Array,M=Jt(),V=0;T&&V<_.activeTargetIds.length;++V)T=Fe(_.activeTargetIds[V]),M=M.add(_.activeTargetIds[V]);return T?new f(l,M):(me("SharedClientState","Failed to parse client data for instance '"+l+"': "+c),null)},f}(),Pn=function(){function f(l,c){this.clientId=l,this.onlineState=c}return f.ci=function(l){var c=JSON.parse(l);return"object"==typeof c&&-1!==["Unknown","Online","Offline"].indexOf(c.onlineState)&&"string"==typeof c.clientId?new f(c.clientId,c.onlineState):(me("SharedClientState","Failed to parse online state: "+l),null)},f}(),Zi=function(){function f(){this.activeTargetIds=Jt()}return f.prototype.hi=function(l){this.activeTargetIds=this.activeTargetIds.add(l)},f.prototype.li=function(l){this.activeTargetIds=this.activeTargetIds.delete(l)},f.prototype.ui=function(){var l={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(l)},f}(),ii=function(){function f(l,c,_,T,M){this.window=l,this.fn=c,this.persistenceKey=_,this._i=T,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new nr(tn),this.Ei=!1,this.Ii=[];var V=_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=M,this.Ai=lu(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Zi),this.gi=new RegExp("^firestore_clients_"+V+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+V+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+V+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(l){return!(!l||!l.localStorage)},f.prototype.start=function(){return t.__awaiter(this,void 0,void 0,function(){var l,c,_,T,M,V,ae,ye,Re,We,st=this;return t.__generator(this,function(wt){switch(wt.label){case 0:return[4,this.fi.pi()];case 1:for(l=wt.sent(),c=0,_=l;c<_.length;c++)(T=_[c])!==this._i&&(M=this.getItem(lu(this.persistenceKey,T)))&&(V=Ai.ci(T,M))&&(this.Ti=this.Ti.ot(V.clientId,V));for(this.bi(),(ae=this.storage.getItem(this.Vi))&&(ye=this.vi(ae))&&this.Si(ye),Re=0,We=this.Ii;Re<We.length;Re++)this.mi(We[Re]);return this.Ii=[],this.window.addEventListener("unload",function(){return st.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(l){this.setItem(this.Ri,JSON.stringify(l))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(l){var c=!1;return this.Ti.forEach(function(_,T){T.activeTargetIds.has(l)&&(c=!0)}),c},f.prototype.xi=function(l){this.$i(l,"pending")},f.prototype.ki=function(l,c,_){this.$i(l,c,_),this.Mi(l)},f.prototype.Oi=function(l){var c="not-current";if(this.Fi(l)){var _=this.storage.getItem(Qn(this.persistenceKey,l));if(_){var T=Ko.ci(l,_);T&&(c=T.state)}}return this.Li.hi(l),this.bi(),c},f.prototype.Bi=function(l){this.Li.li(l),this.bi()},f.prototype.qi=function(l){return this.Li.activeTargetIds.has(l)},f.prototype.Ui=function(l){this.removeItem(Qn(this.persistenceKey,l))},f.prototype.Qi=function(l,c,_){this.Wi(l,c,_)},f.prototype.ji=function(l,c,_){var T=this;c.forEach(function(M){T.Mi(M)}),this.currentUser=l,_.forEach(function(M){T.xi(M)})},f.prototype.Ki=function(l){this.Gi(l)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(l){var c=this.storage.getItem(l);return te("SharedClientState","READ",l,c),c},f.prototype.setItem=function(l,c){te("SharedClientState","SET",l,c),this.storage.setItem(l,c)},f.prototype.removeItem=function(l){te("SharedClientState","REMOVE",l),this.storage.removeItem(l)},f.prototype.mi=function(l){var c=this,_=l;if(_.storageArea===this.storage){if(te("SharedClientState","EVENT",_.key,_.newValue),_.key===this.Ai)return void me("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return t.__awaiter(c,void 0,void 0,function(){var T,M,V,ae,ye,Re;return t.__generator(this,function(We){if(this.Ei){if(null!==_.key)if(this.gi.test(_.key)){if(null==_.newValue)return T=this.zi(_.key),[2,this.Hi(T,null)];if(M=this.Yi(_.key,_.newValue))return[2,this.Hi(M.clientId,M)]}else if(this.Pi.test(_.key)){if(null!==_.newValue&&(V=this.Ji(_.key,_.newValue)))return[2,this.Xi(V)]}else if(this.yi.test(_.key)){if(null!==_.newValue&&(ae=this.Zi(_.key,_.newValue)))return[2,this.tr(ae)]}else if(_.key===this.Vi){if(null!==_.newValue&&(ye=this.vi(_.newValue)))return[2,this.Si(ye)]}else _.key===this.Ri&&(Re=function(ot){var st=ji.ai;if(null!=ot)try{var wt=JSON.parse(ot);K("number"==typeof wt),st=wt}catch(Rt){me("SharedClientState","Failed to read sequence number from WebStorage",Rt)}return st}(_.newValue))!==ji.ai&&this.si(Re)}else this.Ii.push(_);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(l,c,_){var T=new Ii(this.currentUser,l,c,_),M=Sd(this.persistenceKey,this.currentUser,l);this.setItem(M,T.ui())},f.prototype.Mi=function(l){var c=Sd(this.persistenceKey,this.currentUser,l);this.removeItem(c)},f.prototype.Gi=function(l){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:l}))},f.prototype.Wi=function(l,c,_){var T=Qn(this.persistenceKey,l),M=new Ko(l,c,_);this.setItem(T,M.ui())},f.prototype.zi=function(l){var c=this.gi.exec(l);return c?c[1]:null},f.prototype.Yi=function(l,c){var _=this.zi(l);return Ai.ci(_,c)},f.prototype.Ji=function(l,c){var _=this.Pi.exec(l),T=Number(_[1]);return Ii.ci(new Pi(void 0!==_[2]?_[2]:null),T,c)},f.prototype.Zi=function(l,c){var _=this.yi.exec(l),T=Number(_[1]);return Ko.ci(T,c)},f.prototype.vi=function(l){return Pn.ci(l)},f.prototype.Xi=function(l){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(c){return l.user.uid===this.currentUser.uid?[2,this.fi.er(l.batchId,l.state,l.error)]:(te("SharedClientState","Ignoring mutation for non-active user "+l.user.uid),[2])})})},f.prototype.tr=function(l){return this.fi.nr(l.targetId,l.state,l.error)},f.prototype.Hi=function(l,c){var _=this,T=c?this.Ti.ot(l,c):this.Ti.remove(l),M=this.Ni(this.Ti),V=this.Ni(T),ae=[],ye=[];return V.forEach(function(Re){M.has(Re)||ae.push(Re)}),M.forEach(function(Re){V.has(Re)||ye.push(Re)}),this.fi.sr(ae,ye).then(function(){_.Ti=T})},f.prototype.Si=function(l){this.Ti.get(l.clientId)&&this.di(l.onlineState)},f.prototype.Ni=function(l){var c=Jt();return l.forEach(function(_,T){c=c.kt(T.activeTargetIds)}),c},f}(),us=function(){function f(){this.ir=new Zi,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(l){},f.prototype.ki=function(l,c,_){},f.prototype.Oi=function(l){return this.ir.hi(l),this.rr[l]||"not-current"},f.prototype.Qi=function(l,c,_){this.rr[l]=c},f.prototype.Bi=function(l){this.ir.li(l)},f.prototype.qi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.Ui=function(l){delete this.rr[l]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.start=function(){return this.ir=new Zi,Promise.resolve()},f.prototype.ji=function(l,c,_){},f.prototype.Ki=function(l){},f.prototype.Di=function(){},f.prototype.oi=function(l){},f}(),Yo=function(){function f(l,c,_,T){this.batchId=l,this.ar=c,this.baseMutations=_,this.mutations=T}return f.prototype.cr=function(l,c,_){for(var T=_.ur,M=0;M<this.mutations.length;M++){var V=this.mutations[M];V.key.isEqual(l)&&(c=ti(V,c,T[M]))}return c},f.prototype.hr=function(l,c){for(var _=0,T=this.baseMutations;_<T.length;_++){var M=T[_];M.key.isEqual(l)&&(c=Or(M,c,c,this.ar))}for(var V=c,ae=0,ye=this.mutations;ae<ye.length;ae++){var Re=ye[ae];Re.key.isEqual(l)&&(c=Or(Re,c,V,this.ar))}return c},f.prototype.lr=function(l){var c=this,_=l;return this.mutations.forEach(function(T){var M=c.hr(T.key,l.get(T.key));M&&(_=_.ot(T.key,M))}),_},f.prototype.keys=function(){return this.mutations.reduce(function(l,c){return l.add(c.key)},xt())},f.prototype.isEqual=function(l){return this.batchId===l.batchId&&Cn(this.mutations,l.mutations,function(c,_){return pr(c,_)})&&Cn(this.baseMutations,l.baseMutations,function(c,_){return pr(c,_)})},f}(),A=function(){function f(l,c,_,T){this.batch=l,this._r=c,this.ur=_,this.dr=T}return f.from=function(l,c,_){K(l.mutations.length===_.length);for(var T=Ct,M=l.mutations,V=0;V<M.length;V++)T=T.ot(M[V].key,_[V].version);return new f(l,c,_,T)},f}(),g=function(){function f(){this.wr=new hr(function(l){return l.toString()},function(l,c){return l.isEqual(c)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(l){this.Tr=l},enumerable:!1,configurable:!0}),f.prototype.Er=function(l,c){this.Ir(),this.readTime=c,this.wr.set(l.key,l)},f.prototype.Ar=function(l,c){this.Ir(),c&&(this.readTime=c),this.wr.set(l,null)},f.prototype.Rr=function(l,c){this.Ir();var _=this.wr.get(c);return void 0!==_?vn.resolve(_):this.gr(l,c)},f.prototype.getEntries=function(l,c){return this.Pr(l,c)},f.prototype.apply=function(l){return this.Ir(),this.mr=!0,this.yr(l)},f.prototype.Ir=function(){},f}(),b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P=function(){function f(){this.Vr=[]}return f.prototype.pr=function(l){this.Vr.push(l)},f.prototype.br=function(){this.Vr.forEach(function(l){return l()})},f}(),G=function(){function f(l,c,_){this.vr=l,this.Sr=c,this.Dr=_}return f.prototype.Cr=function(l,c){var _=this;return this.Sr.Nr(l,c).next(function(T){return _.Fr(l,c,T)})},f.prototype.Fr=function(l,c,_){return this.vr.Rr(l,c).next(function(T){for(var M=0,V=_;M<V.length;M++)T=V[M].hr(c,T);return T})},f.prototype.$r=function(l,c,_){var T=Ni();return c.forEach(function(M,V){for(var ae=0,ye=_;ae<ye.length;ae++)V=ye[ae].hr(M,V);T=T.ot(M,V)}),T},f.prototype.kr=function(l,c){var _=this;return this.vr.getEntries(l,c).next(function(T){return _.Mr(l,T)})},f.prototype.Mr=function(l,c){var _=this;return this.Sr.Or(l,c).next(function(T){var M=_.$r(l,c,T),V=hi();return M.forEach(function(ae,ye){ye||(ye=new Ui(ae,An.min())),V=V.ot(ae,ye)}),V})},f.prototype.Lr=function(l,c,_){return O.F((T=c).path)&&null===T.collectionGroup&&0===T.filters.length?this.Br(l,c.path):fo(c)?this.qr(l,c,_):this.Ur(l,c,_);var T},f.prototype.Br=function(l,c){return this.Cr(l,new O(c)).next(function(_){var T=_t();return _ instanceof Vr&&(T=T.ot(_.key,_)),T})},f.prototype.qr=function(l,c,_){var T=this,M=c.collectionGroup,V=_t();return this.Dr.Qr(l,M).next(function(ae){return vn.forEach(ae,function(ye){var We,ot,Re=(We=c,ot=ye.child(M),new Ms(ot,null,We.on.slice(),We.filters.slice(),We.limit,We.an,We.startAt,We.endAt));return T.Ur(l,Re,_).next(function(We){We.forEach(function(ot,st){V=V.ot(ot,st)})})}).next(function(){return V})})},f.prototype.Ur=function(l,c,_){var T,M,V=this;return this.vr.Lr(l,c,_).next(function(ae){return T=ae,V.Sr.Wr(l,c)}).next(function(ae){return V.jr(l,M=ae,T).next(function(ye){T=ye;for(var Re=0,We=M;Re<We.length;Re++)for(var ot=We[Re],st=0,wt=ot.mutations;st<wt.length;st++){var Rt=wt[st],jt=Rt.key,$n=T.get(jt),Un=Or(Rt,$n,$n,ot.ar);T=Un instanceof Vr?T.ot(jt,Un):T.remove(jt)}})}).next(function(){return T.forEach(function(ae,ye){Qi(c,ye)||(T=T.remove(ae))}),T})},f.prototype.jr=function(l,c,_){for(var T=xt(),M=0,V=c;M<V.length;M++)for(var ae=0,ye=V[M].mutations;ae<ye.length;ae++){var Re=ye[ae];Re instanceof Dr&&null===_.get(Re.key)&&(T=T.add(Re.key))}var We=_;return this.vr.getEntries(l,T).next(function(ot){return ot.forEach(function(st,wt){null!==wt&&wt instanceof Vr&&(We=We.ot(st,wt))}),We})},f}(),ie=function(){function f(l,c,_,T){this.targetId=l,this.fromCache=c,this.Kr=_,this.Gr=T}return f.zr=function(l,c){for(var _=xt(),T=xt(),M=0,V=c.docChanges;M<V.length;M++){var ae=V[M];switch(ae.type){case 0:_=_.add(ae.doc.key);break;case 1:T=T.add(ae.doc.key)}}return new f(l,c.fromCache,_,T)},f}();function Ce(f,l){var _=f[1],M=l[1],V=tn(f[0],l[0]);return 0===V?tn(_,M):V}var Oe=function(){function f(l){this.Hr=l,this.buffer=new Ar(Ce),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(l){var c=[l,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(c);else{var _=this.buffer.last();Ce(c,_)<0&&(this.buffer=this.buffer.delete(_).add(c))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),ze={Zr:!1,eo:0,no:0,so:0},Be=function(){function f(l,c,_){this.io=l,this.ro=c,this.oo=_}return f.ao=function(l){return new f(l,f.co,f.uo)},f}();Be.ho=-1,Be.lo=1048576,Be._o=41943040,Be.co=10,Be.uo=1e3,Be.fo=new Be(Be._o,Be.co,Be.uo),Be.do=new Be(Be.ho,0,0);var yt=function(){function f(l,c){this.wo=l,this.cs=c,this.mo=!1,this.To=null}return f.prototype.start=function(l){this.wo.params.io!==Be.ho&&this.Eo(l)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(l){var c=this,_=this.mo?3e5:6e4;te("LruGarbageCollector","Garbage collection scheduled in "+_+"ms"),this.To=this.cs.yn("lru_garbage_collection",_,function(){return t.__awaiter(c,void 0,void 0,function(){var T;return t.__generator(this,function(M){switch(M.label){case 0:this.To=null,this.mo=!0,M.label=1;case 1:return M.trys.push([1,3,,7]),[4,l.Io(this.wo)];case 2:return M.sent(),[3,7];case 3:return Jr(T=M.sent())?(te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",T),[3,6]):[3,4];case 4:return[4,ma(T)];case 5:M.sent(),M.label=6;case 6:return[3,7];case 7:return[4,this.Eo(l)];case 8:return M.sent(),[2]}})})})},f}(),Ot=function(){function f(l,c){this.Ao=l,this.params=c}return f.prototype.Ro=function(l,c){return this.Ao.Po(l).next(function(_){return Math.floor(c/100*_)})},f.prototype.yo=function(l,c){var _=this;if(0===c)return vn.resolve(ji.ai);var T=new Oe(c);return this.Ao.Ce(l,function(M){return T.Xr(M.sequenceNumber)}).next(function(){return _.Ao.Vo(l,function(M){return T.Xr(M)})}).next(function(){return T.maxValue})},f.prototype.po=function(l,c,_){return this.Ao.po(l,c,_)},f.prototype.bo=function(l,c){return this.Ao.bo(l,c)},f.prototype.vo=function(l,c){var _=this;return this.params.io===Be.ho?(te("LruGarbageCollector","Garbage collection skipped; disabled"),vn.resolve(ze)):this.So(l).next(function(T){return T<_.params.io?(te("LruGarbageCollector","Garbage collection skipped; Cache size "+T+" is lower than threshold "+_.params.io),ze):_.Do(l,c)})},f.prototype.So=function(l){return this.Ao.So(l)},f.prototype.Do=function(l,c){var _,T,M,V,ae,ye,Re,We=this,ot=Date.now();return this.Ro(l,this.params.ro).next(function(st){return st>We.params.oo?(te("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+We.params.oo+" from "+st),T=We.params.oo):T=st,V=Date.now(),We.yo(l,T)}).next(function(st){return _=st,ae=Date.now(),We.po(l,_,c)}).next(function(st){return M=st,ye=Date.now(),We.bo(l,_)}).next(function(st){return Re=Date.now(),X()<=S.LogLevel.DEBUG&&te("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(V-ot)+"ms\n\tDetermined least recently used "+T+" in "+(ae-V)+"ms\n\tRemoved "+M+" targets in "+(ye-ae)+"ms\n\tRemoved "+st+" documents in "+(Re-ye)+"ms\nTotal Duration: "+(Re-ot)+"ms"),vn.resolve({Zr:!0,eo:T,no:M,so:st})})},f}();function Ut(f){for(var l="",c=0;c<f.length;c++)l.length>0&&(l=dn(l)),l=Xt(f.get(c),l);return dn(l)}function Xt(f,l){for(var c=l,_=f.length,T=0;T<_;T++){var M=f.charAt(T);switch(M){case"\0":c+="\x01\x10";break;case"\x01":c+="\x01\x11";break;default:c+=M}}return c}function dn(f){return f+"\x01\x01"}function On(f){var l=f.length;if(K(l>=2),2===l)return K("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),Ge.P();for(var c=l-2,_=[],T="",M=0;M<l;){var V=f.indexOf("\x01",M);switch((V<0||V>c)&&z(),f.charAt(V+1)){case"\x01":var ae=f.substring(M,V),ye=void 0;0===T.length?ye=ae:(ye=T+=ae,T=""),_.push(ye);break;case"\x10":T+=f.substring(M,V),T+="\0";break;case"\x11":T+=f.substring(M,V+1);break;default:z()}M=V+2}return new Ge(_)}var Lr=function(f){this.Co=f};function Rr(f,l){if(l.document)return ye=!!l.hasCommittedMutations,Re=ur(f.Co,(ae=l.document).name),We=is(ae.updateTime),ot=new ss({mapValue:{fields:ae.fields}}),new Vr(Re,We,ot,{hasCommittedMutations:!!ye});var ae,ye,Re,We,ot;if(l.noDocument){var c=O.$(l.noDocument.path),_=qi(l.noDocument.readTime);return new Ui(c,_,{hasCommittedMutations:!!l.hasCommittedMutations})}if(l.unknownDocument){var T=O.$(l.unknownDocument.path),M=qi(l.unknownDocument.version);return new Ki(T,M)}return z()}function bo(f,l,c){var st,wt,_=Ji(c),T=l.key.path.h().A();if(l instanceof Vr){var M={name:ho(st=f.Co,(wt=l).key),fields:wt.rn().mapValue.fields,updateTime:jo(st,wt.version.Z())};return new mr(null,null,M,l.hasCommittedMutations,_,T)}if(l instanceof Ui){var ae=l.key.path.A(),ye=Fn(l.version),Re=l.hasCommittedMutations;return new mr(null,new Gr(ae,ye),null,Re,_,T)}if(l instanceof Ki){var We=l.key.path.A(),ot=Fn(l.version);return new mr(new Li(We,ot),null,null,!0,_,T)}return z()}function Ji(f){var l=f.Z();return[l.seconds,l.nanoseconds]}function Qo(f){var l=new Gn(f[0],f[1]);return An.J(l)}function Fn(f){var l=f.Z();return new Xv(l.seconds,l.nanoseconds)}function qi(f){var l=new Gn(f.seconds,f.nanoseconds);return An.J(l)}function cs(f,l){var c=(l.baseMutations||[]).map(function(M){return Kn(f.Co,M)}),_=l.mutations.map(function(M){return Kn(f.Co,M)}),T=Gn.fromMillis(l.localWriteTimeMs);return new Yo(l.batchId,T,c,_)}function yl(f){var l,c,_=qi(f.readTime),T=void 0!==f.lastLimboFreeSnapshotVersion?qi(f.lastLimboFreeSnapshotVersion):An.min();return void 0!==f.query.documents?(K(1===(c=f.query).documents.length),l=Bi(Zt(xs(c.documents[0])))):l=Ps(f.query),new En(l,f.targetId,0,f.lastListenSequenceNumber,_,T,on.fromBase64String(f.resumeToken))}function Id(f,l){var c,_=Fn(l.nt),T=Fn(l.lastLimboFreeSnapshotVersion);c=Ht(l.target)?gr(f.Co,l.target):nl(f.Co,l.target);var M=l.resumeToken.toBase64();return new lo(l.targetId,gt(l.target),_,M,l.sequenceNumber,T,c)}var Nh=function(){function f(l,c,_,T){this.userId=l,this.serializer=c,this.Dr=_,this.No=T,this.Fo={}}return f.xo=function(l,c,_,T){return K(""!==l.uid),new f(l.Zs()?l.uid:"",c,_,T)},f.prototype.$o=function(l){var c=!0,_=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qs(l).rs({index:Oi.userMutationsIndex,range:_},function(T,M,V){c=!1,V.done()}).next(function(){return c})},f.prototype.ko=function(l,c,_,T){var M=this,V=fa(l),ae=Qs(l);return ae.add({}).next(function(ye){K("number"==typeof ye);for(var Re=new Yo(ye,c,_,T),We=function(Un,sr,xr){var Tr=xr.baseMutations.map(function(Hi){return Oo(Un.Co,Hi)}),Xr=xr.mutations.map(function(Hi){return Oo(Un.Co,Hi)});return new Oi(sr,xr.batchId,xr.ar.toMillis(),Tr,Xr)}(M.serializer,M.userId,Re),ot=[],st=new Ar(function(Un,sr){return tn(Un.R(),sr.R())}),wt=0,Rt=T;wt<Rt.length;wt++){var jt=Rt[wt],$n=ws.key(M.userId,jt.key.path,ye);st=st.add(jt.key.path.h()),ot.push(ae.put(We)),ot.push(V.put($n,ws.PLACEHOLDER))}return st.forEach(function(Un){ot.push(M.Dr.Mo(l,Un))}),l.pr(function(){M.Fo[ye]=Re.keys()}),vn.$n(ot).next(function(){return Re})})},f.prototype.Oo=function(l,c){var _=this;return Qs(l).get(c).next(function(T){return T?(K(T.userId===_.userId),cs(_.serializer,T)):null})},f.prototype.Lo=function(l,c){var _=this;return this.Fo[c]?vn.resolve(this.Fo[c]):this.Oo(l,c).next(function(T){if(T){var M=T.keys();return _.Fo[c]=M,M}return null})},f.prototype.Bo=function(l,c){var _=this,T=c+1,M=IDBKeyRange.lowerBound([this.userId,T]),V=null;return Qs(l).rs({index:Oi.userMutationsIndex,range:M},function(ae,ye,Re){ye.userId===_.userId&&(K(ye.batchId>=T),V=cs(_.serializer,ye)),Re.done()}).next(function(){return V})},f.prototype.qo=function(l){var c=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),_=-1;return Qs(l).rs({index:Oi.userMutationsIndex,range:c,reverse:!0},function(T,M,V){_=M.batchId,V.done()}).next(function(){return _})},f.prototype.Uo=function(l){var c=this,_=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qs(l).ts(Oi.userMutationsIndex,_).next(function(T){return T.map(function(M){return cs(c.serializer,M)})})},f.prototype.Nr=function(l,c){var _=this,T=ws.prefixForPath(this.userId,c.path),M=IDBKeyRange.lowerBound(T),V=[];return fa(l).rs({range:M},function(ae,ye,Re){var We=ae[0],st=ae[2],wt=On(ae[1]);if(We===_.userId&&c.path.isEqual(wt))return Qs(l).get(st).next(function(Rt){if(!Rt)throw z();K(Rt.userId===_.userId),V.push(cs(_.serializer,Rt))});Re.done()}).next(function(){return V})},f.prototype.Or=function(l,c){var _=this,T=new Ar(tn),M=[];return c.forEach(function(V){var ae=ws.prefixForPath(_.userId,V.path),ye=IDBKeyRange.lowerBound(ae),Re=fa(l).rs({range:ye},function(We,ot,st){var wt=We[0],jt=We[2],$n=On(We[1]);wt===_.userId&&V.path.isEqual($n)?T=T.add(jt):st.done()});M.push(Re)}),vn.$n(M).next(function(){return _.Qo(l,T)})},f.prototype.Wr=function(l,c){var _=this,T=c.path,M=T.length+1,V=ws.prefixForPath(this.userId,T),ae=IDBKeyRange.lowerBound(V),ye=new Ar(tn);return fa(l).rs({range:ae},function(Re,We,ot){var st=Re[0],Rt=Re[2],jt=On(Re[1]);st===_.userId&&T.T(jt)?jt.length===M&&(ye=ye.add(Rt)):ot.done()}).next(function(){return _.Qo(l,ye)})},f.prototype.Qo=function(l,c){var _=this,T=[],M=[];return c.forEach(function(V){M.push(Qs(l).get(V).next(function(ae){if(null===ae)throw z();K(ae.userId===_.userId),T.push(cs(_.serializer,ae))}))}),vn.$n(M).next(function(){return T})},f.prototype.Wo=function(l,c){var _=this;return Wl(l.jo,this.userId,c).next(function(T){return l.pr(function(){_.Ko(c.batchId)}),vn.forEach(T,function(M){return _.No.Go(l,M)})})},f.prototype.Ko=function(l){delete this.Fo[l]},f.prototype.zo=function(l){var c=this;return this.$o(l).next(function(_){if(!_)return vn.resolve();var T=IDBKeyRange.lowerBound(ws.prefixForUser(c.userId)),M=[];return fa(l).rs({range:T},function(V,ae,ye){if(V[0]===c.userId){var Re=On(V[1]);M.push(Re)}else ye.done()}).next(function(){K(0===M.length)})})},f.prototype.Ho=function(l,c){return Fc(l,this.userId,c)},f.prototype.Yo=function(l){var c=this;return Lc(l).get(this.userId).next(function(_){return _||new $l(c.userId,-1,"")})},f}();function Fc(f,l,c){var _=ws.prefixForPath(l,c.path),T=_[1],M=IDBKeyRange.lowerBound(_),V=!1;return fa(f).rs({range:M,ss:!0},function(ae,ye,Re){ae[0]===l&&ae[1]===T&&(V=!0),Re.done()}).next(function(){return V})}function Wl(f,l,c){var _=f.store(Oi.store),T=f.store(ws.store),M=[],V=IDBKeyRange.only(c.batchId),ae=0,ye=_.rs({range:V},function(Rt,jt,$n){return ae++,$n.delete()});M.push(ye.next(function(){K(1===ae)}));for(var Re=[],We=0,ot=c.mutations;We<ot.length;We++){var st=ot[We],wt=ws.key(l,st.key.path,c.batchId);M.push(T.delete(wt)),Re.push(st.key)}return vn.$n(M).next(function(){return Re})}function Qs(f){return Ss.Qn(f,Oi.store)}function fa(f){return Ss.Qn(f,ws.store)}function Lc(f){return Ss.Qn(f,$l.store)}var Vc=function(){function f(l,c){this.serializer=l,this.Dr=c}return f.prototype.Er=function(l,c,_){return da(l).put(Di(c),_)},f.prototype.Ar=function(l,c){var _=da(l),T=Di(c);return _.delete(T)},f.prototype.updateMetadata=function(l,c){var _=this;return this.getMetadata(l).next(function(T){return T.byteSize+=c,_.Jo(l,T)})},f.prototype.Rr=function(l,c){var _=this;return da(l).get(Di(c)).next(function(T){return _.Xo(T)})},f.prototype.Zo=function(l,c){var _=this;return da(l).get(Di(c)).next(function(T){var M=_.Xo(T);return M?{ta:M,size:ql(T)}:null})},f.prototype.getEntries=function(l,c){var _=this,T=Ni();return this.ea(l,c,function(M,V){var ae=_.Xo(V);T=T.ot(M,ae)}).next(function(){return T})},f.prototype.na=function(l,c){var _=this,T=Ni(),M=new nr(O.i);return this.ea(l,c,function(V,ae){var ye=_.Xo(ae);ye?(T=T.ot(V,ye),M=M.ot(V,ql(ae))):(T=T.ot(V,null),M=M.ot(V,0))}).next(function(){return{sa:T,ia:M}})},f.prototype.ea=function(l,c,_){if(c.m())return vn.resolve();var T=IDBKeyRange.bound(c.first().path.A(),c.last().path.A()),M=c._t(),V=M.It();return da(l).rs({range:T},function(ae,ye,Re){for(var We=O.$(ae);V&&O.i(V,We)<0;)_(V,null),V=M.It();V&&V.isEqual(We)&&(_(V,ye),V=M.At()?M.It():null),V?Re.Xn(V.path.A()):Re.done()}).next(function(){for(;V;)_(V,null),V=M.At()?M.It():null})},f.prototype.Lr=function(l,c,_){var T=this,M=_t(),V=c.path.length+1,ae={};if(_.isEqual(An.min())){var ye=c.path.A();ae.range=IDBKeyRange.lowerBound(ye)}else{var Re=c.path.A(),We=Ji(_);ae.range=IDBKeyRange.lowerBound([Re,We],!0),ae.index=mr.collectionReadTimeIndex}return da(l).rs(ae,function(ot,st,wt){if(ot.length===V){var Rt=Rr(T.serializer,st);c.path.T(Rt.key.path)?Rt instanceof Vr&&Qi(c,Rt)&&(M=M.ot(Rt.key,Rt)):wt.done()}}).next(function(){return M})},f.prototype.ra=function(l){return new La(this,!!l&&l.oa)},f.prototype.aa=function(l){return this.getMetadata(l).next(function(c){return c.byteSize})},f.prototype.getMetadata=function(l){return bf(l).get(ks.key).next(function(c){return K(!!c),c})},f.prototype.Jo=function(l,c){return bf(l).put(ks.key,c)},f.prototype.Xo=function(l){if(l){var c=Rr(this.serializer,l);return c instanceof Ui&&c.version.isEqual(An.min())?null:c}return null},f}(),La=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).ca=c,T.oa=_,T.ua=new hr(function(M){return M.toString()},function(M,V){return M.isEqual(V)}),T}return t.__extends(l,f),l.prototype.yr=function(c){var _=this,T=[],M=0,V=new Ar(function(ae,ye){return tn(ae.R(),ye.R())});return this.wr.forEach(function(ae,ye){var Re=_.ua.get(ae);if(ye){var We=bo(_.ca.serializer,ye,_.readTime);V=V.add(ae.path.h());var ot=ql(We);M+=ot-Re,T.push(_.ca.Er(c,ae,We))}else if(M-=Re,_.oa){var st=bo(_.ca.serializer,new Ui(ae,An.min()),_.readTime);T.push(_.ca.Er(c,ae,st))}else T.push(_.ca.Ar(c,ae))}),V.forEach(function(ae){T.push(_.ca.Dr.Mo(c,ae))}),T.push(this.ca.updateMetadata(c,M)),vn.$n(T)},l.prototype.gr=function(c,_){var T=this;return this.ca.Zo(c,_).next(function(M){return null===M?(T.ua.set(_,0),null):(T.ua.set(_,M.size),M.ta)})},l.prototype.Pr=function(c,_){var T=this;return this.ca.na(c,_).next(function(M){var V=M.sa;return M.ia.forEach(function(ae,ye){T.ua.set(ae,ye)}),V})},l}(g);function bf(f){return Ss.Qn(f,ks.store)}function da(f){return Ss.Qn(f,mr.store)}function Di(f){return f.path.A()}function ql(f){var l;if(f.document)l=f.document;else if(f.unknownDocument)l=f.unknownDocument;else{if(!f.noDocument)throw z();l=f.noDocument}return JSON.stringify(l).length}var Ad=function(){function f(){this.ha=new Dd}return f.prototype.Mo=function(l,c){return this.ha.add(c),vn.resolve()},f.prototype.Qr=function(l,c){return vn.resolve(this.ha.getEntries(c))},f}(),Dd=function(){function f(){this.index={}}return f.prototype.add=function(l){var c=l._(),_=l.h(),T=this.index[c]||new Ar(Ge.i),M=!T.has(_);return this.index[c]=T.add(_),M},f.prototype.has=function(l){var c=l._(),_=l.h(),T=this.index[c];return T&&T.has(_)},f.prototype.getEntries=function(l){return(this.index[l]||new Ar(Ge.i)).A()},f}(),Jv=function(){function f(l){this.serializer=l}return f.prototype.createOrUpgrade=function(l,c,_,T){var M=this;K(_<T&&_>=0&&T<=10);var ye,V=new xo("createOrUpgrade",c);_<1&&T>=1&&(l.createObjectStore(Zs.store),(ye=l).createObjectStore($l.store,{keyPath:$l.keyPath}),ye.createObjectStore(Oi.store,{keyPath:Oi.keyPath,autoIncrement:!0}).createIndex(Oi.userMutationsIndex,Oi.userMutationsKeyPath,{unique:!0}),ye.createObjectStore(ws.store),uu(l),function(ye){ye.createObjectStore(mr.store)}(l));var ae=vn.resolve();return _<3&&T>=3&&(0!==_&&(function(ye){ye.deleteObjectStore(vr.store),ye.deleteObjectStore(lo.store),ye.deleteObjectStore(Xi.store)}(l),uu(l)),ae=ae.next(function(){return function(ye){var Re=ye.store(Xi.store),We=new Xi(0,0,An.min().Z(),0);return Re.put(Xi.key,We)}(V)})),_<4&&T>=4&&(0!==_&&(ae=ae.next(function(){return function(ye,Re){return Re.store(Oi.store).ts().next(function(We){ye.deleteObjectStore(Oi.store),ye.createObjectStore(Oi.store,{keyPath:Oi.keyPath,autoIncrement:!0}).createIndex(Oi.userMutationsIndex,Oi.userMutationsKeyPath,{unique:!0});var ot=Re.store(Oi.store),st=We.map(function(wt){return ot.put(wt)});return vn.$n(st)})}(l,V)})),ae=ae.next(function(){!function(ye){ye.createObjectStore(Js.store,{keyPath:Js.keyPath})}(l)})),_<5&&T>=5&&(ae=ae.next(function(){return M.removeAcknowledgedMutations(V)})),_<6&&T>=6&&(ae=ae.next(function(){return function(ye){ye.createObjectStore(ks.store)}(l),M.addDocumentGlobal(V)})),_<7&&T>=7&&(ae=ae.next(function(){return M.ensureSequenceNumbers(V)})),_<8&&T>=8&&(ae=ae.next(function(){return M.createCollectionParentIndex(l,V)})),_<9&&T>=9&&(ae=ae.next(function(){(function(ye){ye.objectStoreNames.contains("remoteDocumentChanges")&&ye.deleteObjectStore("remoteDocumentChanges")})(l),function(ye){var Re=ye.objectStore(mr.store);Re.createIndex(mr.readTimeIndex,mr.readTimeIndexPath,{unique:!1}),Re.createIndex(mr.collectionReadTimeIndex,mr.collectionReadTimeIndexPath,{unique:!1})}(c)})),_<10&&T>=10&&(ae=ae.next(function(){return M.rewriteCanonicalIds(V)})),ae},f.prototype.addDocumentGlobal=function(l){var c=0;return l.store(mr.store).rs(function(_,T){c+=ql(T)}).next(function(){var _=new ks(c);return l.store(ks.store).put(ks.key,_)})},f.prototype.removeAcknowledgedMutations=function(l){var c=this,_=l.store($l.store),T=l.store(Oi.store);return _.ts().next(function(M){return vn.forEach(M,function(V){var ae=IDBKeyRange.bound([V.userId,-1],[V.userId,V.lastAcknowledgedBatchId]);return T.ts(Oi.userMutationsIndex,ae).next(function(ye){return vn.forEach(ye,function(Re){K(Re.userId===V.userId);var We=cs(c.serializer,Re);return Wl(l,V.userId,We).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(l){var c=l.store(vr.store),_=l.store(mr.store);return l.store(Xi.store).get(Xi.key).next(function(T){var M=[];return _.rs(function(V,ae){var ye=new Ge(V),Re=[0,Ut(ye)];M.push(c.get(Re).next(function(We){return We?vn.resolve():c.put(new vr(0,Ut(ye),T.highestListenSequenceNumber))}))}).next(function(){return vn.$n(M)})})},f.prototype.createCollectionParentIndex=function(l,c){l.createObjectStore(_l.store,{keyPath:_l.keyPath});var _=c.store(_l.store),T=new Dd,M=function(V){if(T.add(V)){var ae=V._(),ye=V.h();return _.put({collectionId:ae,parent:Ut(ye)})}};return c.store(mr.store).rs({ss:!0},function(V,ae){var ye=new Ge(V);return M(ye.h())}).next(function(){return c.store(ws.store).rs({ss:!0},function(V,ae){var Re=On(V[1]);return M(Re.h())})})},f.prototype.rewriteCanonicalIds=function(l){var c=this,_=l.store(lo.store);return _.rs(function(T,M){var V=yl(M),ae=Id(c.serializer,V);return _.put(ae)})},f}(),Xv=function(f,l){this.seconds=f,this.nanoseconds=l},Zs=function(f,l,c){this.ownerId=f,this.allowTabSynchronization=l,this.leaseTimestampMs=c};Zs.store="owner",Zs.key="owner";var $l=function(f,l,c){this.userId=f,this.lastAcknowledgedBatchId=l,this.lastStreamToken=c};$l.store="mutationQueues",$l.keyPath="userId";var Oi=function(f,l,c,_,T){this.userId=f,this.batchId=l,this.localWriteTimeMs=c,this.baseMutations=_,this.mutations=T};Oi.store="mutations",Oi.keyPath="batchId",Oi.userMutationsIndex="userMutationsIndex",Oi.userMutationsKeyPath=["userId","batchId"];var ws=function(){function f(){}return f.prefixForUser=function(l){return[l]},f.prefixForPath=function(l,c){return[l,Ut(c)]},f.key=function(l,c,_){return[l,Ut(c),_]},f}();ws.store="documentMutations",ws.PLACEHOLDER=new ws;var Gr=function(f,l){this.path=f,this.readTime=l},Li=function(f,l){this.path=f,this.version=l},mr=function(f,l,c,_,T,M){this.unknownDocument=f,this.noDocument=l,this.document=c,this.hasCommittedMutations=_,this.readTime=T,this.parentPath=M};mr.store="remoteDocuments",mr.readTimeIndex="readTimeIndex",mr.readTimeIndexPath="readTime",mr.collectionReadTimeIndex="collectionReadTimeIndex",mr.collectionReadTimeIndexPath=["parentPath","readTime"];var ks=function(f){this.byteSize=f};ks.store="remoteDocumentGlobal",ks.key="remoteDocumentGlobalKey";var lo=function(f,l,c,_,T,M,V){this.targetId=f,this.canonicalId=l,this.readTime=c,this.resumeToken=_,this.lastListenSequenceNumber=T,this.lastLimboFreeSnapshotVersion=M,this.query=V};lo.store="targets",lo.keyPath="targetId",lo.queryTargetsIndexName="queryTargetsIndex",lo.queryTargetsKeyPath=["canonicalId","targetId"];var vr=function(f,l,c){this.targetId=f,this.path=l,this.sequenceNumber=c};vr.store="targetDocuments",vr.keyPath=["targetId","path"],vr.documentTargetsIndex="documentTargetsIndex",vr.documentTargetsKeyPath=["path","targetId"];var Xi=function(f,l,c,_){this.highestTargetId=f,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=c,this.targetCount=_};Xi.key="targetGlobalKey",Xi.store="targetGlobal";var _l=function(f,l){this.collectionId=f,this.parent=l};function uu(f){f.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.documentTargetsIndex,vr.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(lo.store,{keyPath:lo.keyPath}).createIndex(lo.queryTargetsIndexName,lo.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Xi.store)}_l.store="collectionParents",_l.keyPath=["collectionId","parent"];var Js=function(f,l,c,_){this.clientId=f,this.updateTimeMs=l,this.networkEnabled=c,this.inForeground=_};Js.store="clientMetadata",Js.keyPath="clientId";var Qu=t.__spreadArrays(t.__spreadArrays(t.__spreadArrays([$l.store,Oi.store,ws.store,mr.store,lo.store,Zs.store,Xi.store,vr.store],[Js.store]),[ks.store]),[_l.store]),Cs=function(){function f(){this.la=new Dd}return f.prototype.Mo=function(l,c){var _=this;if(!this.la.has(c)){var T=c._(),M=c.h();l.pr(function(){_.la.add(c)});var V={collectionId:T,parent:Ut(M)};return Zo(l).put(V)}return vn.resolve()},f.prototype.Qr=function(l,c){var _=[],T=IDBKeyRange.bound([c,""],[Nn(c),""],!1,!0);return Zo(l).ts(T).next(function(M){for(var V=0,ae=M;V<ae.length;V++){var ye=ae[V];if(ye.collectionId!==c)break;_.push(On(ye.parent))}return _})},f}();function Zo(f){return Ss.Qn(f,_l.store)}var Eo=function(){function f(l){this._a=l}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),Ef=function(){function f(l,c){this.No=l,this.serializer=c}return f.prototype.wa=function(l){var c=this;return this.ma(l).next(function(_){var T=new Eo(_.highestTargetId);return _.highestTargetId=T.next(),c.Ta(l,_).next(function(){return _.highestTargetId})})},f.prototype.Ea=function(l){return this.ma(l).next(function(c){return An.J(new Gn(c.lastRemoteSnapshotVersion.seconds,c.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(l){return this.ma(l).next(function(c){return c.highestListenSequenceNumber})},f.prototype.Aa=function(l,c,_){var T=this;return this.ma(l).next(function(M){return M.highestListenSequenceNumber=c,_&&(M.lastRemoteSnapshotVersion=_.Z()),c>M.highestListenSequenceNumber&&(M.highestListenSequenceNumber=c),T.Ta(l,M)})},f.prototype.Ra=function(l,c){var _=this;return this.ga(l,c).next(function(){return _.ma(l).next(function(T){return T.targetCount+=1,_.Pa(c,T),_.Ta(l,T)})})},f.prototype.ya=function(l,c){return this.ga(l,c)},f.prototype.Va=function(l,c){var _=this;return this.pa(l,c.targetId).next(function(){return bl(l).delete(c.targetId)}).next(function(){return _.ma(l)}).next(function(T){return K(T.targetCount>0),T.targetCount-=1,_.Ta(l,T)})},f.prototype.po=function(l,c,_){var T=this,M=0,V=[];return bl(l).rs(function(ae,ye){var Re=yl(ye);Re.sequenceNumber<=c&&null===_.get(Re.targetId)&&(M++,V.push(T.Va(l,Re)))}).next(function(){return vn.$n(V)}).next(function(){return M})},f.prototype.Ce=function(l,c){return bl(l).rs(function(_,T){var M=yl(T);c(M)})},f.prototype.ma=function(l){return Ns(l).get(Xi.key).next(function(c){return K(null!==c),c})},f.prototype.Ta=function(l,c){return Ns(l).put(Xi.key,c)},f.prototype.ga=function(l,c){return bl(l).put(Id(this.serializer,c))},f.prototype.Pa=function(l,c){var _=!1;return l.targetId>c.highestTargetId&&(c.highestTargetId=l.targetId,_=!0),l.sequenceNumber>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=l.sequenceNumber,_=!0),_},f.prototype.ba=function(l){return this.ma(l).next(function(c){return c.targetCount})},f.prototype.va=function(l,c){var _=gt(c),T=IDBKeyRange.bound([_,Number.NEGATIVE_INFINITY],[_,Number.POSITIVE_INFINITY]),M=null;return bl(l).rs({range:T,index:lo.queryTargetsIndexName},function(V,ae,ye){var Re=yl(ae);ln(c,Re.target)&&(M=Re,ye.done())}).next(function(){return M})},f.prototype.Sa=function(l,c,_){var T=this,M=[],V=Fs(l);return c.forEach(function(ae){var ye=Ut(ae.path);M.push(V.put(new vr(_,ye))),M.push(T.No.Da(l,_,ae))}),vn.$n(M)},f.prototype.Ca=function(l,c,_){var T=this,M=Fs(l);return vn.forEach(c,function(V){var ae=Ut(V.path);return vn.$n([M.delete([_,ae]),T.No.Na(l,_,V)])})},f.prototype.pa=function(l,c){var _=Fs(l),T=IDBKeyRange.bound([c],[c+1],!1,!0);return _.delete(T)},f.prototype.Fa=function(l,c){var _=IDBKeyRange.bound([c],[c+1],!1,!0),T=Fs(l),M=xt();return T.rs({range:_,ss:!0},function(V,ae,ye){var Re=On(V[1]),We=new O(Re);M=M.add(We)}).next(function(){return M})},f.prototype.Ho=function(l,c){var _=Ut(c.path),T=IDBKeyRange.bound([_],[Nn(_)],!1,!0),M=0;return Fs(l).rs({index:vr.documentTargetsIndex,ss:!0,range:T},function(V,ae,ye){0!==V[0]&&(M++,ye.done())}).next(function(){return M>0})},f.prototype.Ue=function(l,c){return bl(l).get(c).next(function(_){return _?yl(_):null})},f}();function bl(f){return Ss.Qn(f,lo.store)}function Ns(f){return Ss.Qn(f,Xi.store)}function Fs(f){return Ss.Qn(f,vr.store)}var Ts="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lo=function(f){function l(c,_){var T=this;return(T=f.call(this)||this).jo=c,T.xa=_,T}return t.__extends(l,f),l}(P),Ss=function(){function f(l,c,_,T,M,V,ae,ye,Re,We){if(this.allowTabSynchronization=l,this.persistenceKey=c,this.clientId=_,this.fn=M,this.window=V,this.document=ae,this.$a=Re,this.ka=We,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ot){return Promise.resolve()},!f.Ln())throw new j(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Kl(this,T),this.Wa=c+"main",this.serializer=new Lr(ye),this.ja=new ui(this.Wa,10,new Jv(this.serializer)),this.Ka=new Ef(this.No,this.serializer),this.Dr=new Cs,this.vr=new Vc(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===We&&me("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(l,c){if(l instanceof Lo)return ui.Qn(l.jo,c);throw z()},f.prototype.start=function(){var l=this;return this.za().then(function(){if(!l.isPrimary&&!l.allowTabSynchronization)throw new j(B.FAILED_PRECONDITION,Ts);return l.Ha(),l.Ya(),l.Ja(),l.runTransaction("getHighestListenSequenceNumber","readonly",function(c){return l.Ka.Ia(c)})}).then(function(c){l.Ma=new ji(c,l.$a)}).then(function(){l.Oa=!0}).catch(function(c){return l.ja&&l.ja.close(),Promise.reject(c)})},f.prototype.Xa=function(l){var c=this;return this.Qa=function(_){return t.__awaiter(c,void 0,void 0,function(){return t.__generator(this,function(T){return this.Ei?[2,l(_)]:[2]})})},l(this.isPrimary)},f.prototype.Za=function(l){var c=this;this.ja.Kn(function(_){return t.__awaiter(c,void 0,void 0,function(){return t.__generator(this,function(T){switch(T.label){case 0:return null===_.newVersion?[4,l()]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})})},f.prototype.tc=function(l){var c=this;this.networkEnabled!==l&&(this.networkEnabled=l,this.fn.ws(function(){return t.__awaiter(c,void 0,void 0,function(){return t.__generator(this,function(_){switch(_.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var l=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(c){return Fh(c).put(new Js(l.clientId,Date.now(),l.networkEnabled,l.inForeground)).next(function(){if(l.isPrimary)return l.ec(c).next(function(_){_||(l.isPrimary=!1,l.fn.Cs(function(){return l.Qa(!1)}))})}).next(function(){return l.nc(c)}).next(function(_){return l.isPrimary&&!_?l.sc(c).next(function(){return!1}):!!_&&l.ic(c).next(function(){return!0})})}).catch(function(c){if(Jr(c))return te("IndexedDbPersistence","Failed to extend owner lease: ",c),l.isPrimary;if(!l.allowTabSynchronization)throw c;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",c),!1}).then(function(c){l.isPrimary!==c&&l.fn.Cs(function(){return l.Qa(c)}),l.isPrimary=c})},f.prototype.ec=function(l){var c=this;return il(l).get(Zs.key).next(function(_){return vn.resolve(c.rc(_))})},f.prototype.oc=function(l){return Fh(l).delete(this.clientId)},f.prototype.ac=function(){return t.__awaiter(this,void 0,void 0,function(){var l,c,_,M=this;return t.__generator(this,function(V){switch(V.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(ae){var ye=f.Qn(ae,Js.store);return ye.ts().next(function(Re){var We=M.uc(Re,18e5),ot=Re.filter(function(st){return-1===We.indexOf(st)});return vn.forEach(ot,function(st){return ye.delete(st.clientId)}).next(function(){return ot})})}).catch(function(){return[]})]);case 1:if(l=V.sent(),this.Ga)for(c=0,_=l;c<_.length;c++)this.Ga.removeItem(this.hc(_[c].clientId));V.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var l=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return l.za().then(function(){return l.ac()}).then(function(){return l.Ja()})})},f.prototype.rc=function(l){return!!l&&l.ownerId===this.clientId},f.prototype.nc=function(l){var c=this;return this.ka?vn.resolve(!0):il(l).get(Zs.key).next(function(_){if(null!==_&&c.cc(_.leaseTimestampMs,5e3)&&!c.lc(_.ownerId)){if(c.rc(_)&&c.networkEnabled)return!0;if(!c.rc(_)){if(!_.allowTabSynchronization)throw new j(B.FAILED_PRECONDITION,Ts);return!1}}return!(!c.networkEnabled||!c.inForeground)||Fh(l).ts().next(function(T){return void 0===c.uc(T,5e3).find(function(M){return!(c.clientId===M.clientId||!(!c.networkEnabled&&M.networkEnabled||!c.inForeground&&M.inForeground&&c.networkEnabled===M.networkEnabled))})})}).next(function(_){return c.isPrimary!==_&&te("IndexedDbPersistence","Client "+(_?"is":"is not")+" eligible for a primary lease."),_})},f.prototype.Di=function(){return t.__awaiter(this,void 0,void 0,function(){var l=this;return t.__generator(this,function(c){switch(c.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Zs.store,Js.store],function(_){var T=new Lo(_,ji.ai);return l.sc(T).next(function(){return l.oc(T)})})];case 1:return c.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(l,c){var _=this;return l.filter(function(T){return _.cc(T.updateTimeMs,c)&&!_.lc(T.clientId)})},f.prototype.pi=function(){var l=this;return this.runTransaction("getActiveClients","readonly",function(c){return Fh(c).ts().next(function(_){return l.uc(_,18e5).map(function(T){return T.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(l){return Nh.xo(l,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(l,c,_){var M,T=this;return te("IndexedDbPersistence","Starting transaction:",l),this.ja.runTransaction(l,"readonly"===c?"readonly":"readwrite",Qu,function(ae){return M=new Lo(ae,T.Ma?T.Ma.next():ji.ai),"readwrite-primary"===c?T.ec(M).next(function(ye){return!!ye||T.nc(M)}).next(function(ye){if(!ye)throw me("Failed to obtain primary lease for action '"+l+"'."),T.isPrimary=!1,T.fn.Cs(function(){return T.Qa(!1)}),new j(B.FAILED_PRECONDITION,b);return _(M)}).next(function(ye){return T.ic(M).next(function(){return ye})}):T.Ac(M).next(function(){return _(M)})}).then(function(ae){return M.br(),ae})},f.prototype.Ac=function(l){var c=this;return il(l).get(Zs.key).next(function(_){if(null!==_&&c.cc(_.leaseTimestampMs,5e3)&&!c.lc(_.ownerId)&&!c.rc(_)&&!(c.ka||c.allowTabSynchronization&&_.allowTabSynchronization))throw new j(B.FAILED_PRECONDITION,Ts)})},f.prototype.ic=function(l){var c=new Zs(this.clientId,this.allowTabSynchronization,Date.now());return il(l).put(Zs.key,c)},f.Ln=function(){return ui.Ln()},f.prototype.sc=function(l){var c=this,_=il(l);return _.get(Zs.key).next(function(T){return c.rc(T)?(te("IndexedDbPersistence","Releasing primary lease."),_.delete(Zs.key)):vn.resolve()})},f.prototype.cc=function(l,c){var _=Date.now();return!(l<_-c||l>_&&(me("Detected an update time that is in the future: "+l+" > "+_),1))},f.prototype.Ha=function(){var l=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){l.fn.ws(function(){return l.inForeground="visible"===l.document.visibilityState,l.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var l,c=this;"function"==typeof(null===(l=this.window)||void 0===l?void 0:l.addEventListener)&&(this.La=function(){c._c(),c.fn.ws(function(){return c.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(l){var c;try{var _=null!==(null===(c=this.Ga)||void 0===c?void 0:c.getItem(this.hc(l)));return te("IndexedDbPersistence","Client '"+l+"' "+(_?"is":"is not")+" zombied in LocalStorage"),_}catch(T){return me("IndexedDbPersistence","Failed to get zombied client id.",T),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(l){me("Failed to set zombie client id.",l)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(l){}},f.prototype.hc=function(l){return"firestore_zombie_"+this.persistenceKey+"_"+l},f}();function il(f){return Ss.Qn(f,Zs.store)}function Fh(f){return Ss.Qn(f,Js.store)}var Kl=function(){function f(l,c){this.db=l,this.wo=new Ot(this,c)}return f.prototype.Po=function(l){var c=this.Rc(l);return this.db.Tc().ba(l).next(function(_){return c.next(function(T){return _+T})})},f.prototype.Rc=function(l){var c=0;return this.Vo(l,function(_){c++}).next(function(){return c})},f.prototype.Ce=function(l,c){return this.db.Tc().Ce(l,c)},f.prototype.Vo=function(l,c){return this.gc(l,function(_,T){return c(T)})},f.prototype.Da=function(l,c,_){return Uc(l,_)},f.prototype.Na=function(l,c,_){return Uc(l,_)},f.prototype.po=function(l,c,_){return this.db.Tc().po(l,c,_)},f.prototype.Go=function(l,c){return Uc(l,c)},f.prototype.Pc=function(l,c){return T=c,M=!1,Lc(_=l).os(function(V){return Fc(_,V,T).next(function(ae){return ae&&(M=!0),vn.resolve(!ae)})}).next(function(){return M});var _,T,M},f.prototype.bo=function(l,c){var _=this,T=this.db.Ec().ra(),M=[],V=0;return this.gc(l,function(ae,ye){if(ye<=c){var Re=_.Pc(l,ae).next(function(We){if(!We)return V++,T.Rr(l,ae).next(function(){return T.Ar(ae),Fs(l).delete([0,Ut(ae.path)])})});M.push(Re)}}).next(function(){return vn.$n(M)}).next(function(){return T.apply(l)}).next(function(){return V})},f.prototype.removeTarget=function(l,c){var _=c.st(l.xa);return this.db.Tc().ya(l,_)},f.prototype.yc=function(l,c){return Uc(l,c)},f.prototype.gc=function(l,c){var _,T=Fs(l),M=ji.ai;return T.rs({index:vr.documentTargetsIndex},function(V,ae){var Re=ae.path,We=ae.sequenceNumber;0===V[0]?(M!==ji.ai&&c(new O(On(_)),M),M=We,_=Re):M=ji.ai}).next(function(){M!==ji.ai&&c(new O(On(_)),M)})},f.prototype.So=function(l){return this.db.Ec().aa(l)},f}();function Uc(f,l){return Fs(f).put((_=f.xa,new vr(0,Ut(l.path),_)));var _}function Lh(f,l){var c=f.projectId;return f.j||(c+="."+f.database),"firestore/"+l+"/"+c+"/"}var wf=function(){function f(l,c,_){this.persistence=l,this.Vc=c,this.bc=new nr(tn),this.vc=new hr(function(T){return gt(T)},ln),this.Sc=An.min(),this.Sr=l.mc(_),this.Dc=l.Ec(),this.Ka=l.Tc(),this.Cc=new G(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(l){var c=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(_){return l.vo(_,c.bc)})},f}();function cu(f,l){var c=ee(f);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(_){var V,ae,ye,Re,We,ot,st,T=l.batch.keys(),M=c.Dc.ra({oa:!0});return(V=c,ae=_,ye=l,Re=M,We=ye.batch,ot=We.keys(),st=vn.resolve(),ot.forEach(function(wt){st=st.next(function(){return Re.Rr(ae,wt)}).next(function(Rt){var jt=Rt,$n=ye.dr.get(wt);K(null!==$n),(!jt||jt.version.L($n)<0)&&(jt=We.cr(wt,jt,ye))&&Re.Er(jt,ye._r)})}),st.next(function(){return V.Sr.Wo(ae,We)})).next(function(){return M.apply(_)}).next(function(){return c.Sr.zo(_)}).next(function(){return c.Cc.kr(_,T)})})}function El(f){var l=ee(f);return l.persistence.runTransaction("Get last remote snapshot version","readonly",function(c){return l.Ka.Ea(c)})}function Bc(f,l){var c=ee(f),_=l.nt,T=c.bc;return c.persistence.runTransaction("Apply remote event","readwrite-primary",function(M){var V=c.Dc.ra({oa:!0});T=c.bc;var ae=[];l.zt.forEach(function(ot,st){var $n,Un,sr,wt=T.get(st);if(wt){ae.push(c.Ka.Ca(M,ot.se,st).next(function(){return c.Ka.Sa(M,ot.ee,st)}));var Rt=ot.resumeToken;if(Rt.O()>0){var jt=wt.it(Rt,_).st(M.xa);T=T.ot(st,jt),$n=wt,sr=ot,K((Un=jt).resumeToken.O()>0),(0===$n.resumeToken.O()||Un.nt.X()-$n.nt.X()>=3e8||sr.ee.size+sr.ne.size+sr.se.size>0)&&ae.push(c.Ka.ya(M,jt))}}});var ye=hi(),Re=xt();if(l.Yt.forEach(function(ot,st){Re=Re.add(ot)}),ae.push(V.getEntries(M,Re).next(function(ot){l.Yt.forEach(function(st,wt){var Rt=ot.get(st);wt instanceof Ui&&wt.version.isEqual(An.min())?(V.Ar(st,_),ye=ye.ot(st,wt)):null==Rt||wt.version.L(Rt.version)>0||0===wt.version.L(Rt.version)&&Rt.hasPendingWrites?(V.Er(wt,_),ye=ye.ot(st,wt)):te("LocalStore","Ignoring outdated watch update for ",st,". Current version:",Rt.version," Watch version:",wt.version),l.Jt.has(st)&&ae.push(c.persistence.No.yc(M,st))})})),!_.isEqual(An.min())){var We=c.Ka.Ea(M).next(function(ot){return c.Ka.Aa(M,M.xa,_)});ae.push(We)}return vn.$n(ae).next(function(){return V.apply(M)}).next(function(){return c.Cc.Mr(M,ye)})}).then(function(M){return c.bc=T,M})}function Zu(f,l){var c=ee(f);return c.persistence.runTransaction("Get next mutation batch","readonly",function(_){return void 0===l&&(l=-1),c.Sr.Bo(_,l)})}function pa(f,l){var c=ee(f);return c.persistence.runTransaction("Allocate target","readwrite",function(_){var T;return c.Ka.va(_,l).next(function(M){return M?vn.resolve(T=M):c.Ka.wa(_).next(function(V){return T=new En(l,V,0,_.xa),c.Ka.Ra(_,T).next(function(){return T})})})}).then(function(_){var T=c.bc.get(_.targetId);return(null===T||_.nt.L(T.nt)>0)&&(c.bc=c.bc.ot(_.targetId,_),c.vc.set(l,_.targetId)),_})}function Ls(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M,V;return t.__generator(this,function(ae){switch(ae.label){case 0:_=ee(f),T=_.bc.get(l),M=c?"readwrite":"readwrite-primary",ae.label=1;case 1:return ae.trys.push([1,4,,5]),c?[3,3]:[4,_.persistence.runTransaction("Release target",M,function(ye){return _.persistence.No.removeTarget(ye,T)})];case 2:ae.sent(),ae.label=3;case 3:return[3,5];case 4:if(!Jr(V=ae.sent()))throw V;return te("LocalStore","Failed to update sequence numbers for target "+l+": "+V),[3,5];case 5:return _.bc=_.bc.remove(l),_.vc.delete(T.target),[2]}})})}function Ju(f,l,c){var _=ee(f),T=An.min(),M=xt();return _.persistence.runTransaction("Execute query","readonly",function(V){return(ae=_,ye=V,Re=Bi(l),We=ee(ae),ot=We.vc.get(Re),void 0!==ot?vn.resolve(We.bc.get(ot)):We.Ka.va(ye,Re)).next(function(ae){if(ae)return T=ae.lastLimboFreeSnapshotVersion,_.Ka.Fa(V,ae.targetId).next(function(ye){M=ye})}).next(function(){return _.Vc.Lr(V,l,c?T:An.min(),c?M:xt())}).next(function(ae){return{documents:ae,Fc:M}});var ae,ye,Re,We,ot})}function hu(f,l){var c=ee(f),_=ee(c.Ka),T=c.bc.get(l);return T?Promise.resolve(T.target):c.persistence.runTransaction("Get target data","readonly",function(M){return _.Ue(M,l).next(function(V){return V?V.target:null})})}function fu(f){var l=ee(f);return l.persistence.runTransaction("Get new document changes","readonly",function(c){return T=c,M=l.Sc,V=ee(l.Dc),ae=hi(),ye=Ji(M),Re=da(T),We=IDBKeyRange.lowerBound(ye,!0),Re.rs({index:mr.readTimeIndex,range:We},function(ot,st){var wt=Rr(V.serializer,st);ae=ae.ot(wt.key,wt),ye=st.readTime}).next(function(){return{xc:ae,readTime:Qo(ye)}});var T,M,V,ae,ye,Re,We}).then(function(c){var _=c.xc;return l.Sc=c.readTime,_})}function Yl(f){return t.__awaiter(this,void 0,void 0,function(){var l;return t.__generator(this,function(c){return[2,(l=ee(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(_){return M=da(_),V=An.min(),M.rs({index:mr.readTimeIndex,reverse:!0},function(ae,ye,Re){ye.readTime&&(V=Qo(ye.readTime)),Re.done()}).next(function(){return V});var M,V}).then(function(_){l.Sc=_})]})})}function ma(f){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){if(f.code!==B.FAILED_PRECONDITION||f.message!==b)throw f;return te("LocalStore","Unexpectedly lost primary lease"),[2]})})}var wo=function(){function f(){this.$c=new Ar(po.kc),this.Mc=new Ar(po.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(l,c){var _=new po(l,c);this.$c=this.$c.add(_),this.Mc=this.Mc.add(_)},f.prototype.Lc=function(l,c){var _=this;l.forEach(function(T){return _.Da(T,c)})},f.prototype.Na=function(l,c){this.Bc(new po(l,c))},f.prototype.qc=function(l,c){var _=this;l.forEach(function(T){return _.Na(T,c)})},f.prototype.Uc=function(l){var c=this,_=new O(new Ge([])),T=new po(_,l),M=new po(_,l+1),V=[];return this.Mc.Ft([T,M],function(ae){c.Bc(ae),V.push(ae.key)}),V},f.prototype.Qc=function(){var l=this;this.$c.forEach(function(c){return l.Bc(c)})},f.prototype.Bc=function(l){this.$c=this.$c.delete(l),this.Mc=this.Mc.delete(l)},f.prototype.Wc=function(l){var c=new O(new Ge([])),_=new po(c,l),T=new po(c,l+1),M=xt();return this.Mc.Ft([_,T],function(V){M=M.add(V.key)}),M},f.prototype.Ho=function(l){var c=new po(l,0),_=this.$c.$t(c);return null!==_&&l.isEqual(_.key)},f}(),po=function(){function f(l,c){this.key=l,this.jc=c}return f.kc=function(l,c){return O.i(l.key,c.key)||tn(l.jc,c.jc)},f.Oc=function(l,c){return tn(l.jc,c.jc)||O.i(l.key,c.key)},f}(),xd=function(f,l){this.user=l,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Co=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(l){this.Gc=l,l(Pi.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),Pd=function(){function f(l){var c=this;this.Jc=null,this.currentUser=Pi.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){c.Zc++,c.currentUser=c.tu(),c.Xc=!0,c.Gc&&c.Gc(c.currentUser)},this.Zc=0,this.auth=l.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),l.get().then(function(_){c.auth=_,c.Jc&&c.auth.addAuthTokenListener(c.Jc)},function(){}))}return f.prototype.getToken=function(){var l=this,c=this.Zc,_=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(_).then(function(T){return l.Zc!==c?(te("FirebaseCredentialsProvider","getToken aborted due to token change."),l.getToken()):T?(K("string"==typeof T.accessToken),new xd(T.accessToken,l.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(l){this.Gc=l,this.Xc&&l(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var l=this.auth&&this.auth.getUid();return K(null===l||"string"==typeof l),new Pi(l)},f}(),Od=function(){function f(l,c){this.eu=l,this.nu=c,this.type="FirstParty",this.user=Pi.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var l={"X-Goog-AuthUser":this.nu},c=this.eu.auth.getAuthHeaderValueForFirstParty([]);return c&&(l.Authorization=c),l},enumerable:!1,configurable:!0}),f}(),du=function(){function f(l,c){this.eu=l,this.nu=c}return f.prototype.getToken=function(){return Promise.resolve(new Od(this.eu,this.nu))},f.prototype.Hc=function(l){l(Pi.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),ol=function(){function f(l,c,_,T,M,V){this.fn=l,this.su=_,this.iu=T,this.ru=M,this.listener=V,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Na(l,c)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){switch(l.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var l=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return l.fu()}))},f.prototype.du=function(l){this.wu(),this.stream.send(l)},f.prototype.fu=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(l,c){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(_){switch(_.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==l?this.ys.reset():c&&c.code===B.RESOURCE_EXHAUSTED?(me(c.toString()),me("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):c&&c.code===B.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=l,[4,this.listener.Tu(c)];case 1:return _.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var l=this;this.state=1;var c=this.Eu(this.ou),_=this.ou;this.ru.getToken().then(function(T){l.ou===_&&l.Iu(T)},function(T){c(function(){var M=new j(B.UNKNOWN,"Fetching auth token failed: "+T.message);return l.Au(M)})})},f.prototype.Iu=function(l){var c=this,_=this.Eu(this.ou);this.stream=this.Ru(l),this.stream.gu(function(){_(function(){return c.state=2,c.listener.gu()})}),this.stream.Tu(function(T){_(function(){return c.Au(T)})}),this.stream.onMessage(function(T){_(function(){return c.onMessage(T)})})},f.prototype.hu=function(){var l=this;this.state=4,this.ys.gn(function(){return t.__awaiter(l,void 0,void 0,function(){return t.__generator(this,function(c){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(l){return te("PersistentStream","close with error: "+l),this.stream=null,this.close(3,l)},f.prototype.Eu=function(l){var c=this;return function(_){c.fn.ws(function(){return c.ou===l?_():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),Xu=function(f){function l(c,_,T,M,V){var ae=this;return(ae=f.call(this,c,"listen_stream_connection_backoff","listen_stream_idle",_,T,V)||this).serializer=M,ae}return t.__extends(l,f),l.prototype.Ru=function(c){return this.iu.Pu("Listen",c)},l.prototype.onMessage=function(c){this.ys.reset();var _=function(M,V){var ae,oa;if("targetChange"in V){var ye="NO_CHANGE"===(oa=V.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oa?1:"REMOVE"===oa?2:"CURRENT"===oa?3:"RESET"===oa?4:z(),Re=V.targetChange.targetIds||[],We=function(oa,dl){return oa.Qe?(K(void 0===dl||"string"==typeof dl),on.fromBase64String(dl||"")):(K(void 0===dl||dl instanceof Uint8Array),on.fromUint8Array(dl||new Uint8Array))}(M,V.targetChange.resumeToken),ot=V.targetChange.cause,st=ot&&function(oa){var dl=void 0===oa.code?B.UNKNOWN:Ir(oa.code);return new j(dl,oa.message||"")}(ot);ae=new $r(ye,Re,We,st||null)}else if("documentChange"in V){var wt=V.documentChange,Rt=ur(M,wt.document.name),jt=is(wt.document.updateTime),$n=new ss({mapValue:{fields:wt.document.fields}}),Un=new Vr(Rt,jt,$n,{});ae=new fr(wt.targetIds||[],wt.removedTargetIds||[],Un.key,Un)}else if("documentDelete"in V){var Tr=V.documentDelete,Xr=ur(M,Tr.document),Hi=Tr.readTime?is(Tr.readTime):An.min(),ms=new Ui(Xr,Hi);ae=new fr([],Tr.removedTargetIds||[],ms.key,ms)}else if("documentRemove"in V){var nu=V.documentRemove,Du=ur(M,nu.document);ae=new fr([],nu.removedTargetIds||[],Du,null)}else{if(!("filter"in V))return z();var xu=V.filter,gc=new Wn(xu.count||0);ae=new lr(xu.targetId,gc)}return ae}(this.serializer,c),T=function(M){if(!("targetChange"in M))return An.min();var V=M.targetChange;return V.targetIds&&V.targetIds.length?An.min():V.readTime?is(V.readTime):An.min()}(c);return this.listener.yu(_,T)},l.prototype.Vu=function(c){var M,V,ae,ye,_={};_.database=Qr(this.serializer),_.addTarget=(M=this.serializer,(ae=Ht(ye=(V=c).target)?{documents:gr(M,ye)}:{query:nl(M,ye)}).targetId=V.targetId,V.resumeToken.O()>0&&(ae.resumeToken=fi(M,V.resumeToken)),ae);var T=function(M,V){var ae=function(ye,Re){switch(Re){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,V.et);return null==ae?null:{"goog-listen-tags":ae}}(0,c);T&&(_.labels=T),this.du(_)},l.prototype.pu=function(c){var _={};_.database=Qr(this.serializer),_.removeTarget=c,this.du(_)},l}(ol),wl=function(f){function l(c,_,T,M,V){var ae=this;return(ae=f.call(this,c,"write_stream_connection_backoff","write_stream_idle",_,T,V)||this).serializer=M,ae.bu=!1,ae}return t.__extends(l,f),Object.defineProperty(l.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},l.prototype.mu=function(){this.bu&&this.Su([])},l.prototype.Ru=function(c){return this.iu.Pu("Write",c)},l.prototype.onMessage=function(c){if(K(!!c.streamToken),this.lastStreamToken=c.streamToken,this.bu){this.ys.reset();var _=(V=c.commitTime,(M=c.writeResults)&&M.length>0?(K(void 0!==V),M.map(function(ae){return function(ye,Re){var We=is(ye.updateTime?ye.updateTime:Re);We.isEqual(An.min())&&(We=is(Re));var ot=null;return ye.transformResults&&ye.transformResults.length>0&&(ot=ye.transformResults),new $t(We,ot)}(ae,V)})):[]),T=is(c.commitTime);return this.listener.Du(T,_)}var M,V;return K(!c.writeResults||0===c.writeResults.length),this.bu=!0,this.listener.Cu()},l.prototype.Nu=function(){var c={};c.database=Qr(this.serializer),this.du(c)},l.prototype.Su=function(c){var _=this,T={streamToken:this.lastStreamToken,writes:c.map(function(M){return Oo(_.serializer,M)})};this.du(T)},l}(ol),pu=function(f){function l(c,_,T){var M=this;return(M=f.call(this)||this).credentials=c,M.iu=_,M.serializer=T,M.Fu=!1,M}return t.__extends(l,f),l.prototype.xu=function(){if(this.Fu)throw new j(B.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.$u=function(c,_,T){var M=this;return this.xu(),this.credentials.getToken().then(function(V){return M.iu.$u(c,_,T,V)}).catch(function(V){throw V.code===B.UNAUTHENTICATED&&M.credentials.zc(),V})},l.prototype.ku=function(c,_,T){var M=this;return this.xu(),this.credentials.getToken().then(function(V){return M.iu.ku(c,_,T,V)}).catch(function(V){throw V.code===B.UNAUTHENTICATED&&M.credentials.zc(),V})},l.prototype.terminate=function(){this.Fu=!1},l}(function(){}),Va=function(){function f(l,c){this.cs=l,this.di=c,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var l=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return l.Ou=null,l.Uu("Backend didn't respond within 10 seconds."),l.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(l){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+l.toString()),this.qu("Offline")))},f.prototype.set=function(l){this.Wu(),this.Mu=0,"Online"===l&&(this.Lu=!1),this.qu(l)},f.prototype.qu=function(l){l!==this.state&&(this.state=l,this.di(l))},f.prototype.Uu=function(l){var c="Could not reach Cloud Firestore backend. "+l+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(me(c),this.Lu=!1):te("OnlineStateTracker",c)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),Ua=function(f,l,c,_,T){var M=this;this.ju=f,this.Ku=l,this.cs=c,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=T,this.Xu.Zu(function(V){c.ws(function(){return t.__awaiter(M,void 0,void 0,function(){return t.__generator(this,function(ae){switch(ae.label){case 0:return So(this)?(te("RemoteStore","Restarting streams for network reachability change."),[4,function(ye){return t.__awaiter(this,void 0,void 0,function(){var Re;return t.__generator(this,function(We){switch(We.label){case 0:return(Re=ee(ye)).Yu.add(4),[4,To(Re)];case 1:return We.sent(),Re.th.set("Unknown"),Re.Yu.delete(4),[4,mu(Re)];case 2:return We.sent(),[2]}})})}(this)]):[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})})})}),this.th=new Va(c,_)};function mu(f){return t.__awaiter(this,void 0,void 0,function(){var l,c;return t.__generator(this,function(_){switch(_.label){case 0:if(!So(f))return[3,4];l=0,c=f.Ju,_.label=1;case 1:return l<c.length?[4,(0,c[l])(!0)]:[3,4];case 2:_.sent(),_.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function To(f){return t.__awaiter(this,void 0,void 0,function(){var l,c;return t.__generator(this,function(_){switch(_.label){case 0:l=0,c=f.Ju,_.label=1;case 1:return l<c.length?[4,(0,c[l])(!1)]:[3,4];case 2:_.sent(),_.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function jc(f){return t.__awaiter(this,void 0,void 0,function(){var l;return t.__generator(this,function(c){switch(c.label){case 0:return l=ee(f),te("RemoteStore","RemoteStore shutting down."),l.Yu.add(5),[4,To(l)];case 1:return c.sent(),l.Xu.Di(),l.th.set("Unknown"),[2]}})})}function ec(f,l){var c=ee(f);c.Hu.has(l.targetId)||(c.Hu.set(l.targetId,l),Hc(c)?sl(c):zc(c).uu()&&Cl(c,l))}function Xs(f,l){var c=ee(f),_=zc(c);c.Hu.delete(l),_.uu()&&Jo(c,l),0===c.Hu.size&&(_.uu()?_._u():So(c)&&c.th.set("Unknown"))}function Cl(f,l){f.eh.Ie(l.targetId),zc(f).Vu(l)}function Jo(f,l){f.eh.Ie(l),zc(f).pu(l)}function sl(f){f.eh=new He({qe:function(l){return f.Gu.qe(l)},Ue:function(l){return f.Hu.get(l)||null}}),zc(f).start(),f.th.Bu()}function Hc(f){return So(f)&&!zc(f).cu()&&f.Hu.size>0}function So(f){return 0===ee(f).Yu.size}function al(f){f.eh=void 0}function gu(f){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){return f.Hu.forEach(function(c,_){Cl(f,c)}),[2]})})}function Md(f,l){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(c){return al(f),Hc(f)?(f.th.Qu(l),sl(f)):f.th.set("Unknown"),[2]})})}function vu(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M;return t.__generator(this,function(V){switch(V.label){case 0:if(f.th.set("Online"),!(l instanceof $r&&2===l.state&&l.cause))return[3,6];V.label=1;case 1:return V.trys.push([1,3,,5]),[4,function(ae,ye){return t.__awaiter(this,void 0,void 0,function(){var Re,We,ot,st;return t.__generator(this,function(wt){switch(wt.label){case 0:Re=ye.cause,We=0,ot=ye.targetIds,wt.label=1;case 1:return We<ot.length?ae.Hu.has(st=ot[We])?[4,ae.Gu.nh(st,Re)]:[3,3]:[3,5];case 2:wt.sent(),ae.Hu.delete(st),ae.eh.removeTarget(st),wt.label=3;case 3:wt.label=4;case 4:return We++,[3,1];case 5:return[2]}})})}(f,l)];case 2:return V.sent(),[3,5];case 3:return _=V.sent(),te("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),_),[4,ea(f,_)];case 4:return V.sent(),[3,5];case 5:return[3,13];case 6:if(l instanceof fr?f.eh.be(l):l instanceof lr?f.eh.$e(l):f.eh.De(l),c.isEqual(An.min()))return[3,13];V.label=7;case 7:return V.trys.push([7,11,,13]),[4,El(f.ju)];case 8:return T=V.sent(),c.L(T)>=0?[4,(ae=f,ye=c,Re=ae.eh.Oe(ye),Re.zt.forEach(function(We,ot){if(We.resumeToken.O()>0){var st=ae.Hu.get(ot);st&&ae.Hu.set(ot,st.it(We.resumeToken,ye))}}),Re.Ht.forEach(function(We){var ot=ae.Hu.get(We);if(ot){ae.Hu.set(We,ot.it(on.B,ot.nt)),Jo(ae,We);var st=new En(ot.target,We,1,ot.sequenceNumber);Cl(ae,st)}}),ae.Gu.sh(Re))]:[3,10];case 9:V.sent(),V.label=10;case 10:return[3,13];case 11:return te("RemoteStore","Failed to raise snapshot:",M=V.sent()),[4,ea(f,M)];case 12:return V.sent(),[3,13];case 13:return[2]}var ae,ye,Re})})}function ea(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _=this;return t.__generator(this,function(T){switch(T.label){case 0:if(!Jr(l))throw l;return f.Yu.add(1),[4,To(f)];case 1:return T.sent(),f.th.set("Offline"),c||(c=function(){return El(f.ju)}),f.cs.Cs(function(){return t.__awaiter(_,void 0,void 0,function(){return t.__generator(this,function(M){switch(M.label){case 0:return te("RemoteStore","Retrying IndexedDB access"),[4,c()];case 1:return M.sent(),f.Yu.delete(1),[4,mu(f)];case 2:return M.sent(),[2]}})})}),[2]}})})}function Ba(f,l){return l().catch(function(c){return ea(f,c,l)})}function ta(f){return t.__awaiter(this,void 0,void 0,function(){var l,c,_,T,M;return t.__generator(this,function(V){switch(V.label){case 0:l=ee(f),c=Vs(l),_=l.zu.length>0?l.zu[l.zu.length-1].batchId:-1,V.label=1;case 1:if(!(So(ae=l)&&ae.zu.length<10))return[3,7];V.label=2;case 2:return V.trys.push([2,4,,6]),[4,Zu(l.ju,_)];case 3:return null===(T=V.sent())?(0===l.zu.length&&c._u(),[3,7]):(_=T.batchId,function(ae,ye){ae.zu.push(ye);var Re=Vs(ae);Re.uu()&&Re.vu&&Re.Su(ye.mutations)}(l,T),[3,6]);case 4:return M=V.sent(),[4,ea(l,M)];case 5:return V.sent(),[3,6];case 6:return[3,1];case 7:return ga(l)&&Vh(l),[2]}var ae})})}function ga(f){return So(f)&&!Vs(f).cu()&&f.zu.length>0}function Vh(f){Vs(f).start()}function hs(f){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){return Vs(f).Nu(),[2]})})}function ja(f){return t.__awaiter(this,void 0,void 0,function(){var l,c,_;return t.__generator(this,function(M){for(l=Vs(f),c=0,_=f.zu;c<_.length;c++)l.Su(_[c].mutations);return[2]})})}function Gc(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T;return t.__generator(this,function(M){switch(M.label){case 0:return _=f.zu.shift(),T=A.from(_,l,c),[4,Ba(f,function(){return f.Gu.ih(T)})];case 1:return M.sent(),[4,ta(f)];case 2:return M.sent(),[2]}})})}function va(f,l){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(c){switch(c.label){case 0:return l&&Vs(f).vu?[4,function(_,T){return t.__awaiter(this,void 0,void 0,function(){var M,V;return t.__generator(this,function(ae){switch(ae.label){case 0:return xn(V=T.code)&&V!==B.ABORTED?(M=_.zu.shift(),Vs(_).lu(),[4,Ba(_,function(){return _.Gu.rh(M.batchId,T)})]):[3,3];case 1:return ae.sent(),[4,ta(_)];case 2:ae.sent(),ae.label=3;case 3:return[2]}})})}(f,l)]:[3,2];case 1:c.sent(),c.label=2;case 2:return ga(f)&&Vh(f),[2]}})})}function ya(f,l){return t.__awaiter(this,void 0,void 0,function(){var c;return t.__generator(this,function(T){switch(T.label){case 0:return c=ee(f),l?(c.Yu.delete(2),[4,mu(c)]):[3,2];case 1:return T.sent(),[3,5];case 2:return l?[3,4]:(c.Yu.add(2),[4,To(c)]);case 3:T.sent(),c.th.set("Unknown"),T.label=4;case 4:T.label=5;case 5:return[2]}})})}function zc(f){var c,_,T,M,l=this;return f.oh||(f.oh=(c=f.Ku,_=f.cs,T={gu:gu.bind(null,f),Tu:Md.bind(null,f),yu:vu.bind(null,f)},(M=ee(c)).xu(),new Xu(_,M.iu,M.credentials,M.serializer,T)),f.Ju.push(function(c){return t.__awaiter(l,void 0,void 0,function(){return t.__generator(this,function(_){switch(_.label){case 0:return c?(f.oh.lu(),Hc(f)?sl(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:_.sent(),al(f),_.label=3;case 3:return[2]}})})})),f.oh}function Vs(f){var c,_,T,M,l=this;return f.ah||(f.ah=(c=f.Ku,_=f.cs,T={gu:hs.bind(null,f),Tu:va.bind(null,f),Cu:ja.bind(null,f),Du:Gc.bind(null,f)},(M=ee(c)).xu(),new wl(_,M.iu,M.credentials,M.serializer,T)),f.Ju.push(function(c){return t.__awaiter(l,void 0,void 0,function(){return t.__generator(this,function(_){switch(_.label){case 0:return c?(f.ah.lu(),[4,ta(f)]):[3,2];case 1:return _.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:_.sent(),f.zu.length>0&&(te("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),_.label=4;case 4:return[2]}})})})),f.ah}var Wc=function(f){this.key=f},_a=function(f){this.key=f},qc=function(){function f(l,c){this.query=l,this.uh=c,this.hh=null,this.te=!1,this.lh=xt(),this.Wt=xt(),this._h=xi(l),this.fh=new sn(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(l,c){var _=this,T=c?c.mh:new In,M=c?c.fh:this.fh,V=c?c.Wt:this.Wt,ae=M,ye=!1,Re=Mr(this.query)&&M.size===this.query.limit?M.last():null,We=_o(this.query)&&M.size===this.query.limit?M.first():null;if(l.ht(function(st,wt){var Rt=M.get(st),jt=wt instanceof Vr?wt:null;jt&&(jt=Qi(_.query,jt)?jt:null);var $n=!!Rt&&_.Wt.has(Rt.key),Un=!!jt&&(jt.Je||_.Wt.has(jt.key)&&jt.hasCommittedMutations),sr=!1;Rt&&jt?Rt.data().isEqual(jt.data())?$n!==Un&&(T.track({type:3,doc:jt}),sr=!0):_.Th(Rt,jt)||(T.track({type:2,doc:jt}),sr=!0,(Re&&_._h(jt,Re)>0||We&&_._h(jt,We)<0)&&(ye=!0)):!Rt&&jt?(T.track({type:0,doc:jt}),sr=!0):Rt&&!jt&&(T.track({type:1,doc:Rt}),sr=!0,(Re||We)&&(ye=!0)),sr&&(jt?(ae=ae.add(jt),V=Un?V.add(st):V.delete(st)):(ae=ae.delete(st),V=V.delete(st)))}),Mr(this.query)||_o(this.query))for(;ae.size>this.query.limit;){var ot=Mr(this.query)?ae.last():ae.first();ae=ae.delete(ot.key),V=V.delete(ot.key),T.track({type:1,doc:ot})}return{fh:ae,mh:T,Eh:ye,Wt:V}},f.prototype.Th=function(l,c){return l.Je&&c.hasCommittedMutations&&!c.Je},f.prototype.yr=function(l,c,_){var T=this,M=this.fh;this.fh=l.fh,this.Wt=l.Wt;var V=l.mh.Ut();V.sort(function(We,ot){return wt=ot.type,(Rt=function(jt){switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}})(We.type)-Rt(wt)||T._h(We.doc,ot.doc);var wt,Rt}),this.Ih(_);var ae=c?this.Ah():[],ye=0===this.lh.size&&this.te?1:0,Re=ye!==this.hh;return this.hh=ye,0!==V.length||Re?{snapshot:new Wt(this.query,l.fh,M,V,l.Wt,0===ye,Re,!1),Rh:ae}:{Rh:ae}},f.prototype.Qs=function(l){return this.te&&"Offline"===l?(this.te=!1,this.yr({fh:this.fh,mh:new In,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(l){return!this.uh.has(l)&&!!this.fh.has(l)&&!this.fh.get(l).Je},f.prototype.Ih=function(l){var c=this;l&&(l.ee.forEach(function(_){return c.uh=c.uh.add(_)}),l.ne.forEach(function(_){}),l.se.forEach(function(_){return c.uh=c.uh.delete(_)}),this.te=l.te)},f.prototype.Ah=function(){var l=this;if(!this.te)return[];var c=this.lh;this.lh=xt(),this.fh.forEach(function(T){l.gh(T.key)&&(l.lh=l.lh.add(T.key))});var _=[];return c.forEach(function(T){l.lh.has(T)||_.push(new _a(T))}),this.lh.forEach(function(T){c.has(T)||_.push(new Wc(T))}),_},f.prototype.Ph=function(l){this.uh=l.Fc,this.lh=xt();var c=this.wh(l.documents);return this.yr(c,!0)},f.prototype.yh=function(){return Wt.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),yu=function(f,l,c){this.query=f,this.targetId=l,this.view=c},$c=function(f){this.key=f,this.Vh=!1},Cf=function(){function f(l,c,_,T,M,V){this.ju=l,this.ph=c,this.bh=_,this.Sh=T,this.currentUser=M,this.Dh=V,this.Ch={},this.Nh=new hr(function(ae){return _s(ae)},Yi),this.Fh=new Map,this.xh=[],this.$h=new nr(O.i),this.kh=new Map,this.Mh=new wo,this.Oh={},this.Lh=new Map,this.Bh=Eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function Uh(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,T,M,V,ae;return t.__generator(this,function(ye){switch(ye.label){case 0:return c=bu(f),(M=c.Nh.get(l))?(c.Sh.Oi(M.targetId),T=M.view.yh(),[3,4]):[3,1];case 1:return[4,pa(c.ju,Bi(l))];case 2:return V=ye.sent(),ae=c.Sh.Oi(V.targetId),[4,Tl(c,l,V.targetId,"current"===ae)];case 3:T=ye.sent(),c.Uh&&ec(c.ph,V),ye.label=4;case 4:return[2,T]}})})}function Tl(f,l,c,_){return t.__awaiter(this,void 0,void 0,function(){var T,M,V,ae,ye,Re;return t.__generator(this,function(We){switch(We.label){case 0:return f.Qh=function(ot,st,wt){return function(Rt,jt,$n,Un){return t.__awaiter(this,void 0,void 0,function(){var sr,xr,Tr;return t.__generator(this,function(Xr){switch(Xr.label){case 0:return(sr=jt.view.wh($n)).Eh?[4,Ju(Rt.ju,jt.query,!1).then(function(Hi){return jt.view.wh(Hi.documents,sr)})]:[3,2];case 1:sr=Xr.sent(),Xr.label=2;case 2:return xr=Un&&Un.zt.get(jt.targetId),Tr=jt.view.yr(sr,Rt.Uh,xr),[2,(Bh(Rt,jt.targetId,Tr.Rh),Tr.snapshot)]}})})}(f,ot,st,wt)},[4,Ju(f.ju,l,!0)];case 1:return T=We.sent(),M=new qc(l,T.Fc),V=M.wh(T.documents),ae=Er.Zt(c,_&&"Offline"!==f.onlineState),ye=M.yr(V,f.Uh,ae),Bh(f,c,ye.Rh),Re=new yu(l,c,M),[2,(f.Nh.set(l,Re),f.Fh.has(c)?f.Fh.get(c).push(l):f.Fh.set(c,[l]),ye.snapshot)]}})})}function Ha(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T;return t.__generator(this,function(M){switch(M.label){case 0:return c=ee(f),_=c.Nh.get(l),(T=c.Fh.get(_.targetId)).length>1?[2,(c.Fh.set(_.targetId,T.filter(function(V){return!Yi(V,l)})),void c.Nh.delete(l))]:c.Uh?(c.Sh.Bi(_.targetId),c.Sh.Fi(_.targetId)?[3,2]:[4,Ls(c.ju,_.targetId,!1).then(function(){c.Sh.Ui(_.targetId),Xs(c.ph,_.targetId),Ql(c,_.targetId)}).catch(ma)]):[3,3];case 1:M.sent(),M.label=2;case 2:return[3,5];case 3:return Ql(c,_.targetId),[4,Ls(c.ju,_.targetId,!0)];case 4:M.sent(),M.label=5;case 5:return[2]}})})}function _u(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_;return t.__generator(this,function(T){switch(T.label){case 0:c=ee(f),T.label=1;case 1:return T.trys.push([1,4,,6]),[4,Bc(c.ju,l)];case 2:return _=T.sent(),l.zt.forEach(function(M,V){var ae=c.kh.get(V);ae&&(K(M.ee.size+M.ne.size+M.se.size<=1),M.ee.size>0?ae.Vh=!0:M.ne.size>0?K(ae.Vh):M.se.size>0&&(K(ae.Vh),ae.Vh=!1))}),[4,ll(c,_,l)];case 3:return T.sent(),[3,6];case 4:return[4,ma(T.sent())];case 5:return T.sent(),[3,6];case 6:return[2]}})})}function ba(f,l,c){var _=ee(f);if(_.Uh&&0===c||!_.Uh&&1===c){var T=[];_.Nh.forEach(function(M,V){var ae=V.view.Qs(l);ae.snapshot&&T.push(ae.snapshot)}),function(M,V){var ae=ee(M);ae.onlineState=V;var ye=!1;ae.Bs.forEach(function(Re,We){for(var ot=0,st=We.listeners;ot<st.length;ot++)st[ot].Qs(V)&&(ye=!0)}),ye&&Rs(ae)}(_.bh,l),T.length&&_.Ch.yu(T),_.onlineState=l,_.Uh&&_.Sh.Ki(l)}}function Sl(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M,V,ae,ye;return t.__generator(this,function(Re){switch(Re.label){case 0:return(_=ee(f)).Sh.Qi(l,"rejected",c),T=_.kh.get(l),(M=T&&T.key)?(V=(V=new nr(O.i)).ot(M,new Ui(M,An.min())),ae=xt().add(M),ye=new bn(An.min(),new Map,new Ar(tn),V,ae),[4,_u(_,ye)]):[3,2];case 1:return Re.sent(),_.$h=_.$h.remove(M),_.kh.delete(l),Zl(_),[3,4];case 2:return[4,Ls(_.ju,l,!1).then(function(){return Ql(_,l,c)}).catch(ma)];case 3:Re.sent(),Re.label=4;case 4:return[2]}})})}function tc(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T;return t.__generator(this,function(M){switch(M.label){case 0:c=ee(f),_=l.batch.batchId,M.label=1;case 1:return M.trys.push([1,4,,6]),[4,cu(c.ju,l)];case 2:return T=M.sent(),Kc(c,_,null),nc(c,_),c.Sh.ki(_,"acknowledged"),[4,ll(c,T)];case 3:return M.sent(),[3,6];case 4:return[4,ma(M.sent())];case 5:return M.sent(),[3,6];case 6:return[2]}})})}function na(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T;return t.__generator(this,function(M){switch(M.label){case 0:_=ee(f),M.label=1;case 1:return M.trys.push([1,4,,6]),[4,(V=_.ju,ae=l,ye=ee(V),ye.persistence.runTransaction("Reject batch","readwrite-primary",function(Re){var We;return ye.Sr.Oo(Re,ae).next(function(ot){return K(null!==ot),We=ot.keys(),ye.Sr.Wo(Re,ot)}).next(function(){return ye.Sr.zo(Re)}).next(function(){return ye.Cc.kr(Re,We)})}))];case 2:return T=M.sent(),Kc(_,l,c),nc(_,l),_.Sh.ki(l,"rejected",c),[4,ll(_,T)];case 3:return M.sent(),[3,6];case 4:return[4,ma(M.sent())];case 5:return M.sent(),[3,6];case 6:return[2]}var V,ae,ye})})}function nc(f,l){(f.Lh.get(l)||[]).forEach(function(c){c.resolve()}),f.Lh.delete(l)}function Kc(f,l,c){var _=ee(f),T=_.Oh[_.currentUser.ti()];if(T){var M=T.get(l);M&&(c?M.reject(c):M.resolve(),T=T.remove(l)),_.Oh[_.currentUser.ti()]=T}}function Ql(f,l,c){void 0===c&&(c=null),f.Sh.Bi(l);for(var _=0,T=f.Fh.get(l);_<T.length;_++){var M=T[_];f.Nh.delete(M),c&&f.Ch.Wh(M,c)}f.Fh.delete(l),f.Uh&&f.Mh.Uc(l).forEach(function(V){f.Mh.Ho(V)||Rd(f,V)})}function Rd(f,l){var c=f.$h.get(l);null!==c&&(Xs(f.ph,c),f.$h=f.$h.remove(l),f.kh.delete(c),Zl(f))}function Bh(f,l,c){for(var _=0,T=c;_<T.length;_++){var M=T[_];M instanceof Wc?(f.Mh.Da(M.key,l),Il(f,M)):M instanceof _a?(te("SyncEngine","Document no longer in limbo: "+M.key),f.Mh.Na(M.key,l),f.Mh.Ho(M.key)||Rd(f,M.key)):z()}}function Il(f,l){var c=l.key;f.$h.get(c)||(te("SyncEngine","New document in limbo: "+c),f.xh.push(c),Zl(f))}function Zl(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var l=f.xh.shift(),c=f.Bh.next();f.kh.set(c,new $c(l)),f.$h=f.$h.ot(l,c),ec(f.ph,new En(Bi(Zt(l.path)),c,2,ji.ai))}}function ll(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M,V;return t.__generator(this,function(ae){switch(ae.label){case 0:return _=ee(f),T=[],M=[],V=[],_.Nh.m()?[3,3]:(_.Nh.forEach(function(ye,Re){V.push(_.Qh(Re,l,c).then(function(We){if(We){_.Uh&&_.Sh.Qi(Re.targetId,We.fromCache?"not-current":"current"),T.push(We);var ot=ie.zr(Re.targetId,We);M.push(ot)}}))}),[4,Promise.all(V)]);case 1:return ae.sent(),_.Ch.yu(T),[4,function(ye,Re){return t.__awaiter(this,void 0,void 0,function(){var We,ot,st,wt,Rt,jt,$n,sr;return t.__generator(this,function(xr){switch(xr.label){case 0:We=ee(ye),xr.label=1;case 1:return xr.trys.push([1,3,,4]),[4,We.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Tr){return vn.forEach(Re,function(Xr){return vn.forEach(Xr.Kr,function(Hi){return We.persistence.No.Da(Tr,Xr.targetId,Hi)}).next(function(){return vn.forEach(Xr.Gr,function(Hi){return We.persistence.No.Na(Tr,Xr.targetId,Hi)})})})})];case 2:return xr.sent(),[3,4];case 3:if(!Jr(ot=xr.sent()))throw ot;return te("LocalStore","Failed to update sequence numbers: "+ot),[3,4];case 4:for(st=0,wt=Re;st<wt.length;st++)jt=(Rt=wt[st]).targetId,Rt.fromCache||($n=We.bc.get(jt),sr=$n.rt($n.nt),We.bc=We.bc.ot(jt,sr));return[2]}})})}(_.ju,M)];case 2:ae.sent(),ae.label=3;case 3:return[2]}})})}function Tf(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_;return t.__generator(this,function(T){switch(T.label){case 0:return(c=ee(f)).currentUser.isEqual(l)?[3,3]:(te("SyncEngine","User change. New user:",l.ti()),[4,function(M,V){return t.__awaiter(this,void 0,void 0,function(){var ae,ye,Re,We;return t.__generator(this,function(ot){switch(ot.label){case 0:return ae=ee(M),ye=ae.Sr,Re=ae.Cc,[4,ae.persistence.runTransaction("Handle user change","readonly",function(st){var wt;return ae.Sr.Uo(st).next(function(Rt){return wt=Rt,ye=ae.persistence.mc(V),Re=new G(ae.Dc,ye,ae.persistence.Ic()),ye.Uo(st)}).next(function(Rt){for(var jt=[],$n=[],Un=xt(),sr=0,xr=wt;sr<xr.length;sr++){var Tr=xr[sr];jt.push(Tr.batchId);for(var Xr=0,Hi=Tr.mutations;Xr<Hi.length;Xr++)Un=Un.add(Hi[Xr].key)}for(var Pr=0,nu=Rt;Pr<nu.length;Pr++){var Du=nu[Pr];$n.push(Du.batchId);for(var qa=0,xu=Du.mutations;qa<xu.length;qa++)Un=Un.add(xu[qa].key)}return Re.kr(st,Un).next(function(gc){return{jh:gc,Kh:jt,Gh:$n}})})})];case 1:return We=ot.sent(),[2,(ae.Sr=ye,ae.Cc=Re,ae.Vc.Nc(ae.Cc),We)]}})})}(c.ju,l)]);case 1:return _=T.sent(),c.currentUser=l,(M=c).Lh.forEach(function(ae){ae.forEach(function(ye){ye.reject(new j(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),M.Lh.clear(),c.Sh.ji(l,_.Kh,_.Gh),[4,ll(c,_.jh)];case 2:T.sent(),T.label=3;case 3:return[2]}var M})})}function kd(f,l){var c=ee(f),_=c.kh.get(l);if(_&&_.Vh)return xt().add(_.key);var T=xt(),M=c.Fh.get(l);if(!M)return T;for(var V=0,ae=M;V<ae.length;V++){var Re=c.Nh.get(ae[V]);T=T.kt(Re.view.dh)}return T}function Sf(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T;return t.__generator(this,function(M){switch(M.label){case 0:return[4,Ju((c=ee(f)).ju,l.query,!0)];case 1:return _=M.sent(),T=l.view.Ph(_),[2,(c.Uh&&Bh(c,l.targetId,T.Rh),T)]}})})}function rc(f,l,c,_){return t.__awaiter(this,void 0,void 0,function(){var T,M;return t.__generator(this,function(V){switch(V.label){case 0:return[4,(ae=(T=ee(f)).ju,ye=l,Re=ee(ae),We=ee(Re.Sr),Re.persistence.runTransaction("Lookup mutation documents","readonly",function(ot){return We.Lo(ot,ye).next(function(st){return st?Re.Cc.kr(ot,st):vn.resolve(null)})}))];case 1:return null===(M=V.sent())?[3,6]:"pending"!==c?[3,3]:[4,ta(T.ph)];case 2:return V.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(Kc(T,l,_||null),nc(T,l),function(ae,ye){ee(ee(ae).Sr).Ko(ye)}(T.ju,l)):z(),V.label=4;case 4:return[4,ll(T,M)];case 5:return V.sent(),[3,7];case 6:te("SyncEngine","Cannot apply mutation batch with id: "+l),V.label=7;case 7:return[2]}var ae,ye,Re,We})})}function Yc(f,l){return t.__awaiter(this,void 0,void 0,function(){var c,_,T,M,V,ye,Re;return t.__generator(this,function(We){switch(We.label){case 0:return bu(c=ee(f)),oc(c),!0!==l||!0===c.qh?[3,3]:(_=c.Sh.Ci(),[4,fs(c,_.A())]);case 1:return T=We.sent(),c.qh=!0,[4,ya(c.ph,!0)];case 2:for(We.sent(),M=0,V=T;M<V.length;M++)ec(c.ph,V[M]);return[3,7];case 3:return!1!==l||!1===c.qh?[3,7]:(ye=[],Re=Promise.resolve(),c.Fh.forEach(function(ot,st){c.Sh.qi(st)?ye.push(st):Re=Re.then(function(){return Ql(c,st),Ls(c.ju,st,!0)}),Xs(c.ph,st)}),[4,Re]);case 4:return We.sent(),[4,fs(c,ye)];case 5:return We.sent(),(st=ee(c)).kh.forEach(function(wt,Rt){Xs(st.ph,Rt)}),st.Mh.Qc(),st.kh=new Map,st.$h=new nr(O.i),c.qh=!1,[4,ya(c.ph,!1)];case 6:We.sent(),We.label=7;case 7:return[2]}var st})})}function fs(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M,V,ae,ye,Re,We,ot,st,Rt,jt,$n;return t.__generator(this,function(Un){switch(Un.label){case 0:_=ee(f),T=[],M=[],V=0,ae=l,Un.label=1;case 1:return V<ae.length?(Re=void 0,(We=_.Fh.get(ye=ae[V]))&&0!==We.length?[4,pa(_.ju,Bi(We[0]))]:[3,7]):[3,13];case 2:Re=Un.sent(),ot=0,st=We,Un.label=3;case 3:return ot<st.length?(Rt=_.Nh.get(st[ot]),[4,Sf(_,Rt)]):[3,6];case 4:(jt=Un.sent()).snapshot&&M.push(jt.snapshot),Un.label=5;case 5:return ot++,[3,3];case 6:return[3,11];case 7:return[4,hu(_.ju,ye)];case 8:return $n=Un.sent(),[4,pa(_.ju,$n)];case 9:return Re=Un.sent(),[4,Tl(_,Jl($n),ye,!1)];case 10:Un.sent(),Un.label=11;case 11:T.push(Re),Un.label=12;case 12:return V++,[3,1];case 13:return[2,(_.Ch.yu(M),T)]}})})}function Jl(f){return Bl(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Us(f){var l=ee(f);return ee(ee(l.ju).persistence).pi()}function Qc(f,l,c,_){return t.__awaiter(this,void 0,void 0,function(){var T,M,V;return t.__generator(this,function(ae){switch(ae.label){case 0:return(T=ee(f)).qh?(te("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!T.Fh.has(l))return[3,8];switch(c){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fu(T.ju)];case 3:return M=ae.sent(),V=bn.Xt(l,"current"===c),[4,ll(T,M,V)];case 4:return ae.sent(),[3,8];case 5:return[4,Ls(T.ju,l,!0)];case 6:return ae.sent(),Ql(T,l,_),[3,8];case 7:z(),ae.label=8;case 8:return[2]}})})}function ic(f,l,c){return t.__awaiter(this,void 0,void 0,function(){var _,T,M,V,ae,ye,Re,We,ot;return t.__generator(this,function(wt){switch(wt.label){case 0:if(!(_=bu(f)).qh)return[3,10];T=0,M=l,wt.label=1;case 1:return T<M.length?_.Fh.has(V=M[T])?(te("SyncEngine","Adding an already active target "+V),[3,5]):[4,hu(_.ju,V)]:[3,6];case 2:return ae=wt.sent(),[4,pa(_.ju,ae)];case 3:return ye=wt.sent(),[4,Tl(_,Jl(ae),ye.targetId,!1)];case 4:wt.sent(),ec(_.ph,ye),wt.label=5;case 5:return T++,[3,1];case 6:Re=function(Rt){return t.__generator(this,function(jt){switch(jt.label){case 0:return _.Fh.has(Rt)?[4,Ls(_.ju,Rt,!1).then(function(){Xs(_.ph,Rt),Ql(_,Rt)}).catch(ma)]:[3,2];case 1:jt.sent(),jt.label=2;case 2:return[2]}})},We=0,ot=c,wt.label=7;case 7:return We<ot.length?[5,Re(ot[We])]:[3,10];case 8:wt.sent(),wt.label=9;case 9:return We++,[3,7];case 10:return[2]}})})}function bu(f){var l=ee(f);return l.ph.Gu.sh=_u.bind(null,l),l.ph.Gu.qe=kd.bind(null,l),l.ph.Gu.nh=Sl.bind(null,l),l.Ch.yu=$o.bind(null,l.bh),l.Ch.Wh=Es.bind(null,l.bh),l}function oc(f){var l=ee(f);return l.ph.Gu.ih=tc.bind(null,l),l.ph.Gu.rh=na.bind(null,l),l}var Eu=function(){function f(){}return f.prototype.Nc=function(l){this.zh=l},f.prototype.Lr=function(l,c,_,T){var V,M=this;return 0===(V=c).filters.length&&null===V.limit&&null==V.startAt&&null==V.endAt&&(0===V.on.length||1===V.on.length&&V.on[0].field.p())||_.isEqual(An.min())?this.Hh(l,c):this.zh.kr(l,T).next(function(V){var ae=M.Yh(c,V);return(Mr(c)||_o(c))&&M.Eh(c.an,ae,T,_)?M.Hh(l,c):(X()<=S.LogLevel.DEBUG&&te("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",_.toString(),Ci(c)),M.zh.Lr(l,c,_).next(function(ye){return ae.forEach(function(Re){ye=ye.ot(Re.key,Re)}),ye}))})},f.prototype.Yh=function(l,c){var _=new Ar(xi(l));return c.forEach(function(T,M){M instanceof Vr&&Qi(l,M)&&(_=_.add(M))}),_},f.prototype.Eh=function(l,c,_,T){if(_.size!==c.size)return!0;var M="F"===l?c.last():c.first();return!!M&&(M.hasPendingWrites||M.version.L(T)>0)},f.prototype.Hh=function(l,c){return X()<=S.LogLevel.DEBUG&&te("IndexFreeQueryEngine","Using full collection scan to execute query:",Ci(c)),this.zh.Lr(l,c,An.min())},f}(),Xl=function(){function f(l,c){this.Dr=l,this.No=c,this.Sr=[],this.Jh=1,this.Xh=new Ar(po.kc)}return f.prototype.$o=function(l){return vn.resolve(0===this.Sr.length)},f.prototype.ko=function(l,c,_,T){var M=this.Jh;this.Jh++;var V=new Yo(M,c,_,T);this.Sr.push(V);for(var ae=0,ye=T;ae<ye.length;ae++){var Re=ye[ae];this.Xh=this.Xh.add(new po(Re.key,M)),this.Dr.Mo(l,Re.key.path.h())}return vn.resolve(V)},f.prototype.Oo=function(l,c){return vn.resolve(this.Zh(c))},f.prototype.Bo=function(l,c){var T=this.tl(c+1),M=T<0?0:T;return vn.resolve(this.Sr.length>M?this.Sr[M]:null)},f.prototype.qo=function(){return vn.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(l){return vn.resolve(this.Sr.slice())},f.prototype.Nr=function(l,c){var _=this,T=new po(c,0),M=new po(c,Number.POSITIVE_INFINITY),V=[];return this.Xh.Ft([T,M],function(ae){var ye=_.Zh(ae.jc);V.push(ye)}),vn.resolve(V)},f.prototype.Or=function(l,c){var _=this,T=new Ar(tn);return c.forEach(function(M){var V=new po(M,0),ae=new po(M,Number.POSITIVE_INFINITY);_.Xh.Ft([V,ae],function(ye){T=T.add(ye.jc)})}),vn.resolve(this.el(T))},f.prototype.Wr=function(l,c){var _=c.path,T=_.length+1,M=_;O.F(M)||(M=M.child(""));var V=new po(new O(M),0),ae=new Ar(tn);return this.Xh.xt(function(ye){var Re=ye.key.path;return!!_.T(Re)&&(Re.length===T&&(ae=ae.add(ye.jc)),!0)},V),vn.resolve(this.el(ae))},f.prototype.el=function(l){var c=this,_=[];return l.forEach(function(T){var M=c.Zh(T);null!==M&&_.push(M)}),_},f.prototype.Wo=function(l,c){var _=this;K(0===this.nl(c.batchId,"removed")),this.Sr.shift();var T=this.Xh;return vn.forEach(c.mutations,function(M){var V=new po(M.key,c.batchId);return T=T.delete(V),_.No.Go(l,M.key)}).next(function(){_.Xh=T})},f.prototype.Ko=function(l){},f.prototype.Ho=function(l,c){var _=new po(c,0),T=this.Xh.$t(_);return vn.resolve(c.isEqual(T&&T.key))},f.prototype.zo=function(l){return vn.resolve()},f.prototype.nl=function(l,c){return this.tl(l)},f.prototype.tl=function(l){return 0===this.Sr.length?0:l-this.Sr[0].batchId},f.prototype.Zh=function(l){var c=this.tl(l);return c<0||c>=this.Sr.length?null:this.Sr[c]},f}(),Al=function(){function f(l,c){this.Dr=l,this.sl=c,this.docs=new nr(O.i),this.size=0}return f.prototype.Er=function(l,c,_){var T=c.key,M=this.docs.get(T),V=M?M.size:0,ae=this.sl(c);return this.docs=this.docs.ot(T,{ta:c,size:ae,readTime:_}),this.size+=ae-V,this.Dr.Mo(l,T.path.h())},f.prototype.Ar=function(l){var c=this.docs.get(l);c&&(this.docs=this.docs.remove(l),this.size-=c.size)},f.prototype.Rr=function(l,c){var _=this.docs.get(c);return vn.resolve(_?_.ta:null)},f.prototype.getEntries=function(l,c){var _=this,T=Ni();return c.forEach(function(M){var V=_.docs.get(M);T=T.ot(M,V?V.ta:null)}),vn.resolve(T)},f.prototype.Lr=function(l,c,_){for(var T=_t(),M=new O(c.path.child("")),V=this.docs.ft(M);V.At();){var ae=V.It(),Re=ae.value,We=Re.ta,ot=Re.readTime;if(!c.path.T(ae.key.path))break;ot.L(_)<=0||We instanceof Vr&&Qi(c,We)&&(T=T.ot(We.key,We))}return vn.resolve(T)},f.prototype.il=function(l,c){return vn.forEach(this.docs,function(_){return c(_)})},f.prototype.ra=function(l){return new ul(this)},f.prototype.aa=function(l){return vn.resolve(this.size)},f}(),ul=function(f){function l(c){var _=this;return(_=f.call(this)||this).ca=c,_}return t.__extends(l,f),l.prototype.yr=function(c){var _=this,T=[];return this.wr.forEach(function(M,V){V?T.push(_.ca.Er(c,V,_.readTime)):_.ca.Ar(M)}),vn.$n(T)},l.prototype.gr=function(c,_){return this.ca.Rr(c,_)},l.prototype.Pr=function(c,_){return this.ca.getEntries(c,_)},l}(g),Nd=function(){function f(l){this.persistence=l,this.rl=new hr(function(c){return gt(c)},ln),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.ol=0,this.al=new wo,this.targetCount=0,this.cl=Eo.fa()}return f.prototype.Ce=function(l,c){return this.rl.forEach(function(_,T){return c(T)}),vn.resolve()},f.prototype.Ea=function(l){return vn.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(l){return vn.resolve(this.ol)},f.prototype.wa=function(l){return this.highestTargetId=this.cl.next(),vn.resolve(this.highestTargetId)},f.prototype.Aa=function(l,c,_){return _&&(this.lastRemoteSnapshotVersion=_),c>this.ol&&(this.ol=c),vn.resolve()},f.prototype.ga=function(l){this.rl.set(l.target,l);var c=l.targetId;c>this.highestTargetId&&(this.cl=new Eo(c),this.highestTargetId=c),l.sequenceNumber>this.ol&&(this.ol=l.sequenceNumber)},f.prototype.Ra=function(l,c){return this.ga(c),this.targetCount+=1,vn.resolve()},f.prototype.ya=function(l,c){return this.ga(c),vn.resolve()},f.prototype.Va=function(l,c){return this.rl.delete(c.target),this.al.Uc(c.targetId),this.targetCount-=1,vn.resolve()},f.prototype.po=function(l,c,_){var T=this,M=0,V=[];return this.rl.forEach(function(ae,ye){ye.sequenceNumber<=c&&null===_.get(ye.targetId)&&(T.rl.delete(ae),V.push(T.pa(l,ye.targetId)),M++)}),vn.$n(V).next(function(){return M})},f.prototype.ba=function(l){return vn.resolve(this.targetCount)},f.prototype.va=function(l,c){var _=this.rl.get(c)||null;return vn.resolve(_)},f.prototype.Sa=function(l,c,_){return this.al.Lc(c,_),vn.resolve()},f.prototype.Ca=function(l,c,_){this.al.qc(c,_);var T=this.persistence.No,M=[];return T&&c.forEach(function(V){M.push(T.Go(l,V))}),vn.$n(M)},f.prototype.pa=function(l,c){return this.al.Uc(c),vn.resolve()},f.prototype.Fa=function(l,c){var _=this.al.Wc(c);return vn.resolve(_)},f.prototype.Ho=function(l,c){return vn.resolve(this.al.Ho(c))},f}(),If=function(){function f(l){var c=this;this.ul={},this.Ma=new ji(0),this.Oa=!1,this.Oa=!0,this.No=l(this),this.Ka=new Nd(this),this.Dr=new Ad,this.vr=new Al(this.Dr,function(M){return c.No.hl(M)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(l){var c=this.ul[l.ti()];return c||(c=new Xl(this.Dr,this.No),this.ul[l.ti()]=c),c},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(l,c,_){var T=this;te("MemoryPersistence","Starting transaction:",l);var M=new Fd(this.Ma.next());return this.No.ll(),_(M).next(function(V){return T.No._l(M).next(function(){return V})}).Fn().then(function(V){return M.br(),V})},f.prototype.fl=function(l,c){return vn.kn(Object.values(this.ul).map(function(_){return function(){return _.Ho(l,c)}}))},f}(),Fd=function(f){function l(c){var _=this;return(_=f.call(this)||this).xa=c,_}return t.__extends(l,f),l}(P),sc=function(){function f(l){this.persistence=l,this.dl=new wo,this.wl=null}return f.ml=function(l){return new f(l)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw z()},enumerable:!1,configurable:!0}),f.prototype.Da=function(l,c,_){return this.dl.Da(_,c),this.Tl.delete(_.toString()),vn.resolve()},f.prototype.Na=function(l,c,_){return this.dl.Na(_,c),this.Tl.add(_.toString()),vn.resolve()},f.prototype.Go=function(l,c){return this.Tl.add(c.toString()),vn.resolve()},f.prototype.removeTarget=function(l,c){var _=this;this.dl.Uc(c.targetId).forEach(function(M){return _.Tl.add(M.toString())});var T=this.persistence.Tc();return T.Fa(l,c.targetId).next(function(M){M.forEach(function(V){return _.Tl.add(V.toString())})}).next(function(){return T.Va(l,c)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(l){var c=this,_=this.persistence.Ec().ra();return vn.forEach(this.Tl,function(T){var M=O.D(T);return c.El(l,M).next(function(V){V||_.Ar(M)})}).next(function(){return c.wl=null,_.apply(l)})},f.prototype.yc=function(l,c){var _=this;return this.El(l,c).next(function(T){T?_.Tl.delete(c.toString()):_.Tl.add(c.toString())})},f.prototype.hl=function(l){return 0},f.prototype.El=function(l,c){var _=this;return vn.kn([function(){return vn.resolve(_.dl.Ho(c))},function(){return _.persistence.Tc().Ho(l,c)},function(){return _.persistence.fl(l,c)}])},f}(),Ld=function(){function f(l){this.Il=l.Il,this.Al=l.Al}return f.prototype.gu=function(l){this.Rl=l},f.prototype.Tu=function(l){this.gl=l},f.prototype.onMessage=function(l){this.Pl=l},f.prototype.close=function(){this.Al()},f.prototype.send=function(l){this.Il(l)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(l){this.gl(l)},f.prototype.pl=function(l){this.Pl(l)},f}(),Dl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Af=function(f){function l(c){var _=this;return(_=f.call(this,c)||this).forceLongPolling=c.forceLongPolling,_.W=c.W,_}return t.__extends(l,f),l.prototype.Nl=function(c,_,T,M){return new Promise(function(V,ae){var ye=new Y.XhrIo;ye.listenOnce(Y.EventType.COMPLETE,function(){try{switch(ye.getLastErrorCode()){case Y.ErrorCode.NO_ERROR:var We=ye.getResponseJson();te("Connection","XHR received:",JSON.stringify(We)),V(We);break;case Y.ErrorCode.TIMEOUT:te("Connection",'RPC "'+c+'" timed out'),ae(new j(B.DEADLINE_EXCEEDED,"Request time out"));break;case Y.ErrorCode.HTTP_ERROR:var ot=ye.getStatus();if(te("Connection",'RPC "'+c+'" failed with status:',ot,"response text:",ye.getResponseText()),ot>0){var st=ye.getResponseJson().error;if(st&&st.status&&st.message){var wt=(jt=st.status.toLowerCase().replace("_","-"),Object.values(B).indexOf(jt)>=0?jt:B.UNKNOWN);ae(new j(wt,st.message))}else ae(new j(B.UNKNOWN,"Server responded with status "+ye.getStatus()))}else ae(new j(B.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{te("Connection",'RPC "'+c+'" completed.')}var jt});var Re=JSON.stringify(M);ye.send(_,"POST",Re,T,15)})},l.prototype.Pu=function(c,_){var T=[this.vl,"/","google.firestore.v1.Firestore","/",c,"/channel"],M=Y.createWebChannelTransport(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(V.initMessageHeaders,_),q.isMobileCordova()||q.isReactNative()||q.isElectron()||q.isIE()||q.isUWP()||q.isBrowserExtension()||(V.httpHeadersOverwriteParam="$httpHeaders");var ae=T.join("");te("Connection","Creating WebChannel: "+ae,V);var ye=M.createWebChannel(ae,V),Re=!1,We=!1,ot=new Ld({Il:function(wt){We?te("Connection","Not sending because WebChannel is closed:",wt):(Re||(te("Connection","Opening WebChannel transport."),ye.open(),Re=!0),te("Connection","WebChannel sending:",wt),ye.send(wt))},Al:function(){return ye.close()}}),st=function(wt,Rt){ye.listen(wt,function(jt){try{Rt(jt)}catch($n){setTimeout(function(){throw $n},0)}})};return st(Y.WebChannel.EventType.OPEN,function(){We||te("Connection","WebChannel transport opened.")}),st(Y.WebChannel.EventType.CLOSE,function(){We||(We=!0,te("Connection","WebChannel transport closed"),ot.Vl())}),st(Y.WebChannel.EventType.ERROR,function(wt){We||(We=!0,le("Connection","WebChannel transport errored:",wt),ot.Vl(new j(B.UNAVAILABLE,"The operation could not be completed")))}),st(Y.WebChannel.EventType.MESSAGE,function(wt){var Rt;if(!We){var jt=wt.data[0];K(!!jt);var Un=jt.error||(null===(Rt=jt[0])||void 0===Rt?void 0:Rt.error);if(Un){te("Connection","WebChannel received error:",Un);var sr=Un.status,xr=function(Xr){var Hi=Tn[Xr];if(void 0!==Hi)return Ir(Hi)}(sr),Tr=Un.message;void 0===xr&&(xr=B.INTERNAL,Tr="Unknown error status: "+sr+" with message "+Un.message),We=!0,ot.Vl(new j(xr,Tr)),ye.close()}else te("Connection","WebChannel received:",jt),ot.pl(jt)}}),setTimeout(function(){ot.yl()},0),ot},l}(function(){function f(l){this.bl=l,this.U=l.U,this.vl=(l.ssl?"https":"http")+"://"+l.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(l,c,_,T){var M=this.Dl(l,c);te("RestConnection","Sending: ",M,_);var V={};return this.Cl(V,T),this.Nl(l,M,V,_).then(function(ae){return te("RestConnection","Received: ",ae),ae},function(ae){throw le("RestConnection",l+" failed with error: ",ae,"url: ",M,"request:",_),ae})},f.prototype.ku=function(l,c,_,T){return this.$u(l,c,_,T)},f.prototype.Cl=function(l,c){if(l["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",l["Content-Type"]="text/plain",c)for(var _ in c.Kc)c.Kc.hasOwnProperty(_)&&(l[_]=c.Kc[_])},f.prototype.Dl=function(l,c){return this.vl+"/v1/"+c+":"+Dl[l]},f}()),Zc=function(){function f(){var l=this;this.Fl=function(){return l.xl()},this.$l=function(){return l.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(l){this.Ml.push(l)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var l=0,c=this.Ml;l<c.length;l++)(0,c[l])(0)},f.prototype.kl=function(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var l=0,c=this.Ml;l<c.length;l++)(0,c[l])(1)},f.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),ds=function(){function f(){}return f.prototype.Zu=function(l){},f.prototype.Di=function(){},f}();function cl(f){return new wr(f,!0)}var Ea="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",wu=function(){function f(){}return f.prototype.initialize=function(l){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(c){switch(c.label){case 0:return this.Sh=this.Ll(l),this.persistence=this.Bl(l),[4,this.persistence.start()];case 1:return c.sent(),this.ql=this.Ul(l),this.ju=this.Ql(l),[2]}})})},f.prototype.Ul=function(l){return null},f.prototype.Ql=function(l){return c=this.persistence,_=new Eu,new wf(c,_,l.Wl);var c,_},f.prototype.Bl=function(l){if(l.persistenceSettings.jl)throw new j(B.FAILED_PRECONDITION,Ea);return new If(sc.ml)},f.prototype.Ll=function(l){return new us},f.prototype.terminate=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){switch(l.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return l.sent(),[4,this.persistence.Di()];case 2:return l.sent(),[2]}})})},f.prototype.clearPersistence=function(l,c){throw new j(B.FAILED_PRECONDITION,Ea)},f}(),uo=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.initialize=function(c){return t.__awaiter(this,void 0,void 0,function(){var _,T=this;return t.__generator(this,function(M){switch(M.label){case 0:return[4,f.prototype.initialize.call(this,c)];case 1:return M.sent(),_=this.Kl.fi,this.Sh instanceof ii?(this.Sh.fi={er:rc.bind(null,_),nr:Qc.bind(null,_),sr:ic.bind(null,_),pi:Us.bind(null,_)},[4,this.Sh.start()]):[3,3];case 2:M.sent(),M.label=3;case 3:return[4,this.persistence.Xa(function(V){return t.__awaiter(T,void 0,void 0,function(){return t.__generator(this,function(ae){switch(ae.label){case 0:return[4,Yc(this.Kl.fi,V)];case 1:return ae.sent(),this.ql&&(V&&!this.ql.Ei?this.ql.start(this.ju):V||this.ql.stop()),[2]}})})})];case 4:return M.sent(),[2]}})})},l.prototype.Ll=function(c){if(c.persistenceSettings.jl&&c.persistenceSettings.synchronizeTabs){var _=ce();if(!ii.Ln(_))throw new j(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var T=Lh(c.bl.U,c.bl.persistenceKey);return new ii(_,c.cs,T,c.clientId,c.Wl)}return new us},l}(function(f){function l(c){var _=this;return(_=f.call(this)||this).Kl=c,_}return t.__extends(l,f),l.prototype.initialize=function(c){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(_){switch(_.label){case 0:return[4,f.prototype.initialize.call(this,c)];case 1:return _.sent(),[4,Yl(this.ju)];case 2:return _.sent(),[4,this.Kl.initialize(this,c)];case 3:return _.sent(),[4,oc(this.Kl.fi)];case 4:return _.sent(),[4,ta(this.Kl.ph)];case 5:return _.sent(),[2]}})})},l.prototype.Ul=function(c){return new yt(this.persistence.No.wo,c.cs)},l.prototype.Bl=function(c){var _=Lh(c.bl.U,c.bl.persistenceKey),T=cl(c.bl.U);return new Ss(c.persistenceSettings.synchronizeTabs,_,c.clientId,Be.ao(c.persistenceSettings.cacheSizeBytes),c.cs,ce(),be(),T,this.Sh,c.persistenceSettings.ka)},l.prototype.Ll=function(c){return new us},l.prototype.clearPersistence=function(c,_){return function(T){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(V){switch(V.label){case 0:return ui.Ln()?[4,ui.delete(T+"main")]:[2,Promise.resolve()];case 1:return V.sent(),[2]}})})}(Lh(c,_))},l}(wu)),Bs=function(){function f(){}return f.prototype.initialize=function(l,c){return t.__awaiter(this,void 0,void 0,function(){var _=this;return t.__generator(this,function(T){switch(T.label){case 0:return this.ju?[3,2]:(this.ju=l.ju,this.Sh=l.Sh,this.Ku=this.Gl(c),this.ph=this.zl(c),this.bh=this.Hl(c),this.fi=this.Yl(c),this.Sh.di=function(M){return ba(_.fi,M,1)},this.ph.Gu.Jl=Tf.bind(null,this.fi),[4,ya(this.ph,this.fi.Uh)]);case 1:T.sent(),T.label=2;case 2:return[2]}})})},f.prototype.Hl=function(l){return new Br},f.prototype.Gl=function(l){var _=cl(l.bl.U),T=new Af(l.bl);return new pu(l.credentials,T,_)},f.prototype.zl=function(l){var c,_,T,M,V,ae=this;return c=this.ju,_=this.Ku,T=l.cs,M=function(ye){return ba(ae.fi,ye,0)},V=Zc.Ln()?new Zc:new ds,new Ua(c,_,T,M,V)},f.prototype.Yl=function(l){return ye=!l.persistenceSettings.jl||!l.persistenceSettings.synchronizeTabs,Re=new Cf(this.ju,this.ph,this.bh,this.Sh,l.Wl,l.Dh),ye&&(Re.qh=!0),Re;var ye,Re},f.prototype.terminate=function(){return jc(this.ph)},f}(),ra=function(){function f(l){this.observer=l,this.muted=!1}return f.prototype.next=function(l){this.observer.next&&this.Xl(this.observer.next,l)},f.prototype.error=function(l){this.observer.error?this.Xl(this.observer.error,l):console.error("Uncaught Error in snapshot listener:",l)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(l,c){var _=this;this.muted||setTimeout(function(){_.muted||l(c)},0)},f}(),wa=function(f){!function(c,_,T,M){if(!(_ instanceof Array)||_.length<1)throw new j(B.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+qn(1,"element")+".")}(0,f);for(var l=0;l<f.length;++l)if(J("FieldPath","string",l,f[l]),0===f[l].length)throw new j(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new U(f)},Ga=function(f){function l(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];return f.call(this,c)||this}return t.__extends(l,f),l.documentId=function(){return new l(U.v().R())},l.prototype.isEqual=function(c){if(!(c instanceof l))throw pn("isEqual","FieldPath",1,c);return this.t_.isEqual(c.t_)},l}(wa),Df=new RegExp("[~\\*/\\[\\]]"),xl=function(f){this.e_=f},Cu=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.n_=function(c){if(2!==c.s_)throw c.i_(1===c.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return c.We.push(c.path),null},l.prototype.isEqual=function(c){return c instanceof l},l}(xl);function jh(f,l,c){return new Su({s_:3,r_:l.settings.r_,methodName:f.e_,o_:c},l.U,l.serializer,l.ignoreUndefinedProperties)}var ps=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.n_=function(c){return new zt(c.path,new yo)},l.prototype.isEqual=function(c){return c instanceof l},l}(xl),ac=function(f){function l(c,_){var T=this;return(T=f.call(this,c)||this).a_=_,T}return t.__extends(l,f),l.prototype.n_=function(c){var _=jh(this,c,!0),T=this.a_.map(function(V){return tu(V,_)}),M=new ge(T);return new zt(c.path,M)},l.prototype.isEqual=function(c){return this===c},l}(xl),Hh=function(f){function l(c,_){var T=this;return(T=f.call(this,c)||this).a_=_,T}return t.__extends(l,f),l.prototype.n_=function(c){var _=jh(this,c,!0),T=this.a_.map(function(V){return tu(V,_)}),M=new Me(T);return new zt(c.path,M)},l.prototype.isEqual=function(c){return this===c},l}(xl),eu=function(f){function l(c,_){var T=this;return(T=f.call(this,c)||this).c_=_,T}return t.__extends(l,f),l.prototype.n_=function(c){var _=new nt(c.serializer,ro(c.serializer,this.c_));return new zt(c.path,_)},l.prototype.isEqual=function(c){return this===c},l}(xl),Io=function(){function f(l,c){if(Q("GeoPoint",arguments,2),J("GeoPoint","number",1,l),J("GeoPoint","number",2,c),!isFinite(l)||l<-90||l>90)throw new j(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+l);if(!isFinite(c)||c<-180||c>180)throw new j(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this.u_=l,this.h_=c}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.u_===l.u_&&this.h_===l.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(l){return tn(this.u_,l.u_)||tn(this.h_,l.h_)},f}(),lc=function(f){this.l_=f},Jc=/^__.*__$/,Ca=function(f,l,c){this.__=f,this.f_=l,this.d_=c},Xo=function(){function f(l,c,_){this.data=l,this.We=c,this.fieldTransforms=_}return f.prototype.w_=function(l,c){var _=[];return _.push(null!==this.We?new Dr(l,this.data,this.We,c):new ri(l,this.data,c)),this.fieldTransforms.length>0&&_.push(new $i(l,this.fieldTransforms)),_},f}(),Tu=function(){function f(l,c,_){this.data=l,this.We=c,this.fieldTransforms=_}return f.prototype.w_=function(l,c){var _=[new Dr(l,this.data,this.We,c)];return this.fieldTransforms.length>0&&_.push(new $i(l,this.fieldTransforms)),_},f}();function uc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Su=function(){function f(l,c,_,T,M,V){this.settings=l,this.U=c,this.serializer=_,this.ignoreUndefinedProperties=T,void 0===M&&this.m_(),this.fieldTransforms=M||[],this.We=V||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(l){return new f(Object.assign(Object.assign({},this.settings),l),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(l){var c,_=null===(c=this.path)||void 0===c?void 0:c.child(l),T=this.T_({path:_,o_:!1});return T.I_(l),T},f.prototype.A_=function(l){var c,_=null===(c=this.path)||void 0===c?void 0:c.child(l),T=this.T_({path:_,o_:!1});return T.m_(),T},f.prototype.R_=function(l){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(l){return Iu(l,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(l){return void 0!==this.We.find(function(c){return l.T(c)})||void 0!==this.fieldTransforms.find(function(c){return l.T(c.field)})},f.prototype.m_=function(){if(this.path)for(var l=0;l<this.path.length;l++)this.I_(this.path.get(l))},f.prototype.I_=function(l){if(0===l.length)throw this.i_("Document fields must not be empty");if(uc(this.s_)&&Jc.test(l))throw this.i_('Document fields cannot begin and end with "__"')},f}(),Ta=function(){function f(l,c,_){this.U=l,this.ignoreUndefinedProperties=c,this.serializer=_||cl(l)}return f.prototype.P_=function(l,c,_,T){return void 0===T&&(T=!1),new Su({s_:l,methodName:c,r_:_,path:U.P(),o_:!1,g_:T},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function cc(f,l,c,_,T,M){void 0===M&&(M={});var V=f.P_(M.merge||M.mergeFields?2:0,l,c,T);js("Data must be an object, but it was:",V,_);var ae,ye,Re=Xc(_,V);if(M.merge)ae=new Yt(V.We),ye=V.fieldTransforms;else if(M.mergeFields){for(var We=[],ot=0,st=M.mergeFields;ot<st.length;ot++){var wt=st[ot],Rt=void 0;if(wt instanceof wa)Rt=wt.t_;else{if("string"!=typeof wt)throw z();Rt=hc(l,wt,c)}if(!V.contains(Rt))throw new j(B.INVALID_ARGUMENT,"Field '"+Rt+"' is specified in your field mask but missing from your input data.");zp(We,Rt)||We.push(Rt)}ae=new Yt(We),ye=V.fieldTransforms.filter(function(jt){return ae.Ye(jt.field)})}else ae=null,ye=V.fieldTransforms;return new Xo(new ss(Re),ae,ye)}function ia(f,l,c,_){var T=f.P_(1,l,c);js("Data must be an object, but it was:",T,_);var M=[],V=new Zn;ve(_,function(ye,Re){var We=hc(l,ye,c),ot=T.A_(We);if(Re instanceof Cu||Re instanceof lc&&Re.l_ instanceof Cu)M.push(We);else{var st=tu(Re,ot);null!=st&&(M.push(We),V.set(We,st))}});var ae=new Yt(M);return new Tu(V.Xe(),ae,T.fieldTransforms)}function Gh(f,l,c,_,T,M){var V=f.P_(1,l,c),ae=[za(l,_,c)],ye=[T];if(M.length%2!=0)throw new j(B.INVALID_ARGUMENT,"Function "+l+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Re=0;Re<M.length;Re+=2)ae.push(za(l,M[Re])),ye.push(M[Re+1]);for(var We=[],ot=new Zn,st=ae.length-1;st>=0;--st)if(!zp(We,ae[st])){var wt=ae[st],Rt=ye[st],jt=V.A_(wt);if(Rt instanceof Cu||Rt instanceof lc&&Rt.l_ instanceof Cu)We.push(wt);else{var $n=tu(Rt,jt);null!=$n&&(We.push(wt),ot.set(wt,$n))}}var Un=new Yt(We);return new Tu(ot.Xe(),Un,V.fieldTransforms)}function Vd(f,l,c,_){return void 0===_&&(_=!1),tu(c,f.P_(_?4:3,l))}function tu(f,l){if(f instanceof lc&&(f=f.l_),xf(f))return js("Unsupported field value:",l,f),Xc(f,l);if(f instanceof xl)return function(c,_){if(!uc(_.s_))throw _.i_(c.e_+"() can only be used with update() and set()");if(!_.path)throw _.i_(c.e_+"() is not currently supported inside arrays");var T=c.n_(_);T&&_.fieldTransforms.push(T)}(f,l),null;if(l.path&&l.We.push(l.path),f instanceof Array){if(l.settings.o_&&4!==l.s_)throw l.i_("Nested arrays are not supported");return function(c,_){for(var T=[],M=0,V=0,ae=c;V<ae.length;V++){var ye=tu(ae[V],_.R_(M));null==ye&&(ye={nullValue:"NULL_VALUE"}),T.push(ye),M++}return{arrayValue:{values:T}}}(f,l)}return function(c,_){if(null===c)return{nullValue:"NULL_VALUE"};if("number"==typeof c)return ro(_.serializer,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){var T=Gn.fromDate(c);return{timestampValue:jo(_.serializer,T)}}if(c instanceof Gn){var M=new Gn(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:jo(_.serializer,M)}}if(c instanceof Io)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof zn)return{bytesValue:fi(_.serializer,c.q)};if(c instanceof Ca){var V=_.U,ae=c.__;if(!ae.isEqual(V))throw _.i_("Document reference is for database "+ae.projectId+"/"+ae.database+" but should be for database "+V.projectId+"/"+V.database);return{referenceValue:oo(c.__||_.U,c.f_.path)}}if(void 0===c&&_.ignoreUndefinedProperties)return null;throw _.i_("Unsupported field value: "+Pt(c))}(f,l)}function Xc(f,l){var c={};return Ae(f)?l.path&&l.path.length>0&&l.We.push(l.path):ve(f,function(_,T){var M=tu(T,l.E_(_));null!=M&&(c[_]=M)}),{mapValue:{fields:c}}}function xf(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Gn||f instanceof Io||f instanceof zn||f instanceof Ca||f instanceof xl)}function js(f,l,c){if(!xf(c)||!lt(c)){var _=Pt(c);throw l.i_("an object"===_?f+" a custom object":f+" "+_)}}function za(f,l,c){if(l instanceof wa)return l.t_;if("string"==typeof l)return hc(f,l);throw Iu("Field path arguments must be of type string or FieldPath.",f,!1,void 0,c)}function hc(f,l,c){try{return function(T){if(T.search(Df)>=0)throw new j(B.INVALID_ARGUMENT,"Invalid field path ("+T+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ga.bind.apply(Ga,t.__spreadArrays([void 0],T.split("."))))}catch(M){throw new j(B.INVALID_ARGUMENT,"Invalid field path ("+T+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(l).t_}catch(T){throw Iu((_=T)instanceof Error?_.message:_.toString(),f,!1,void 0,c)}var _}function Iu(f,l,c,_,T){var M=_&&!_.m(),V=void 0!==T,ae="Function "+l+"() called with invalid data";c&&(ae+=" (via `toFirestore()`)");var ye="";return(M||V)&&(ye+=" (found",M&&(ye+=" in field "+_),V&&(ye+=" in document "+T),ye+=")"),new j(B.INVALID_ARGUMENT,(ae+=". ")+f+ye)}function zp(f,l){return f.some(function(c){return c.isEqual(l)})}var zh=function(){function f(l){this.Ku=l,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(l){return t.__awaiter(this,void 0,void 0,function(){var c,_=this;return t.__generator(this,function(T){switch(T.label){case 0:if(this.S_(),this.mutations.length>0)throw new j(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(M,V){return t.__awaiter(this,void 0,void 0,function(){var ae,ye,Re,We,ot,st;return t.__generator(this,function(wt){switch(wt.label){case 0:return ae=ee(M),ye=Qr(ae.serializer)+"/documents",Re={documents:V.map(function(Rt){return ho(ae.serializer,Rt)})},[4,ae.ku("BatchGetDocuments",ye,Re)];case 1:return We=wt.sent(),ot=new Map,We.forEach(function(Rt){var $n,Un,jt=($n=ae.serializer,"found"in(Un=Rt)?function(sr,xr){K(!!xr.found);var Tr=ur(sr,xr.found.name),Xr=is(xr.found.updateTime),Hi=new ss({mapValue:{fields:xr.found.fields}});return new Vr(Tr,Xr,Hi,{})}($n,Un):"missing"in Un?function(sr,xr){K(!!xr.missing),K(!!xr.readTime);var Tr=ur(sr,xr.missing),Xr=is(xr.readTime);return new Ui(Tr,Xr)}($n,Un):z());ot.set(jt.key.toString(),jt)}),st=[],[2,(V.forEach(function(Rt){var jt=ot.get(Rt.toString());K(!!jt),st.push(jt)}),st)]}})})}(this.Ku,l)];case 1:return[2,((c=T.sent()).forEach(function(M){M instanceof Ui||M instanceof Vr?_.D_(M):z()}),c)]}})})},f.prototype.set=function(l,c){this.write(c.w_(l,this.Ge(l))),this.b_.add(l.toString())},f.prototype.update=function(l,c){try{this.write(c.w_(l,this.C_(l)))}catch(_){this.p_=_}this.b_.add(l.toString())},f.prototype.delete=function(l){this.write([new mi(l,this.Ge(l))]),this.b_.add(l.toString())},f.prototype.commit=function(){return t.__awaiter(this,void 0,void 0,function(){var l,c=this;return t.__generator(this,function(_){switch(_.label){case 0:if(this.S_(),this.p_)throw this.p_;return l=this.y_,this.mutations.forEach(function(T){l.delete(T.key.toString())}),l.forEach(function(T,M){var V=O.D(M);c.mutations.push(new Os(V,c.Ge(V)))}),[4,function(T,M){return t.__awaiter(this,void 0,void 0,function(){var V,ae,ye;return t.__generator(this,function(Re){switch(Re.label){case 0:return V=ee(T),ae=Qr(V.serializer)+"/documents",ye={writes:M.map(function(We){return Oo(V.serializer,We)})},[4,V.$u("Commit",ae,ye)];case 1:return Re.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return _.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(l){var c;if(l instanceof Vr)c=l.version;else{if(!(l instanceof Ui))throw z();c=An.min()}var _=this.y_.get(l.key.toString());if(_){if(!c.isEqual(_))throw new j(B.ABORTED,"Document version changed between two reads.")}else this.y_.set(l.key.toString(),c)},f.prototype.Ge=function(l){var c=this.y_.get(l.toString());return!this.b_.has(l.toString())&&c?Sn.updateTime(c):Sn.ze()},f.prototype.C_=function(l){var c=this.y_.get(l.toString());if(!this.b_.has(l.toString())&&c){if(c.isEqual(An.min()))throw new j(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(c)}return Sn.exists(!0)},f.prototype.write=function(l){this.S_(),this.mutations=this.mutations.concat(l)},f.prototype.S_=function(){},f}(),Wp=function(){function f(l,c,_,T){this.cs=l,this.Ku=c,this.updateFunction=_,this.ls=T,this.N_=5,this.ys=new Na(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var l=this;this.ys.gn(function(){return t.__awaiter(l,void 0,void 0,function(){var c,_,T=this;return t.__generator(this,function(M){return c=new zh(this.Ku),(_=this.x_(c))&&_.then(function(V){T.cs.ws(function(){return c.commit().then(function(){T.ls.resolve(V)}).catch(function(ae){T.k_(ae)})})}).catch(function(V){T.k_(V)}),[2]})})})},f.prototype.x_=function(l){try{var c=this.updateFunction(l);return!Wr(c)&&c.catch&&c.then?c:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(_){return this.ls.reject(_),null}},f.prototype.k_=function(l){var c=this;this.N_>0&&this.M_(l)?(this.N_-=1,this.cs.ws(function(){return c.F_(),Promise.resolve()})):this.ls.reject(l)},f.prototype.M_=function(l){if("FirebaseError"===l.name){var c=l.code;return"aborted"===c||"failed-precondition"===c||!xn(c)}return!1},f}(),qp=function(){function f(l,c){this.credentials=l,this.cs=c,this.clientId=mn.k(),this.O_=new Kr}return f.prototype.start=function(l,c,_,T){var M=this;this.L_(),this.bl=l;var V=new Kr,ae=!1;return this.credentials.Hc(function(ye){if(!ae)return ae=!0,te("FirestoreClient","Initializing. user=",ye.uid),M.B_(c,_,T,ye,V).then(M.O_.resolve,M.O_.reject);M.cs.Cs(function(){return function(Re,We){return t.__awaiter(this,void 0,void 0,function(){var ot,st;return t.__generator(this,function(wt){switch(wt.label){case 0:return(ot=ee(Re)).cs.xs(),te("RemoteStore","RemoteStore received new credentials"),st=So(ot),ot.Yu.add(3),[4,To(ot)];case 1:return wt.sent(),st&&ot.th.set("Unknown"),[4,ot.Gu.Jl(We)];case 2:return wt.sent(),ot.Yu.delete(3),[4,mu(ot)];case 3:return wt.sent(),[2]}})})}(M.ph,ye)})}),this.cs.ws(function(){return M.O_.promise}),V.promise},f.prototype.enableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!0),(_=ee(l.ph)).Yu.delete(0),mu(_);var _})},f.prototype.B_=function(l,c,_,T,M){return t.__awaiter(this,void 0,void 0,function(){var V,ae,ye=this;return t.__generator(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,3,,4]),[4,l.initialize(V={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:T,Dh:100,persistenceSettings:_})];case 1:return Re.sent(),[4,c.initialize(l,V)];case 2:return Re.sent(),this.persistence=l.persistence,this.Sh=l.Sh,this.ju=l.ju,this.ql=l.ql,this.Ku=c.Ku,this.ph=c.ph,this.fi=c.fi,this.q_=c.bh,this.q_.Us=Uh.bind(null,this.fi),this.q_.js=Ha.bind(null,this.fi),this.persistence.Za(function(){return t.__awaiter(ye,void 0,void 0,function(){return t.__generator(this,function(We){switch(We.label){case 0:return[4,this.terminate()];case 1:return We.sent(),[2]}})})}),M.resolve(),[3,4];case 3:if(ae=Re.sent(),M.reject(ae),!this.U_(ae))throw ae;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+ae),this.B_(new wu,new Bs,{jl:!1},T,M))];case 4:return[2]}})})},f.prototype.U_=function(l){return"FirebaseError"===l.name?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code},f.prototype.L_=function(){if(this.cs.ps)throw new j(B.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!1),function(c){return t.__awaiter(this,void 0,void 0,function(){var _;return t.__generator(this,function(T){switch(T.label){case 0:return(_=ee(c)).Yu.add(0),[4,To(_)];case 1:return T.sent(),_.th.set("Offline"),[2]}})})}(l.ph)})},f.prototype.terminate=function(){var l=this;this.cs.Ds();var c=new Kr;return this.cs.bs(function(){return t.__awaiter(l,void 0,void 0,function(){var _,T;return t.__generator(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,jc(this.ph)];case 1:return M.sent(),[4,this.Sh.Di()];case 2:return M.sent(),[4,this.persistence.Di()];case 3:return M.sent(),this.credentials.Yc(),c.resolve(),[3,5];case 4:return _=M.sent(),T=Dt(_,"Failed to shutdown persistence"),c.reject(T),[3,5];case 5:return[2]}})})}),c.promise},f.prototype.waitForPendingWrites=function(){var l=this;this.L_();var c=new Kr;return this.cs.ws(function(){return function(_,T){return t.__awaiter(this,void 0,void 0,function(){var M,V,ae,ye,Re;return t.__generator(this,function(We){switch(We.label){case 0:So((M=ee(_)).ph)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),We.label=1;case 1:return We.trys.push([1,3,,4]),[4,(ot=M.ju,st=ee(ot),st.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(wt){return st.Sr.qo(wt)}))];case 2:return-1===(V=We.sent())?[2,void T.resolve()]:((ae=M.Lh.get(V)||[]).push(T),M.Lh.set(V,ae),[3,4]);case 3:return ye=We.sent(),Re=Dt(ye,"Initialization of waitForPendingWrites() operation failed"),T.reject(Re),[3,4];case 4:return[2]}var ot,st})})}(l.fi,c)}),c.promise},f.prototype.listen=function(l,c,_){var T=this;this.L_();var M=new ra(_),V=new Ys(l,M,c);return this.cs.ws(function(){return _r(T.q_,V)}),function(){M.Zl(),T.cs.ws(function(){return Wi(T.q_,V)})}},f.prototype.Q_=function(l){return t.__awaiter(this,void 0,void 0,function(){var c,_=this;return t.__generator(this,function(T){switch(T.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return T.sent(),c=new Kr,[2,(this.cs.ws(function(){return function(M,V,ae){return t.__awaiter(this,void 0,void 0,function(){var ye,Re,We;return t.__generator(this,function(ot){switch(ot.label){case 0:return ot.trys.push([0,2,,3]),[4,(st=M,wt=V,Rt=ee(st),Rt.persistence.runTransaction("read document","readonly",function(jt){return Rt.Cc.Cr(jt,wt)}))];case 1:return(ye=ot.sent())instanceof Vr?ae.resolve(ye):ye instanceof Ui?ae.resolve(null):ae.reject(new j(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Re=ot.sent(),We=Dt(Re,"Failed to get document '"+V+" from cache"),ae.reject(We),[3,3];case 3:return[2]}var st,wt,Rt})})}(_.ju,l,c)}),c.promise)]}})})},f.prototype.W_=function(l,c){return void 0===c&&(c={}),t.__awaiter(this,void 0,void 0,function(){var _,T=this;return t.__generator(this,function(M){switch(M.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return M.sent(),_=new Kr,[2,(this.cs.ws(function(){return V=T.q_,ae=T.cs,ye=l,Re=c,We=_,ot=new ra({next:function(wt){ae.ws(function(){return Wi(V,st)});var Rt=wt.docs.has(ye);!Rt&&wt.fromCache?We.reject(new j(B.UNAVAILABLE,"Failed to get document because the client is offline.")):Rt&&wt.fromCache&&Re&&"server"===Re.source?We.reject(new j(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):We.resolve(wt)},error:function(wt){return We.reject(wt)}}),st=new Ys(Zt(ye.path),ot,{includeMetadataChanges:!0,Xs:!0}),_r(V,st);var V,ae,ye,Re,We,ot,st}),_.promise)]}})})},f.prototype.j_=function(l){return t.__awaiter(this,void 0,void 0,function(){var c,_=this;return t.__generator(this,function(T){switch(T.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return T.sent(),c=new Kr,[2,(this.cs.ws(function(){return function(M,V,ae){return t.__awaiter(this,void 0,void 0,function(){var ye,Re,We,ot,st,wt;return t.__generator(this,function(Rt){switch(Rt.label){case 0:return Rt.trys.push([0,2,,3]),[4,Ju(M,V,!0)];case 1:return ye=Rt.sent(),Re=new qc(V,ye.Fc),We=Re.wh(ye.documents),ot=Re.yr(We,!1),ae.resolve(ot.snapshot),[3,3];case 2:return st=Rt.sent(),wt=Dt(st,"Failed to execute query '"+V+" against cache"),ae.reject(wt),[3,3];case 3:return[2]}})})}(_.ju,l,c)}),c.promise)]}})})},f.prototype.K_=function(l,c){return void 0===c&&(c={}),t.__awaiter(this,void 0,void 0,function(){var _,T=this;return t.__generator(this,function(M){switch(M.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return M.sent(),_=new Kr,[2,(this.cs.ws(function(){return V=T.q_,ae=T.cs,ye=l,Re=c,We=_,ot=new ra({next:function(wt){ae.ws(function(){return Wi(V,st)}),wt.fromCache&&"server"===Re.source?We.reject(new j(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):We.resolve(wt)},error:function(wt){return We.reject(wt)}}),st=new Ys(ye,ot,{includeMetadataChanges:!0,Xs:!0}),_r(V,st);var V,ae,ye,Re,We,ot,st}),_.promise)]}})})},f.prototype.write=function(l){var c=this;this.L_();var _=new Kr;return this.cs.ws(function(){return function(T,M,V){return t.__awaiter(this,void 0,void 0,function(){var ae,ye,Re,We;return t.__generator(this,function(ot){switch(ot.label){case 0:ae=oc(T),ot.label=1;case 1:return ot.trys.push([1,5,,6]),[4,(st=ae.ju,wt=M,jt=ee(st),$n=Gn.now(),Un=wt.reduce(function(sr,xr){return sr.add(xr.key)},xt()),jt.persistence.runTransaction("Locally write mutations","readwrite",function(sr){return jt.Cc.kr(sr,Un).next(function(xr){Rt=xr;for(var Tr=[],Xr=0,Hi=wt;Xr<Hi.length;Xr++){var ms=Hi[Xr],Pr=ni(ms,Rt.get(ms.key));null!=Pr&&Tr.push(new Dr(ms.key,Pr,Yu(Pr.proto.mapValue),Sn.exists(!0)))}return jt.Sr.ko(sr,$n,Tr,wt)})}).then(function(sr){var xr=sr.lr(Rt);return{batchId:sr.batchId,wr:xr}}))];case 2:return ye=ot.sent(),ae.Sh.xi(ye.batchId),function(st,wt,Rt){var jt=st.Oh[st.currentUser.ti()];jt||(jt=new nr(tn)),jt=jt.ot(wt,Rt),st.Oh[st.currentUser.ti()]=jt}(ae,ye.batchId,V),[4,ll(ae,ye.wr)];case 3:return ot.sent(),[4,ta(ae.ph)];case 4:return ot.sent(),[3,6];case 5:return Re=ot.sent(),We=Dt(Re,"Failed to persist write"),V.reject(We),[3,6];case 6:return[2]}var st,wt,Rt,jt,$n,Un})})}(c.fi,l,_)}),_.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(l){var c=this;this.L_();var _=new ra(l);return this.cs.ws(function(){return t.__awaiter(c,void 0,void 0,function(){return t.__generator(this,function(T){return[2,(M=this.q_,V=_,ee(M).qs.add(V),void V.next())];var M,V})})}),function(){_.Zl(),c.cs.ws(function(){return t.__awaiter(c,void 0,void 0,function(){return t.__generator(this,function(T){return[2,(M=this.q_,V=_,void ee(M).qs.delete(V))];var M,V})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(l){var c=this;this.L_();var _=new Kr;return this.cs.ws(function(){return new Wp(c.cs,c.Ku,l,_).run(),Promise.resolve()}),_.promise},f}();function hl(f){return function(l,c){if("object"!=typeof l||null===l)return!1;for(var _=l,T=0,M=["next","error","complete"];T<M.length;T++){var V=M[T];if(V in _&&"function"==typeof _[V])return!0}return!1}(f)}var fl=function(){function f(l,c,_,T,M){this.U=l,this.timestampsInSnapshots=c,this.H_=_,this.Y_=T,this.J_=M}return f.prototype.X_=function(l){switch(et(l)){case 0:return null;case 1:return l.booleanValue;case 2:return Je(l.integerValue||l.doubleValue);case 3:return this.Z_(l.timestampValue);case 4:return this.tf(l);case 5:return l.stringValue;case 6:return this.J_(At(l.bytesValue));case 7:return this.ef(l.referenceValue);case 8:return this.nf(l.geoPointValue);case 9:return this.sf(l.arrayValue);case 10:return this.if(l.mapValue);default:throw z()}},f.prototype.if=function(l){var c=this,_={};return ve(l.fields||{},function(T,M){_[T]=c.X_(M)}),_},f.prototype.nf=function(l){return new Io(Je(l.latitude),Je(l.longitude))},f.prototype.sf=function(l){var c=this;return(l.values||[]).map(function(_){return c.X_(_)})},f.prototype.tf=function(l){switch(this.H_){case"previous":var c=ue(l);return null==c?null:this.X_(c);case"estimate":return this.Z_(Ie(l));default:return null}},f.prototype.Z_=function(l){var c=hn(l),_=new Gn(c.seconds,c.nanos);return this.timestampsInSnapshots?_:_.toDate()},f.prototype.ef=function(l){var c=Ge.g(l);K(Ma(c));var _=new dr(c.get(1),c.get(3)),T=new O(c.u(5));return _.isEqual(this.U)||me("Document "+T+" contains a document reference within a different database ("+_.projectId+"/"+_.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(T)},f}(),Pf=Be.ho,eh=function(){function f(l){var c,_,T,M,V;if(void 0===l.host){if(void 0!==l.ssl)throw new j(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else we("settings","non-empty string","host",l.host),this.host=l.host,Ne("settings","boolean","ssl",l.ssl),this.ssl=null===(c=l.ssl)||void 0===c||c;if(Ft("settings",l,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Ne("settings","object","credentials",l.credentials),this.credentials=l.credentials,Ne("settings","boolean","timestampsInSnapshots",l.timestampsInSnapshots),Ne("settings","boolean","ignoreUndefinedProperties",l.ignoreUndefinedProperties),!0===l.timestampsInSnapshots?me("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===l.timestampsInSnapshots&&me("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(_=l.timestampsInSnapshots)||void 0===_||_,this.ignoreUndefinedProperties=null!==(T=l.ignoreUndefinedProperties)&&void 0!==T&&T,Ne("settings","number","cacheSizeBytes",l.cacheSizeBytes),void 0===l.cacheSizeBytes)this.cacheSizeBytes=Be._o;else{if(l.cacheSizeBytes!==Pf&&l.cacheSizeBytes<Be.lo)throw new j(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Be.lo);this.cacheSizeBytes=l.cacheSizeBytes}Ne("settings","boolean","experimentalForceLongPolling",l.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(M=l.experimentalForceLongPolling)&&void 0!==M&&M,Ne("settings","boolean","experimentalAutoDetectLongPolling",l.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(V=l.experimentalAutoDetectLongPolling)&&void 0!==V&&V,function(ae,ye,Re,We){if(!0===ye&&!0===We)throw new j(B.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,l.experimentalForceLongPolling,0,l.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(l){return this.host===l.host&&this.ssl===l.ssl&&this.timestampsInSnapshots===l.timestampsInSnapshots&&this.credentials===l.credentials&&this.cacheSizeBytes===l.cacheSizeBytes&&this.experimentalForceLongPolling===l.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===l.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===l.ignoreUndefinedProperties},f}(),th=function(){function f(l,c,_,T){var M=this;if(void 0===_&&(_=new wu),void 0===T&&(T=new Bs),this.rf=_,this.af=T,this.cf=null,this.uf=new ct,this.INTERNAL={delete:function(){return t.__awaiter(M,void 0,void 0,function(){return t.__generator(this,function(ye){switch(ye.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return ye.sent(),[2]}})})}},"object"==typeof l.options){var V=l;this.cf=V,this.__=f._f(V),this.ff=V.name,this.df=new Pd(c)}else{var ae=l;if(!ae.projectId)throw new j(B.INVALID_ARGUMENT,"Must provide projectId");this.__=new dr(ae.projectId,ae.database),this.ff="[DEFAULT]",this.df=new Co}this.wf=new eh({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ta(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(l){Q("Firestore.settings",arguments,1),J("Firestore.settings","object",1,l),l.merge&&delete(l=Object.assign(Object.assign({},this.wf),l)).merge;var c=new eh(l);if(this.lf&&!this.wf.isEqual(c))throw new j(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=c,void 0!==c.credentials&&(this.df=function(_){if(!_)return new Co;switch(_.type){case"gapi":var T=_.client;return K(!("object"!=typeof T||null===T||!T.auth||!T.auth.getAuthHeaderValueForFirstParty)),new du(T,_.sessionIndex||"0");case"provider":return _.client;default:throw new j(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(c.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(l){var c,_;if(this.lf)throw new j(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var T=!1,M=!1;if(l&&(void 0!==l.experimentalTabSynchronization&&me("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),T=null!==(_=null!==(c=l.synchronizeTabs)&&void 0!==c?c:l.experimentalTabSynchronization)&&void 0!==_&&_,M=!!l.experimentalForceOwningTab&&l.experimentalForceOwningTab,T&&M))throw new j(B.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:T,ka:M})},f.prototype.clearPersistence=function(){return t.__awaiter(this,void 0,void 0,function(){var l,c=this;return t.__generator(this,function(_){if(void 0!==this.lf&&!this.lf.z_)throw new j(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return l=new Kr,[2,(this.uf.bs(function(){return t.__awaiter(c,void 0,void 0,function(){var T;return t.__generator(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return M.sent(),l.resolve(),[3,3];case 2:return T=M.sent(),l.reject(T),[3,3];case 3:return[2]}})})}),l.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(l){return this.hf(),hl(l)?this.lf.G_(l):(J("Firestore.onSnapshotsInSync","function",1,l),this.lf.G_({next:l}))},f.prototype.hf=function(){return this.lf||this.Ef(new wu,new Bs,{jl:!1}),this.lf},f.prototype.Af=function(){return new or(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(l,c,_){var T=this.Af();return this.lf=new qp(this.df,this.uf),this.lf.start(T,l,c,_)},f._f=function(l){if(!Object.prototype.hasOwnProperty.call(l.options,"projectId"))throw new j(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var _=l.options.projectId;if(!_||"string"!=typeof _)throw new j(B.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new dr(_)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new j(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(l){return Q("Firestore.collection",arguments,1),J("Firestore.collection","non-empty string",1,l),this.hf(),new Au(Ge.g(l),this,null)},f.prototype.doc=function(l){return Q("Firestore.doc",arguments,1),J("Firestore.doc","non-empty string",1,l),this.hf(),Pl.Rf(Ge.g(l),this,null)},f.prototype.collectionGroup=function(l){if(Q("Firestore.collectionGroup",arguments,1),J("Firestore.collectionGroup","non-empty string",1,l),l.indexOf("/")>=0)throw new j(B.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new pc((c=l,new Ms(Ge.P(),c)),this,null);var c},f.prototype.runTransaction=function(l){var c=this;return Q("Firestore.runTransaction",arguments,1),J("Firestore.runTransaction","function",1,l),this.hf().transaction(function(_){return l(new Vo(c,_))})},f.prototype.batch=function(){return this.hf(),new nh(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(X()){case S.LogLevel.DEBUG:return"debug";case S.LogLevel.ERROR:return"error";case S.LogLevel.SILENT:return"silent";case S.LogLevel.WARN:return"warn";case S.LogLevel.INFO:return"info";case S.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(l){Q("Firestore.setLogLevel",arguments,1),qe("setLogLevel",["debug","error","silent","warn","info","verbose"],1,l),oe.setLogLevel(l)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),Vo=function(){function f(l,c){this.yf=l,this.Vf=c}return f.prototype.get=function(l){var c=this;Q("Transaction.get",arguments,1);var _=Sa("Transaction.get",l,this.yf);return this.Vf.v_([_.f_]).then(function(T){if(!T||1!==T.length)return z();var M=T[0];if(M instanceof Ui)return new fc(c.yf,_.f_,null,!1,!1,_.d_);if(M instanceof Vr)return new fc(c.yf,_.f_,M,!1,!1,_.d_);throw z()})},f.prototype.set=function(l,c,_){$("Transaction.set",arguments,2,3);var T=Sa("Transaction.set",l,this.yf);_=Bd("Transaction.set",_);var M=Yh(T.d_,c,_),V=cc(this.yf.mf,"Transaction.set",T.f_,M,null!==T.d_,_);return this.Vf.set(T.f_,V),this},f.prototype.update=function(l,c,_){for(var T,M,V=[],ae=3;ae<arguments.length;ae++)V[ae-3]=arguments[ae];return"string"==typeof c||c instanceof Ga?(R("Transaction.update",arguments,3),T=Sa("Transaction.update",l,this.yf),M=Gh(this.yf.mf,"Transaction.update",T.f_,c,_,V)):(Q("Transaction.update",arguments,2),T=Sa("Transaction.update",l,this.yf),M=ia(this.yf.mf,"Transaction.update",T.f_,c)),this.Vf.update(T.f_,M),this},f.prototype.delete=function(l){Q("Transaction.delete",arguments,1);var c=Sa("Transaction.delete",l,this.yf);return this.Vf.delete(c.f_),this},f}(),nh=function(){function f(l){this.yf=l,this.pf=[],this.bf=!1}return f.prototype.set=function(l,c,_){$("WriteBatch.set",arguments,2,3),this.vf();var T=Sa("WriteBatch.set",l,this.yf);_=Bd("WriteBatch.set",_);var M=Yh(T.d_,c,_),V=cc(this.yf.mf,"WriteBatch.set",T.f_,M,null!==T.d_,_);return this.pf=this.pf.concat(V.w_(T.f_,Sn.ze())),this},f.prototype.update=function(l,c,_){for(var T,M,V=[],ae=3;ae<arguments.length;ae++)V[ae-3]=arguments[ae];return this.vf(),"string"==typeof c||c instanceof Ga?(R("WriteBatch.update",arguments,3),T=Sa("WriteBatch.update",l,this.yf),M=Gh(this.yf.mf,"WriteBatch.update",T.f_,c,_,V)):(Q("WriteBatch.update",arguments,2),T=Sa("WriteBatch.update",l,this.yf),M=ia(this.yf.mf,"WriteBatch.update",T.f_,c)),this.pf=this.pf.concat(M.w_(T.f_,Sn.exists(!0))),this},f.prototype.delete=function(l){Q("WriteBatch.delete",arguments,1),this.vf();var c=Sa("WriteBatch.delete",l,this.yf);return this.pf=this.pf.concat(new mi(c.f_,Sn.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new j(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),Pl=function(f){function l(c,_,T){var M=this;return(M=f.call(this,_.__,c,T)||this).f_=c,M.firestore=_,M.d_=T,M.lf=M.firestore.hf(),M}return t.__extends(l,f),l.Rf=function(c,_,T){if(c.length%2!=0)throw new j(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+c.R()+" has "+c.length);return new l(new O(c),_,T)},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return new Au(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),l.prototype.collection=function(c){if(Q("DocumentReference.collection",arguments,1),J("DocumentReference.collection","non-empty string",1,c),!c)throw new j(B.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var _=Ge.g(c);return new Au(this.f_.path.child(_),this.firestore,null)},l.prototype.isEqual=function(c){if(!(c instanceof l))throw pn("isEqual","DocumentReference",1,c);return this.firestore===c.firestore&&this.f_.isEqual(c.f_)&&this.d_===c.d_},l.prototype.set=function(c,_){$("DocumentReference.set",arguments,1,2),_=Bd("DocumentReference.set",_);var T=Yh(this.d_,c,_),M=cc(this.firestore.mf,"DocumentReference.set",this.f_,T,null!==this.d_,_);return this.lf.write(M.w_(this.f_,Sn.ze()))},l.prototype.update=function(c,_){for(var T,M=[],V=2;V<arguments.length;V++)M[V-2]=arguments[V];return"string"==typeof c||c instanceof Ga?(R("DocumentReference.update",arguments,2),T=Gh(this.firestore.mf,"DocumentReference.update",this.f_,c,_,M)):(Q("DocumentReference.update",arguments,1),T=ia(this.firestore.mf,"DocumentReference.update",this.f_,c)),this.lf.write(T.w_(this.f_,Sn.exists(!0)))},l.prototype.delete=function(){return Q("DocumentReference.delete",arguments,0),this.lf.write([new mi(this.f_,Sn.ze())])},l.prototype.onSnapshot=function(){for(var c,_,T,M=this,V=[],ae=0;ae<arguments.length;ae++)V[ae]=arguments[ae];$("DocumentReference.onSnapshot",arguments,1,4);var ye={includeMetadataChanges:!1},Re=0;"object"!=typeof V[Re]||hl(V[Re])||(Ft("DocumentReference.onSnapshot",ye=V[Re],["includeMetadataChanges"]),Ne("DocumentReference.onSnapshot","boolean","includeMetadataChanges",ye.includeMetadataChanges),Re++);var We={includeMetadataChanges:ye.includeMetadataChanges};if(hl(V[Re])){var ot=V[Re];V[Re]=null===(c=ot.next)||void 0===c?void 0:c.bind(ot),V[Re+1]=null===(_=ot.error)||void 0===_?void 0:_.bind(ot),V[Re+2]=null===(T=ot.complete)||void 0===T?void 0:T.bind(ot)}else J("DocumentReference.onSnapshot","function",Re,V[Re]),je("DocumentReference.onSnapshot","function",Re+1,V[Re+1]),je("DocumentReference.onSnapshot","function",Re+2,V[Re+2]);var st={next:function(wt){V[Re]&&V[Re](M.Sf(wt))},error:V[Re+1],complete:V[Re+2]};return this.lf.listen(Zt(this.f_.path),We,st)},l.prototype.get=function(c){var _=this;$("DocumentReference.get",arguments,0,1),Kh("DocumentReference.get",c);var T=this.firestore.hf();return c&&"cache"===c.source?T.Q_(this.f_).then(function(M){return new fc(_.firestore,_.f_,M,!0,M instanceof Vr&&M.Je,_.d_)}):T.W_(this.f_,c).then(function(M){return _.Sf(M)})},l.prototype.withConverter=function(c){return new l(this.f_,this.firestore,c)},l.prototype.Sf=function(c){var _=c.docs.get(this.f_);return new fc(this.firestore,this.f_,_,c.fromCache,c.hasPendingWrites,this.d_)},l}(Ca),Ud=function(){function f(l,c){this.hasPendingWrites=l,this.fromCache=c}return f.prototype.isEqual=function(l){return this.hasPendingWrites===l.hasPendingWrites&&this.fromCache===l.fromCache},f}(),fc=function(){function f(l,c,_,T,M,V){this.yf=l,this.f_=c,this.Df=_,this.Cf=T,this.Nf=M,this.d_=V}return f.prototype.data=function(l){var c=this;if($("DocumentSnapshot.data",arguments,0,1),l=Wa("DocumentSnapshot.data",l),this.Df){if(this.d_){var _=new dc(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(_,l)}return new fl(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(T){return new Pl(T,c.yf,null)},function(T){return new ir(T)}).X_(this.Df.rn())}},f.prototype.get=function(l,c){var _=this;if($("DocumentSnapshot.get",arguments,1,2),c=Wa("DocumentSnapshot.get",c),this.Df){var T=this.Df.data().field(za("DocumentSnapshot.get",l,this.f_));if(null!==T)return new fl(this.yf.__,this.yf.gf(),c.serverTimestamps||"none",function(M){return new Pl(M,_.yf,_.d_)},function(M){return new ir(M)}).X_(T)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Pl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Ud(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(l instanceof f))throw pn("isEqual","DocumentSnapshot",1,l);return this.yf===l.yf&&this.Cf===l.Cf&&this.f_.isEqual(l.f_)&&(null===this.Df?null===l.Df:this.Df.isEqual(l.Df))&&this.d_===l.d_},f}(),dc=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.prototype.data=function(c){return f.prototype.data.call(this,c)},l}(fc);function $p(f,l,c,_,T,M,V){var ae;if(T.p()){if("array-contains"===M||"array-contains-any"===M)throw new j(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+M+"' queries on FieldPath.documentId().");if("in"===M||"not-in"===M){qh(V,M);for(var ye=[],Re=0,We=V;Re<We.length;Re++)ye.push(Wh(_,f,We[Re]));ae={arrayValue:{values:ye}}}else ae=Wh(_,f,V)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||qh(V,M),ae=Vd(c,l,V,"in"===M||"not-in"===M);var st=Zr.create(T,M,ae);return function(wt,Rt){if(Rt.hn()){var jt=gl(wt);if(null!==jt&&!jt.isEqual(Rt.field))throw new j(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+jt.toString()+"' and '"+Rt.field.toString()+"'");var $n=yi(wt);null!==$n&&Ol(0,Rt.field,$n)}var Un=function(sr,xr){for(var Tr=0,Xr=sr.filters;Tr<Xr.length;Tr++){var Hi=Xr[Tr];if(xr.indexOf(Hi.op)>=0)return Hi.op}return null}(wt,function(sr){switch(sr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Rt.op));if(null!==Un)throw new j(B.INVALID_ARGUMENT,Un===Rt.op?"Invalid query. You cannot use more than one '"+Rt.op.toString()+"' filter.":"Invalid query. You cannot use '"+Rt.op.toString()+"' filters with '"+Un.toString()+"' filters.")}(f,st),st}function Kp(f,l,c){if(null!==f.startAt)throw new j(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new j(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var _=new ha(l,c);return function(T,M){if(null===yi(T)){var V=gl(T);null!==V&&Ol(0,V,M.field)}}(f,_),_}function Wh(f,l,c){if("string"==typeof c){if(""===c)throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fo(l)&&-1!==c.indexOf("/"))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+c+"' contains a '/' character.");var _=l.path.child(Ge.g(c));if(!O.F(_))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+_+"' is not because it has an odd number of segments ("+_.length+").");return Et(f,new O(_))}if(c instanceof Ca)return Et(f,c.f_);throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pt(c)+".")}function qh(f,l){if(!Array.isArray(f)||0===f.length)throw new j(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(f.length>10)throw new j(B.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===l||"array-contains-any"===l){if(f.indexOf(null)>=0)throw new j(B.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(c){return Number.isNaN(c)}).length>0)throw new j(B.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Ol(f,l,c){if(!c.isEqual(l))throw new j(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+l.toString()+"' and so you must also use '"+l.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+c.toString()+"' instead.")}function Is(f){if(_o(f)&&0===f.on.length)throw new j(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pc=function(){function f(l,c,_){this.Ff=l,this.firestore=c,this.d_=_}return f.prototype.where=function(l,c,_){Q("Query.where",arguments,3),nn("Query.where",3,_);var ae,Re,T=qe("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,c),M=za("Query.where",l),V=$p(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,M,T,_);return new f((Re=(ae=this.Ff).filters.concat([V]),new Ms(ae.path,ae.collectionGroup,ae.on.slice(),Re,ae.limit,ae.an,ae.startAt,ae.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(l,c){var _;if($("Query.orderBy",arguments,1,2),je("Query.orderBy","non-empty string",2,c),void 0===c||"asc"===c)_="asc";else{if("desc"!==c)throw new j(B.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+c+"', expected 'asc' or 'desc'.");_="desc"}var V,ye,T=za("Query.orderBy",l),M=Kp(this.Ff,T,_);return new f((ye=(V=this.Ff).on.concat([M]),new Ms(V.path,V.collectionGroup,ye,V.filters.slice(),V.limit,V.an,V.startAt,V.endAt)),this.firestore,this.d_)},f.prototype.limit=function(l){return Q("Query.limit",arguments,1),J("Query.limit","number",1,l),rn("Query.limit",1,l),new f(Do(this.Ff,l,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(l){return Q("Query.limitToLast",arguments,1),J("Query.limitToLast","number",1,l),rn("Query.limitToLast",1,l),new f(Do(this.Ff,l,"L"),this.firestore,this.d_)},f.prototype.startAt=function(l){for(var c=[],_=1;_<arguments.length;_++)c[_-1]=arguments[_];R("Query.startAt",arguments,1);var T=this.xf("Query.startAt",l,c,!0);return new f(au(this.Ff,T),this.firestore,this.d_)},f.prototype.startAfter=function(l){for(var c=[],_=1;_<arguments.length;_++)c[_-1]=arguments[_];R("Query.startAfter",arguments,1);var T=this.xf("Query.startAfter",l,c,!1);return new f(au(this.Ff,T),this.firestore,this.d_)},f.prototype.endBefore=function(l){for(var c=[],_=1;_<arguments.length;_++)c[_-1]=arguments[_];R("Query.endBefore",arguments,1);var T=this.xf("Query.endBefore",l,c,!0);return new f(jl(this.Ff,T),this.firestore,this.d_)},f.prototype.endAt=function(l){for(var c=[],_=1;_<arguments.length;_++)c[_-1]=arguments[_];R("Query.endAt",arguments,1);var T=this.xf("Query.endAt",l,c,!1);return new f(jl(this.Ff,T),this.firestore,this.d_)},f.prototype.isEqual=function(l){if(!(l instanceof f))throw pn("isEqual","Query",1,l);return this.firestore===l.firestore&&Yi(this.Ff,l.Ff)&&this.d_===l.d_},f.prototype.withConverter=function(l){return new f(this.Ff,this.firestore,l)},f.prototype.xf=function(l,c,_,T){if(nn(l,1,c),c instanceof fc)return Q(l,t.__spreadArrays([c],_),1),function(V,ae,ye,Re,We){if(!Re)throw new j(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+ye+"().");for(var ot=[],st=0,wt=_i(V);st<wt.length;st++){var Rt=wt[st];if(Rt.field.p())ot.push(Et(ae,Re.key));else{var jt=Re.field(Rt.field);if(Se(jt))throw new j(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Rt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===jt){var $n=Rt.field.R();throw new j(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+$n+"' (used as the orderBy) does not exist.")}ot.push(jt)}}return new Wo(ot,We)}(this.Ff,this.firestore.__,l,c.Df,T);var M=[c].concat(_);return function(V,ae,ye,Re,We,ot){var st=V.on;if(We.length>st.length)throw new j(B.INVALID_ARGUMENT,"Too many arguments provided to "+Re+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var wt=[],Rt=0;Rt<We.length;Rt++){var jt=We[Rt];if(st[Rt].field.p()){if("string"!=typeof jt)throw new j(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Re+"(), but got a "+typeof jt);if(!fo(V)&&-1!==jt.indexOf("/"))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Re+"() must be a plain document ID, but '"+jt+"' contains a slash.");var $n=V.path.child(Ge.g(jt));if(!O.F($n))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Re+"() must result in a valid document path, but '"+$n+"' is not because it contains an odd number of segments.");var Un=new O($n);wt.push(Et(ae,Un))}else{var sr=Vd(ye,Re,jt);wt.push(sr)}}return new Wo(wt,ot)}(this.Ff,this.firestore.__,this.firestore.mf,l,M,T)},f.prototype.onSnapshot=function(){for(var l,c,_,T=this,M=[],V=0;V<arguments.length;V++)M[V]=arguments[V];$("Query.onSnapshot",arguments,1,4);var ae={},ye=0;if("object"!=typeof M[ye]||hl(M[ye])||(Ft("Query.onSnapshot",ae=M[ye],["includeMetadataChanges"]),Ne("Query.onSnapshot","boolean","includeMetadataChanges",ae.includeMetadataChanges),ye++),hl(M[ye])){var Re=M[ye];M[ye]=null===(l=Re.next)||void 0===l?void 0:l.bind(Re),M[ye+1]=null===(c=Re.error)||void 0===c?void 0:c.bind(Re),M[ye+2]=null===(_=Re.complete)||void 0===_?void 0:_.bind(Re)}else J("Query.onSnapshot","function",ye,M[ye]),je("Query.onSnapshot","function",ye+1,M[ye+1]),je("Query.onSnapshot","function",ye+2,M[ye+2]);var We={next:function(ot){M[ye]&&M[ye](new $h(T.firestore,T.Ff,ot,T.d_))},error:M[ye+1],complete:M[ye+2]};return Is(this.Ff),this.firestore.hf().listen(this.Ff,ae,We)},f.prototype.get=function(l){var c=this;$("Query.get",arguments,0,1),Kh("Query.get",l),Is(this.Ff);var _=this.firestore.hf();return(l&&"cache"===l.source?_.j_(this.Ff):_.K_(this.Ff,l)).then(function(T){return new $h(c.firestore,c.Ff,T,c.d_)})},f}(),$h=function(){function f(l,c,_,T){this.yf=l,this.$f=c,this.kf=_,this.d_=T,this.Mf=null,this.Of=null,this.metadata=new Ud(_.hasPendingWrites,_.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var l=[];return this.forEach(function(c){return l.push(c)}),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l,c){var _=this;$("QuerySnapshot.forEach",arguments,1,2),J("QuerySnapshot.forEach","function",1,l),this.kf.docs.forEach(function(T){l.call(c,_.Lf(T,_.metadata.fromCache,_.kf.Wt.has(T.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new pc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(l){l&&(Ft("QuerySnapshot.docChanges",l,["includeMetadataChanges"]),Ne("QuerySnapshot.docChanges","boolean","includeMetadataChanges",l.includeMetadataChanges));var c=!(!l||!l.includeMetadataChanges);if(c&&this.kf.Kt)throw new j(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===c||(this.Mf=function(_,T,M){if(_.Qt.m()){var V=0;return _.docChanges.map(function(ye){return{type:"added",doc:M(ye.doc,_.fromCache,_.Wt.has(ye.doc.key)),oldIndex:-1,newIndex:V++}})}var ae=_.Qt;return _.docChanges.filter(function(ye){return T||3!==ye.type}).map(function(ye){var Re=M(ye.doc,_.fromCache,_.Wt.has(ye.doc.key)),We=-1,ot=-1;return 0!==ye.type&&(We=ae.indexOf(ye.doc.key),ae=ae.delete(ye.doc.key)),1!==ye.type&&(ot=(ae=ae.add(ye.doc)).indexOf(ye.doc.key)),{type:Yp(ye.type),doc:Re,oldIndex:We,newIndex:ot}})}(this.kf,c,this.Lf.bind(this)),this.Of=c),this.Mf},f.prototype.isEqual=function(l){if(!(l instanceof f))throw pn("isEqual","QuerySnapshot",1,l);return this.yf===l.yf&&Yi(this.$f,l.$f)&&this.kf.isEqual(l.kf)&&this.d_===l.d_},f.prototype.Lf=function(l,c,_){return new dc(this.yf,l.key,l,c,_,this.d_)},f}(),Au=function(f){function l(c,_,T){var M=this;if((M=f.call(this,Zt(c),_,T)||this).Bf=c,c.length%2!=1)throw new j(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+c.R()+" has "+c.length);return M}return t.__extends(l,f),Object.defineProperty(l.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){var c=this.Ff.path.h();return c.m()?null:new Pl(new O(c),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),l.prototype.doc=function(c){$("CollectionReference.doc",arguments,0,1),0===arguments.length&&(c=mn.k()),J("CollectionReference.doc","non-empty string",1,c);var _=Ge.g(c);return Pl.Rf(this.Ff.path.child(_),this.firestore,this.d_)},l.prototype.add=function(c){Q("CollectionReference.add",arguments,1);var _=this.d_?this.d_.toFirestore(c):c;J("CollectionReference.add","object",1,_);var T=this.doc();return new Pl(T.f_,this.firestore,null).set(_).then(function(){return T})},l.prototype.withConverter=function(c){return new l(this.Bf,this.firestore,c)},l}(pc);function Bd(f,l){if(void 0===l)return{merge:!1};if(Ft(f,l,["merge","mergeFields"]),Ne(f,"boolean","merge",l.merge),void 0!==(M=l.mergeFields)&&function(ae,ye,Re,We,ot){if(!(We instanceof Array))throw new j(B.INVALID_ARGUMENT,"Function "+ae+"() requires its "+ye+" option to be an array, but it was: "+Pt(We));for(var st=0;st<We.length;++st)if(!ot(We[st]))throw new j(B.INVALID_ARGUMENT,"Function "+ae+"() requires all "+ye+" elements to be a string or a FieldPath, but the value at index "+st+" was: "+Pt(We[st]))}(f,"mergeFields",0,M,function(c){return"string"==typeof c||c instanceof Ga}),void 0!==l.mergeFields&&void 0!==l.merge)throw new j(B.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var M;return l}function Wa(f,l){return void 0===l?{}:(Ft(f,l,["serverTimestamps"]),ut(f,0,"serverTimestamps",l.serverTimestamps,["estimate","previous","none"]),l)}function Kh(f,l){je(f,"object",1,l),l&&(Ft(f,l,["source"]),ut(f,0,"source",l.source,["default","server","cache"]))}function Sa(f,l,c){if(l instanceof Ca){if(l.firestore!==c)throw new j(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}throw pn(f,"DocumentReference",1,l)}function Yp(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function Yh(f,l,c){return f?c&&(c.merge||c.mergeFields)?f.toFirestore(l,c):f.toFirestore(l):l}var mc=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return t.__extends(l,f),l.serverTimestamp=function(){H("FieldValue.serverTimestamp",arguments);var c=new ps("serverTimestamp");return c.e_="FieldValue.serverTimestamp",new l(c)},l.delete=function(){H("FieldValue.delete",arguments);var c=new Cu("deleteField");return c.e_="FieldValue.delete",new l(c)},l.arrayUnion=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];R("FieldValue.arrayUnion",arguments,1);var T=function(){for(var M=[],V=0;V<arguments.length;V++)M[V]=arguments[V];return R("arrayUnion()",arguments,1),new ac("arrayUnion",M)}.apply(void 0,c);return T.e_="FieldValue.arrayUnion",new l(T)},l.arrayRemove=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];R("FieldValue.arrayRemove",arguments,1);var T=function(){for(var M=[],V=0;V<arguments.length;V++)M[V]=arguments[V];return R("arrayRemove()",arguments,1),new Hh("arrayRemove",M)}.apply(void 0,c);return T.e_="FieldValue.arrayRemove",new l(T)},l.increment=function(c){J("FieldValue.increment","number",1,c),Q("FieldValue.increment",arguments,1);var _=new eu("increment",c);return _.e_="FieldValue.increment",new l(_)},l.prototype.isEqual=function(c){return this.l_.isEqual(c.l_)},l}(lc),jd={Firestore:th,GeoPoint:Io,Timestamp:Gn,Blob:ir,Transaction:Vo,WriteBatch:nh,DocumentReference:Pl,DocumentSnapshot:fc,Query:pc,QueryDocumentSnapshot:dc,QuerySnapshot:$h,CollectionReference:Au,FieldPath:Ga,FieldValue:mc,setLogLevel:th.setLogLevel,CACHE_SIZE_UNLIMITED:Pf};function rh(f){f.INTERNAL.registerComponent(new se.Component("firestore",function(_){return T=_.getProvider("app").getImmediate(),M=_.getProvider("auth-internal"),V=new Bs,ae=new uo(V),new th(T,M,ae,V);var T,M,V,ae},"PUBLIC").setServiceProps(Object.assign({},jd))),f.registerVersion("@firebase/firestore","1.18.0")}rh(fe.default),m.__PRIVATE_registerFirestore=rh},5011:(h,m,v)=>{"use strict";var t=v(9278),C=v(2472),S=v(6355);function q(Ae){return Ae&&"object"==typeof Ae&&"default"in Ae?Ae:{default:Ae}}var Y=q(t),se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(Ae){function xe(Ge,k,U){var O=Ae.call(this,k)||this;return Object.setPrototypeOf(O,xe.prototype),O.code=Ge,O.details=U,O}return C.__extends(xe,Ae),xe}(Error),j=function(){function Ae(xe,Ge){var k=this;this.auth=null,this.messaging=null,this.auth=xe.getImmediate({optional:!0}),this.messaging=Ge.getImmediate({optional:!0}),this.auth||xe.get().then(function(U){return k.auth=U},function(){}),this.messaging||Ge.get().then(function(U){return k.messaging=U},function(){})}return Ae.prototype.getAuthToken=function(){return C.__awaiter(this,void 0,void 0,function(){var xe;return C.__generator(this,function(k){switch(k.label){case 0:if(!this.auth)return[2,void 0];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(xe=k.sent())?[2,xe.accessToken]:[2,void 0];case 3:return k.sent(),[2,void 0];case 4:return[2]}})})},Ae.prototype.getInstanceIdToken=function(){return C.__awaiter(this,void 0,void 0,function(){return C.__generator(this,function(xe){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(Ge){return[2,void 0]}return[2]})})},Ae.prototype.getContext=function(){return C.__awaiter(this,void 0,void 0,function(){var xe,Ge;return C.__generator(this,function(k){switch(k.label){case 0:return[4,this.getAuthToken()];case 1:return xe=k.sent(),[4,this.getInstanceIdToken()];case 2:return Ge=k.sent(),[2,{authToken:xe,instanceIdToken:Ge}]}})})},Ae}();function te(Ae,xe){var Ge={};for(var k in Ae)Ae.hasOwnProperty(k)&&(Ge[k]=xe(Ae[k]));return Ge}var Ae,xe,Ge,me=function(){function Ae(){}return Ae.prototype.encode=function(xe){var Ge=this;if(null==xe)return null;if(xe instanceof Number&&(xe=xe.valueOf()),"number"==typeof xe&&isFinite(xe)||!0===xe||!1===xe||"[object String]"===Object.prototype.toString.call(xe))return xe;if(Array.isArray(xe))return xe.map(function(k){return Ge.encode(k)});if("function"==typeof xe||"object"==typeof xe)return te(xe,function(k){return Ge.encode(k)});throw new Error("Data cannot be encoded in JSON: "+xe)},Ae.prototype.decode=function(xe){var Ge=this;if(null==xe)return xe;if(xe["@type"])switch(xe["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var k=Number(xe.value);if(isNaN(k))throw new Error("Data cannot be decoded from JSON: "+xe);return k;default:throw new Error("Data cannot be decoded from JSON: "+xe)}return Array.isArray(xe)?xe.map(function(U){return Ge.decode(U)}):"function"==typeof xe||"object"==typeof xe?te(xe,function(U){return Ge.decode(U)}):xe},Ae}(),W=function(){function Ae(xe,Ge,k,U,O){var H=this;void 0===U&&(U="us-central1"),this.app_=xe,this.fetchImpl=O,this.serializer=new me,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(H.deleteService())}},this.contextProvider=new j(Ge,k),this.cancelAllRequests=new Promise(function(R){H.deleteService=function(){return R()}});try{var Q=new URL(U);this.customDomain=Q.origin,this.region="us-central1"}catch(R){this.customDomain=null,this.region=U}}return Object.defineProperty(Ae.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Ae.prototype._url=function(xe){var Ge=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+Ge+"/"+this.region+"/"+xe:null!==this.customDomain?this.customDomain+"/"+xe:"https://"+this.region+"-"+Ge+".cloudfunctions.net/"+xe},Ae.prototype.useFunctionsEmulator=function(xe){this.emulatorOrigin=xe},Ae.prototype.httpsCallable=function(xe,Ge){var k=this;return function(U){return k.call(xe,U,Ge||{})}},Ae.prototype.postJSON=function(xe,Ge,k){return C.__awaiter(this,void 0,void 0,function(){var U,H;return C.__generator(this,function(R){switch(R.label){case 0:k["Content-Type"]="application/json",R.label=1;case 1:return R.trys.push([1,3,,4]),[4,this.fetchImpl(xe,{method:"POST",body:JSON.stringify(Ge),headers:k})];case 2:return U=R.sent(),[3,4];case 3:return R.sent(),[2,{status:0,json:null}];case 4:H=null,R.label=5;case 5:return R.trys.push([5,7,,8]),[4,U.json()];case 6:return H=R.sent(),[3,8];case 7:return R.sent(),[3,8];case 8:return[2,{status:U.status,json:H}]}})})},Ae.prototype.call=function(xe,Ge,k){return C.__awaiter(this,void 0,void 0,function(){var U,O,H,Q,$,J,je,we,Ne,ut;return C.__generator(this,function($e){switch($e.label){case 0:return U=this._url(xe),Ge=this.serializer.encode(Ge),O={data:Ge},H={},[4,this.contextProvider.getContext()];case 1:return(Q=$e.sent()).authToken&&(H.Authorization="Bearer "+Q.authToken),Q.instanceIdToken&&(H["Firebase-Instance-ID-Token"]=Q.instanceIdToken),$=function(Ae){var xe,Ge=new Promise(function(k,U){xe=setTimeout(function(){U(new re("deadline-exceeded","deadline-exceeded"))},Ae)});return{timer:xe,promise:Ge}}(k.timeout||7e4),J=$.timer,je=$.promise,[4,Promise.race([z(J,this.postJSON(U,O,H)),je,z(J,this.cancelAllRequests)])];case 2:if(!(we=$e.sent()))throw new re("cancelled","Firebase Functions instance was deleted.");if(Ne=function(Ae,xe,Ge){var k=function(Ae){if(Ae>=200&&Ae<300)return"ok";switch(Ae){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(Ae),U=k,O=void 0;try{var H=xe&&xe.error;if(H){var Q=H.status;if("string"==typeof Q){if(!se[Q])return new re("internal","internal");k=se[Q],U=Q}var R=H.message;"string"==typeof R&&(U=R),void 0!==(O=H.details)&&(O=Ge.decode(O))}}catch($){}return"ok"===k?null:new re(k,U,O)}(we.status,we.json,this.serializer),Ne)throw Ne;if(!we.json)throw new re("internal","Response is not valid JSON object.");if(void 0===(ut=we.json.data)&&(ut=we.json.result),void 0===ut)throw new re("internal","Response is missing data field.");return[2,{data:this.serializer.decode(ut)}]}})})},Ae}();function z(Ae,xe){return C.__awaiter(this,void 0,void 0,function(){var Ge;return C.__generator(this,function(k){switch(k.label){case 0:return[4,xe];case 1:return Ge=k.sent(),clearTimeout(Ae),[2,Ge]}})})}Ae=Y.default,xe=fetch.bind(self),Ge={Functions:W},Ae.INTERNAL.registerComponent(new S.Component("functions",function(U,O){var H=U.getProvider("app").getImmediate(),Q=U.getProvider("auth-internal"),R=U.getProvider("messaging");return new W(H,Q,R,O,xe)},"PUBLIC").setServiceProps(Ge).setMultipleInstances(!0)),Y.default.registerVersion("@firebase/functions","0.5.1")},8660:(h,m,v)=>{"use strict";v.r(m),v.d(m,{registerInstallations:()=>Se});var t=v(9278),C=v(6355),Y=function(){return Y=Object.assign||function(Ie){for(var Ve,et=1,Xe=arguments.length;et<Xe;et++)for(var mt in Ve=arguments[et])Object.prototype.hasOwnProperty.call(Ve,mt)&&(Ie[mt]=Ve[mt]);return Ie},Y.apply(this,arguments)};function j(ue,Ie,Ve,et){return new(Ve||(Ve=Promise))(function(mt,Vt){function cn(hn){try{Qt(et.next(hn))}catch(Je){Vt(Je)}}function Vn(hn){try{Qt(et.throw(hn))}catch(Je){Vt(Je)}}function Qt(hn){hn.done?mt(hn.value):function(mt){return mt instanceof Ve?mt:new Ve(function(Vt){Vt(mt)})}(hn.value).then(cn,Vn)}Qt((et=et.apply(ue,Ie||[])).next())})}function oe(ue,Ie){var et,Xe,mt,Vt,Ve={label:0,sent:function(){if(1&mt[0])throw mt[1];return mt[1]},trys:[],ops:[]};return Vt={next:cn(0),throw:cn(1),return:cn(2)},"function"==typeof Symbol&&(Vt[Symbol.iterator]=function(){return this}),Vt;function cn(Qt){return function(hn){return function(Qt){if(et)throw new TypeError("Generator is already executing.");for(;Ve;)try{if(et=1,Xe&&(mt=2&Qt[0]?Xe.return:Qt[0]?Xe.throw||((mt=Xe.return)&&mt.call(Xe),0):Xe.next)&&!(mt=mt.call(Xe,Qt[1])).done)return mt;switch(Xe=0,mt&&(Qt=[2&Qt[0],mt.value]),Qt[0]){case 0:case 1:mt=Qt;break;case 4:return Ve.label++,{value:Qt[1],done:!1};case 5:Ve.label++,Xe=Qt[1],Qt=[0];continue;case 7:Qt=Ve.ops.pop(),Ve.trys.pop();continue;default:if(!(mt=(mt=Ve.trys).length>0&&mt[mt.length-1])&&(6===Qt[0]||2===Qt[0])){Ve=0;continue}if(3===Qt[0]&&(!mt||Qt[1]>mt[0]&&Qt[1]<mt[3])){Ve.label=Qt[1];break}if(6===Qt[0]&&Ve.label<mt[1]){Ve.label=mt[1],mt=Qt;break}if(mt&&Ve.label<mt[2]){Ve.label=mt[2],Ve.ops.push(Qt);break}mt[2]&&Ve.ops.pop(),Ve.trys.pop();continue}Qt=Ie.call(ue,Ve)}catch(hn){Qt=[6,hn],Xe=0}finally{et=mt=0}if(5&Qt[0])throw Qt[1];return{value:Qt[0]?Qt[1]:void 0,done:!0}}([Qt,hn])}}}function me(ue){var Ie="function"==typeof Symbol&&Symbol.iterator,Ve=Ie&&ue[Ie],et=0;if(Ve)return Ve.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&et>=ue.length&&(ue=void 0),{value:ue&&ue[et++],done:!ue}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(ue,Ie){var Ve="function"==typeof Symbol&&ue[Symbol.iterator];if(!Ve)return ue;var Xe,Vt,et=Ve.call(ue),mt=[];try{for(;(void 0===Ie||Ie-- >0)&&!(Xe=et.next()).done;)mt.push(Xe.value)}catch(cn){Vt={error:cn}}finally{try{Xe&&!Xe.done&&(Ve=et.return)&&Ve.call(et)}finally{if(Vt)throw Vt.error}}return mt}var $e,O=v(1270),H=v(2940),R="0.4.17",J="w:"+R,lt=(($e={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$e["not-registered"]="Firebase Installation is not registered.",$e["installation-not-found"]="Firebase Installation not found.",$e["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',$e["app-offline"]="Could not process request. Application offline.",$e["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",$e),Pt=new O.ErrorFactory("installations","Installations",lt);function nn(ue){return ue instanceof O.FirebaseError&&ue.code.includes("request-failed")}function Ft(ue){return"https://firebaseinstallations.googleapis.com/v1/projects/"+ue.projectId+"/installations"}function pn(ue){return{token:ue.token,requestStatus:2,expiresIn:mn(ue.expiresIn),creationTime:Date.now()}}function rn(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return[4,Ie.json()];case 1:return Ve=Xe.sent(),[2,Pt.create("request-failed",{requestName:ue,serverCode:(et=Ve.error).code,serverMessage:et.message,serverStatus:et.status})]}})})}function St(ue){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ue.apiKey})}function qn(ue,Ie){var Ve=Ie.refreshToken,et=St(ue);return et.append("Authorization",function(ue){return"FIS_v2 "+ue}(Ve)),et}function un(ue){return j(this,void 0,void 0,function(){var Ie;return oe(this,function(Ve){switch(Ve.label){case 0:return[4,ue()];case 1:return(Ie=Ve.sent()).status>=500&&Ie.status<600?[2,ue()]:[2,Ie]}})})}function mn(ue){return Number(ue.replace("s","000"))}function Cn(ue,Ie){var Ve=Ie.fid;return j(this,void 0,void 0,function(){var et,Xe,Vt,cn,Vn;return oe(this,function(hn){switch(hn.label){case 0:return et=Ft(ue),Xe=St(ue),Vt={method:"POST",headers:Xe,body:JSON.stringify({fid:Ve,authVersion:"FIS_v2",appId:ue.appId,sdkVersion:J})},[4,un(function(){return fetch(et,Vt)})];case 1:return(cn=hn.sent()).ok?[4,cn.json()]:[3,3];case 2:return[2,{fid:(Vn=hn.sent()).fid||Ve,registrationStatus:2,refreshToken:Vn.refreshToken,authToken:pn(Vn.authToken)}];case 3:return[4,rn("Create Installation",cn)];case 4:throw hn.sent()}})})}function Nn(ue){return new Promise(function(Ie){setTimeout(Ie,ue)})}var zn=/^[cdef][\w-]{21}$/;function Hn(){try{var ue=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ue),ue[0]=112+ue[0]%16;var Ve=function(ue){return function(ue){var Ie=btoa(String.fromCharCode.apply(String,function(){for(var ue=[],Ie=0;Ie<arguments.length;Ie++)ue=ue.concat(le(arguments[Ie]));return ue}(ue)));return Ie.replace(/\+/g,"-").replace(/\//g,"_")}(ue).substr(0,22)}(ue);return zn.test(Ve)?Ve:""}catch(et){return""}}function or(ue){return ue.appName+"!"+ue.appId}var dr=new Map;function hr(ue,Ie){var Ve=or(ue);Wr(Ve,Ie),function(ue,Ie){var Ve=rt();Ve&&Ve.postMessage({key:ue,fid:Ie}),Tt()}(Ve,Ie)}function Wr(ue,Ie){var Ve,et,Xe=dr.get(ue);if(Xe)try{for(var mt=me(Xe),Vt=mt.next();!Vt.done;Vt=mt.next())(0,Vt.value)(Ie)}catch(Vn){Ve={error:Vn}}finally{try{Vt&&!Vt.done&&(et=mt.return)&&et.call(mt)}finally{if(Ve)throw Ve.error}}}var Fe=null;function rt(){return!Fe&&"BroadcastChannel"in self&&((Fe=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(ue){Wr(ue.data.key,ue.data.fid)}),Fe}function Tt(){0===dr.size&&Fe&&(Fe.close(),Fe=null)}var Ht="firebase-installations-store",Tn=null;function Dn(){return Tn||(Tn=(0,H.openDb)("firebase-installations-database",1,function(ue){0===ue.oldVersion&&ue.createObjectStore(Ht)})),Tn}function En(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et,Xe,mt,Vt;return oe(this,function(cn){switch(cn.label){case 0:return Ve=or(ue),[4,Dn()];case 1:return et=cn.sent(),Xe=et.transaction(Ht,"readwrite"),[4,(mt=Xe.objectStore(Ht)).get(Ve)];case 2:return Vt=cn.sent(),[4,mt.put(Ie,Ve)];case 3:return cn.sent(),[4,Xe.complete];case 4:return cn.sent(),(!Vt||Vt.fid!==Ie.fid)&&hr(ue,Ie.fid),[2,Ie]}})})}function Wn(ue){return j(this,void 0,void 0,function(){var Ie,Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return Ie=or(ue),[4,Dn()];case 1:return Ve=Xe.sent(),[4,(et=Ve.transaction(Ht,"readwrite")).objectStore(Ht).delete(Ie)];case 2:return Xe.sent(),[4,et.complete];case 3:return Xe.sent(),[2]}})})}function xn(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et,Xe,mt,Vt,cn;return oe(this,function(Vn){switch(Vn.label){case 0:return Ve=or(ue),[4,Dn()];case 1:return et=Vn.sent(),Xe=et.transaction(Ht,"readwrite"),[4,(mt=Xe.objectStore(Ht)).get(Ve)];case 2:return Vt=Vn.sent(),void 0!==(cn=Ie(Vt))?[3,4]:[4,mt.delete(Ve)];case 3:return Vn.sent(),[3,6];case 4:return[4,mt.put(cn,Ve)];case 5:Vn.sent(),Vn.label=6;case 6:return[4,Xe.complete];case 7:return Vn.sent(),cn&&(!Vt||Vt.fid!==cn.fid)&&hr(ue,cn.fid),[2,cn]}})})}function Ir(ue){return j(this,void 0,void 0,function(){var Ie,Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return[4,xn(ue,function(mt){var Vt=function(ue){return qr(ue||{fid:Hn(),registrationStatus:0})}(mt),cn=function(ue,Ie){if(0===Ie.registrationStatus){if(!navigator.onLine)return{installationEntry:Ie,registrationPromise:Promise.reject(Pt.create("app-offline"))};var et={fid:Ie.fid,registrationStatus:1,registrationTime:Date.now()},Xe=function(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return Xe.trys.push([0,2,,7]),[4,Cn(ue,Ie)];case 1:return Ve=Xe.sent(),[2,En(ue,Ve)];case 2:return nn(et=Xe.sent())&&409===et.serverCode?[4,Wn(ue)]:[3,4];case 3:return Xe.sent(),[3,6];case 4:return[4,En(ue,{fid:Ie.fid,registrationStatus:0})];case 5:Xe.sent(),Xe.label=6;case 6:throw et;case 7:return[2]}})})}(ue,et);return{installationEntry:et,registrationPromise:Xe}}return 1===Ie.registrationStatus?{installationEntry:Ie,registrationPromise:Ar(ue)}:{installationEntry:Ie}}(ue,Vt);return Ie=cn.registrationPromise,cn.installationEntry})];case 1:return""!==(Ve=Xe.sent()).fid?[3,3]:(et={},[4,Ie]);case 2:return[2,(et.installationEntry=Xe.sent(),et)];case 3:return[2,{installationEntry:Ve,registrationPromise:Ie}]}})})}function Ar(ue){return j(this,void 0,void 0,function(){var Ie,Ve,et,Xe;return oe(this,function(mt){switch(mt.label){case 0:return[4,no(ue)];case 1:Ie=mt.sent(),mt.label=2;case 2:return 1!==Ie.registrationStatus?[3,5]:[4,Nn(100)];case 3:return mt.sent(),[4,no(ue)];case 4:return Ie=mt.sent(),[3,2];case 5:return 0!==Ie.registrationStatus?[3,7]:[4,Ir(ue)];case 6:return Ve=mt.sent(),et=Ve.installationEntry,(Xe=Ve.registrationPromise)?[2,Xe]:[2,et];case 7:return[2,Ie]}})})}function no(ue){return xn(ue,function(Ie){if(!Ie)throw Pt.create("installation-not-found");return qr(Ie)})}function qr(ue){return function(ue){return 1===ue.registrationStatus&&ue.registrationTime+1e4<Date.now()}(ue)?{fid:ue.fid,registrationStatus:0}:ue}function Ni(ue,Ie){var Ve=ue.appConfig,et=ue.platformLoggerProvider;return j(this,void 0,void 0,function(){var Xe,mt,Vt,Vn,Qt;return oe(this,function(At){switch(At.label){case 0:return Xe=function(ue,Ie){var Ve=Ie.fid;return Ft(ue)+"/"+Ve+"/authTokens:generate"}(Ve,Ie),mt=qn(Ve,Ie),(Vt=et.getImmediate({optional:!0}))&&mt.append("x-firebase-client",Vt.getPlatformInfoString()),Vn={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:J}})},[4,un(function(){return fetch(Xe,Vn)})];case 1:return(Qt=At.sent()).ok?[4,Qt.json()]:[3,3];case 2:return[2,pn(At.sent())];case 3:return[4,rn("Generate Auth Token",Qt)];case 4:throw At.sent()}})})}function _t(ue,Ie){return void 0===Ie&&(Ie=!1),j(this,void 0,void 0,function(){var Ve,et,mt;return oe(this,function(Vt){switch(Vt.label){case 0:return[4,xn(ue.appConfig,function(cn){if(!kt(cn))throw Pt.create("not-registered");var Vn=cn.authToken;if(!Ie&&function(ue){return 2===ue.requestStatus&&!function(ue){var Ie=Date.now();return Ie<ue.creationTime||ue.creationTime+ue.expiresIn<Ie+36e5}(ue)}(Vn))return cn;if(1===Vn.requestStatus)return Ve=function(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return[4,Lt(ue.appConfig)];case 1:Ve=Xe.sent(),Xe.label=2;case 2:return 1!==Ve.authToken.requestStatus?[3,5]:[4,Nn(100)];case 3:return Xe.sent(),[4,Lt(ue.appConfig)];case 4:return Ve=Xe.sent(),[3,2];case 5:return 0===(et=Ve.authToken).requestStatus?[2,_t(ue,Ie)]:[2,et]}})})}(ue,Ie),cn;if(!navigator.onLine)throw Pt.create("app-offline");var Qt=function(ue){var Ie={requestStatus:1,requestTime:Date.now()};return Y(Y({},ue),{authToken:Ie})}(cn);return Ve=function(ue,Ie){return j(this,void 0,void 0,function(){var Ve,Xe,et;return oe(this,function(mt){switch(mt.label){case 0:return mt.trys.push([0,3,,8]),[4,Ni(ue,Ie)];case 1:return Ve=mt.sent(),et=Y(Y({},Ie),{authToken:Ve}),[4,En(ue.appConfig,et)];case 2:return mt.sent(),[2,Ve];case 3:return!nn(Xe=mt.sent())||401!==Xe.serverCode&&404!==Xe.serverCode?[3,5]:[4,Wn(ue.appConfig)];case 4:return mt.sent(),[3,7];case 5:return et=Y(Y({},Ie),{authToken:{requestStatus:0}}),[4,En(ue.appConfig,et)];case 6:mt.sent(),mt.label=7;case 7:throw Xe;case 8:return[2]}})})}(ue,Qt),Qt})];case 1:return et=Vt.sent(),Ve?[4,Ve]:[3,3];case 2:return mt=Vt.sent(),[3,4];case 3:mt=et.authToken,Vt.label=4;case 4:return[2,mt]}})})}function Lt(ue){return xn(ue,function(Ie){if(!kt(Ie))throw Pt.create("not-registered");return function(ue){return 1===ue.requestStatus&&ue.requestTime+1e4<Date.now()}(Ie.authToken)?Y(Y({},Ie),{authToken:{requestStatus:0}}):Ie})}function kt(ue){return void 0!==ue&&2===ue.registrationStatus}function fr(ue){return j(this,void 0,void 0,function(){var Ie;return oe(this,function(Ve){switch(Ve.label){case 0:return[4,Ir(ue)];case 1:return(Ie=Ve.sent().registrationPromise)?[4,Ie]:[3,3];case 2:Ve.sent(),Ve.label=3;case 3:return[2]}})})}function lr(ue,Ie){return j(this,void 0,void 0,function(){var Ve,et,Xe,mt;return oe(this,function(Vt){switch(Vt.label){case 0:return Ve=function(ue,Ie){var Ve=Ie.fid;return Ft(ue)+"/"+Ve}(ue,Ie),et=qn(ue,Ie),Xe={method:"DELETE",headers:et},[4,un(function(){return fetch(Ve,Xe)})];case 1:return(mt=Vt.sent()).ok?[3,3]:[4,rn("Delete Installation",mt)];case 2:throw Vt.sent();case 3:return[2]}})})}function at(ue){return Pt.create("missing-app-config-values",{valueName:ue})}function Se(ue){ue.INTERNAL.registerComponent(new C.Component("installations",function(Ve){var et=Ve.getProvider("app").getImmediate(),Xe=function(ue){var Ie,Ve;if(!ue||!ue.options)throw at("App Configuration");if(!ue.name)throw at("App Name");try{for(var Xe=me(["projectId","apiKey","appId"]),mt=Xe.next();!mt.done;mt=Xe.next()){var Vt=mt.value;if(!ue.options[Vt])throw at(Vt)}}catch(cn){Ie={error:cn}}finally{try{mt&&!mt.done&&(Ve=Xe.return)&&Ve.call(Xe)}finally{if(Ie)throw Ie.error}}return{appName:ue.name,projectId:ue.options.projectId,apiKey:ue.options.apiKey,appId:ue.options.appId}}(et),Vt={appConfig:Xe,platformLoggerProvider:Ve.getProvider("platform-logger")},cn={app:et,getId:function(){return function(ue){return j(this,void 0,void 0,function(){var Ie,Ve,et;return oe(this,function(Xe){switch(Xe.label){case 0:return[4,Ir(ue.appConfig)];case 1:return Ie=Xe.sent(),Ve=Ie.installationEntry,(et=Ie.registrationPromise)?et.catch(console.error):_t(ue).catch(console.error),[2,Ve.fid]}})})}(Vt)},getToken:function(Vn){return function(ue,Ie){return void 0===Ie&&(Ie=!1),j(this,void 0,void 0,function(){return oe(this,function(et){switch(et.label){case 0:return[4,fr(ue.appConfig)];case 1:return et.sent(),[4,_t(ue,Ie)];case 2:return[2,et.sent().token]}})})}(Vt,Vn)},delete:function(){return function(ue){return j(this,void 0,void 0,function(){var Ie,Ve;return oe(this,function(et){switch(et.label){case 0:return[4,xn(Ie=ue.appConfig,function(Xe){if(!Xe||0!==Xe.registrationStatus)return Xe})];case 1:if(!(Ve=et.sent()))return[3,6];if(1!==Ve.registrationStatus)return[3,2];throw Pt.create("delete-pending-registration");case 2:if(2!==Ve.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Pt.create("app-offline");case 3:return[4,lr(Ie,Ve)];case 4:return et.sent(),[4,Wn(Ie)];case 5:et.sent(),et.label=6;case 6:return[2]}})})}(Vt)},onIdChange:function(Vn){return function(ue,Ie){var Ve=ue.appConfig;return function(ue,Ie){rt();var Ve=or(ue),et=dr.get(Ve);et||dr.set(Ve,et=new Set),et.add(Ie)}(Ve,Ie),function(){!function(ue,Ie){var Ve=or(ue),et=dr.get(Ve);!et||(et.delete(Ie),0===et.size&&dr.delete(Ve),Tt())}(Ve,Ie)}}(Vt,Vn)}};return cn},"PUBLIC")),ue.registerVersion("@firebase/installations",R)}Se(t.default)},4003:(h,m,v)=>{"use strict";function t(){for(var X=0,te=0,me=arguments.length;te<me;te++)X+=arguments[te].length;var le=Array(X),W=0;for(te=0;te<me;te++)for(var z=arguments[te],K=0,ee=z.length;K<ee;K++,W++)le[W]=z[K];return le}v.r(m),v.d(m,{LogLevel:()=>q,Logger:()=>B,setLogLevel:()=>j,setUserLogHandler:()=>oe});var C,S=[],q=(()=>{return(X=q||(q={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",q;var X})(),Y={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,re=((C={})[q.DEBUG]="log",C[q.VERBOSE]="log",C[q.INFO]="info",C[q.WARN]="warn",C[q.ERROR]="error",C),fe=function(X,te){for(var me=[],le=2;le<arguments.length;le++)me[le-2]=arguments[le];if(!(te<X.logLevel)){var W=(new Date).toISOString(),z=re[te];if(!z)throw new Error("Attempted to log a message with an invalid logType (value: "+te+")");console[z].apply(console,t(["["+W+"]  "+X.name+":"],me))}},B=function(){function X(te){this.name=te,this._logLevel=se,this._logHandler=fe,this._userLogHandler=null,S.push(this)}return Object.defineProperty(X.prototype,"logLevel",{get:function(){return this._logLevel},set:function(te){if(!(te in q))throw new TypeError('Invalid value "'+te+'" assigned to `logLevel`');this._logLevel=te},enumerable:!1,configurable:!0}),X.prototype.setLogLevel=function(te){this._logLevel="string"==typeof te?Y[te]:te},Object.defineProperty(X.prototype,"logHandler",{get:function(){return this._logHandler},set:function(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(te){this._userLogHandler=te},enumerable:!1,configurable:!0}),X.prototype.debug=function(){for(var te=[],me=0;me<arguments.length;me++)te[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,t([this,q.DEBUG],te)),this._logHandler.apply(this,t([this,q.DEBUG],te))},X.prototype.log=function(){for(var te=[],me=0;me<arguments.length;me++)te[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,t([this,q.VERBOSE],te)),this._logHandler.apply(this,t([this,q.VERBOSE],te))},X.prototype.info=function(){for(var te=[],me=0;me<arguments.length;me++)te[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,t([this,q.INFO],te)),this._logHandler.apply(this,t([this,q.INFO],te))},X.prototype.warn=function(){for(var te=[],me=0;me<arguments.length;me++)te[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,t([this,q.WARN],te)),this._logHandler.apply(this,t([this,q.WARN],te))},X.prototype.error=function(){for(var te=[],me=0;me<arguments.length;me++)te[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,t([this,q.ERROR],te)),this._logHandler.apply(this,t([this,q.ERROR],te))},X}();function j(X){S.forEach(function(te){te.setLogLevel(X)})}function oe(X,te){for(var me=function(K){var ee=null;te&&te.level&&(ee=Y[te.level]),K.userLogHandler=null===X?null:function(_e,ve){for(var Ae=[],xe=2;xe<arguments.length;xe++)Ae[xe-2]=arguments[xe];var Ge=Ae.map(function(k){if(null==k)return null;if("string"==typeof k)return k;if("number"==typeof k||"boolean"==typeof k)return k.toString();if(k instanceof Error)return k.message;try{return JSON.stringify(k)}catch(U){return null}}).filter(function(k){return k}).join(" ");ve>=(null!=ee?ee:_e.logLevel)&&X({level:q[ve].toLowerCase(),message:Ge,args:Ae,type:_e.name})}},le=0,W=S;le<W.length;le++)me(W[le])}},6101:(h,m,v)=>{"use strict";v.r(m),v(8660);var C=v(6355),S=v(1270),se=function(){return se=Object.assign||function(He){for(var tt,at=1,Se=arguments.length;at<Se;at++)for(var ue in tt=arguments[at])Object.prototype.hasOwnProperty.call(tt,ue)&&(He[ue]=tt[ue]);return He},se.apply(this,arguments)};function oe(Ke,He,tt,at){return new(tt||(tt=Promise))(function(ue,Ie){function Ve(mt){try{Xe(at.next(mt))}catch(Vt){Ie(Vt)}}function et(mt){try{Xe(at.throw(mt))}catch(Vt){Ie(Vt)}}function Xe(mt){mt.done?ue(mt.value):function(ue){return ue instanceof tt?ue:new tt(function(Ie){Ie(ue)})}(mt.value).then(Ve,et)}Xe((at=at.apply(Ke,He||[])).next())})}function X(Ke,He){var at,Se,ue,Ie,tt={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return Ie={next:Ve(0),throw:Ve(1),return:Ve(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Ve(Xe){return function(mt){return function(Xe){if(at)throw new TypeError("Generator is already executing.");for(;tt;)try{if(at=1,Se&&(ue=2&Xe[0]?Se.return:Xe[0]?Se.throw||((ue=Se.return)&&ue.call(Se),0):Se.next)&&!(ue=ue.call(Se,Xe[1])).done)return ue;switch(Se=0,ue&&(Xe=[2&Xe[0],ue.value]),Xe[0]){case 0:case 1:ue=Xe;break;case 4:return tt.label++,{value:Xe[1],done:!1};case 5:tt.label++,Se=Xe[1],Xe=[0];continue;case 7:Xe=tt.ops.pop(),tt.trys.pop();continue;default:if(!(ue=(ue=tt.trys).length>0&&ue[ue.length-1])&&(6===Xe[0]||2===Xe[0])){tt=0;continue}if(3===Xe[0]&&(!ue||Xe[1]>ue[0]&&Xe[1]<ue[3])){tt.label=Xe[1];break}if(6===Xe[0]&&tt.label<ue[1]){tt.label=ue[1],ue=Xe;break}if(ue&&tt.label<ue[2]){tt.label=ue[2],tt.ops.push(Xe);break}ue[2]&&tt.ops.pop(),tt.trys.pop();continue}Xe=He.call(Ke,tt)}catch(mt){Xe=[6,mt],Se=0}finally{at=ue=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,mt])}}}function le(Ke){var He="function"==typeof Symbol&&Symbol.iterator,tt=He&&Ke[He],at=0;if(tt)return tt.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&at>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[at++],done:!Ke}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(Ke,He){var tt="function"==typeof Symbol&&Ke[Symbol.iterator];if(!tt)return Ke;var Se,Ie,at=tt.call(Ke),ue=[];try{for(;(void 0===He||He-- >0)&&!(Se=at.next()).done;)ue.push(Se.value)}catch(Ve){Ie={error:Ve}}finally{try{Se&&!Se.done&&(tt=at.return)&&tt.call(at)}finally{if(Ie)throw Ie.error}}return ue}var R,H=v(2940),Q=v(9278),$=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["only-available-in-window"]="This method is available in a Window context.",R["only-available-in-sw"]="This method is available in a service worker context.",R["permission-default"]="The notification permission was not granted and dismissed instead.",R["permission-blocked"]="The notification permission was not granted and blocked instead.",R["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",R["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",R["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",R["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",R["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",R["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",R["token-update-no-token"]="FCM returned no token when updating the user to push.",R["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",R["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",R["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",R["invalid-vapid-key"]="The public VAPID key must be a string.",R["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",R),J=new S.ErrorFactory("messaging","Messaging",$),Ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qe="FCM_MSG",$e="google.c.a.c_id",pn=(()=>{return(Ke=pn||(pn={})).PUSH_RECEIVED="push-received",Ke.NOTIFICATION_CLICKED="notification-clicked",pn;var Ke})();function rn(Ke){var He=new Uint8Array(Ke),tt=btoa(String.fromCharCode.apply(String,function(){for(var Ke=[],He=0;He<arguments.length;He++)Ke=Ke.concat(W(arguments[He]));return Ke}(He)));return tt.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function St(Ke){for(var tt=(Ke+"=".repeat((4-Ke.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),at=atob(tt),Se=new Uint8Array(at.length),ue=0;ue<at.length;++ue)Se[ue]=at.charCodeAt(ue);return Se}var qn="fcm_token_details_db",mn="fcm_token_object_Store";function tn(Ke){return oe(this,void 0,void 0,function(){var at,ue=this;return X(this,function(Ie){switch(Ie.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!Ie.sent().map(function(Ve){return Ve.name}).includes(qn))return[2,null];Ie.label=2;case 2:return at=null,[4,(0,H.openDb)(qn,5,function(Ve){return oe(ue,void 0,void 0,function(){var et,Xe,mt,Vt;return X(this,function(cn){switch(cn.label){case 0:return Ve.oldVersion<2?[2]:Ve.objectStoreNames.contains(mn)?[4,(et=Ve.transaction.objectStore(mn)).index("fcmSenderId").get(Ke)]:[2];case 1:return Xe=cn.sent(),[4,et.clear()];case 2:if(cn.sent(),!Xe)return[2];if(2===Ve.oldVersion){if(!(mt=Xe).auth||!mt.p256dh||!mt.endpoint)return[2];at={token:mt.fcmToken,createTime:null!==(Vt=mt.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:rn(mt.vapidKey)}}}else(3===Ve.oldVersion||4===Ve.oldVersion)&&(at={token:(mt=Xe).fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:rn(mt.auth),p256dh:rn(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:rn(mt.vapidKey)}});return[2]}})})})];case 3:return Ie.sent().close(),[4,(0,H.deleteDb)(qn)];case 4:return Ie.sent(),[4,(0,H.deleteDb)("fcm_vapid_details_db")];case 5:return Ie.sent(),[4,(0,H.deleteDb)("undefined")];case 6:return Ie.sent(),[2,Cn(at)?at:null]}})})}function Cn(Ke){if(!Ke||!Ke.subscriptionOptions)return!1;var He=Ke.subscriptionOptions;return"number"==typeof Ke.createTime&&Ke.createTime>0&&"string"==typeof Ke.token&&Ke.token.length>0&&"string"==typeof He.auth&&He.auth.length>0&&"string"==typeof He.p256dh&&He.p256dh.length>0&&"string"==typeof He.endpoint&&He.endpoint.length>0&&"string"==typeof He.swScope&&He.swScope.length>0&&"string"==typeof He.vapidKey&&He.vapidKey.length>0}var zn="firebase-messaging-store",yn=null;function Hn(){return yn||(yn=(0,H.openDb)("firebase-messaging-database",1,function(Ke){0===Ke.oldVersion&&Ke.createObjectStore(zn)})),yn}function ir(Ke){return oe(this,void 0,void 0,function(){var He,at,Se;return X(this,function(ue){switch(ue.label){case 0:return He=hr(Ke),[4,Hn()];case 1:return[4,ue.sent().transaction(zn).objectStore(zn).get(He)];case 2:return(at=ue.sent())?[2,at]:[3,3];case 3:return[4,tn(Ke.appConfig.senderId)];case 4:return(Se=ue.sent())?[4,or(Ke,Se)]:[3,6];case 5:return ue.sent(),[2,Se];case 6:return[2]}})})}function or(Ke,He){return oe(this,void 0,void 0,function(){var tt,at,Se;return X(this,function(ue){switch(ue.label){case 0:return tt=hr(Ke),[4,Hn()];case 1:return at=ue.sent(),[4,(Se=at.transaction(zn,"readwrite")).objectStore(zn).put(He,tt)];case 2:return ue.sent(),[4,Se.complete];case 3:return ue.sent(),[2,He]}})})}function dr(Ke){return oe(this,void 0,void 0,function(){var He,tt,at;return X(this,function(Se){switch(Se.label){case 0:return He=hr(Ke),[4,Hn()];case 1:return tt=Se.sent(),[4,(at=tt.transaction(zn,"readwrite")).objectStore(zn).delete(He)];case 2:return Se.sent(),[4,at.complete];case 3:return Se.sent(),[2]}})})}function hr(Ke){return Ke.appConfig.appId}function Gn(Ke,He){return oe(this,void 0,void 0,function(){var tt,at,Se,ue,Ve;return X(this,function(Xe){switch(Xe.label){case 0:return[4,Fe(Ke)];case 1:tt=Xe.sent(),at=rt(He),Se={method:"POST",headers:tt,body:JSON.stringify(at)},Xe.label=2;case 2:return Xe.trys.push([2,5,,6]),[4,fetch(ft(Ke.appConfig),Se)];case 3:return[4,Xe.sent().json()];case 4:return ue=Xe.sent(),[3,6];case 5:throw Ve=Xe.sent(),J.create("token-subscribe-failed",{errorInfo:Ve});case 6:if(ue.error)throw J.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw J.create("token-subscribe-no-token");return[2,ue.token]}})})}function An(Ke,He){return oe(this,void 0,void 0,function(){var tt,at,Se,ue,Ve;return X(this,function(Xe){switch(Xe.label){case 0:return[4,Fe(Ke)];case 1:tt=Xe.sent(),at=rt(He.subscriptionOptions),Se={method:"PATCH",headers:tt,body:JSON.stringify(at)},Xe.label=2;case 2:return Xe.trys.push([2,5,,6]),[4,fetch(ft(Ke.appConfig)+"/"+He.token,Se)];case 3:return[4,Xe.sent().json()];case 4:return ue=Xe.sent(),[3,6];case 5:throw Ve=Xe.sent(),J.create("token-update-failed",{errorInfo:Ve});case 6:if(ue.error)throw J.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw J.create("token-update-no-token");return[2,ue.token]}})})}function Wr(Ke,He){return oe(this,void 0,void 0,function(){var tt,at,ue,Ve;return X(this,function(et){switch(et.label){case 0:return[4,Fe(Ke)];case 1:tt=et.sent(),at={method:"DELETE",headers:tt},et.label=2;case 2:return et.trys.push([2,5,,6]),[4,fetch(ft(Ke.appConfig)+"/"+He,at)];case 3:return[4,et.sent().json()];case 4:if((ue=et.sent()).error)throw J.create("token-unsubscribe-failed",{errorInfo:ue.error.message});return[3,6];case 5:throw Ve=et.sent(),J.create("token-unsubscribe-failed",{errorInfo:Ve});case 6:return[2]}})})}function ft(Ke){return"https://fcmregistrations.googleapis.com/v1/projects/"+Ke.projectId+"/registrations"}function Fe(Ke){var He=Ke.appConfig,tt=Ke.installations;return oe(this,void 0,void 0,function(){var at;return X(this,function(Se){switch(Se.label){case 0:return[4,tt.getToken()];case 1:return at=Se.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":He.apiKey,"x-goog-firebase-installations-auth":"FIS "+at})]}})})}function rt(Ke){var Se=Ke.vapidKey,ue={web:{endpoint:Ke.endpoint,auth:Ke.auth,p256dh:Ke.p256dh}};return Se!==Ne&&(ue.web.applicationPubKey=Se),ue}function gt(Ke,He,tt){return oe(this,void 0,void 0,function(){var at,Se,ue,Ie;return X(this,function(Ve){switch(Ve.label){case 0:if("granted"!==Notification.permission)throw J.create("permission-blocked");return[4,Dn(He,tt)];case 1:return at=Ve.sent(),[4,ir(Ke)];case 2:return Se=Ve.sent(),ue={vapidKey:tt,swScope:He.scope,endpoint:at.endpoint,auth:rn(at.getKey("auth")),p256dh:rn(at.getKey("p256dh"))},Se?[3,3]:[2,Tn(Ke,ue)];case 3:if(function(Ke,He){return He.vapidKey===Ke.vapidKey&&He.endpoint===Ke.endpoint&&He.auth===Ke.auth&&He.p256dh===Ke.p256dh}(Se.subscriptionOptions,ue))return[3,8];Ve.label=4;case 4:return Ve.trys.push([4,6,,7]),[4,Wr(Ke,Se.token)];case 5:return Ve.sent(),[3,7];case 6:return Ie=Ve.sent(),console.warn(Ie),[3,7];case 7:return[2,Tn(Ke,ue)];case 8:return Date.now()>=Se.createTime+6048e5?[2,Ht({token:Se.token,createTime:Date.now(),subscriptionOptions:ue},Ke,He)]:[2,Se.token];case 9:return[2]}})})}function ln(Ke,He){return oe(this,void 0,void 0,function(){var tt,at;return X(this,function(Se){switch(Se.label){case 0:return[4,ir(Ke)];case 1:return(tt=Se.sent())?[4,Wr(Ke,tt.token)]:[3,4];case 2:return Se.sent(),[4,dr(Ke)];case 3:Se.sent(),Se.label=4;case 4:return[4,He.pushManager.getSubscription()];case 5:return(at=Se.sent())?[2,at.unsubscribe()]:[2,!0]}})})}function Ht(Ke,He,tt){return oe(this,void 0,void 0,function(){var at,Se,ue;return X(this,function(Ie){switch(Ie.label){case 0:return Ie.trys.push([0,3,,5]),[4,An(He,Ke)];case 1:return at=Ie.sent(),Se=se(se({},Ke),{token:at,createTime:Date.now()}),[4,or(He,Se)];case 2:return Ie.sent(),[2,at];case 3:return ue=Ie.sent(),[4,ln(He,tt)];case 4:throw Ie.sent(),ue;case 5:return[2]}})})}function Tn(Ke,He){return oe(this,void 0,void 0,function(){var tt,at;return X(this,function(Se){switch(Se.label){case 0:return[4,Gn(Ke,He)];case 1:return tt=Se.sent(),at={token:tt,createTime:Date.now(),subscriptionOptions:He},[4,or(Ke,at)];case 2:return Se.sent(),[2,at.token]}})})}function Dn(Ke,He){return oe(this,void 0,void 0,function(){var tt;return X(this,function(at){switch(at.label){case 0:return[4,Ke.pushManager.getSubscription()];case 1:return(tt=at.sent())?[2,tt]:[2,Ke.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:St(He)})]}})})}function pi(Ke){return"object"==typeof Ke&&!!Ke&&$e in Ke}function er(Ke){return new Promise(function(He){setTimeout(He,Ke)})}var Ar=function(){function Ke(He){var tt=this;this.firebaseDependencies=He,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(at){at.waitUntil(tt.onPush(at))}),self.addEventListener("pushsubscriptionchange",function(at){at.waitUntil(tt.onSubChange(at))}),self.addEventListener("notificationclick",function(at){at.waitUntil(tt.onNotificationClick(at))})}return Object.defineProperty(Ke.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Ke.prototype.setBackgroundMessageHandler=function(He){if(this.isOnBackgroundMessageUsed=!1,!He||"function"!=typeof He)throw J.create("invalid-bg-handler");this.bgMessageHandler=He},Ke.prototype.onBackgroundMessage=function(He){var tt=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=He,function(){tt.bgMessageHandler=null}},Ke.prototype.getToken=function(){var He,tt;return oe(this,void 0,void 0,function(){var at;return X(this,function(Se){switch(Se.label){case 0:return this.vapidKey?[3,2]:[4,ir(this.firebaseDependencies)];case 1:at=Se.sent(),this.vapidKey=null!==(tt=null===(He=null==at?void 0:at.subscriptionOptions)||void 0===He?void 0:He.vapidKey)&&void 0!==tt?tt:Ne,Se.label=2;case 2:return[2,gt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},Ke.prototype.deleteToken=function(){return ln(this.firebaseDependencies,self.registration)},Ke.prototype.requestPermission=function(){throw J.create("only-available-in-window")},Ke.prototype.usePublicVapidKey=function(He){if(null!==this.vapidKey)throw J.create("use-vapid-key-after-get-token");if("string"!=typeof He||0===He.length)throw J.create("invalid-vapid-key");this.vapidKey=He},Ke.prototype.useServiceWorker=function(){throw J.create("only-available-in-window")},Ke.prototype.onMessage=function(){throw J.create("only-available-in-window")},Ke.prototype.onTokenRefresh=function(){throw J.create("only-available-in-window")},Ke.prototype.onPush=function(He){return oe(this,void 0,void 0,function(){var tt,at,Se,ue;return X(this,function(Ie){switch(Ie.label){case 0:return tt=function(Ke){var He=Ke.data;if(!He)return null;try{return He.json()}catch(tt){return null}}(He),tt?[4,_t()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(Ke){return Ke.some(function(He){return"visible"===He.visibilityState&&!He.url.startsWith("chrome-extension://")})}(at=Ie.sent())?[2,Qe(at,tt)]:(Se=!1,tt.notification?[4,Ct(no(tt))]:[3,3]);case 2:Ie.sent(),Se=!0,Ie.label=3;case 3:return!0===Se&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(ue=function(Ke){var He={from:Ke.from,collapseKey:Ke.collapse_key};return function(Ke,He){if(He.notification){Ke.notification={};var tt=He.notification.title;tt&&(Ke.notification.title=tt);var at=He.notification.body;at&&(Ke.notification.body=at);var Se=He.notification.image;Se&&(Ke.notification.image=Se)}}(He,Ke),function(Ke,He){!He.data||(Ke.data=He.data)}(He,Ke),function(Ke,He){if(He.fcmOptions){Ke.fcmOptions={};var tt=He.fcmOptions.link;tt&&(Ke.fcmOptions.link=tt);var at=He.fcmOptions.analytics_label;at&&(Ke.fcmOptions.analyticsLabel=at)}}(He,Ke),He}(tt),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(ue):this.bgMessageHandler.next(ue)),[2]}})})},Ke.prototype.onSubChange=function(He){var tt,at;return oe(this,void 0,void 0,function(){var ue;return X(this,function(Ie){switch(Ie.label){case 0:return He.newSubscription?[3,2]:[4,ln(this.firebaseDependencies,self.registration)];case 1:case 5:return Ie.sent(),[2];case 2:return[4,ir(this.firebaseDependencies)];case 3:return ue=Ie.sent(),[4,ln(this.firebaseDependencies,self.registration)];case 4:return Ie.sent(),[4,gt(this.firebaseDependencies,self.registration,null!==(at=null===(tt=null==ue?void 0:ue.subscriptionOptions)||void 0===tt?void 0:tt.vapidKey)&&void 0!==at?at:Ne)]}})})},Ke.prototype.onNotificationClick=function(He){var tt,at;return oe(this,void 0,void 0,function(){var Se,ue,Ie,Ve,et;return X(this,function(Xe){switch(Xe.label){case 0:return(Se=null===(at=null===(tt=He.notification)||void 0===tt?void 0:tt.data)||void 0===at?void 0:at[qe])?He.action?[2]:(He.stopImmediatePropagation(),He.notification.close(),ue=function(Ke){var He,tt,at;return(null!==(tt=null===(He=Ke.fcmOptions)||void 0===He?void 0:He.link)&&void 0!==tt?tt:null===(at=Ke.notification)||void 0===at?void 0:at.click_action)||(pi(Ke.data)?self.location.origin:null)}(Se),ue?(Ie=new URL(ue,self.location.href),Ve=new URL(self.location.origin),Ie.host!==Ve.host?[2]:[4,hi(Ie)]):[2]):[2];case 1:return(et=Xe.sent())?[3,4]:[4,self.clients.openWindow(ue)];case 2:return et=Xe.sent(),[4,er(3e3)];case 3:return Xe.sent(),[3,6];case 4:return[4,et.focus()];case 5:et=Xe.sent(),Xe.label=6;case 6:return et?(Se.messageType=pn.NOTIFICATION_CLICKED,Se.isFirebaseMessaging=!0,[2,et.postMessage(Se)]):[2]}})})},Ke}();function no(Ke){var He,tt=se({},Ke.notification);return tt.data=((He={})[qe]=Ke,He),tt}function hi(Ke){return oe(this,void 0,void 0,function(){var He,tt,at,Se,ue,Ie,Ve;return X(this,function(et){switch(et.label){case 0:return[4,_t()];case 1:He=et.sent();try{for(tt=le(He),at=tt.next();!at.done;at=tt.next())if(Se=at.value,ue=new URL(Se.url,self.location.href),Ke.host===ue.host)return[2,Se]}catch(Xe){Ie={error:Xe}}finally{try{at&&!at.done&&(Ve=tt.return)&&Ve.call(tt)}finally{if(Ie)throw Ie.error}}return[2,null]}})})}function Qe(Ke,He){var tt,at;He.isFirebaseMessaging=!0,He.messageType=pn.PUSH_RECEIVED;try{for(var Se=le(Ke),ue=Se.next();!ue.done;ue=Se.next())ue.value.postMessage(He)}catch(Ve){tt={error:Ve}}finally{try{ue&&!ue.done&&(at=Se.return)&&at.call(Se)}finally{if(tt)throw tt.error}}}function _t(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ct(Ke){var He,tt=Ke.actions,at=Notification.maxActions;return tt&&at&&tt.length>at&&console.warn("This browser only supports "+at+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(He=Ke.title)&&void 0!==He?He:"",Ke)}var xt=function(){function Ke(He){var tt=this;this.firebaseDependencies=He,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(at){return tt.messageEventListener(at)})}return Object.defineProperty(Ke.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Ke.prototype.messageEventListener=function(He){return oe(this,void 0,void 0,function(){var tt,at;return X(this,function(Se){switch(Se.label){case 0:return(tt=He.data).isFirebaseMessaging?(this.onMessageCallback&&tt.messageType===pn.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(Ke){return delete Ke.messageType,delete Ke.isFirebaseMessaging,Ke}(Object.assign({},tt))):this.onMessageCallback.next(Object.assign({},tt))),pi(at=tt.data)&&"1"===at["google.c.a.e"]?[4,this.logEvent(tt.messageType,at)]:[3,2]):[2];case 1:Se.sent(),Se.label=2;case 2:return[2]}})})},Ke.prototype.getVapidKey=function(){return this.vapidKey},Ke.prototype.getSwReg=function(){return this.swRegistration},Ke.prototype.getToken=function(He){return oe(this,void 0,void 0,function(){return X(this,function(tt){switch(tt.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:tt.sent(),tt.label=2;case 2:if("granted"!==Notification.permission)throw J.create("permission-blocked");return[4,this.updateVapidKey(null==He?void 0:He.vapidKey)];case 3:return tt.sent(),[4,this.updateSwReg(null==He?void 0:He.serviceWorkerRegistration)];case 4:return tt.sent(),[2,gt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},Ke.prototype.updateVapidKey=function(He){return oe(this,void 0,void 0,function(){return X(this,function(tt){return He?this.vapidKey=He:this.vapidKey||(this.vapidKey=Ne),[2]})})},Ke.prototype.updateSwReg=function(He){return oe(this,void 0,void 0,function(){return X(this,function(tt){switch(tt.label){case 0:return He||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:tt.sent(),tt.label=2;case 2:if(!He&&this.swRegistration)return[2];if(!(He instanceof ServiceWorkerRegistration))throw J.create("invalid-sw-registration");return this.swRegistration=He,[2]}})})},Ke.prototype.registerDefaultSw=function(){return oe(this,void 0,void 0,function(){var He,tt;return X(this,function(at){switch(at.label){case 0:return at.trys.push([0,2,,3]),He=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return He.swRegistration=at.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw tt=at.sent(),J.create("failed-service-worker-registration",{browserErrorMessage:tt.message});case 3:return[2]}})})},Ke.prototype.deleteToken=function(){return oe(this,void 0,void 0,function(){return X(this,function(He){switch(He.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:He.sent(),He.label=2;case 2:return[2,ln(this.firebaseDependencies,this.swRegistration)]}})})},Ke.prototype.requestPermission=function(){return oe(this,void 0,void 0,function(){var He;return X(this,function(tt){switch(tt.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(He=tt.sent()))return[2];throw J.create("denied"===He?"permission-blocked":"permission-default")}})})},Ke.prototype.usePublicVapidKey=function(He){if(null!==this.vapidKey)throw J.create("use-vapid-key-after-get-token");if("string"!=typeof He||0===He.length)throw J.create("invalid-vapid-key");this.vapidKey=He},Ke.prototype.useServiceWorker=function(He){if(!(He instanceof ServiceWorkerRegistration))throw J.create("invalid-sw-registration");if(this.swRegistration)throw J.create("use-sw-after-get-token");this.swRegistration=He},Ke.prototype.onMessage=function(He){var tt=this;return this.onMessageCallback=He,function(){tt.onMessageCallback=null}},Ke.prototype.setBackgroundMessageHandler=function(){throw J.create("only-available-in-sw")},Ke.prototype.onBackgroundMessage=function(){throw J.create("only-available-in-sw")},Ke.prototype.onTokenRefresh=function(){return function(){}},Ke.prototype.logEvent=function(He,tt){return oe(this,void 0,void 0,function(){var at;return X(this,function(ue){switch(ue.label){case 0:return at=function(Ke){switch(Ke){case pn.NOTIFICATION_CLICKED:return"notification_open";case pn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(He),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return ue.sent().logEvent(at,{message_id:tt[$e],message_name:tt["google.c.a.c_l"],message_time:tt["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},Ke}();function In(Ke){return J.create("missing-app-config-values",{valueName:Ke})}var Er={isSupported:fr};function fr(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Q.default.INTERNAL.registerComponent(new C.Component("messaging",function(Ke){var He=Ke.getProvider("app").getImmediate(),tt=function(Ke){var He,tt;if(!Ke||!Ke.options)throw In("App Configuration Object");if(!Ke.name)throw In("App Name");var Se=Ke.options;try{for(var ue=le(["projectId","apiKey","appId","messagingSenderId"]),Ie=ue.next();!Ie.done;Ie=ue.next()){var Ve=Ie.value;if(!Se[Ve])throw In(Ve)}}catch(et){He={error:et}}finally{try{Ie&&!Ie.done&&(tt=ue.return)&&tt.call(ue)}finally{if(He)throw He.error}}return{appName:Ke.name,projectId:Se.projectId,apiKey:Se.apiKey,appId:Se.appId,senderId:Se.messagingSenderId}}(He),ue={app:He,appConfig:tt,installations:Ke.getProvider("installations").getImmediate(),analyticsProvider:Ke.getProvider("analytics-internal")};if(!fr())throw J.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ar(ue):new xt(ue)},"PUBLIC").setServiceProps(Er))},2517:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t=v(9278);v(8660);var C=v(1175),S=v(1270),q=v(4003),Y=v(6355);function se(Se){return Se&&"object"==typeof Se&&"default"in Se?Se:{default:Se}}var Ae,re=se(t),B="0.4.2",j=B,te="FB-PERF-TRACE-MEASURE",W="_fcp",z="_fid",K="@firebase/performance/config",ee="@firebase/performance/configexpire",ve="Performance",xe=((Ae={})["trace started"]="Trace {$traceName} was started before.",Ae["trace stopped"]="Trace {$traceName} is not running.",Ae["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ae["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ae["no window"]="Window is not available.",Ae["no app id"]="App id is not available.",Ae["no project id"]="Project id is not available.",Ae["no api key"]="Api key is not available.",Ae["invalid cc log"]="Attempted to queue invalid cc event",Ae["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ae["RC response not ok"]="RC response is not ok",Ae["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ae["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ae["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ae["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ae),Ge=new S.ErrorFactory("performance",ve,xe),k=new q.Logger(ve);k.logLevel=q.LogLevel.INFO;var U,O,H=function(){function Se(ue){if(this.window=ue,!ue)throw Ge.create("no window");this.performance=ue.performance,this.PerformanceObserver=ue.PerformanceObserver,this.windowLocation=ue.location,this.navigator=ue.navigator,this.document=ue.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=ue.localStorage),ue.perfMetrics&&ue.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=ue.perfMetrics.onFirstInputDelay)}return Se.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},Se.prototype.mark=function(ue){!this.performance||!this.performance.mark||this.performance.mark(ue)},Se.prototype.measure=function(ue,Ie,Ve){!this.performance||!this.performance.measure||this.performance.measure(ue,Ie,Ve)},Se.prototype.getEntriesByType=function(ue){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(ue):[]},Se.prototype.getEntriesByName=function(ue){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(ue):[]},Se.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},Se.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!S.isIndexedDBAvailable()||(k.info("IndexedDB is not supported by current browswer"),!1):(k.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},Se.prototype.setupObserver=function(ue,Ie){this.PerformanceObserver&&new this.PerformanceObserver(function(et){for(var Xe=0,mt=et.getEntries();Xe<mt.length;Xe++)Ie(mt[Xe])}).observe({entryTypes:[ue]})},Se.getInstance=function(){return void 0===U&&(U=new Se(O)),U},Se}();function R(Se,ue){var Ie=Se.length-ue.length;if(Ie<0||Ie>1)throw Ge.create("invalid String merger input");for(var Ve=[],et=0;et<Se.length;et++)Ve.push(Se.charAt(et)),ue.length>et&&Ve.push(ue.charAt(et));return Ve.join("")}var $,je,J=function(){function Se(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=R("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=R("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return Se.prototype.getAppId=function(){var ue=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!ue)throw Ge.create("no app id");return ue},Se.prototype.getProjectId=function(){var ue=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!ue)throw Ge.create("no project id");return ue},Se.prototype.getApiKey=function(){var ue=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!ue)throw Ge.create("no api key");return ue},Se.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},Se.getInstance=function(){return void 0===$&&($=new Se),$},Se}();function Ne(){return je}var qe=(()=>{return(Se=qe||(qe={}))[Se.UNKNOWN=0]="UNKNOWN",Se[Se.VISIBLE=1]="VISIBLE",Se[Se.HIDDEN=2]="HIDDEN",qe;var Se})(),$e=["firebase_","google_","ga_"],lt=new RegExp("^[a-zA-Z]\\w*$");function pn(){switch(H.getInstance().document.visibilityState){case"visible":return qe.VISIBLE;case"hidden":return qe.HIDDEN;default:return qe.UNKNOWN}}function rn(){var ue=H.getInstance().navigator.connection;switch(ue&&ue.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var zn="Could not fetch config, will use default configs";function Hn(Se){if(!Se)return Se;var ue=J.getInstance(),Ie=Se.entries||{};return ue.loggingEnabled=void 0===Ie.fpr_enabled||"true"===String(Ie.fpr_enabled),Ie.fpr_log_source&&(ue.logSource=Number(Ie.fpr_log_source)),Ie.fpr_log_endpoint_url&&(ue.logEndPointUrl=Ie.fpr_log_endpoint_url),Ie.fpr_log_transport_key&&(ue.transportKey=Ie.fpr_log_transport_key),void 0!==Ie.fpr_vc_network_request_sampling_rate&&(ue.networkRequestsSamplingRate=Number(Ie.fpr_vc_network_request_sampling_rate)),void 0!==Ie.fpr_vc_trace_sampling_rate&&(ue.tracesSamplingRate=Number(Ie.fpr_vc_trace_sampling_rate)),ue.logTraceAfterSampling=or(ue.tracesSamplingRate),ue.logNetworkAfterSampling=or(ue.networkRequestsSamplingRate),Se}function or(Se){return Math.random()<=Se}var hr,dr=1;function Gn(){return dr=2,hr=hr||(Se=H.getInstance().document,new Promise(function(ue){if(Se&&"complete"!==Se.readyState){var Ie=function(){"complete"===Se.readyState&&(Se.removeEventListener("readystatechange",Ie),ue())};Se.addEventListener("readystatechange",Ie)}else ue()})).then(function(){return function(){var Se=J.getInstance().installationsService.getId();return Se.then(function(ue){je=ue}),Se}()}).then(function(Se){return function(Se){var ue=function(){var Se=H.getInstance().localStorage;if(Se){var ue=Se.getItem(ee);if(ue&&function(Se){return Number(Se)>Date.now()}(ue)){var Ie=Se.getItem(K);if(Ie)try{return JSON.parse(Ie)}catch(et){return}}}}();return ue?(Hn(ue),Promise.resolve()):function(Se){return function(){var Se=J.getInstance().installationsService.getToken();return Se.then(function(ue){}),Se}().then(function(ue){var Ve="https://firebaseremoteconfig.googleapis.com/v1/projects/"+J.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+J.getInstance().getApiKey(),et=new Request(Ve,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+ue},body:JSON.stringify({app_instance_id:Se,app_instance_id_token:ue,app_id:J.getInstance().getAppId(),app_version:j,sdk_version:"0.0.1"})});return fetch(et).then(function(Xe){if(Xe.ok)return Xe.json();throw Ge.create("RC response not ok")})}).catch(function(){k.info(zn)})}(Se).then(Hn).then(function(Ie){return function(Se){var ue=H.getInstance().localStorage;!Se||!ue||(ue.setItem(K,JSON.stringify(Se)),ue.setItem(ee,String(Date.now()+60*J.getInstance().configTimeToLive*60*1e3)))}(Ie)},function(){})}(Se)}).then(function(){return Fe()},function(){return Fe()}),hr;var Se}function Fe(){dr=3}var er,ln=3,Ht=[],Tn=!1;function En(Se){setTimeout(function(){if(0!==ln){if(!Ht.length)return En(1e4);!function(){var Se=C.__spreadArrays(Ht);Ht=[];var ue=Se.map(function(Ve){return{source_extension_json_proto3:Ve.message,event_time_ms:String(Ve.eventTime)}});(function(Se,ue){return function(Se){var ue=J.getInstance().getFlTransportFullUrl();return fetch(ue,{method:"POST",body:JSON.stringify(Se)})}(Se).then(function(Ie){return Ie.ok||k.info("Call to Firebase backend failed."),Ie.json()}).then(function(Ie){var Ve=Number(Ie.nextRequestWaitMillis),et=1e4;isNaN(Ve)||(et=Math.max(Ve,et));var Xe=Ie.logResponseDetails;Array.isArray(Xe)&&Xe.length>0&&"RETRY_REQUEST_LATER"===Xe[0].responseAction&&(Ht=C.__spreadArrays(ue,Ht),k.info("Retry transport request later.")),ln=3,En(et)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:J.getInstance().logSource,log_event:ue},Se).catch(function(){Ht=C.__spreadArrays(Se,Ht),ln--,k.info("Tries left: "+ln+"."),En(1e4)})}()}},Se)}function nr(Se){if(!Se.eventTime||!Se.message)throw Ge.create("invalid cc log");Ht=C.__spreadArrays(Ht,[Se])}function Ar(Se,ue){er||(er=function(Se){return function(){for(var ue=[],Ie=0;Ie<arguments.length;Ie++)ue[Ie]=arguments[Ie];nr({message:Se.apply(void 0,ue),eventTime:Date.now()})}}(Ni)),er(Se,ue)}function no(Se){var ue=J.getInstance();!ue.instrumentationEnabled&&Se.isAuto||!ue.dataCollectionEnabled&&!Se.isAuto||!H.getInstance().requiredApisAvailable()||Se.isAuto&&pn()!==qe.VISIBLE||(3===dr?qr(Se):Gn().then(function(){return qr(Se)},function(){return qr(Se)}))}function qr(Se){if(Ne()){var ue=J.getInstance();!ue.loggingEnabled||!ue.logTraceAfterSampling||setTimeout(function(){return Ar(Se,1)},0)}}function Ni(Se,ue){return 0===ue?function(Se){var ue={url:Se.url,http_method:Se.httpMethod||0,http_response_code:200,response_payload_bytes:Se.responsePayloadBytes,client_start_time_us:Se.startTimeUs,time_to_response_initiated_us:Se.timeToResponseInitiatedUs,time_to_response_completed_us:Se.timeToResponseCompletedUs},Ie={application_info:Ct(),network_request_metric:ue};return JSON.stringify(Ie)}(Se):function(Se){var ue={name:Se.name,is_auto:Se.isAuto,client_start_time_us:Se.startTimeUs,duration_us:Se.durationUs};0!==Object.keys(Se.counters).length&&(ue.counters=Se.counters);var Ie=Se.getAttributes();0!==Object.keys(Ie).length&&(ue.custom_attributes=Ie);var Ve={application_info:Ct(),trace_metric:ue};return JSON.stringify(Ve)}(Se)}function Ct(){return{google_app_id:J.getInstance().getAppId(),app_instance_id:Ne(),web_app_info:{sdk_version:j,page_url:H.getInstance().getUrl(),service_worker_status:(Se=H.getInstance().navigator,"serviceWorker"in Se?Se.serviceWorker.controller?2:3:1),visibility_state:pn(),effective_connection_type:rn()},application_process_state:0};var Se}var kt=["_fp",W,z],In=function(){function Se(ue,Ie,Ve){void 0===Ie&&(Ie=!1),this.name=ue,this.isAuto=Ie,this.state=1,this.customAttributes={},this.counters={},this.api=H.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=Ve||te+"-"+this.randomId+"-"+this.name,Ve&&this.calculateTraceMetrics())}return Se.prototype.start=function(){if(1!==this.state)throw Ge.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Se.prototype.stop=function(){if(2!==this.state)throw Ge.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),no(this)},Se.prototype.record=function(ue,Ie,Ve){if(ue<=0)throw Ge.create("nonpositive trace startTime",{traceName:this.name});if(Ie<=0)throw Ge.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*Ie),this.startTimeUs=Math.floor(1e3*ue),Ve&&Ve.attributes&&(this.customAttributes=C.__assign({},Ve.attributes)),Ve&&Ve.metrics)for(var et=0,Xe=Object.keys(Ve.metrics);et<Xe.length;et++){var mt=Xe[et];isNaN(Number(Ve.metrics[mt]))||(this.counters[mt]=Number(Math.floor(Ve.metrics[mt])))}no(this)},Se.prototype.incrementMetric=function(ue,Ie){void 0===Ie&&(Ie=1),this.putMetric(ue,void 0===this.counters[ue]?Ie:this.counters[ue]+Ie)},Se.prototype.putMetric=function(ue,Ie){if(!function(Se,ue){return!(0===Se.length||Se.length>100)&&(ue&&ue.startsWith("_wt_")&&kt.indexOf(Se)>-1||!Se.startsWith("_"))}(ue,this.name))throw Ge.create("invalid custom metric name",{customMetricName:ue});this.counters[ue]=function(Se){var ue=Math.floor(Se);return ue<Se&&k.info("Metric value should be an Integer, setting the value as : "+ue+"."),ue}(Ie)},Se.prototype.getMetric=function(ue){return this.counters[ue]||0},Se.prototype.putAttribute=function(ue,Ie){var Ve=function(Se){return!(0===Se.length||Se.length>40||$e.some(function(Ie){return Se.startsWith(Ie)})||!Se.match(lt))}(ue),et=function(Se){return 0!==Se.length&&Se.length<=100}(Ie);if(Ve&&et)this.customAttributes[ue]=Ie;else{if(!Ve)throw Ge.create("invalid attribute name",{attributeName:ue});if(!et)throw Ge.create("invalid attribute value",{attributeValue:Ie})}},Se.prototype.getAttribute=function(ue){return this.customAttributes[ue]},Se.prototype.removeAttribute=function(ue){void 0!==this.customAttributes[ue]&&delete this.customAttributes[ue]},Se.prototype.getAttributes=function(){return C.__assign({},this.customAttributes)},Se.prototype.setStartTime=function(ue){this.startTimeUs=ue},Se.prototype.setDuration=function(ue){this.durationUs=ue},Se.prototype.calculateTraceMetrics=function(){var ue=this.api.getEntriesByName(this.traceMeasure),Ie=ue&&ue[0];Ie&&(this.durationUs=Math.floor(1e3*Ie.duration),this.startTimeUs=Math.floor(1e3*(Ie.startTime+this.api.getTimeOrigin())))},Se.createOobTrace=function(ue,Ie,Ve){var et=H.getInstance().getUrl();if(et){var Xe=new Se("_wt_"+et,!0),mt=Math.floor(1e3*H.getInstance().getTimeOrigin());if(Xe.setStartTime(mt),ue&&ue[0]&&(Xe.setDuration(Math.floor(1e3*ue[0].duration)),Xe.putMetric("domInteractive",Math.floor(1e3*ue[0].domInteractive)),Xe.putMetric("domContentLoadedEventEnd",Math.floor(1e3*ue[0].domContentLoadedEventEnd)),Xe.putMetric("loadEventEnd",Math.floor(1e3*ue[0].loadEventEnd))),Ie){var Vn=Ie.find(function(hn){return"first-paint"===hn.name});Vn&&Vn.startTime&&Xe.putMetric("_fp",Math.floor(1e3*Vn.startTime));var Qt=Ie.find(function(hn){return"first-contentful-paint"===hn.name});Qt&&Qt.startTime&&Xe.putMetric(W,Math.floor(1e3*Qt.startTime)),Ve&&Xe.putMetric(z,Math.floor(1e3*Ve))}no(Xe)}},Se.createUserTimingTrace=function(ue){no(new Se(ue,!1,ue))},Se}();function Wt(Se){var ue=Se;if(ue&&void 0!==ue.responseStart){var Ie=H.getInstance().getTimeOrigin(),Ve=Math.floor(1e3*(ue.startTime+Ie)),et=ue.responseStart?Math.floor(1e3*(ue.responseStart-ue.startTime)):void 0,Xe=Math.floor(1e3*(ue.responseEnd-ue.startTime));!function(Se){var ue=J.getInstance();if(ue.instrumentationEnabled){var Ie=Se.url,Ve=ue.logEndPointUrl.split("?")[0],et=ue.flTransportEndpointUrl.split("?")[0];Ie===Ve||Ie===et||!ue.loggingEnabled||!ue.logNetworkAfterSampling||setTimeout(function(){return Ar(Se,0)},0)}}({url:ue.name&&ue.name.split("?")[0],responsePayloadBytes:ue.transferSize,startTimeUs:Ve,timeToResponseInitiatedUs:et,timeToResponseCompletedUs:Xe})}}function Er(){!Ne()||(setTimeout(function(){return function(){var Se=H.getInstance(),ue=Se.getEntriesByType("navigation"),Ie=Se.getEntriesByType("paint");if(Se.onFirstInputDelay){var Ve=setTimeout(function(){In.createOobTrace(ue,Ie),Ve=void 0},5e3);Se.onFirstInputDelay(function(et){Ve&&(clearTimeout(Ve),In.createOobTrace(ue,Ie,et))})}else In.createOobTrace(ue,Ie)}()},0),setTimeout(function(){return function(){for(var Se=H.getInstance(),Ie=0,Ve=Se.getEntriesByType("resource");Ie<Ve.length;Ie++)Wt(Ve[Ie]);Se.setupObserver("resource",Wt)}()},0),setTimeout(function(){return function(){for(var Se=H.getInstance(),Ie=0,Ve=Se.getEntriesByType("measure");Ie<Ve.length;Ie++)Ke(Ve[Ie]);Se.setupObserver("measure",Ke)}()},0))}function Ke(Se){var ue=Se.name;ue.substring(0,te.length)!==te&&In.createUserTimingTrace(ue)}var He=function(){function Se(ue){this.app=ue,H.getInstance().requiredApisAvailable()&&S.validateIndexedDBOpenable().then(function(Ie){Ie&&(Tn||(En(5500),Tn=!0),Gn().then(Er,Er))}).catch(function(Ie){k.info("Environment doesn't support IndexedDB: "+Ie)})}return Se.prototype.trace=function(ue){return new In(ue)},Object.defineProperty(Se.prototype,"instrumentationEnabled",{get:function(){return J.getInstance().instrumentationEnabled},set:function(ue){J.getInstance().instrumentationEnabled=ue},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"dataCollectionEnabled",{get:function(){return J.getInstance().dataCollectionEnabled},set:function(ue){J.getInstance().dataCollectionEnabled=ue},enumerable:!1,configurable:!0}),Se}();function at(Se){Se.INTERNAL.registerComponent(new Y.Component("performance",function(Ie){return function(Ie,Ve){if("[DEFAULT]"!==Ie.name)throw Ge.create("FB not default");if("undefined"==typeof window)throw Ge.create("no window");return function(Se){O=Se}(window),J.getInstance().firebaseAppInstance=Ie,J.getInstance().installationsService=Ve,new He(Ie)}(Ie.getProvider("app").getImmediate(),Ie.getProvider("installations").getImmediate())},"PUBLIC")),Se.registerVersion("@firebase/performance",B)}at(re.default),m.registerPerformance=at},8072:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t=v(9278);v(8660);var C=v(2027),S=v(1270),q=v(4003),Y=v(6355);function se($e){return $e&&"object"==typeof $e&&"default"in $e?$e:{default:$e}}var B,re=se(t),fe=function(){function $e(lt,Pt,nn,Ft){this.client=lt,this.storage=Pt,this.storageCache=nn,this.logger=Ft}return $e.prototype.isCachedDataFresh=function(lt,Pt){if(!Pt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var nn=Date.now()-Pt,Ft=nn<=lt;return this.logger.debug("Config fetch cache check. Cache age millis: "+nn+". Cache max age millis (minimumFetchIntervalMillis setting): "+lt+". Is cache hit: "+Ft+"."),Ft},$e.prototype.fetch=function(lt){return C.__awaiter(this,void 0,void 0,function(){var Pt,nn,Ft,pn,rn;return C.__generator(this,function(St){switch(St.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return Pt=St.sent(),nn=Pt[0],(Ft=Pt[1])&&this.isCachedDataFresh(lt.cacheMaxAgeMillis,nn)?[2,Ft]:(lt.eTag=Ft&&Ft.eTag,[4,this.client.fetch(lt)]);case 2:return pn=St.sent(),rn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===pn.status&&rn.push(this.storage.setLastSuccessfulFetchResponse(pn)),[4,Promise.all(rn)];case 3:return St.sent(),[2,pn]}})})},$e}(),j=((B={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",B["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",B["registration-api-key"]="Undefined API key. Check Firebase app initialization.",B["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",B["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",B["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",B["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",B["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",B["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",B["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',B["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',B["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",B["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",B),oe=new S.ErrorFactory("remoteconfig","Remote Config",j);function te($e){return void 0===$e&&($e=navigator),$e.languages&&$e.languages[0]||$e.language}var me=function(){function $e(lt,Pt,nn,Ft,pn,rn){this.firebaseInstallations=lt,this.sdkVersion=Pt,this.namespace=nn,this.projectId=Ft,this.apiKey=pn,this.appId=rn}return $e.prototype.fetch=function(lt){return C.__awaiter(this,void 0,void 0,function(){var Pt,pn,rn,St,qn,un,mn,tn,Cn,Nn,on,zn,yn,Hn,ir,or,dr;return C.__generator(this,function(hr){switch(hr.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:Pt=hr.sent(),pn=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",rn=pn+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":lt.eTag||"*"},qn={sdk_version:this.sdkVersion,app_instance_id:Pt[0],app_instance_id_token:Pt[1],app_id:this.appId,language_code:te()},un={method:"POST",headers:St,body:JSON.stringify(qn)},mn=fetch(rn,un),tn=new Promise(function(Gn,An){lt.signal.addEventListener(function(){var Wr=new Error("The operation was aborted.");Wr.name="AbortError",An(Wr)})}),hr.label=2;case 2:return hr.trys.push([2,5,,6]),[4,Promise.race([mn,tn])];case 3:return hr.sent(),[4,mn];case 4:return Cn=hr.sent(),[3,6];case 5:throw Nn=hr.sent(),on="fetch-client-network","AbortError"===Nn.name&&(on="fetch-timeout"),oe.create(on,{originalErrorMessage:Nn.message});case 6:if(zn=Cn.status,yn=Cn.headers.get("ETag")||void 0,200!==Cn.status)return[3,11];or=void 0,hr.label=7;case 7:return hr.trys.push([7,9,,10]),[4,Cn.json()];case 8:return or=hr.sent(),[3,10];case 9:throw dr=hr.sent(),oe.create("fetch-client-parse",{originalErrorMessage:dr.message});case 10:Hn=or.entries,ir=or.state,hr.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===ir?zn=500:"NO_CHANGE"===ir?zn=304:("NO_TEMPLATE"===ir||"EMPTY_CONFIG"===ir)&&(Hn={}),304!==zn&&200!==zn)throw oe.create("fetch-status",{httpStatus:zn});return[2,{status:zn,eTag:yn,config:Hn}]}})})},$e}(),le=function(){function $e(){this.listeners=[]}return $e.prototype.addEventListener=function(lt){this.listeners.push(lt)},$e.prototype.abort=function(){this.listeners.forEach(function(lt){return lt()})},$e}(),ee=["1","true","t","yes","y","on"],_e=function(){function $e(lt,Pt){void 0===Pt&&(Pt=""),this._source=lt,this._value=Pt}return $e.prototype.asString=function(){return this._value},$e.prototype.asBoolean=function(){return"static"!==this._source&&ee.indexOf(this._value.toLowerCase())>=0},$e.prototype.asNumber=function(){if("static"===this._source)return 0;var lt=Number(this._value);return isNaN(lt)&&(lt=0),lt},$e.prototype.getSource=function(){return this._source},$e}(),xe=function(){function $e(lt,Pt,nn,Ft,pn){this.app=lt,this._client=Pt,this._storageCache=nn,this._storage=Ft,this._logger=pn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return $e.prototype.setLogLevel=function(lt){switch(lt){case"debug":this._logger.logLevel=q.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=q.LogLevel.SILENT;break;default:this._logger.logLevel=q.LogLevel.ERROR}},Object.defineProperty($e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),$e.prototype.activate=function(){return C.__awaiter(this,void 0,void 0,function(){var lt,Pt,nn;return C.__generator(this,function(Ft){switch(Ft.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return lt=Ft.sent(),nn=lt[1],(Pt=lt[0])&&Pt.config&&Pt.eTag&&Pt.eTag!==nn?[4,Promise.all([this._storageCache.setActiveConfig(Pt.config),this._storage.setActiveConfigEtag(Pt.eTag)])]:[2,!1];case 2:return Ft.sent(),[2,!0]}})})},$e.prototype.ensureInitialized=function(){var lt=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){lt._isInitializationComplete=!0})),this._initializePromise},$e.prototype.fetch=function(){return C.__awaiter(this,void 0,void 0,function(){var lt,Pt,nn,Ft=this;return C.__generator(this,function(pn){switch(pn.label){case 0:lt=new le,setTimeout(function(){return C.__awaiter(Ft,void 0,void 0,function(){return C.__generator(this,function(rn){return lt.abort(),[2]})})},this.settings.fetchTimeoutMillis),pn.label=1;case 1:return pn.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:lt})];case 2:return pn.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return pn.sent(),[3,6];case 4:return Pt=pn.sent(),nn=function($e,lt){return $e instanceof S.FirebaseError&&-1!==$e.code.indexOf("fetch-throttle")}(Pt)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(nn)];case 5:throw pn.sent(),Pt;case 6:return[2]}})})},$e.prototype.fetchAndActivate=function(){return C.__awaiter(this,void 0,void 0,function(){return C.__generator(this,function(lt){switch(lt.label){case 0:return[4,this.fetch()];case 1:return lt.sent(),[2,this.activate()]}})})},$e.prototype.getAll=function(){var lt=this;return function($e,lt){return void 0===$e&&($e={}),void 0===lt&&(lt={}),Object.keys(C.__assign(C.__assign({},$e),lt))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(Pt,nn){return Pt[nn]=lt.getValue(nn),Pt},{})},$e.prototype.getBoolean=function(lt){return this.getValue(lt).asBoolean()},$e.prototype.getNumber=function(lt){return this.getValue(lt).asNumber()},$e.prototype.getString=function(lt){return this.getValue(lt).asString()},$e.prototype.getValue=function(lt){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+lt+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var Pt=this._storageCache.getActiveConfig();return Pt&&void 0!==Pt[lt]?new _e("remote",Pt[lt]):this.defaultConfig&&void 0!==this.defaultConfig[lt]?new _e("default",String(this.defaultConfig[lt])):(this._logger.debug('Returning static value for key "'+lt+'". Define a default or remote value if this is unintentional.'),new _e("static"))},$e}();function k($e,lt){var Pt=$e.target.error||void 0;return oe.create(lt,{originalErrorMessage:Pt&&Pt.message})}var U="app_namespace_store",R=function(){function $e(lt,Pt,nn,Ft){void 0===Ft&&(Ft=new Promise(function($e,lt){var Pt=indexedDB.open("firebase_remote_config",1);Pt.onerror=function(nn){lt(k(nn,"storage-open"))},Pt.onsuccess=function(nn){$e(nn.target.result)},Pt.onupgradeneeded=function(nn){0===nn.oldVersion&&nn.target.result.createObjectStore(U,{keyPath:"compositeKey"})}})),this.appId=lt,this.appName=Pt,this.namespace=nn,this.openDbPromise=Ft}return $e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},$e.prototype.setLastFetchStatus=function(lt){return this.set("last_fetch_status",lt)},$e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},$e.prototype.setLastSuccessfulFetchTimestampMillis=function(lt){return this.set("last_successful_fetch_timestamp_millis",lt)},$e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},$e.prototype.setLastSuccessfulFetchResponse=function(lt){return this.set("last_successful_fetch_response",lt)},$e.prototype.getActiveConfig=function(){return this.get("active_config")},$e.prototype.setActiveConfig=function(lt){return this.set("active_config",lt)},$e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},$e.prototype.setActiveConfigEtag=function(lt){return this.set("active_config_etag",lt)},$e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},$e.prototype.setThrottleMetadata=function(lt){return this.set("throttle_metadata",lt)},$e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},$e.prototype.get=function(lt){return C.__awaiter(this,void 0,void 0,function(){var Pt,nn=this;return C.__generator(this,function(Ft){switch(Ft.label){case 0:return[4,this.openDbPromise];case 1:return Pt=Ft.sent(),[2,new Promise(function(pn,rn){var qn=Pt.transaction([U],"readonly").objectStore(U),un=nn.createCompositeKey(lt);try{var mn=qn.get(un);mn.onerror=function(tn){rn(k(tn,"storage-get"))},mn.onsuccess=function(tn){var Cn=tn.target.result;pn(Cn?Cn.value:void 0)}}catch(tn){rn(oe.create("storage-get",{originalErrorMessage:tn&&tn.message}))}})]}})})},$e.prototype.set=function(lt,Pt){return C.__awaiter(this,void 0,void 0,function(){var nn,Ft=this;return C.__generator(this,function(pn){switch(pn.label){case 0:return[4,this.openDbPromise];case 1:return nn=pn.sent(),[2,new Promise(function(rn,St){var un=nn.transaction([U],"readwrite").objectStore(U),mn=Ft.createCompositeKey(lt);try{var tn=un.put({compositeKey:mn,value:Pt});tn.onerror=function(Cn){St(k(Cn,"storage-set"))},tn.onsuccess=function(){rn()}}catch(Cn){St(oe.create("storage-set",{originalErrorMessage:Cn&&Cn.message}))}})]}})})},$e.prototype.delete=function(lt){return C.__awaiter(this,void 0,void 0,function(){var Pt,nn=this;return C.__generator(this,function(Ft){switch(Ft.label){case 0:return[4,this.openDbPromise];case 1:return Pt=Ft.sent(),[2,new Promise(function(pn,rn){var qn=Pt.transaction([U],"readwrite").objectStore(U),un=nn.createCompositeKey(lt);try{var mn=qn.delete(un);mn.onerror=function(tn){rn(k(tn,"storage-delete"))},mn.onsuccess=function(){pn()}}catch(tn){rn(oe.create("storage-delete",{originalErrorMessage:tn&&tn.message}))}})]}})})},$e.prototype.createCompositeKey=function(lt){return[this.appId,this.appName,this.namespace,lt].join()},$e}(),$=function(){function $e(lt){this.storage=lt}return $e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},$e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},$e.prototype.getActiveConfig=function(){return this.activeConfig},$e.prototype.loadFromStorage=function(){return C.__awaiter(this,void 0,void 0,function(){var lt,Pt,nn,Ft,pn,rn;return C.__generator(this,function(St){switch(St.label){case 0:return lt=this.storage.getLastFetchStatus(),Pt=this.storage.getLastSuccessfulFetchTimestampMillis(),nn=this.storage.getActiveConfig(),[4,lt];case 1:return(Ft=St.sent())&&(this.lastFetchStatus=Ft),[4,Pt];case 2:return(pn=St.sent())&&(this.lastSuccessfulFetchTimestampMillis=pn),[4,nn];case 3:return(rn=St.sent())&&(this.activeConfig=rn),[2]}})})},$e.prototype.setLastFetchStatus=function(lt){return this.lastFetchStatus=lt,this.storage.setLastFetchStatus(lt)},$e.prototype.setLastSuccessfulFetchTimestampMillis=function(lt){return this.lastSuccessfulFetchTimestampMillis=lt,this.storage.setLastSuccessfulFetchTimestampMillis(lt)},$e.prototype.setActiveConfig=function(lt){return this.activeConfig=lt,this.storage.setActiveConfig(lt)},$e}();function J($e,lt){return new Promise(function(Pt,nn){var Ft=Math.max(lt-Date.now(),0),pn=setTimeout(Pt,Ft);$e.addEventListener(function(){clearTimeout(pn),nn(oe.create("fetch-throttle",{throttleEndTimeMillis:lt}))})})}var we=function(){function $e(lt,Pt){this.client=lt,this.storage=Pt}return $e.prototype.fetch=function(lt){return C.__awaiter(this,void 0,void 0,function(){var Pt;return C.__generator(this,function(nn){switch(nn.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return Pt=nn.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(lt,Pt)]}})})},$e.prototype.attemptFetch=function(lt,Pt){var nn=Pt.throttleEndTimeMillis,Ft=Pt.backoffCount;return C.__awaiter(this,void 0,void 0,function(){var pn,rn,St;return C.__generator(this,function(qn){switch(qn.label){case 0:return[4,J(lt.signal,nn)];case 1:qn.sent(),qn.label=2;case 2:return qn.trys.push([2,5,,7]),[4,this.client.fetch(lt)];case 3:return pn=qn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return qn.sent(),[2,pn];case 5:if(!function($e){if(!($e instanceof S.FirebaseError))return!1;var lt=Number($e.httpStatus);return 429===lt||500===lt||503===lt||504===lt}(rn=qn.sent()))throw rn;return St={throttleEndTimeMillis:Date.now()+S.calculateBackoffMillis(Ft),backoffCount:Ft+1},[4,this.storage.setThrottleMetadata(St)];case 6:return qn.sent(),[2,this.attemptFetch(lt,St)];case 7:return[2]}})})},$e}(),Ne="@firebase/remote-config";function qe($e){$e.INTERNAL.registerComponent(new Y.Component("remoteConfig",function(Pt,nn){var Ft=Pt.getProvider("app").getImmediate(),pn=Pt.getProvider("installations").getImmediate();if("undefined"==typeof window)throw oe.create("registration-window");var rn=Ft.options,St=rn.projectId,qn=rn.apiKey,un=rn.appId;if(!St)throw oe.create("registration-project-id");if(!qn)throw oe.create("registration-api-key");if(!un)throw oe.create("registration-app-id");var mn=new R(un,Ft.name,nn=nn||"firebase"),tn=new $(mn),Cn=new q.Logger(Ne);Cn.logLevel=q.LogLevel.ERROR;var Nn=new me(pn,$e.SDK_VERSION,nn,St,qn,un),on=new we(Nn,mn),zn=new fe(on,mn,tn,Cn),yn=new xe(Ft,zn,tn,mn,Cn);return yn.ensureInitialized(),yn},"PUBLIC").setMultipleInstances(!0)),$e.registerVersion(Ne,"0.1.28")}qe(re.default),m.registerRemoteConfig=qe},2684:(h,m,v)=>{"use strict";v.r(m),v.d(m,{registerStorage:()=>yo});var t=v(9278);function B(ge,pe,Me,Ye){return new(Me||(Me=Promise))(function(pt,Nt){function Yt(Sn){try{$t(Ye.next(Sn))}catch(Cr){Nt(Cr)}}function zt(Sn){try{$t(Ye.throw(Sn))}catch(Cr){Nt(Cr)}}function $t(Sn){Sn.done?pt(Sn.value):function(pt){return pt instanceof Me?pt:new Me(function(Nt){Nt(pt)})}(Sn.value).then(Yt,zt)}$t((Ye=Ye.apply(ge,pe||[])).next())})}function j(ge,pe){var Ye,nt,pt,Nt,Me={label:0,sent:function(){if(1&pt[0])throw pt[1];return pt[1]},trys:[],ops:[]};return Nt={next:Yt(0),throw:Yt(1),return:Yt(2)},"function"==typeof Symbol&&(Nt[Symbol.iterator]=function(){return this}),Nt;function Yt($t){return function(Sn){return function($t){if(Ye)throw new TypeError("Generator is already executing.");for(;Me;)try{if(Ye=1,nt&&(pt=2&$t[0]?nt.return:$t[0]?nt.throw||((pt=nt.return)&&pt.call(nt),0):nt.next)&&!(pt=pt.call(nt,$t[1])).done)return pt;switch(nt=0,pt&&($t=[2&$t[0],pt.value]),$t[0]){case 0:case 1:pt=$t;break;case 4:return Me.label++,{value:$t[1],done:!1};case 5:Me.label++,nt=$t[1],$t=[0];continue;case 7:$t=Me.ops.pop(),Me.trys.pop();continue;default:if(!(pt=(pt=Me.trys).length>0&&pt[pt.length-1])&&(6===$t[0]||2===$t[0])){Me=0;continue}if(3===$t[0]&&(!pt||$t[1]>pt[0]&&$t[1]<pt[3])){Me.label=$t[1];break}if(6===$t[0]&&Me.label<pt[1]){Me.label=pt[1],pt=$t;break}if(pt&&Me.label<pt[2]){Me.label=pt[2],Me.ops.push($t);break}pt[2]&&Me.ops.pop(),Me.trys.pop();continue}$t=pe.call(ge,Me)}catch(Sn){$t=[6,Sn],nt=0}finally{Ye=pt=0}if(5&$t[0])throw $t[1];return{value:$t[0]?$t[1]:void 0,done:!0}}([$t,Sn])}}}function W(){for(var ge=0,pe=0,Me=arguments.length;pe<Me;pe++)ge+=arguments[pe].length;var Ye=Array(ge),nt=0;for(pe=0;pe<Me;pe++)for(var pt=arguments[pe],Nt=0,Yt=pt.length;Nt<Yt;Nt++,nt++)Ye[nt]=pt[Nt];return Ye}var U=v(6355),O="firebasestorage.googleapis.com",$=function(){function ge(pe,Me){this.code_=je(pe),this.message_="Firebase Storage: "+Me,this.serverResponse_=null,this.name_="FirebaseError"}return ge.prototype.codeProp=function(){return this.code},ge.prototype.codeEquals=function(pe){return je(pe)===this.codeProp()},ge.prototype.serverResponseProp=function(){return this.serverResponse_},ge.prototype.setServerResponseProp=function(pe){this.serverResponse_=pe},Object.defineProperty(ge.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),ge}();function je(ge){return"storage/"+ge}function we(){return new $("unknown","An unknown error occurred, please check the error payload for server response.")}function Pt(){return new $("canceled","User canceled the upload/download.")}function pn(){return new $("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function St(){return new $("no-download-url","The given file does not have any download URLs.")}function qn(ge,pe,Me){return new $("invalid-argument","Invalid argument in `"+pe+"` at index "+ge+": "+Me)}function mn(){return new $("app-deleted","The Firebase app was deleted.")}function Cn(ge,pe){return new $("invalid-format","String does not match format '"+ge+"': "+pe)}function Nn(ge){throw new $("internal-error","Internal error: "+ge)}var on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function zn(ge){switch(ge){case on.RAW:case on.BASE64:case on.BASE64URL:case on.DATA_URL:return;default:throw"Expected one of the event types: ["+on.RAW+", "+on.BASE64+", "+on.BASE64URL+", "+on.DATA_URL+"]."}}var yn=function(pe,Me){this.data=pe,this.contentType=Me||null};function Hn(ge,pe){switch(ge){case on.RAW:return new yn(ir(pe));case on.BASE64:case on.BASE64URL:return new yn(dr(ge,pe));case on.DATA_URL:return new yn(function(ge){var pe=new hr(ge);return pe.base64?dr(on.BASE64,pe.rest):function(ge){var pe;try{pe=decodeURIComponent(ge)}catch(Me){throw Cn(on.DATA_URL,"Malformed data URL.")}return ir(pe)}(pe.rest)}(pe),function(ge){return new hr(ge).contentType}(pe))}throw we()}function ir(ge){for(var pe=[],Me=0;Me<ge.length;Me++){var Ye=ge.charCodeAt(Me);if(Ye<=127)pe.push(Ye);else if(Ye<=2047)pe.push(192|Ye>>6,128|63&Ye);else if(55296==(64512&Ye))if(Me<ge.length-1&&56320==(64512&ge.charCodeAt(Me+1))){var pt=Ye,Nt=ge.charCodeAt(++Me);pe.push(240|(Ye=65536|(1023&pt)<<10|1023&Nt)>>18,128|Ye>>12&63,128|Ye>>6&63,128|63&Ye)}else pe.push(239,191,189);else 56320==(64512&Ye)?pe.push(239,191,189):pe.push(224|Ye>>12,128|Ye>>6&63,128|63&Ye)}return new Uint8Array(pe)}function dr(ge,pe){switch(ge){case on.BASE64:var Me=-1!==pe.indexOf("-"),Ye=-1!==pe.indexOf("_");if(Me||Ye)throw Cn(ge,"Invalid character '"+(Me?"-":"_")+"' found: is it base64url encoded?");break;case on.BASE64URL:var pt=-1!==pe.indexOf("+"),Nt=-1!==pe.indexOf("/");if(pt||Nt)throw Cn(ge,"Invalid character '"+(pt?"+":"/")+"' found: is it base64 encoded?");pe=pe.replace(/-/g,"+").replace(/_/g,"/")}var Yt;try{Yt=atob(pe)}catch(Sn){throw Cn(ge,"Invalid character found")}for(var zt=new Uint8Array(Yt.length),$t=0;$t<Yt.length;$t++)zt[$t]=Yt.charCodeAt($t);return zt}var hr=function(pe){this.base64=!1,this.contentType=null;var Me=pe.match(/^data:([^,]+)?,/);if(null===Me)throw Cn(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Ye=Me[1]||null;null!=Ye&&(this.base64=function(ge,pe){return ge.length>=pe.length&&ge.substring(ge.length-pe.length)===pe}(Ye,";base64"),this.contentType=this.base64?Ye.substring(0,Ye.length-";base64".length):Ye),this.rest=pe.substring(pe.indexOf(",")+1)},ft={STATE_CHANGED:"state_changed"},rt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tt(ge){switch(ge){case"running":case"pausing":case"canceling":return rt.RUNNING;case"paused":return rt.PAUSED;case"success":return rt.SUCCESS;case"canceled":return rt.CANCELED;default:return rt.ERROR}}function gt(ge){return null!=ge}function ln(ge){return void 0!==ge}function Ht(ge){return"function"==typeof ge}function Tn(ge){return"object"==typeof ge}function Dn(ge){return Tn(ge)&&null!==ge}function Wn(ge){return"string"==typeof ge||ge instanceof String}function xn(ge){return Ir(ge)&&Number.isInteger(ge)}function Ir(ge){return"number"==typeof ge||ge instanceof Number}function nr(ge){return pi()&&ge instanceof Blob}function pi(){return"undefined"!=typeof Blob}var er=(()=>{return(ge=er||(er={}))[ge.NO_ERROR=0]="NO_ERROR",ge[ge.NETWORK_ERROR=1]="NETWORK_ERROR",ge[ge.ABORT=2]="ABORT",er;var ge})(),Ar=function(){function ge(){var pe=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(function(Me){pe.xhr_.addEventListener("abort",function(){pe.errorCode_=er.ABORT,Me(pe)}),pe.xhr_.addEventListener("error",function(){pe.errorCode_=er.NETWORK_ERROR,Me(pe)}),pe.xhr_.addEventListener("load",function(){Me(pe)})})}return ge.prototype.send=function(pe,Me,Ye,nt){if(this.sent_)throw Nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Me,pe,!0),gt(nt))for(var pt in nt)nt.hasOwnProperty(pt)&&this.xhr_.setRequestHeader(pt,nt[pt].toString());return gt(Ye)?this.xhr_.send(Ye):this.xhr_.send(),this.sendPromise_},ge.prototype.getErrorCode=function(){if(!this.sent_)throw Nn("cannot .getErrorCode() before sending");return this.errorCode_},ge.prototype.getStatus=function(){if(!this.sent_)throw Nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(pe){return-1}},ge.prototype.getResponseText=function(){if(!this.sent_)throw Nn("cannot .getResponseText() before sending");return this.xhr_.responseText},ge.prototype.abort=function(){this.xhr_.abort()},ge.prototype.getResponseHeader=function(pe){return this.xhr_.getResponseHeader(pe)},ge.prototype.addUploadProgressListener=function(pe){gt(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",pe)},ge.prototype.removeUploadProgressListener=function(pe){gt(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",pe)},ge}(),no=function(){function ge(){}return ge.prototype.createXhrIo=function(){return new Ar},ge}();function qr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hi(){for(var ge=[],pe=0;pe<arguments.length;pe++)ge[pe]=arguments[pe];var Me=qr();if(void 0!==Me){for(var Ye=new Me,nt=0;nt<ge.length;nt++)Ye.append(ge[nt]);return Ye.getBlob()}if(pi())return new Blob(ge);throw Error("This browser doesn't seem to support creating Blobs")}var Qe=function(){function ge(pe,Me){var Ye=0,nt="";nr(pe)?(this.data_=pe,Ye=pe.size,nt=pe.type):pe instanceof ArrayBuffer?(Me?this.data_=new Uint8Array(pe):(this.data_=new Uint8Array(pe.byteLength),this.data_.set(new Uint8Array(pe))),Ye=this.data_.length):pe instanceof Uint8Array&&(Me?this.data_=pe:(this.data_=new Uint8Array(pe.length),this.data_.set(pe)),Ye=pe.length),this.size_=Ye,this.type_=nt}return ge.prototype.size=function(){return this.size_},ge.prototype.type=function(){return this.type_},ge.prototype.slice=function(pe,Me){if(nr(this.data_)){var nt=function(ge,pe,Me){return ge.webkitSlice?ge.webkitSlice(pe,Me):ge.mozSlice?ge.mozSlice(pe,Me):ge.slice?ge.slice(pe,Me):null}(this.data_,pe,Me);return null===nt?null:new ge(nt)}return new ge(new Uint8Array(this.data_.buffer,pe,Me-pe),!0)},ge.getBlob=function(){for(var pe=[],Me=0;Me<arguments.length;Me++)pe[Me]=arguments[Me];if(pi()){var Ye=pe.map(function(zt){return zt instanceof ge?zt.data_:zt});return new ge(hi.apply(null,Ye))}var nt=pe.map(function(zt){return Wn(zt)?Hn(on.RAW,zt).data:zt.data_}),pt=0;nt.forEach(function(zt){pt+=zt.byteLength});var Nt=new Uint8Array(pt),Yt=0;return nt.forEach(function(zt){for(var $t=0;$t<zt.length;$t++)Nt[Yt++]=zt[$t]}),new ge(Nt,!0)},ge.prototype.uploadData=function(){return this.data_},ge}(),_t=function(){function ge(pe,Me){this.bucket=pe,this.path_=Me}return Object.defineProperty(ge.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),ge.prototype.fullServerUrl=function(){var pe=encodeURIComponent;return"/b/"+pe(this.bucket)+"/o/"+pe(this.path)},ge.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},ge.makeFromBucketSpec=function(pe){var Me;try{Me=ge.makeFromUrl(pe)}catch(Ye){return new ge(pe,"")}if(""===Me.path)return Me;throw function(ge){return new $("invalid-default-bucket","Invalid default bucket '"+ge+"'.")}(pe)},ge.makeFromUrl=function(pe){var Me=null,Ye="([A-Za-z0-9.\\-_]+)",Nt=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function zt(mi){mi.path_=decodeURIComponent(mi.path)}for(var Sn=O.replace(/[.]/g,"\\."),ri=[{regex:Nt,indices:{bucket:1,path:3},postModify:function(mi){"/"===mi.path.charAt(mi.path.length-1)&&(mi.path_=mi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+Sn+"/v[A-Za-z0-9_]+/b/"+Ye+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:zt},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+Ye+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:zt}],Dr=0;Dr<ri.length;Dr++){var li=ri[Dr],$i=li.regex.exec(pe);if($i){var gi=$i[li.indices.path];gi||(gi=""),Me=new ge($i[li.indices.bucket],gi),li.postModify(Me);break}}if(null==Me)throw function(ge){return new $("invalid-url","Invalid URL '"+ge+"'.")}(pe);return Me},ge}();function Ct(ge){var pe;try{pe=JSON.parse(ge)}catch(Me){return null}return function(ge){return Tn(ge)&&!Array.isArray(ge)}(pe)?pe:null}function xt(ge,pe){var Me=pe.split("/").filter(function(Ye){return Ye.length>0}).join("/");return 0===ge.length?Me:ge+"/"+Me}function kt(ge){var pe=ge.lastIndexOf("/",ge.length-2);return-1===pe?ge:ge.slice(pe+1)}function Jt(ge){return"https://"+O+"/v0"+ge}function sn(ge){var pe=encodeURIComponent,Me="?";for(var Ye in ge)ge.hasOwnProperty(Ye)&&(Me=Me+(pe(Ye)+"=")+pe(ge[Ye])+"&");return Me.slice(0,-1)}function In(ge,pe){return pe}var Wt=function(pe,Me,Ye,nt){this.server=pe,this.local=Me||pe,this.writable=!!Ye,this.xform=nt||In},bn=null;function Ke(ge,pe,Me){var Ye=Ct(pe);return null===Ye?null:function(ge,pe,Me){for(var Ye={type:"file"},nt=Me.length,pt=0;pt<nt;pt++){var Nt=Me[pt];Ye[Nt.local]=Nt.xform(Ye,pe[Nt.server])}return function(ge,pe){Object.defineProperty(ge,"ref",{get:function(){var pt=new _t(ge.bucket,ge.fullPath);return pe.makeStorageReference(pt)}})}(Ye,ge),Ye}(ge,Ye,Me)}function tt(ge,pe){for(var Me={},Ye=pe.length,nt=0;nt<Ye;nt++){var pt=pe[nt];pt.writable&&(Me[pt.server]=ge[pt.local])}return JSON.stringify(Me)}function at(ge){if(!Tn(ge)||!ge)throw"Expected Metadata object.";for(var pe in ge)if(ge.hasOwnProperty(pe)){var Me=ge[pe];if("customMetadata"===pe){if(!Tn(Me))throw"Expected object for 'customMetadata' mapping."}else if(Dn(Me))throw"Mapping for '"+pe+"' cannot be an object."}}var Se="maxResults",Ie="pageToken",Ve="prefixes";function Vt(ge){if(!Tn(ge)||!ge)throw"Expected ListOptions object.";for(var pe in ge)if(pe===Se){if(!xn(ge[Se])||ge[Se]<=0)throw"Expected maxResults to be a positive number.";if(ge[Se]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(pe!==Ie)throw"Unknown option: "+pe;if(ge[Ie]&&!Wn(ge[Ie]))throw"Expected pageToken to be string."}}var cn=function(pe,Me,Ye,nt){this.url=pe,this.method=Me,this.handler=Ye,this.timeout=nt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Vn(ge){if(!ge)throw we()}function Qt(ge,pe){return function(Ye,nt){var pt=Ke(ge,nt,pe);return Vn(null!==pt),pt}}function At(ge){return function(Me,Ye){var nt;return nt=401===Me.getStatus()?new $("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Me.getStatus()?function(ge){return new $("quota-exceeded","Quota for bucket '"+ge+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ge.bucket):403===Me.getStatus()?function(ge){return new $("unauthorized","User does not have permission to access '"+ge+"'.")}(ge.path):Ye,nt.setServerResponseProp(Ye.serverResponseProp()),nt}}function Et(ge){var pe=At(ge);return function(Ye,nt){var pt=pe(Ye,nt);return 404===Ye.getStatus()&&(pt=function(ge){return new $("object-not-found","Object '"+ge+"' does not exist.")}(ge.path)),pt.setServerResponseProp(nt.serverResponseProp()),pt}}function vt(ge,pe,Me){var nt=Jt(pe.fullServerUrl()),Nt=ge.maxOperationRetryTime,Yt=new cn(nt,"GET",Qt(ge,Me),Nt);return Yt.errorHandler=Et(pe),Yt}function _n(ge,pe,Me,Ye,nt){var pt={};pt.prefix=pe.isRoot?"":pe.path+"/",Me&&Me.length>0&&(pt.delimiter=Me),Ye&&(pt.pageToken=Ye),nt&&(pt.maxResults=nt);var Yt=Jt(pe.bucketOnlyServerUrl()),$t=ge.maxOperationRetryTime,Sn=new cn(Yt,"GET",function(ge,pe){return function(Ye,nt){var pt=function(ge,pe,Me){var Ye=Ct(Me);return null===Ye?null:function(ge,pe,Me){var Ye={prefixes:[],items:[],nextPageToken:Me.nextPageToken};if(Me[Ve])for(var nt=0,pt=Me[Ve];nt<pt.length;nt++){var Yt=pt[nt].replace(/\/$/,""),zt=ge.makeStorageReference(new _t(pe,Yt));Ye.prefixes.push(zt)}if(Me.items)for(var $t=0,Sn=Me.items;$t<Sn.length;$t++)zt=ge.makeStorageReference(new _t(pe,Sn[$t].name)),Ye.items.push(zt);return Ye}(ge,pe,Ye)}(ge,pe,nt);return Vn(null!==pt),pt}}(ge,pe.bucket),$t);return Sn.urlParams=pt,Sn.errorHandler=At(pe),Sn}function Kt(ge,pe,Me){var nt=Jt(pe.fullServerUrl()),Nt=ge.maxOperationRetryTime,Yt=new cn(nt,"GET",function(ge,pe){return function(Ye,nt){var pt=Ke(ge,nt,pe);return Vn(null!==pt),function(ge,pe){var Me=Ct(pe);if(null===Me||!Wn(Me.downloadTokens))return null;var Ye=Me.downloadTokens;if(0===Ye.length)return null;var nt=encodeURIComponent;return Ye.split(",").map(function(Yt){var $t=ge.fullPath;return Jt("/b/"+nt(ge.bucket)+"/o/"+nt($t))+sn({alt:"media",token:Yt})})[0]}(pt,nt)}}(ge,Me),Nt);return Yt.errorHandler=Et(pe),Yt}function tr(ge,pe,Me,Ye){var pt=Jt(pe.fullServerUrl()),Yt=tt(Me,Ye),$t=ge.maxOperationRetryTime,Sn=new cn(pt,"PATCH",Qt(ge,Ye),$t);return Sn.headers={"Content-Type":"application/json; charset=utf-8"},Sn.body=Yt,Sn.errorHandler=Et(pe),Sn}function Xn(ge,pe){var Ye=Jt(pe.fullServerUrl()),Yt=new cn(Ye,"DELETE",function(zt,$t){},ge.maxOperationRetryTime);return Yt.successCodes=[200,204],Yt.errorHandler=Et(pe),Yt}function zi(ge,pe,Me){var Ye=Object.assign({},Me);return Ye.fullPath=ge.path,Ye.size=pe.size(),Ye.contentType||(Ye.contentType=function(ge,pe){return pe&&pe.type()||"application/octet-stream"}(0,pe)),Ye}var Hr=function(pe,Me,Ye,nt){this.current=pe,this.total=Me,this.finalized=!!Ye,this.metadata=nt||null};function Po(ge,pe){var Me=null;try{Me=ge.getResponseHeader("X-Goog-Upload-Status")}catch(nt){Vn(!1)}return Vn(!!Me&&-1!==(pe||["active"]).indexOf(Me)),Me}var is=function(pe,Me,Ye){if(Ht(pe)||gt(Me)||gt(Ye))this.next=pe,this.error=Me||null,this.complete=Ye||null;else{var pt=pe;this.next=pt.next||null,this.error=pt.error||null,this.complete=pt.complete||null}},oo=function(pe,Me,Ye,nt,pt,Nt){this.bytesTransferred=pe,this.totalBytes=Me,this.state=Ye,this.metadata=nt,this.task=pt,this.ref=Nt};function wi(ge,pe,Me){for(var Ye=pe.length,nt=pe.length,pt=0;pt<pe.length;pt++)if(pe[pt].optional){Ye=pt;break}if(!(Ye<=Me.length&&Me.length<=nt))throw function(ge,pe,Me,Ye){var nt,pt;return ge===pe?(nt=ge,pt=1===ge?"argument":"arguments"):(nt="between "+ge+" and "+pe,pt="arguments"),new $("invalid-argument-count","Invalid argument count in `"+Me+"`: Expected "+nt+" "+pt+", received "+Ye+".")}(Ye,nt,ge,Me.length);for(pt=0;pt<Me.length;pt++)try{pe[pt].validator(Me[pt])}catch(zt){throw zt instanceof Error?qn(pt,ge,zt.message):qn(pt,ge,zt)}}var ho=function(pe,Me){var Ye=this;this.validator=function(nt){Ye.optional&&!ln(nt)||pe(nt)},this.optional=!!Me};function so(ge,pe){function Me(nt){if(!Wn(nt))throw"Expected string."}var Ye;return Ye=ge?function(ge,pe){return function(Me){ge(Me),pe(Me)}}(Me,ge):Me,new ho(Ye,pe)}function xs(){return new ho(function(pe){if(!(pe instanceof Uint8Array||pe instanceof ArrayBuffer||pi()&&pe instanceof Blob))throw"Expected Blob or File."})}function Qr(ge){return new ho(at,ge)}function Ho(ge){return new ho(Vt,ge)}function ua(){return new ho(function(pe){if(!(Ir(pe)&&pe>=0))throw"Expected a number 0 or greater."})}function Oo(ge,pe){return new ho(function(Ye){if(!(null===Ye||gt(Ye)&&Ye instanceof Object))throw"Expected an Object.";null!=ge&&ge(Ye)},pe)}function Kn(ge){return new ho(function(Me){if(null!==Me&&!Ht(Me))throw"Expected a Function."},ge)}function gr(ge){return function(){for(var pe=[],Me=0;Me<arguments.length;Me++)pe[Me]=arguments[Me];Promise.resolve().then(function(){return ge.apply(void 0,pe)})}}var nl=function(){function ge(pe,Me,Ye,nt,pt,Nt){var Yt=this;void 0===Nt&&(Nt=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=pe,this.service_=Me,this.location_=Ye,this.blob_=pt,this.metadata_=Nt,this.mappings_=nt,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(zt){Yt.request_=null,Yt.chunkMultiplier_=1,zt.codeEquals("canceled")?(Yt.needToFetchStatus_=!0,Yt.completeTransitions_()):(Yt.error_=zt,Yt.transition_("error"))},this.metadataErrorHandler_=function(zt){Yt.request_=null,zt.codeEquals("canceled")?Yt.completeTransitions_():(Yt.error_=zt,Yt.transition_("error"))},this.promise_=new Promise(function(zt,$t){Yt.resolve_=zt,Yt.reject_=$t,Yt.start_()}),this.promise_.then(null,function(){})}return ge.prototype.makeProgressCallback_=function(){var pe=this,Me=this.transferred_;return function(Ye){return pe.updateProgress_(Me+Ye)}},ge.prototype.shouldDoResumable_=function(pe){return pe.size()>262144},ge.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},ge.prototype.resolveToken_=function(pe){var Me=this;this.service_.getAuthToken().then(function(Ye){switch(Me.state_){case"running":pe(Ye);break;case"canceling":Me.transition_("canceled");break;case"pausing":Me.transition_("paused")}})},ge.prototype.createResumable_=function(){var pe=this;this.resolveToken_(function(Me){var Ye=function(ge,pe,Me,Ye,nt){var pt=pe.bucketOnlyServerUrl(),Nt=zi(pe,Ye,nt),Yt={name:Nt.fullPath},zt=Jt(pt),Sn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":Ye.size(),"X-Goog-Upload-Header-Content-Type":Nt.contentType,"Content-Type":"application/json; charset=utf-8"},Cr=tt(Nt,Me),Or=new cn(zt,"POST",function(ni){var pr;Po(ni);try{pr=ni.getResponseHeader("X-Goog-Upload-URL")}catch(ao){Vn(!1)}return Vn(Wn(pr)),pr},ge.maxUploadRetryTime);return Or.urlParams=Yt,Or.headers=Sn,Or.body=Cr,Or.errorHandler=At(pe),Or}(pe.service_,pe.location_,pe.mappings_,pe.blob_,pe.metadata_),nt=pe.service_.makeRequest(Ye,Me);pe.request_=nt,nt.getPromise().then(function(pt){pe.request_=null,pe.uploadUrl_=pt,pe.needToFetchStatus_=!1,pe.completeTransitions_()},pe.errorHandler_)})},ge.prototype.fetchStatus_=function(){var pe=this,Me=this.uploadUrl_;this.resolveToken_(function(Ye){var nt=function(ge,pe,Me,Ye){var zt=new cn(Me,"POST",function($t){var Sn=Po($t,["active","final"]),Cr=null;try{Cr=$t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ti){Vn(!1)}Cr||Vn(!1);var Rn=Number(Cr);return Vn(!isNaN(Rn)),new Hr(Rn,Ye.size(),"final"===Sn)},ge.maxUploadRetryTime);return zt.headers={"X-Goog-Upload-Command":"query"},zt.errorHandler=At(pe),zt}(pe.service_,pe.location_,Me,pe.blob_),pt=pe.service_.makeRequest(nt,Ye);pe.request_=pt,pt.getPromise().then(function(Nt){Nt=Nt,pe.request_=null,pe.updateProgress_(Nt.current),pe.needToFetchStatus_=!1,Nt.finalized&&(pe.needToFetchMetadata_=!0),pe.completeTransitions_()},pe.errorHandler_)})},ge.prototype.continueUpload_=function(){var pe=this,Me=262144*this.chunkMultiplier_,Ye=new Hr(this.transferred_,this.blob_.size()),nt=this.uploadUrl_;this.resolveToken_(function(pt){var Nt;try{Nt=function(ge,pe,Me,Ye,nt,pt,Nt,Yt){var zt=new Hr(0,0);if(Nt?(zt.current=Nt.current,zt.total=Nt.total):(zt.current=0,zt.total=Ye.size()),Ye.size()!==zt.total)throw new $("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var $t=zt.total-zt.current,Sn=$t;nt>0&&(Sn=Math.min(Sn,nt));var Cr=zt.current,Or={"X-Goog-Upload-Command":Sn===$t?"upload, finalize":"upload","X-Goog-Upload-Offset":zt.current},ni=Ye.slice(Cr,Cr+Sn);if(null===ni)throw pn();var Dr=new cn(Me,"POST",function(li,$i){var Os,zo=Po(li,["active","final"]),gi=zt.current+Sn,mi=Ye.size();return Os="final"===zo?Qt(pe,pt)(li,$i):null,new Hr(gi,mi,"final"===zo,Os)},pe.maxUploadRetryTime);return Dr.headers=Or,Dr.body=ni.uploadData(),Dr.progressCallback=Yt||null,Dr.errorHandler=At(ge),Dr}(pe.location_,pe.service_,nt,pe.blob_,Me,pe.mappings_,Ye,pe.makeProgressCallback_())}catch(zt){return pe.error_=zt,void pe.transition_("error")}var Yt=pe.service_.makeRequest(Nt,pt);pe.request_=Yt,Yt.getPromise().then(function(zt){pe.increaseMultiplier_(),pe.request_=null,pe.updateProgress_(zt.current),zt.finalized?(pe.metadata_=zt.metadata,pe.transition_("success")):pe.completeTransitions_()},pe.errorHandler_)})},ge.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},ge.prototype.fetchMetadata_=function(){var pe=this;this.resolveToken_(function(Me){var Ye=vt(pe.service_,pe.location_,pe.mappings_),nt=pe.service_.makeRequest(Ye,Me);pe.request_=nt,nt.getPromise().then(function(pt){pe.request_=null,pe.metadata_=pt,pe.transition_("success")},pe.metadataErrorHandler_)})},ge.prototype.oneShotUpload_=function(){var pe=this;this.resolveToken_(function(Me){var Ye=function(ge,pe,Me,Ye,nt){var pt=pe.bucketOnlyServerUrl(),Nt={"X-Goog-Upload-Protocol":"multipart"},zt=function(){for(var Dr="",li=0;li<2;li++)Dr+=Math.random().toString().slice(2);return Dr}();Nt["Content-Type"]="multipart/related; boundary="+zt;var $t=zi(pe,Ye,nt),Sn=tt($t,Me),ti=Qe.getBlob("--"+zt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Sn+"\r\n--"+zt+"\r\nContent-Type: "+$t.contentType+"\r\n\r\n",Ye,"\r\n--"+zt+"--");if(null===ti)throw pn();var Or={name:$t.fullPath},ni=Jt(pt),ao=ge.maxUploadRetryTime,ri=new cn(ni,"POST",Qt(ge,Me),ao);return ri.urlParams=Or,ri.headers=Nt,ri.body=ti.uploadData(),ri.errorHandler=At(pe),ri}(pe.service_,pe.location_,pe.mappings_,pe.blob_,pe.metadata_),nt=pe.service_.makeRequest(Ye,Me);pe.request_=nt,nt.getPromise().then(function(pt){pe.request_=null,pe.metadata_=pt,pe.updateProgress_(pe.blob_.size()),pe.transition_("success")},pe.errorHandler_)})},ge.prototype.updateProgress_=function(pe){var Me=this.transferred_;this.transferred_=pe,this.transferred_!==Me&&this.notifyObservers_()},ge.prototype.transition_=function(pe){if(this.state_!==pe)switch(pe){case"canceling":case"pausing":this.state_=pe,null!==this.request_&&this.request_.cancel();break;case"running":var Me="paused"===this.state_;this.state_=pe,Me&&(this.notifyObservers_(),this.start_());break;case"paused":case"error":case"success":this.state_=pe,this.notifyObservers_();break;case"canceled":this.error_=Pt(),this.state_=pe,this.notifyObservers_()}},ge.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(ge.prototype,"snapshot",{get:function(){var pe=Tt(this.state_);return new oo(this.transferred_,this.blob_.size(),pe,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),ge.prototype.on=function(pe,Me,Ye,nt){function pt(){if(pe!==ft.STATE_CHANGED)throw"Expected one of the event types: ["+ft.STATE_CHANGED+"]."}var Nt="Expected a function or an Object with one of `next`, `error`, `complete` properties.",Yt=Kn(!0).validator,zt=Oo(null,!0).validator;function $t(pr){try{return void Yt(pr)}catch(ri){}try{if(zt(pr),!(ln(pr.next)||ln(pr.error)||ln(pr.complete)))throw"";return}catch(ri){throw Nt}}var Sn=[so(pt),Oo($t,!0),Kn(!0),Kn(!0)];wi("on",Sn,arguments);var Cr=this;function Rn(pr){return function(ri,Dr,li){null!==pr&&wi("on",pr,arguments);var $i=new is(ri,Dr,nt);return Cr.addObserver_($i),function(){Cr.removeObserver_($i)}}}function ti(pr){if(null===pr)throw Nt;$t(pr)}var Or=[Oo(ti),Kn(!0),Kn(!0)],ni=!(ln(Me)||ln(Ye)||ln(nt));return ni?Rn(Or):Rn(null)(Me,Ye,nt)},ge.prototype.then=function(pe,Me){return this.promise_.then(pe,Me)},ge.prototype.catch=function(pe){return this.then(null,pe)},ge.prototype.addObserver_=function(pe){this.observers_.push(pe),this.notifyObserver_(pe)},ge.prototype.removeObserver_=function(pe){var Me=this.observers_.indexOf(pe);-1!==Me&&this.observers_.splice(Me,1)},ge.prototype.notifyObservers_=function(){var pe=this;this.finishPromise_(),this.observers_.slice().forEach(function(Ye){pe.notifyObserver_(Ye)})},ge.prototype.finishPromise_=function(){if(null!==this.resolve_){var pe=!0;switch(Tt(this.state_)){case rt.SUCCESS:gr(this.resolve_.bind(null,this.snapshot))();break;case rt.CANCELED:case rt.ERROR:gr(this.reject_.bind(null,this.error_))();break;default:pe=!1}pe&&(this.resolve_=null,this.reject_=null)}},ge.prototype.notifyObserver_=function(pe){switch(Tt(this.state_)){case rt.RUNNING:case rt.PAUSED:pe.next&&gr(pe.next.bind(pe,this.snapshot))();break;case rt.SUCCESS:pe.complete&&gr(pe.complete.bind(pe))();break;default:pe.error&&gr(pe.error.bind(pe,this.error_))()}},ge.prototype.resume=function(){wi("resume",[],arguments);var pe="paused"===this.state_||"pausing"===this.state_;return pe&&this.transition_("running"),pe},ge.prototype.pause=function(){wi("pause",[],arguments);var pe="running"===this.state_;return pe&&this.transition_("pausing"),pe},ge.prototype.cancel=function(){wi("cancel",[],arguments);var pe="running"===this.state_||"pausing"===this.state_;return pe&&this.transition_("canceling"),pe},ge}(),Ps=function(){function ge(pe,Me){this.service=pe,this.location=Me instanceof _t?Me:_t.makeFromUrl(Me)}return ge.prototype.toString=function(){return wi("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},ge.prototype.newRef=function(pe,Me){return new ge(pe,Me)},ge.prototype.mappings=function(){return function(){if(bn)return bn;var ge=[];ge.push(new Wt("bucket")),ge.push(new Wt("generation")),ge.push(new Wt("metageneration")),ge.push(new Wt("name","fullPath",!0));var Me=new Wt("name");Me.xform=function(pt,Nt){return function(ge){return!Wn(ge)||ge.length<2?ge:kt(ge)}(Nt)},ge.push(Me);var nt=new Wt("size");return nt.xform=function(pt,Nt){return gt(Nt)?Number(Nt):Nt},ge.push(nt),ge.push(new Wt("timeCreated")),ge.push(new Wt("updated")),ge.push(new Wt("md5Hash",null,!0)),ge.push(new Wt("cacheControl",null,!0)),ge.push(new Wt("contentDisposition",null,!0)),ge.push(new Wt("contentEncoding",null,!0)),ge.push(new Wt("contentLanguage",null,!0)),ge.push(new Wt("contentType",null,!0)),ge.push(new Wt("metadata","customMetadata",!0)),bn=ge}()},ge.prototype.child=function(pe){wi("child",[so()],arguments);var Me=xt(this.location.path,pe),Ye=new _t(this.location.bucket,Me);return this.newRef(this.service,Ye)},Object.defineProperty(ge.prototype,"parent",{get:function(){var pe=function(ge){if(0===ge.length)return null;var pe=ge.lastIndexOf("/");return-1===pe?"":ge.slice(0,pe)}(this.location.path);if(null===pe)return null;var Me=new _t(this.location.bucket,pe);return this.newRef(this.service,Me)},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"root",{get:function(){var pe=new _t(this.location.bucket,"");return this.newRef(this.service,pe)},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"name",{get:function(){return kt(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),ge.prototype.put=function(pe,Me){return void 0===Me&&(Me=null),wi("put",[xs(),Qr(!0)],arguments),this.throwIfRoot_("put"),new nl(this,this.service,this.location,this.mappings(),new Qe(pe),Me)},ge.prototype.putString=function(pe,Me,Ye){void 0===Me&&(Me=on.RAW),wi("putString",[so(),so(zn,!0),Qr(!0)],arguments),this.throwIfRoot_("putString");var nt=Hn(Me,pe),pt=Object.assign({},Ye);return!gt(pt.contentType)&&gt(nt.contentType)&&(pt.contentType=nt.contentType),new nl(this,this.service,this.location,this.mappings(),new Qe(nt.data,!0),pt)},ge.prototype.delete=function(){var pe=this;return wi("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(Me){var Ye=Xn(pe.service,pe.location);return pe.service.makeRequest(Ye,Me).getPromise()})},ge.prototype.listAll=function(){wi("listAll",[],arguments);var pe={prefixes:[],items:[]};return this.listAllHelper(pe).then(function(){return pe})},ge.prototype.listAllHelper=function(pe,Me){return B(this,void 0,void 0,function(){var nt,pt,Nt;return j(this,function(Yt){switch(Yt.label){case 0:return[4,this.list({pageToken:Me})];case 1:return nt=Yt.sent(),(pt=pe.prefixes).push.apply(pt,nt.prefixes),(Nt=pe.items).push.apply(Nt,nt.items),null==nt.nextPageToken?[3,3]:[4,this.listAllHelper(pe,nt.nextPageToken)];case 2:Yt.sent(),Yt.label=3;case 3:return[2]}})})},ge.prototype.list=function(pe){wi("list",[Ho(!0)],arguments);var Me=this;return this.service.getAuthToken().then(function(Ye){var nt=pe||{},pt=_n(Me.service,Me.location,"/",nt.pageToken,nt.maxResults);return Me.service.makeRequest(pt,Ye).getPromise()})},ge.prototype.getMetadata=function(){var pe=this;return wi("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(Me){var Ye=vt(pe.service,pe.location,pe.mappings());return pe.service.makeRequest(Ye,Me).getPromise()})},ge.prototype.updateMetadata=function(pe){var Me=this;return wi("updateMetadata",[Qr()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(Ye){var nt=tr(Me.service,Me.location,pe,Me.mappings());return Me.service.makeRequest(nt,Ye).getPromise()})},ge.prototype.getDownloadURL=function(){var pe=this;return wi("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(Me){var Ye=Kt(pe.service,pe.location,pe.mappings());return pe.service.makeRequest(Ye,Me).getPromise().then(function(nt){if(null===nt)throw St();return nt})})},ge.prototype.throwIfRoot_=function(pe){if(""===this.location.path)throw function(ge){return new $("invalid-root-operation","The operation '"+ge+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(pe)},ge}(),vs=function(){function ge(pe){this.promise_=Promise.reject(pe)}return ge.prototype.getPromise=function(){return this.promise_},ge.prototype.cancel=function(pe){},ge}(),yr=function(){function ge(pe,Me,Ye,nt,pt,Nt,Yt,zt,$t,Sn,Cr){var Rn=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=pe,this.method_=Me,this.headers_=Ye,this.body_=nt,this.successCodes_=pt.slice(),this.additionalRetryCodes_=Nt.slice(),this.callback_=Yt,this.errorCallback_=zt,this.progressCallback_=Sn,this.timeout_=$t,this.pool_=Cr,this.promise_=new Promise(function(ti,Or){Rn.resolve_=ti,Rn.reject_=Or,Rn.start_()})}return ge.prototype.start_=function(){var pe=this;function Ye(nt,pt){var Nt=pe.resolve_,Yt=pe.reject_,zt=pt.xhr;if(pt.wasSuccessCode)try{var $t=pe.callback_(zt,zt.getResponseText());ln($t)?Nt($t):Nt()}catch(Cr){Yt(Cr)}else if(null!==zt)(Sn=we()).setServerResponseProp(zt.getResponseText()),Yt(pe.errorCallback_?pe.errorCallback_(zt,Sn):Sn);else if(pt.canceled)Yt(Sn=pe.appDelete_?mn():Pt());else{var Sn;Yt(Sn=new $("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?Ye(0,new ko(!1,null,!0)):this.backoffId_=function(ge,pe,Me){var Ye=1,nt=null,pt=!1,Nt=0;function Yt(){return 2===Nt}var zt=!1;function $t(){for(var Or=[],ni=0;ni<arguments.length;ni++)Or[ni]=arguments[ni];zt||(zt=!0,pe.apply(null,Or))}function Sn(Or){nt=setTimeout(function(){nt=null,ge(Cr,Yt())},Or)}function Cr(Or){for(var ni=[],pr=1;pr<arguments.length;pr++)ni[pr-1]=arguments[pr];if(!zt){if(Or)return void $t.call.apply($t,W([null,Or],ni));var ri;if(Yt()||pt)return void $t.call.apply($t,W([null,Or],ni));Ye<64&&(Ye*=2),1===Nt?(Nt=2,ri=0):ri=1e3*(Ye+Math.random()),Sn(ri)}}var Rn=!1;function ti(Or){Rn||(Rn=!0,!zt&&(null!==nt?(Or||(Nt=2),clearTimeout(nt),Sn(0)):Or||(Nt=1)))}return Sn(0),setTimeout(function(){pt=!0,ti(!0)},Me),ti}(function(nt,pt){if(pt)nt(!1,new ko(!1,null,!0));else{var Nt=pe.pool_.createXhrIo();pe.pendingXhr_=Nt,null!==pe.progressCallback_&&Nt.addUploadProgressListener(Yt),Nt.send(pe.url_,pe.method_,pe.body_,pe.headers_).then(function(zt){null!==pe.progressCallback_&&zt.removeUploadProgressListener(Yt),pe.pendingXhr_=null;var $t=(zt=zt).getErrorCode()===er.NO_ERROR,Sn=zt.getStatus();if($t&&!pe.isRetryStatusCode_(Sn)){var Rn=-1!==pe.successCodes_.indexOf(Sn);nt(!0,new ko(Rn,zt))}else{var Cr=zt.getErrorCode()===er.ABORT;nt(!1,new ko(!1,null,Cr))}})}function Yt(zt){null!==pe.progressCallback_&&pe.progressCallback_(zt.loaded,zt.lengthComputable?zt.total:-1)}},Ye,this.timeout_)},ge.prototype.getPromise=function(){return this.promise_},ge.prototype.cancel=function(pe){this.canceled_=!0,this.appDelete_=pe||!1,null!==this.backoffId_&&function(ge){ge(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},ge.prototype.isRetryStatusCode_=function(pe){var Me=pe>=500&&pe<600,nt=-1!==[408,429].indexOf(pe),pt=-1!==this.additionalRetryCodes_.indexOf(pe);return Me||nt||pt},ge}(),ko=function(pe,Me,Ye){this.wasSuccessCode=pe,this.xhr=Me,this.canceled=!!Ye};var os=function(){function ge(pe,Me,Ye,nt){var pt;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=pe,this.authProvider_=Me,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=Ye,this.bucket_=null!=nt?_t.makeFromBucketSpec(nt):ge.extractBucket_(null===(pt=this.app_)||void 0===pt?void 0:pt.options),this.internals_=new Ma(this)}return ge.extractBucket_=function(pe){var Me=null==pe?void 0:pe.storageBucket;return null==Me?null:_t.makeFromBucketSpec(Me)},ge.prototype.getAuthToken=function(){return B(this,void 0,void 0,function(){var pe,Me;return j(this,function(Ye){switch(Ye.label){case 0:return(pe=this.authProvider_.getImmediate({optional:!0}))?[4,pe.getToken()]:[3,2];case 1:if(null!==(Me=Ye.sent()))return[2,Me.accessToken];Ye.label=2;case 2:return[2,null]}})})},ge.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(pe){return pe.cancel()}),this.requests_.clear()},ge.prototype.makeStorageReference=function(pe){return new Ps(this,pe)},ge.prototype.makeRequest=function(pe,Me){var Ye=this;if(this.deleted_)return new vs(mn());var nt=function(ge,pe,Me,Ye){var nt=sn(ge.urlParams),pt=ge.url+nt,Nt=Object.assign({},ge.headers);return function(ge,pe){pe&&(ge["X-Firebase-GMPID"]=pe)}(Nt,pe),function(ge,pe){null!==pe&&pe.length>0&&(ge.Authorization="Firebase "+pe)}(Nt,Me),function(ge){ge["X-Firebase-Storage-Version"]="webjs/"+(void 0!==t.default?t.default.SDK_VERSION:"AppManager")}(Nt),new yr(pt,ge.method,Nt,ge.body,ge.successCodes,ge.additionalRetryCodes,ge.handler,ge.errorHandler,ge.timeout,ge.progressCallback,Ye)}(pe,this.appId_,Me,this.pool_);return this.requests_.add(nt),nt.getPromise().then(function(){return Ye.requests_.delete(nt)},function(){return Ye.requests_.delete(nt)}),nt},ge.prototype.ref=function(pe){function Me(nt){if("string"!=typeof nt)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(nt))throw"Expected child path but got a URL, use refFromURL instead."}if(wi("ref",[so(Me,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var Ye=new Ps(this,this.bucket_);return null!=pe?Ye.child(pe):Ye},ge.prototype.refFromURL=function(pe){function Me(Ye){if("string"!=typeof Ye)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(Ye))throw"Expected full URL but got a child path, use ref instead.";try{_t.makeFromUrl(Ye)}catch(nt){throw"Expected valid full URL but got an invalid one."}}return wi("refFromURL",[so(Me,!1)],arguments),new Ps(this,pe)},Object.defineProperty(ge.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),ge.prototype.setMaxUploadRetryTime=function(pe){wi("setMaxUploadRetryTime",[ua()],arguments),this.maxUploadRetryTime_=pe},Object.defineProperty(ge.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),ge.prototype.setMaxOperationRetryTime=function(pe){wi("setMaxOperationRetryTime",[ua()],arguments),this.maxOperationRetryTime_=pe},Object.defineProperty(ge.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),ge}(),Ma=function(){function ge(pe){this.service_=pe}return ge.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},ge}();function qs(ge,pe){var Me=ge.getProvider("app").getImmediate(),Ye=ge.getProvider("auth-internal");return new os(Me,Ye,new no,pe)}function yo(ge){var pe={TaskState:rt,TaskEvent:ft,StringFormat:on,Storage:os,Reference:Ps};ge.INTERNAL.registerComponent(new U.Component("storage",qs,"PUBLIC").setServiceProps(pe).setMultipleInstances(!0)),ge.registerVersion("@firebase/storage","0.3.43")}yo(t.default)},1270:(h,m,v)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var t=v(8713),C={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},S=function(ft,Fe){if(!ft)throw q(Fe)},q=function(ft){return new Error("Firebase Database ("+C.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ft)},Y=function(ft){for(var Fe=[],rt=0,Tt=0;Tt<ft.length;Tt++){var gt=ft.charCodeAt(Tt);gt<128?Fe[rt++]=gt:gt<2048?(Fe[rt++]=gt>>6|192,Fe[rt++]=63&gt|128):55296==(64512&gt)&&Tt+1<ft.length&&56320==(64512&ft.charCodeAt(Tt+1))?(gt=65536+((1023&gt)<<10)+(1023&ft.charCodeAt(++Tt)),Fe[rt++]=gt>>18|240,Fe[rt++]=gt>>12&63|128,Fe[rt++]=gt>>6&63|128,Fe[rt++]=63&gt|128):(Fe[rt++]=gt>>12|224,Fe[rt++]=gt>>6&63|128,Fe[rt++]=63&gt|128)}return Fe},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ft,Fe){if(!Array.isArray(ft))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var rt=Fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Tt=[],gt=0;gt<ft.length;gt+=3){var ln=ft[gt],Ht=gt+1<ft.length,Tn=Ht?ft[gt+1]:0,Dn=gt+2<ft.length,En=Dn?ft[gt+2]:0,Ir=(15&Tn)<<2|En>>6,nr=63&En;Dn||(nr=64,Ht||(Ir=64)),Tt.push(rt[ln>>2],rt[(3&ln)<<4|Tn>>4],rt[Ir],rt[nr])}return Tt.join("")},encodeString:function(ft,Fe){return this.HAS_NATIVE_SUPPORT&&!Fe?btoa(ft):this.encodeByteArray(Y(ft),Fe)},decodeString:function(ft,Fe){return this.HAS_NATIVE_SUPPORT&&!Fe?atob(ft):function(ft){for(var Fe=[],rt=0,Tt=0;rt<ft.length;){var gt=ft[rt++];if(gt<128)Fe[Tt++]=String.fromCharCode(gt);else if(gt>191&&gt<224){var ln=ft[rt++];Fe[Tt++]=String.fromCharCode((31&gt)<<6|63&ln)}else if(gt>239&&gt<365){var Dn=((7&gt)<<18|(63&(ln=ft[rt++]))<<12|(63&(Ht=ft[rt++]))<<6|63&ft[rt++])-65536;Fe[Tt++]=String.fromCharCode(55296+(Dn>>10)),Fe[Tt++]=String.fromCharCode(56320+(1023&Dn))}else{ln=ft[rt++];var Ht=ft[rt++];Fe[Tt++]=String.fromCharCode((15&gt)<<12|(63&ln)<<6|63&Ht)}}return Fe.join("")}(this.decodeStringToByteArray(ft,Fe))},decodeStringToByteArray:function(ft,Fe){this.init_();for(var rt=Fe?this.charToByteMapWebSafe_:this.charToByteMap_,Tt=[],gt=0;gt<ft.length;){var ln=rt[ft.charAt(gt++)],Tn=gt<ft.length?rt[ft.charAt(gt)]:0,En=++gt<ft.length?rt[ft.charAt(gt)]:64,xn=++gt<ft.length?rt[ft.charAt(gt)]:64;if(++gt,null==ln||null==Tn||null==En||null==xn)throw Error();Tt.push(ln<<2|Tn>>4),64!==En&&(Tt.push(Tn<<4&240|En>>2),64!==xn&&Tt.push(En<<6&192|xn))}return Tt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ft=0;ft<this.ENCODED_VALS.length;ft++)this.byteToCharMap_[ft]=this.ENCODED_VALS.charAt(ft),this.charToByteMap_[this.byteToCharMap_[ft]]=ft,this.byteToCharMapWebSafe_[ft]=this.ENCODED_VALS_WEBSAFE.charAt(ft),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ft]]=ft,ft>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ft)]=ft,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ft)]=ft)}}},B=function(ft){try{return re.decodeString(ft,!0)}catch(Fe){console.error("base64Decode failed: ",Fe)}return null};function oe(ft,Fe){if(!(Fe instanceof Object))return Fe;switch(Fe.constructor){case Date:return new Date(Fe.getTime());case Object:void 0===ft&&(ft={});break;case Array:ft=[];break;default:return Fe}for(var Tt in Fe)!Fe.hasOwnProperty(Tt)||(ft[Tt]=oe(ft[Tt],Fe[Tt]));return ft}var X=function(){function ft(){var Fe=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(rt,Tt){Fe.resolve=rt,Fe.reject=Tt})}return ft.prototype.wrapCallback=function(Fe){var rt=this;return function(Tt,gt){Tt?rt.reject(Tt):rt.resolve(gt),"function"==typeof Fe&&(rt.promise.catch(function(){}),1===Fe.length?Fe(Tt):Fe(Tt,gt))}},ft}();function te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ft){return!1}}var H=function(ft){function Fe(rt,Tt){var gt=ft.call(this,Tt)||this;return gt.code=rt,gt.name="FirebaseError",Object.setPrototypeOf(gt,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(gt,Q.prototype.create),gt}return t.__extends(Fe,ft),Fe}(Error),Q=function(){function ft(Fe,rt,Tt){this.service=Fe,this.serviceName=rt,this.errors=Tt}return ft.prototype.create=function(Fe){for(var rt=[],Tt=1;Tt<arguments.length;Tt++)rt[Tt-1]=arguments[Tt];for(var gt=rt[0]||{},ln=this.service+"/"+Fe,Ht=this.errors[Fe],Tn=Ht?R(Ht,gt):"Error",Dn=this.serviceName+": "+Tn+" ("+ln+").",En=new H(ln,Dn),Wn=0,xn=Object.keys(gt);Wn<xn.length;Wn++){var Ir=xn[Wn];"_"!==Ir.slice(-1)&&(Ir in En&&console.warn('Overwriting FirebaseError base field "'+Ir+'" can cause unexpected behavior.'),En[Ir]=gt[Ir])}return En},ft}();function R(ft,Fe){return ft.replace($,function(rt,Tt){var gt=Fe[Tt];return null!=gt?String(gt):"<"+Tt+"?>"})}var $=/\{\$([^}]+)}/g;function J(ft){return JSON.parse(ft)}var we=function(ft){var Fe={},rt={},Tt={},gt="";try{var ln=ft.split(".");Fe=J(B(ln[0])||""),rt=J(B(ln[1])||""),gt=ln[2],Tt=rt.d||{},delete rt.d}catch(Ht){}return{header:Fe,claims:rt,data:Tt,signature:gt}},St=function(){function ft(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Fe=1;Fe<this.blockSize;++Fe)this.pad_[Fe]=0;this.reset()}return ft.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ft.prototype.compress_=function(Fe,rt){rt||(rt=0);var Tt=this.W_;if("string"==typeof Fe)for(var gt=0;gt<16;gt++)Tt[gt]=Fe.charCodeAt(rt)<<24|Fe.charCodeAt(rt+1)<<16|Fe.charCodeAt(rt+2)<<8|Fe.charCodeAt(rt+3),rt+=4;else for(gt=0;gt<16;gt++)Tt[gt]=Fe[rt]<<24|Fe[rt+1]<<16|Fe[rt+2]<<8|Fe[rt+3],rt+=4;for(gt=16;gt<80;gt++)Tt[gt]=4294967295&((ln=Tt[gt-3]^Tt[gt-8]^Tt[gt-14]^Tt[gt-16])<<1|ln>>>31);var xn,Ir,Ht=this.chain_[0],Tn=this.chain_[1],Dn=this.chain_[2],En=this.chain_[3],Wn=this.chain_[4];for(gt=0;gt<80;gt++){gt<40?gt<20?(xn=En^Tn&(Dn^En),Ir=1518500249):(xn=Tn^Dn^En,Ir=1859775393):gt<60?(xn=Tn&Dn|En&(Tn|Dn),Ir=2400959708):(xn=Tn^Dn^En,Ir=3395469782);var ln=(Ht<<5|Ht>>>27)+xn+Wn+Ir+Tt[gt]&4294967295;Wn=En,En=Dn,Dn=4294967295&(Tn<<30|Tn>>>2),Tn=Ht,Ht=ln}this.chain_[0]=this.chain_[0]+Ht&4294967295,this.chain_[1]=this.chain_[1]+Tn&4294967295,this.chain_[2]=this.chain_[2]+Dn&4294967295,this.chain_[3]=this.chain_[3]+En&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},ft.prototype.update=function(Fe,rt){if(null!=Fe){void 0===rt&&(rt=Fe.length);for(var Tt=rt-this.blockSize,gt=0,ln=this.buf_,Ht=this.inbuf_;gt<rt;){if(0===Ht)for(;gt<=Tt;)this.compress_(Fe,gt),gt+=this.blockSize;if("string"==typeof Fe){for(;gt<rt;)if(ln[Ht]=Fe.charCodeAt(gt),++gt,++Ht===this.blockSize){this.compress_(ln),Ht=0;break}}else for(;gt<rt;)if(ln[Ht]=Fe[gt],++gt,++Ht===this.blockSize){this.compress_(ln),Ht=0;break}}this.inbuf_=Ht,this.total_+=rt}},ft.prototype.digest=function(){var Fe=[],rt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Tt=this.blockSize-1;Tt>=56;Tt--)this.buf_[Tt]=255&rt,rt/=256;this.compress_(this.buf_);var gt=0;for(Tt=0;Tt<5;Tt++)for(var ln=24;ln>=0;ln-=8)Fe[gt]=this.chain_[Tt]>>ln&255,++gt;return Fe},ft}(),un=function(){function ft(Fe,rt){var Tt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=rt,this.task.then(function(){Fe(Tt)}).catch(function(gt){Tt.error(gt)})}return ft.prototype.next=function(Fe){this.forEachObserver(function(rt){rt.next(Fe)})},ft.prototype.error=function(Fe){this.forEachObserver(function(rt){rt.error(Fe)}),this.close(Fe)},ft.prototype.complete=function(){this.forEachObserver(function(Fe){Fe.complete()}),this.close()},ft.prototype.subscribe=function(Fe,rt,Tt){var ln,gt=this;if(void 0===Fe&&void 0===rt&&void 0===Tt)throw new Error("Missing Observer.");ln=function(ft,Fe){if("object"!=typeof ft||null===ft)return!1;for(var rt=0,Tt=["next","error","complete"];rt<Tt.length;rt++){var gt=Tt[rt];if(gt in ft&&"function"==typeof ft[gt])return!0}return!1}(Fe)?Fe:{next:Fe,error:rt,complete:Tt},void 0===ln.next&&(ln.next=Cn),void 0===ln.error&&(ln.error=Cn),void 0===ln.complete&&(ln.complete=Cn);var Ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{gt.finalError?ln.error(gt.finalError):ln.complete()}catch(Tn){}}),this.observers.push(ln),Ht},ft.prototype.unsubscribeOne=function(Fe){void 0===this.observers||void 0===this.observers[Fe]||(delete this.observers[Fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ft.prototype.forEachObserver=function(Fe){if(!this.finalized)for(var rt=0;rt<this.observers.length;rt++)this.sendOne(rt,Fe)},ft.prototype.sendOne=function(Fe,rt){var Tt=this;this.task.then(function(){if(void 0!==Tt.observers&&void 0!==Tt.observers[Fe])try{rt(Tt.observers[Fe])}catch(gt){"undefined"!=typeof console&&console.error&&console.error(gt)}})},ft.prototype.close=function(Fe){var rt=this;this.finalized||(this.finalized=!0,void 0!==Fe&&(this.finalError=Fe),this.task.then(function(){rt.observers=void 0,rt.onNoObservers=void 0}))},ft}();function Cn(){}function on(ft,Fe,rt){var Tt="";switch(Fe){case 1:Tt=rt?"first":"First";break;case 2:Tt=rt?"second":"Second";break;case 3:Tt=rt?"third":"Third";break;case 4:Tt=rt?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return ft+" failed: "+(Tt+" argument ")}m.CONSTANTS=C,m.Deferred=X,m.ErrorFactory=Q,m.FirebaseError=H,m.MAX_VALUE_MILLIS=144e5,m.RANDOM_FACTOR=.5,m.Sha1=St,m.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},m.assert=S,m.assertionError=q,m.async=function(ft,Fe){return function(){for(var rt=[],Tt=0;Tt<arguments.length;Tt++)rt[Tt]=arguments[Tt];Promise.resolve(!0).then(function(){ft.apply(void 0,rt)}).catch(function(gt){Fe&&Fe(gt)})}},m.base64=re,m.base64Decode=B,m.base64Encode=function(ft){var Fe=Y(ft);return re.encodeByteArray(Fe,!0)},m.calculateBackoffMillis=function(ft,Fe,rt){void 0===Fe&&(Fe=1e3),void 0===rt&&(rt=2);var Tt=Fe*Math.pow(rt,ft),gt=Math.round(.5*Tt*(Math.random()-.5)*2);return Math.min(144e5,Tt+gt)},m.contains=function(ft,Fe){return Object.prototype.hasOwnProperty.call(ft,Fe)},m.createSubscribe=function(ft,Fe){var rt=new un(ft,Fe);return rt.subscribe.bind(rt)},m.decode=we,m.deepCopy=function(ft){return oe(void 0,ft)},m.deepExtend=oe,m.errorPrefix=on,m.getUA=te,m.isAdmin=function(ft){var Fe=we(ft).claims;return"object"==typeof Fe&&!0===Fe.admin},m.isBrowser=function(){return"object"==typeof self&&self.self===self},m.isBrowserExtension=function(){var ft="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ft&&void 0!==ft.id},m.isElectron=function(){return te().indexOf("Electron/")>=0},m.isEmpty=function(ft){for(var Fe in ft)if(Object.prototype.hasOwnProperty.call(ft,Fe))return!1;return!0},m.isIE=function(){var ft=te();return ft.indexOf("MSIE ")>=0||ft.indexOf("Trident/")>=0},m.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},m.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())},m.isNode=le,m.isNodeSdk=function(){return!0===C.NODE_CLIENT||!0===C.NODE_ADMIN},m.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},m.isSafari=function(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},m.isUWP=function(){return te().indexOf("MSAppHost/")>=0},m.isValidFormat=function(ft){var rt=we(ft).claims;return!!rt&&"object"==typeof rt&&rt.hasOwnProperty("iat")},m.isValidTimestamp=function(ft){var Fe=we(ft).claims,rt=Math.floor((new Date).getTime()/1e3),Tt=0,gt=0;return"object"==typeof Fe&&(Fe.hasOwnProperty("nbf")?Tt=Fe.nbf:Fe.hasOwnProperty("iat")&&(Tt=Fe.iat),gt=Fe.hasOwnProperty("exp")?Fe.exp:Tt+86400),!!rt&&!!Tt&&!!gt&&rt>=Tt&&rt<=gt},m.issuedAtTime=function(ft){var Fe=we(ft).claims;return"object"==typeof Fe&&Fe.hasOwnProperty("iat")?Fe.iat:null},m.jsonEval=J,m.map=function(ft,Fe,rt){var Tt={};for(var gt in ft)Object.prototype.hasOwnProperty.call(ft,gt)&&(Tt[gt]=Fe.call(rt,ft[gt],gt,ft));return Tt},m.querystring=function(ft){for(var Fe=[],rt=function(Dn,En){Array.isArray(En)?En.forEach(function(Wn){Fe.push(encodeURIComponent(Dn)+"="+encodeURIComponent(Wn))}):Fe.push(encodeURIComponent(Dn)+"="+encodeURIComponent(En))},Tt=0,gt=Object.entries(ft);Tt<gt.length;Tt++){var ln=gt[Tt];rt(ln[0],ln[1])}return Fe.length?"&"+Fe.join("&"):""},m.querystringDecode=function(ft){var Fe={};return ft.replace(/^\?/,"").split("&").forEach(function(Tt){if(Tt){var gt=Tt.split("=");Fe[gt[0]]=gt[1]}}),Fe},m.safeGet=function(ft,Fe){if(Object.prototype.hasOwnProperty.call(ft,Fe))return ft[Fe]},m.stringLength=function(ft){for(var Fe=0,rt=0;rt<ft.length;rt++){var Tt=ft.charCodeAt(rt);Tt<128?Fe++:Tt<2048?Fe+=2:Tt>=55296&&Tt<=56319?(Fe+=4,rt++):Fe+=3}return Fe},m.stringToByteArray=function(ft){for(var Fe=[],rt=0,Tt=0;Tt<ft.length;Tt++){var gt=ft.charCodeAt(Tt);if(gt>=55296&&gt<=56319){var ln=gt-55296;Tt++,S(Tt<ft.length,"Surrogate pair missing trail surrogate."),gt=65536+(ln<<10)+(ft.charCodeAt(Tt)-56320)}gt<128?Fe[rt++]=gt:gt<2048?(Fe[rt++]=gt>>6|192,Fe[rt++]=63&gt|128):gt<65536?(Fe[rt++]=gt>>12|224,Fe[rt++]=gt>>6&63|128,Fe[rt++]=63&gt|128):(Fe[rt++]=gt>>18|240,Fe[rt++]=gt>>12&63|128,Fe[rt++]=gt>>6&63|128,Fe[rt++]=63&gt|128)}return Fe},m.stringify=function(ft){return JSON.stringify(ft)},m.validateArgCount=function(ft,Fe,rt,Tt){var gt;if(Tt<Fe?gt="at least "+Fe:Tt>rt&&(gt=0===rt?"none":"no more than "+rt),gt)throw new Error(ft+" failed: Was called with "+Tt+(1===Tt?" argument.":" arguments.")+" Expects "+gt+".")},m.validateCallback=function(ft,Fe,rt,Tt){if((!Tt||rt)&&"function"!=typeof rt)throw new Error(on(ft,Fe,Tt)+"must be a valid function.")},m.validateContextObject=function(ft,Fe,rt,Tt){if((!Tt||rt)&&("object"!=typeof rt||null===rt))throw new Error(on(ft,Fe,Tt)+"must be a valid context object.")},m.validateIndexedDBOpenable=function(){return new Promise(function(ft,Fe){try{var rt=!0,Tt="validate-browser-context-for-indexeddb-analytics-module",gt=window.indexedDB.open(Tt);gt.onsuccess=function(){gt.result.close(),rt||window.indexedDB.deleteDatabase(Tt),ft(!0)},gt.onupgradeneeded=function(){rt=!1},gt.onerror=function(){var ln;Fe((null===(ln=gt.error)||void 0===ln?void 0:ln.message)||"")}}catch(ln){Fe(ln)}})},m.validateNamespace=function(ft,Fe,rt,Tt){if((!Tt||rt)&&"string"!=typeof rt)throw new Error(on(ft,Fe,Tt)+"must be a valid firebase namespace.")}},670:(h,m,v)=>{"use strict";v.r(m),v.d(m,{default:()=>Fi,ErrorCode:()=>qo,EventType:()=>Jr,WebChannel:()=>xo,XhrIo:()=>zl,createWebChannelTransport:()=>Si});var t=function(x,ce){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Ue){be.__proto__=Ue}||function(be,Ue){for(var ct in Ue)Object.prototype.hasOwnProperty.call(Ue,ct)&&(be[ct]=Ue[ct])})(x,ce)};function S(x){var ce="function"==typeof Symbol&&Symbol.iterator,be=ce&&x[ce],Ue=0;if(be)return be.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&Ue>=x.length&&(x=void 0),{value:x&&x[Ue++],done:!x}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}var Y,q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},se=se||{},re=q||self;function fe(){}function B(x){var ce=typeof x;return"object"!=ce?ce:x?Array.isArray(x)?"array":ce:"null"}function j(x){var ce=B(x);return"array"==ce||"object"==ce&&"number"==typeof x.length}function oe(x){var ce=typeof x;return"object"==ce&&null!=x||"function"==ce}var te="closure_uid_"+(1e9*Math.random()>>>0),me=0;function le(x,ce,be){return x.call.apply(x.bind,arguments)}function W(x,ce,be){if(!x)throw Error();if(2<arguments.length){var Ue=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,Ue),x.apply(ce,ct)}}return function(){return x.apply(ce,arguments)}}function z(x,ce,be){return(z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:W).apply(null,arguments)}function K(x,ce){var be=Array.prototype.slice.call(arguments,1);return function(){var Ue=be.slice();return Ue.push.apply(Ue,arguments),x.apply(this,Ue)}}var ee=Date.now;function _e(x,ce){function be(){}be.prototype=ce.prototype,x.S=ce.prototype,x.prototype=new be,x.prototype.constructor=x}function ve(){this.j=this.j,this.i=this.i}ve.prototype.j=!1,ve.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(x){Object.prototype.hasOwnProperty.call(x,te)&&x[te]||(x[te]=++me)}(this)},ve.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xe=Array.prototype.indexOf?function(x,ce){return Array.prototype.indexOf.call(x,ce,void 0)}:function(x,ce){if("string"==typeof x)return"string"!=typeof ce||1!=ce.length?-1:x.indexOf(ce,0);for(var be=0;be<x.length;be++)if(be in x&&x[be]===ce)return be;return-1},Ge=Array.prototype.forEach?function(x,ce,be){Array.prototype.forEach.call(x,ce,be)}:function(x,ce,be){for(var Ue=x.length,ct="string"==typeof x?x.split(""):x,Dt=0;Dt<Ue;Dt++)Dt in ct&&ce.call(be,ct[Dt],Dt,x)};function U(x){return Array.prototype.concat.apply([],arguments)}function O(x){var ce=x.length;if(0<ce){for(var be=Array(ce),Ue=0;Ue<ce;Ue++)be[Ue]=x[Ue];return be}return[]}function H(x){return/^[\s\xa0]*$/.test(x)}var J,Q=String.prototype.trim?function(x){return x.trim()}:function(x){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(x)[1]};function R(x,ce){return-1!=x.indexOf(ce)}function $(x,ce){return x<ce?-1:x>ce?1:0}e:{var je=re.navigator;if(je){var we=je.userAgent;if(we){J=we;break e}}J=""}function Ne(x,ce,be){for(var Ue in x)ce.call(be,x[Ue],Ue,x)}function ut(x){var ce={};for(var be in x)ce[be]=x[be];return ce}var qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(x,ce){for(var be,Ue,ct=1;ct<arguments.length;ct++){for(be in Ue=arguments[ct])x[be]=Ue[be];for(var Dt=0;Dt<qe.length;Dt++)be=qe[Dt],Object.prototype.hasOwnProperty.call(Ue,be)&&(x[be]=Ue[be])}}function lt(x){return lt[" "](x),x}lt[" "]=fe;var mn,x,nn=R(J,"Opera"),Ft=R(J,"Trident")||R(J,"MSIE"),pn=R(J,"Edge"),rn=pn||Ft,St=R(J,"Gecko")&&!(R(J.toLowerCase(),"webkit")&&!R(J,"Edge"))&&!(R(J,"Trident")||R(J,"MSIE"))&&!R(J,"Edge"),qn=R(J.toLowerCase(),"webkit")&&!R(J,"Edge");function un(){var x=re.document;return x?x.documentMode:void 0}e:{var tn="",Cn=(x=J,St?/rv:([^\);]+)(\)|;)/.exec(x):pn?/Edge\/([\d\.]+)/.exec(x):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(x):qn?/WebKit\/(\S+)/.exec(x):nn?/(?:Version)[ \/]?(\S+)/.exec(x):void 0);if(Cn&&(tn=Cn?Cn[1]:""),Ft){var Nn=un();if(null!=Nn&&Nn>parseFloat(tn)){mn=String(Nn);break e}}mn=tn}var on={};function zn(x){return function(x,ce){var be=on;return Object.prototype.hasOwnProperty.call(be,x)?be[x]:be[x]=ce()}(x,function(){for(var ce=0,be=Q(String(mn)).split("."),Ue=Q(String(x)).split("."),ct=Math.max(be.length,Ue.length),Dt=0;0==ce&&Dt<ct;Dt++){var Mn=be[Dt]||"",Br=Ue[Dt]||"";do{if(Mn=/(\d*)(\D*)(.*)/.exec(Mn)||["","","",""],Br=/(\d*)(\D*)(.*)/.exec(Br)||["","","",""],0==Mn[0].length&&0==Br[0].length)break;ce=$(0==Mn[1].length?0:parseInt(Mn[1],10),0==Br[1].length?0:parseInt(Br[1],10))||$(0==Mn[2].length,0==Br[2].length)||$(Mn[2],Br[2]),Mn=Mn[3],Br=Br[3]}while(0==ce)}return 0<=ce})}var ir=re.document&&Ft&&(un()||parseInt(mn,10))||void 0,or=!Ft||9<=Number(ir),dr=Ft&&!zn("9"),hr=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var x=!1,ce=Object.defineProperty({},"passive",{get:function(){x=!0}});try{re.addEventListener("test",fe,ce),re.removeEventListener("test",fe,ce)}catch(be){}return x}();function Gn(x,ce){this.type=x,this.a=this.target=ce,this.defaultPrevented=!1}function An(x,ce){if(Gn.call(this,x?x.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,x){var be=this.type=x.type,Ue=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.a=ce,ce=x.relatedTarget){if(St){e:{try{lt(ce.nodeName);var ct=!0;break e}catch(Dt){}ct=!1}ct||(ce=null)}}else"mouseover"==be?ce=x.fromElement:"mouseout"==be&&(ce=x.toElement);this.relatedTarget=ce,Ue?(this.clientX=void 0!==Ue.clientX?Ue.clientX:Ue.pageX,this.clientY=void 0!==Ue.clientY?Ue.clientY:Ue.pageY,this.screenX=Ue.screenX||0,this.screenY=Ue.screenY||0):(this.clientX=void 0!==x.clientX?x.clientX:x.pageX,this.clientY=void 0!==x.clientY?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType="string"==typeof x.pointerType?x.pointerType:Wr[x.pointerType]||"",this.c=x,x.defaultPrevented&&this.b()}}Gn.prototype.b=function(){this.defaultPrevented=!0},_e(An,Gn);var Wr={2:"touch",3:"pen",4:"mouse"};An.prototype.b=function(){An.S.b.call(this);var x=this.c;if(x.preventDefault)x.preventDefault();else if(x.returnValue=!1,dr)try{(x.ctrlKey||112<=x.keyCode&&123>=x.keyCode)&&(x.keyCode=-1)}catch(ce){}};var ft="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function rt(x,ce,be,Ue,ct){this.listener=x,this.proxy=null,this.src=ce,this.type=be,this.capture=!!Ue,this.ca=ct,this.key=++Fe,this.Y=this.Z=!1}function Tt(x){x.Y=!0,x.listener=null,x.proxy=null,x.src=null,x.ca=null}function gt(x){this.src=x,this.a={},this.b=0}function ln(x,ce){var be=ce.type;if(be in x.a){var Dt,Ue=x.a[be],ct=xe(Ue,ce);(Dt=0<=ct)&&Array.prototype.splice.call(Ue,ct,1),Dt&&(Tt(ce),0==x.a[be].length&&(delete x.a[be],x.b--))}}function Ht(x,ce,be,Ue){for(var ct=0;ct<x.length;++ct){var Dt=x[ct];if(!Dt.Y&&Dt.listener==ce&&Dt.capture==!!be&&Dt.ca==Ue)return ct}return-1}gt.prototype.add=function(x,ce,be,Ue,ct){var Dt=x.toString();(x=this.a[Dt])||(x=this.a[Dt]=[],this.b++);var Mn=Ht(x,ce,Ue,ct);return-1<Mn?(ce=x[Mn],be||(ce.Z=!1)):((ce=new rt(ce,this.src,Dt,!!Ue,ct)).Z=be,x.push(ce)),ce};var Tn="closure_lm_"+(1e6*Math.random()|0),Dn={};function En(x,ce,be,Ue,ct){if(Ue&&Ue.once)return Ir(x,ce,be,Ue,ct);if(Array.isArray(ce)){for(var Dt=0;Dt<ce.length;Dt++)En(x,ce[Dt],be,Ue,ct);return null}return be=Ni(be),x&&x[ft]?x.va(ce,be,oe(Ue)?!!Ue.capture:!!Ue,ct):Wn(x,ce,be,!1,Ue,ct)}function Wn(x,ce,be,Ue,ct,Dt){if(!ce)throw Error("Invalid event type");var Mn=oe(ct)?!!ct.capture:!!ct;if(Mn&&!or)return null;var Br=qr(x);if(Br||(x[Tn]=Br=new gt(x)),(be=Br.add(ce,be,Ue,Mn,Dt)).proxy)return be;if(Ue=function(){var x=no,ce=or?function(be){return x.call(ce.src,ce.listener,be)}:function(be){if(!(be=x.call(ce.src,ce.listener,be)))return be};return ce}(),be.proxy=Ue,Ue.src=x,Ue.listener=be,x.addEventListener)hr||(ct=Mn),void 0===ct&&(ct=!1),x.addEventListener(ce.toString(),Ue,ct);else if(x.attachEvent)x.attachEvent(er(ce.toString()),Ue);else{if(!x.addListener||!x.removeListener)throw Error("addEventListener and attachEvent are unavailable.");x.addListener(Ue)}return be}function Ir(x,ce,be,Ue,ct){if(Array.isArray(ce)){for(var Dt=0;Dt<ce.length;Dt++)Ir(x,ce[Dt],be,Ue,ct);return null}return be=Ni(be),x&&x[ft]?x.wa(ce,be,oe(Ue)?!!Ue.capture:!!Ue,ct):Wn(x,ce,be,!0,Ue,ct)}function nr(x,ce,be,Ue,ct){if(Array.isArray(ce))for(var Dt=0;Dt<ce.length;Dt++)nr(x,ce[Dt],be,Ue,ct);else Ue=oe(Ue)?!!Ue.capture:!!Ue,be=Ni(be),x&&x[ft]?(x=x.c,(ce=String(ce).toString())in x.a&&-1<(be=Ht(Dt=x.a[ce],be,Ue,ct))&&(Tt(Dt[be]),Array.prototype.splice.call(Dt,be,1),0==Dt.length&&(delete x.a[ce],x.b--))):x&&(x=qr(x))&&(ce=x.a[ce.toString()],x=-1,ce&&(x=Ht(ce,be,Ue,ct)),(be=-1<x?ce[x]:null)&&pi(be))}function pi(x){if("number"!=typeof x&&x&&!x.Y){var ce=x.src;if(ce&&ce[ft])ln(ce.c,x);else{var be=x.type,Ue=x.proxy;ce.removeEventListener?ce.removeEventListener(be,Ue,x.capture):ce.detachEvent?ce.detachEvent(er(be),Ue):ce.addListener&&ce.removeListener&&ce.removeListener(Ue),(be=qr(ce))?(ln(be,x),0==be.b&&(be.src=null,ce[Tn]=null)):Tt(x)}}}function er(x){return x in Dn?Dn[x]:Dn[x]="on"+x}function Ar(x,ce){var be=x.listener,Ue=x.ca||x.src;return x.Z&&pi(x),be.call(Ue,ce)}function no(x,ce){if(x.Y)return!0;if(!or){if(!ce)e:{ce=["window","event"];for(var be=re,Ue=0;Ue<ce.length;Ue++)if(null==(be=be[ce[Ue]])){ce=null;break e}ce=be}return Ar(x,ce=new An(ce,this))}return Ar(x,new An(ce,this))}function qr(x){return(x=x[Tn])instanceof gt?x:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ni(x){return"function"==B(x)?x:(x[hi]||(x[hi]=function(ce){return x.handleEvent(ce)}),x[hi])}function Qe(){ve.call(this),this.c=new gt(this),this.J=this,this.C=null}function _t(x,ce,be,Ue){if(!(ce=x.c.a[String(ce)]))return!0;ce=ce.concat();for(var ct=!0,Dt=0;Dt<ce.length;++Dt){var Mn=ce[Dt];if(Mn&&!Mn.Y&&Mn.capture==be){var Br=Mn.listener,_r=Mn.ca||Mn.src;Mn.Z&&ln(x.c,Mn),ct=!1!==Br.call(_r,Ue)&&ct}}return ct&&!Ue.defaultPrevented}_e(Qe,ve),Qe.prototype[ft]=!0,(Y=Qe.prototype).addEventListener=function(x,ce,be,Ue){En(this,x,ce,be,Ue)},Y.removeEventListener=function(x,ce,be,Ue){nr(this,x,ce,be,Ue)},Y.dispatchEvent=function(x){var ce,be=this.C;if(be)for(ce=[];be;be=be.C)ce.push(be);be=this.J;var Ue=x.type||x;if("string"==typeof x)x=new Gn(x,be);else if(x instanceof Gn)x.target=x.target||be;else{var ct=x;$e(x=new Gn(Ue,be),ct)}if(ct=!0,ce)for(var Dt=ce.length-1;0<=Dt;Dt--){var Mn=x.a=ce[Dt];ct=_t(Mn,Ue,!0,x)&&ct}if(ct=_t(Mn=x.a=be,Ue,!0,x)&&ct,ct=_t(Mn,Ue,!1,x)&&ct,ce)for(Dt=0;Dt<ce.length;Dt++)ct=_t(Mn=x.a=ce[Dt],Ue,!1,x)&&ct;return ct},Y.G=function(){if(Qe.S.G.call(this),this.c){var ce,x=this.c;for(ce in x.a){for(var be=x.a[ce],Ue=0;Ue<be.length;Ue++)Tt(be[Ue]);delete x.a[ce],x.b--}}this.C=null},Y.va=function(x,ce,be,Ue){return this.c.add(String(x),ce,!1,be,Ue)},Y.wa=function(x,ce,be,Ue){return this.c.add(String(x),ce,!0,be,Ue)};var Ct=re.JSON.stringify;function Lt(){this.b=this.a=null}var Wt,xt=new(function(){function x(ce,be,Ue){this.f=Ue,this.c=ce,this.g=be,this.b=0,this.a=null}return x.prototype.get=function(){var ce;return 0<this.b?(this.b--,this.a=(ce=this.a).next,ce.next=null):ce=this.c(),ce},x}())(function(){return new Jt},function(x){x.reset()},100);function kt(){var x=fr,ce=null;return x.a&&(ce=x.a,x.a=x.a.next,x.a||(x.b=null),ce.next=null),ce}function Jt(){this.next=this.b=this.a=null}function sn(x){re.setTimeout(function(){throw x},0)}function In(x,ce){Wt||function(){var x=re.Promise.resolve(void 0);Wt=function(){x.then(lr)}}(),Er||(Wt(),Er=!0),fr.add(x,ce)}Lt.prototype.add=function(x,ce){var be=xt.get();be.set(x,ce),this.b?this.b.next=be:this.a=be,this.b=be},Jt.prototype.set=function(x,ce){this.a=x,this.b=ce,this.next=null},Jt.prototype.reset=function(){this.next=this.b=this.a=null};var Er=!1,fr=new Lt;function lr(){for(var x;x=kt();){try{x.a.call(x.b)}catch(be){sn(be)}var ce=xt;ce.g(x),ce.b<ce.f&&(ce.b++,x.next=ce.a,ce.a=x)}Er=!1}function $r(x,ce){Qe.call(this),this.b=x||1,this.a=ce||re,this.f=z(this.Ya,this),this.g=ee()}function Ke(x){x.aa=!1,x.M&&(x.a.clearTimeout(x.M),x.M=null)}function He(x,ce,be){if("function"==B(x))be&&(x=z(x,be));else{if(!x||"function"!=typeof x.handleEvent)throw Error("Invalid listener argument");x=z(x.handleEvent,x)}return 2147483647<Number(ce)?-1:re.setTimeout(x,ce||0)}function tt(x){x.a=He(function(){x.a=null,x.c&&(x.c=!1,tt(x))},x.h);var ce=x.b;x.b=null,x.g.apply(null,ce)}_e($r,Qe),(Y=$r.prototype).aa=!1,Y.M=null,Y.Ya=function(){if(this.aa){var x=ee()-this.g;0<x&&x<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-x):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ke(this),this.start()))}},Y.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ee())},Y.G=function(){$r.S.G.call(this),Ke(this),delete this.a};var at=function(x){function ce(be,Ue,ct){var Dt=x.call(this)||this;return Dt.g=null!=ct?be.bind(ct):be,Dt.h=Ue,Dt.b=null,Dt.c=!1,Dt.a=null,Dt}return function(x,ce){function be(){this.constructor=x}t(x,ce),x.prototype=null===ce?Object.create(ce):(be.prototype=ce.prototype,new be)}(ce,x),ce.prototype.f=function(be){this.b=arguments,this.a?this.c=!0:tt(this)},ce.prototype.G=function(){x.prototype.G.call(this),this.a&&(re.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},ce}(ve);function Se(x){ve.call(this),this.b=x,this.a={}}_e(Se,ve);var ue=[];function Ie(x,ce,be,Ue){Array.isArray(be)||(be&&(ue[0]=be.toString()),be=ue);for(var ct=0;ct<be.length;ct++){var Dt=En(ce,be[ct],Ue||x.handleEvent,!1,x.b||x);if(!Dt)break;x.a[Dt.key]=Dt}}function Ve(x){Ne(x.a,function(ce,be){this.a.hasOwnProperty(be)&&pi(ce)},x),x.a={}}function et(){this.a=!0}function Vt(x,ce,be,Ue){x.info(function(){return"XMLHTTP TEXT ("+ce+"): "+function(x,ce){if(!x.a)return ce;if(!ce)return null;try{var be=JSON.parse(ce);if(be)for(x=0;x<be.length;x++)if(Array.isArray(be[x])){var Ue=be[x];if(!(2>Ue.length)){var ct=Ue[1];if(Array.isArray(ct)&&!(1>ct.length)){var Dt=ct[0];if("noop"!=Dt&&"stop"!=Dt&&"close"!=Dt)for(var Mn=1;Mn<ct.length;Mn++)ct[Mn]=""}}}return Ct(be)}catch(Br){return ce}}(x,be)+(Ue?" "+Ue:"")})}Se.prototype.G=function(){Se.S.G.call(this),Ve(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.info=function(){};var Qt=null;function hn(){return Qt=Qt||new Qe}function Je(x){Gn.call(this,"serverreachability",x)}function At(x){var ce=hn();ce.dispatchEvent(new Je(ce,x))}function Et(x){Gn.call(this,"statevent",x)}function vt(x){var ce=hn();ce.dispatchEvent(new Et(ce,x))}function _n(x){Gn.call(this,"timingevent",x)}function Kt(x,ce){if("function"!=B(x))throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){x()},ce)}_e(Je,Gn),_e(Et,Gn),_e(_n,Gn);var tr={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Xn={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function si(){}function wr(){}si.prototype.a=null;var jo,Hr={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Po(){Gn.call(this,"d")}function ro(){Gn.call(this,"c")}function fi(){}function io(x,ce,be,Ue){this.g=x,this.c=ce,this.f=be,this.T=Ue||1,this.J=new Se(this),this.P=is,this.R=new $r(x=rn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_e(Po,Gn),_e(ro,Gn),_e(fi,si),jo=new fi;var is=45e3,oo={},wi={};function ho(x,ce,be){x.H=1,x.i=ai(Ao(ce)),x.j=be,x.I=!0,ur(x,null)}function ur(x,ce){x.u=ee(),Qr(x),x.l=Ao(x.i);var be=x.l,Ue=x.T;Array.isArray(Ue)||(Ue=[String(Ue)]),Cr(be.b,"t",Ue),x.D=0,x.a=ha(x.g,x.g.C?ce:null),0<x.O&&(x.F=new at(z(x.Ca,x,x.a),x.O)),Ie(x.J,x.a,"readystatechange",x.Wa),ce=x.B?ut(x.B):{},x.j?(x.m||(x.m="POST"),ce["Content-Type"]="application/x-www-form-urlencoded",x.a.ba(x.l,x.m,x.j,ce)):(x.m="GET",x.a.ba(x.l,x.m,null,ce)),At(1),function(x,ce,be,Ue,ct,Dt){x.info(function(){if(x.a)if(Dt)for(var Mn="",Br=Dt.split("&"),_r=0;_r<Br.length;_r++){var Wi=Br[_r].split("=");if(1<Wi.length){var $o=Wi[0];Wi=Wi[1];var Es=$o.split("_");Mn=2<=Es.length&&"type"==Es[1]?Mn+($o+"=")+Wi+"&":Mn+($o+"=redacted&")}}else Mn=null;else Mn=Dt;return"XMLHTTP REQ ("+Ue+") [attempt "+ct+"]: "+ce+"\n"+be+"\n"+Mn})}(x.c,x.m,x.l,x.f,x.T,x.j)}function so(x,ce,be){for(var Ue=!0;!x.A&&x.D<be.length;){var ct=xs(x,be);if(ct==wi){4==ce&&(x.h=4,vt(14),Ue=!1),Vt(x.c,x.f,null,"[Incomplete Response]");break}if(ct==oo){x.h=4,vt(15),Vt(x.c,x.f,be,"[Invalid Chunk]"),Ue=!1;break}Vt(x.c,x.f,ct,null),gr(x,ct)}4==ce&&0==be.length&&(x.h=1,vt(16),Ue=!1),x.b=x.b&&Ue,Ue?0<be.length&&!x.W&&(x.W=!0,(ce=x.g).a==x&&ce.V&&!ce.F&&(ce.c.info("Great, no buffering proxy detected. Bytes received: "+be.length),Hl(ce),ce.F=!0)):(Vt(x.c,x.f,be,"[Invalid Chunked Response]"),Kn(x),Oo(x))}function xs(x,ce){var be=x.D,Ue=ce.indexOf("\n",be);return-1==Ue?wi:(be=Number(ce.substring(be,Ue)),isNaN(be)?oo:(Ue+=1)+be>ce.length?wi:(ce=ce.substr(Ue,be),x.D=Ue+be,ce))}function Qr(x){x.U=ee()+x.P,Ho(x,x.P)}function Ho(x,ce){if(null!=x.o)throw Error("WatchDog timer not null");x.o=Kt(z(x.Ua,x),ce)}function ua(x){x.o&&(re.clearTimeout(x.o),x.o=null)}function Oo(x){0==x.g.v||x.A||Gl(x.g,x)}function Kn(x){ua(x);var ce=x.F;ce&&"function"==typeof ce.ja&&ce.ja(),x.F=null,Ke(x.R),Ve(x.J),x.a&&(ce=x.a,x.a=null,ce.abort(),ce.ja())}function gr(x,ce){try{var be=x.g;if(0!=be.v&&(be.a==x||Dr(be.b,x)))if(be.I=x.N,!x.C&&Dr(be.b,x)&&3==be.v){try{var Ue=be.ka.a.parse(ce)}catch(lu){Ue=null}if(Array.isArray(Ue)&&3==Ue.length){var ct=Ue;if(0==ct[0])e:if(be.j)be.oa=ct[1],0<be.oa-be.P&&37500>ct[2]&&be.H&&0==be.o&&!be.m&&(be.m=Kt(z(be.Ra,be),6e3));else{if(be.a){if(!(be.a.u+3e3<x.u))break e;Ra(be),Yi(be)}$s(be),vt(18)}if(1>=ri(be.b)&&be.ea){try{be.ea()}catch(lu){}be.ea=void 0}}else Ks(be,11)}else if((x.C||be.a==x)&&Ra(be),!H(ce))for(ce=Ue=be.ka.a.parse(ce),Ue=0;Ue<ce.length;Ue++)if(be.P=(ct=ce[Ue])[0],ct=ct[1],2==be.v)if("c"==ct[0]){be.J=ct[1],be.ga=ct[2];var Dt=ct[3];null!=Dt&&(be.ha=Dt,be.c.info("VER="+be.ha));var Mn=ct[4];null!=Mn&&(be.pa=Mn,be.c.info("SVER="+be.pa));var Br=ct[5];if(null!=Br&&"number"==typeof Br&&0<Br){var _r=1.5*Br;be.D=_r,be.c.info("backChannelRequestTimeoutMs_="+_r)}_r=be;var Wi=x.a;if(Wi){var $o=Wi.a?Wi.a.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var Es=_r.b;!Es.a&&(R($o,"spdy")||R($o,"quic")||R($o,"h2"))&&(Es.f=Es.g,Es.a=new Set,Es.b&&(li(Es,Es.b),Es.b=null))}if(_r.A){var Rs=Wi.a?Wi.a.getResponseHeader("X-HTTP-Session-Id"):null;Rs&&(_r.na=Rs,di(_r.B,_r.A,Rs))}}be.v=3,be.f&&be.f.ta(),be.V&&(be.N=ee()-x.u,be.c.info("Handshake RTT: "+be.N+"ms"));var Ys=x;if((_r=be).la=as(_r,_r.C?_r.ga:null,_r.fa),Ys.C){$i(_r.b,Ys);var Pi=Ys,ji=_r.D;ji&&Pi.setTimeout(ji),Pi.o&&(ua(Pi),Qr(Pi)),_r.a=Ys}else ca(_r);0<be.g.length&&Qi(be)}else"stop"!=ct[0]&&"close"!=ct[0]||Ks(be,7);else 3==be.v&&("stop"==ct[0]||"close"==ct[0]?"stop"==ct[0]?Ks(be,7):jl(be):"noop"!=ct[0]&&be.f&&be.f.sa(ct),be.o=0);At(4)}catch(lu){}}function Ps(x,ce){if(x.forEach&&"function"==typeof x.forEach)x.forEach(ce,void 0);else if(j(x)||"string"==typeof x)Ge(x,ce,void 0);else{if(x.L&&"function"==typeof x.L)var be=x.L();else if(x.K&&"function"==typeof x.K)be=void 0;else if(j(x)||"string"==typeof x){be=[];for(var Ue=x.length,ct=0;ct<Ue;ct++)be.push(ct)}else for(ct in be=[],Ue=0,x)be[Ue++]=ct;Ue=function(x){if(x.K&&"function"==typeof x.K)return x.K();if("string"==typeof x)return x.split("");if(j(x)){for(var ce=[],be=x.length,Ue=0;Ue<be;Ue++)ce.push(x[Ue]);return ce}for(Ue in ce=[],be=0,x)ce[be++]=x[Ue];return ce}(x),ct=Ue.length;for(var Dt=0;Dt<ct;Dt++)ce.call(void 0,Ue[Dt],be&&be[Dt],x)}}function vs(x,ce){this.b={},this.a=[],this.c=0;var be=arguments.length;if(1<be){if(be%2)throw Error("Uneven number of arguments");for(var Ue=0;Ue<be;Ue+=2)this.set(arguments[Ue],arguments[Ue+1])}else if(x)if(x instanceof vs)for(be=x.L(),Ue=0;Ue<be.length;Ue++)this.set(be[Ue],x.get(be[Ue]));else for(Ue in x)this.set(Ue,x[Ue])}function Mo(x){if(x.c!=x.a.length){for(var ce=0,be=0;ce<x.a.length;){var Ue=x.a[ce];Ro(x.b,Ue)&&(x.a[be++]=Ue),ce++}x.a.length=be}if(x.c!=x.a.length){var ct={};for(be=ce=0;ce<x.a.length;)Ro(ct,Ue=x.a[ce])||(x.a[be++]=Ue,ct[Ue]=1),ce++;x.a.length=be}}function Ro(x,ce){return Object.prototype.hasOwnProperty.call(x,ce)}(Y=io.prototype).setTimeout=function(x){this.P=x},Y.Wa=function(x){x=x.target;var ce=this.F;ce&&3==fo(x)?ce.f():this.Ca(x)},Y.Ca=function(x){try{if(x==this.a)e:{var ce=fo(this.a),be=this.a.ua(),Ue=this.a.X();if(!(3>ce||3==ce&&!rn&&!this.a.$())){this.A||4!=ce||7==be||At(8==be||0>=Ue?3:2),ua(this);var ct=this.a.X();this.N=ct;var Dt=this.a.$();if(this.b=200==ct,function(x,ce,be,Ue,ct,Dt,Mn){x.info(function(){return"XMLHTTP RESP ("+Ue+") [ attempt "+ct+"]: "+ce+"\n"+be+"\n"+Dt+" "+Mn})}(this.c,this.m,this.l,this.f,this.T,ce,ct),this.b){if(this.V&&!this.C){t:{if(this.a){var Mn,Br=this.a;if((Mn=Br.a?Br.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Mn)){var _r=Mn;break t}}_r=null}if(!_r){this.b=!1,this.h=3,vt(12),Kn(this),Oo(this);break e}Vt(this.c,this.f,_r,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gr(this,_r)}this.I?(so(this,ce,Dt),rn&&this.b&&3==ce&&(Ie(this.J,this.R,"tick",this.Va),this.R.start())):(Vt(this.c,this.f,Dt,null),gr(this,Dt)),4==ce&&Kn(this),this.b&&!this.A&&(4==ce?Gl(this.g,this):(this.b=!1,Qr(this)))}else 400==ct&&0<Dt.indexOf("Unknown SID")?(this.h=3,vt(12)):(this.h=0,vt(13)),Kn(this),Oo(this)}}}catch(Wi){}},Y.Va=function(){if(this.a){var x=fo(this.a),ce=this.a.$();this.D<ce.length&&(ua(this),so(this,x,ce),this.b&&4!=x&&Qr(this))}},Y.cancel=function(){this.A=!0,Kn(this)},Y.Ua=function(){this.o=null;var x=ee();0<=x-this.U?(function(x,ce){x.info(function(){return"TIMEOUT: "+ce})}(this.c,this.l),2!=this.H&&(At(3),vt(17)),Kn(this),this.h=2,Oo(this)):Ho(this,this.U-x)},(Y=vs.prototype).K=function(){Mo(this);for(var x=[],ce=0;ce<this.a.length;ce++)x.push(this.b[this.a[ce]]);return x},Y.L=function(){return Mo(this),this.a.concat()},Y.get=function(x,ce){return Ro(this.b,x)?this.b[x]:ce},Y.set=function(x,ce){Ro(this.b,x)||(this.c++,this.a.push(x)),this.b[x]=ce},Y.forEach=function(x,ce){for(var be=this.L(),Ue=0;Ue<be.length;Ue++){var ct=be[Ue],Dt=this.get(ct);x.call(ce,Dt,ct,this)}};var yr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function No(x,ce){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,x instanceof No){this.a=void 0!==ce?ce:x.a,Fo(this,x.f),this.j=x.j,ys(this,x.c),os(this,x.h),this.g=x.g,ce=x.b;var be=new Yt;be.c=ce.c,ce.a&&(be.a=new vs(ce.a),be.b=ce.b),Ma(this,be),this.i=x.i}else x&&(be=String(x).match(yr))?(this.a=!!ce,Fo(this,be[1]||"",!0),this.j=yo(be[2]||""),ys(this,be[3]||"",!0),os(this,be[4]),this.g=yo(be[5]||"",!0),Ma(this,be[6]||"",!0),this.i=yo(be[7]||"")):(this.a=!!ce,this.b=new Yt(null,this.a))}function Ao(x){return new No(x)}function Fo(x,ce,be){x.f=be?yo(ce,!0):ce,x.f&&(x.f=x.f.replace(/:$/,""))}function ys(x,ce,be){x.c=be?yo(ce,!0):ce}function os(x,ce){if(ce){if(ce=Number(ce),isNaN(ce)||0>ce)throw Error("Bad port number "+ce);x.h=ce}else x.h=null}function Ma(x,ce,be){ce instanceof Yt?(x.b=ce,function(x,ce){ce&&!x.f&&(zt(x),x.c=null,x.a.forEach(function(be,Ue){var ct=Ue.toLowerCase();Ue!=ct&&($t(this,Ue),Cr(this,ct,be))},x)),x.f=ce}(x.b,x.a)):(be||(ce=ge(ce,pt)),x.b=new Yt(ce,x.a))}function di(x,ce,be){x.b.set(ce,be)}function ai(x){return di(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ee()).toString(36)),x}function yo(x,ce){return x?ce?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function ge(x,ce,be){return"string"==typeof x?(x=encodeURI(x).replace(ce,pe),be&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function pe(x){return"%"+((x=x.charCodeAt(0))>>4&15).toString(16)+(15&x).toString(16)}No.prototype.toString=function(){var x=[],ce=this.f;ce&&x.push(ge(ce,Me,!0),":");var be=this.c;return(be||"file"==ce)&&(x.push("//"),(ce=this.j)&&x.push(ge(ce,Me,!0),"@"),x.push(encodeURIComponent(String(be)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(be=this.h)&&x.push(":",String(be))),(be=this.g)&&(this.c&&"/"!=be.charAt(0)&&x.push("/"),x.push(ge(be,"/"==be.charAt(0)?nt:Ye,!0))),(be=this.b.toString())&&x.push("?",be),(be=this.i)&&x.push("#",ge(be,Nt)),x.join("")};var Me=/[#\/\?@]/g,Ye=/[#\?:]/g,nt=/[#\?]/g,pt=/[#\?@]/g,Nt=/#/g;function Yt(x,ce){this.b=this.a=null,this.c=x||null,this.f=!!ce}function zt(x){x.a||(x.a=new vs,x.b=0,x.c&&function(x,ce){if(x){x=x.split("&");for(var be=0;be<x.length;be++){var Ue=x[be].indexOf("="),ct=null;if(0<=Ue){var Dt=x[be].substring(0,Ue);ct=x[be].substring(Ue+1)}else Dt=x[be];ce(Dt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(x.c,function(ce,be){x.add(decodeURIComponent(ce.replace(/\+/g," ")),be)}))}function $t(x,ce){zt(x),ce=Rn(x,ce),Ro(x.a.b,ce)&&(x.c=null,x.b-=x.a.get(ce).length,Ro((x=x.a).b,ce)&&(delete x.b[ce],x.c--,x.a.length>2*x.c&&Mo(x)))}function Sn(x,ce){return zt(x),ce=Rn(x,ce),Ro(x.a.b,ce)}function Cr(x,ce,be){$t(x,ce),0<be.length&&(x.c=null,x.a.set(Rn(x,ce),O(be)),x.b+=be.length)}function Rn(x,ce){return ce=String(ce),x.f&&(ce=ce.toLowerCase()),ce}function Or(x,ce){this.b=x,this.a=ce}function ni(x){this.g=x||pr,x=re.PerformanceNavigationTiming?0<(x=re.performance.getEntriesByType("navigation")).length&&("hq"==x[0].nextHopProtocol||"h2"==x[0].nextHopProtocol):!!(re.ia&&re.ia.ya&&re.ia.ya()&&re.ia.ya().qb),this.f=x?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Y=Yt.prototype).add=function(x,ce){zt(this),this.c=null,x=Rn(this,x);var be=this.a.get(x);return be||this.a.set(x,be=[]),be.push(ce),this.b+=1,this},Y.forEach=function(x,ce){zt(this),this.a.forEach(function(be,Ue){Ge(be,function(ct){x.call(ce,ct,Ue,this)},this)},this)},Y.L=function(){zt(this);for(var x=this.a.K(),ce=this.a.L(),be=[],Ue=0;Ue<ce.length;Ue++)for(var ct=x[Ue],Dt=0;Dt<ct.length;Dt++)be.push(ce[Ue]);return be},Y.K=function(x){zt(this);var ce=[];if("string"==typeof x)Sn(this,x)&&(ce=U(ce,this.a.get(Rn(this,x))));else{x=this.a.K();for(var be=0;be<x.length;be++)ce=U(ce,x[be])}return ce},Y.set=function(x,ce){return zt(this),this.c=null,Sn(this,x=Rn(this,x))&&(this.b-=this.a.get(x).length),this.a.set(x,[ce]),this.b+=1,this},Y.get=function(x,ce){return x&&0<(x=this.K(x)).length?String(x[0]):ce},Y.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var x=[],ce=this.a.L(),be=0;be<ce.length;be++){var Ue=ce[be],ct=encodeURIComponent(String(Ue));Ue=this.K(Ue);for(var Dt=0;Dt<Ue.length;Dt++){var Mn=ct;""!==Ue[Dt]&&(Mn+="="+encodeURIComponent(String(Ue[Dt]))),x.push(Mn)}}return this.c=x.join("&")};var pr=10;function ao(x){return!!x.b||!!x.a&&x.a.size>=x.f}function ri(x){return x.b?1:x.a?x.a.size:0}function Dr(x,ce){return x.b?x.b==ce:!!x.a&&x.a.has(ce)}function li(x,ce){x.a?x.a.add(ce):x.b=ce}function $i(x,ce){x.b&&x.b==ce?x.b=null:x.a&&x.a.has(ce)&&x.a.delete(ce)}function zo(x){var ce,be;if(null!=x.b)return x.c.concat(x.b.s);if(null!=x.a&&0!==x.a.size){var Ue=x.c;try{for(var ct=S(x.a.values()),Dt=ct.next();!Dt.done;Dt=ct.next())Ue=Ue.concat(Dt.value.s)}catch(Br){ce={error:Br}}finally{try{Dt&&!Dt.done&&(be=ct.return)&&be.call(ct)}finally{if(ce)throw ce.error}}return Ue}return O(x.c)}function gi(){}function mi(){this.a=new gi}function Os(x,ce,be){var Ue=be||"";try{Ps(x,function(ct,Dt){var Mn=ct;oe(ct)&&(Mn=Ct(ct)),ce.push(Ue+Dt+"="+encodeURIComponent(Mn))})}catch(ct){throw ce.push(Ue+"type="+encodeURIComponent("_badmap")),ct}}function Zn(x,ce,be,Ue,ct){try{ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null,ct(Ue)}catch(Dt){}}ni.prototype.cancel=function(){var x,ce;if(this.c=zo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var be=S(this.a.values()),Ue=be.next();!Ue.done;Ue=be.next())Ue.value.cancel()}catch(Dt){x={error:Dt}}finally{try{Ue&&!Ue.done&&(ce=be.return)&&ce.call(be)}finally{if(x)throw x.error}}this.a.clear()}},gi.prototype.stringify=function(x){return re.JSON.stringify(x,void 0)},gi.prototype.parse=function(x){return re.JSON.parse(x,void 0)};var Yu=re.JSON.parse;function vi(x){Qe.call(this),this.headers=new vs,this.H=x||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vr,this.D=this.F=!1}_e(vi,Qe);var Vr="",Ui=/^https?$/i,Ki=["POST","PUT"];function Bl(x){return"content-type"==x.toLowerCase()}function Zt(x,ce){x.b=!1,x.a&&(x.g=!0,x.a.abort(),x.g=!1),x.f=ce,x.h=5,Mr(x),yi(x)}function Mr(x){x.u||(x.u=!0,x.dispatchEvent("complete"),x.dispatchEvent("error"))}function _o(x){if(x.b&&void 0!==se&&(!x.s[1]||4!=fo(x)||2!=x.X()))if(x.l&&4==fo(x))He(x.za,0,x);else if(x.dispatchEvent("readystatechange"),4==fo(x)){x.b=!1;try{var Ue,ce=x.X();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var be=!0;break e;default:be=!1}if(!(Ue=be)){var ct;if(ct=0===ce){var Dt=String(x.B).match(yr)[1]||null;if(!Dt&&re.self&&re.self.location){var Mn=re.self.location.protocol;Dt=Mn.substr(0,Mn.length-1)}ct=!Ui.test(Dt?Dt.toLowerCase():"")}Ue=ct}if(Ue)x.dispatchEvent("complete"),x.dispatchEvent("success");else{x.h=6;try{var Br=2<fo(x)?x.a.statusText:""}catch(_r){Br=""}x.f=Br+" ["+x.X()+"]",Mr(x)}}finally{yi(x)}}}function yi(x,ce){if(x.a){gl(x);var be=x.a,Ue=x.s[0]?fe:null;x.a=null,x.s=null,ce||x.dispatchEvent("ready");try{be.onreadystatechange=Ue}catch(ct){}}}function gl(x){x.a&&x.D&&(x.a.ontimeout=null),x.m&&(re.clearTimeout(x.m),x.m=null)}function fo(x){return x.a?x.a.readyState:0}function Bi(x,ce,be){e:{for(Ue in be){var Ue=!1;break e}Ue=!0}Ue||(be=function(x){var ce="";return Ne(x,function(be,Ue){ce+=Ue,ce+=":",ce+=be,ce+="\r\n"}),ce}(be),"string"==typeof x?null!=be&&encodeURIComponent(String(be)):di(x,ce,be))}function Do(x,ce,be){return be&&be.internalChannelParams&&be.internalChannelParams[x]||ce}function au(x){this.pa=0,this.g=[],this.c=new et,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Do("failFast",!1,x),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Do("baseRetryDelayMs",5e3,x),this.Ma=Do("retryDelaySeedMs",1e4,x),this.Ja=Do("forwardChannelMaxRetries",2,x),this.ma=Do("forwardChannelRequestTimeoutMs",2e4,x),this.Ka=x&&x.g||void 0,this.D=void 0,this.C=x&&x.supportsCrossDomainXhr||!1,this.J="",this.b=new ni(x&&x.concurrentRequestLimit),this.ka=new mi,this.da=x&&x.fastHandshake||!1,this.Ga=x&&x.b||!1,x&&x.f&&(this.c.a=!1),x&&x.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&x&&x.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function jl(x){if(_s(x),3==x.v){var ce=x.R++,be=Ao(x.B);di(be,"SID",x.J),di(be,"RID",ce),di(be,"TYPE","terminate"),Ti(x,be),(ce=new io(x,x.c,ce,void 0)).H=2,ce.i=ai(Ao(be)),be=!1,re.navigator&&re.navigator.sendBeacon&&(be=re.navigator.sendBeacon(ce.i.toString(),"")),!be&&re.Image&&((new Image).src=ce.i,be=!0),be||(ce.a=ha(ce.g,null),ce.a.ba(ce.i)),ce.u=ee(),Qr(ce)}bs(x)}function Yi(x){x.a&&(Hl(x),x.a.cancel(),x.a=null)}function _s(x){Yi(x),x.j&&(re.clearTimeout(x.j),x.j=null),Ra(x),x.b.cancel(),x.h&&("number"==typeof x.h&&re.clearTimeout(x.h),x.h=null)}function Ci(x,ce){x.g.push(new Or(x.La++,ce)),3==x.v&&Qi(x)}function Qi(x){ao(x.b)||x.h||(x.h=!0,In(x.Ba,x),x.u=0)}function Zr(x,ce){var be;be=ce?ce.f:x.R++;var Ue=Ao(x.B);di(Ue,"SID",x.J),di(Ue,"RID",be),di(Ue,"AID",x.P),Ti(x,Ue),x.i&&x.l&&Bi(Ue,x.i,x.l),be=new io(x,x.c,be,x.u+1),null===x.i&&(be.B=x.l),ce&&(x.g=ce.s.concat(x.g)),ce=rl(x,be,1e3),be.setTimeout(Math.round(.5*x.ma)+Math.round(.5*x.ma*Math.random())),li(x.b,be),ho(be,Ue,ce)}function Ti(x,ce){x.f&&Ps({},function(be,Ue){di(ce,Ue,be)})}function rl(x,ce,be){be=Math.min(x.g.length,be);var Ue=x.f?z(x.f.Ha,x.f,x):null;e:for(var ct=x.g,Dt=-1;;){var Mn=["count="+be];-1==Dt?0<be?Mn.push("ofs="+(Dt=ct[0].b)):Dt=0:Mn.push("ofs="+Dt);for(var Br=!0,_r=0;_r<be;_r++){var Wi=ct[_r].b,$o=ct[_r].a;if(0>(Wi-=Dt))Dt=Math.max(0,ct[_r].b-100),Br=!1;else try{Os($o,Mn,"req"+Wi+"_")}catch(Es){Ue&&Ue($o)}}if(Br){Ue=Mn.join("&");break e}}return x=x.g.splice(0,be),ce.s=x,Ue}function ca(x){x.a||x.j||(x.U=1,In(x.Aa,x),x.o=0)}function $s(x){return!(x.a||x.j||3<=x.o||(x.U++,x.j=Kt(z(x.Aa,x),Wo(x,x.o)),x.o++,0))}function Hl(x){null!=x.s&&(re.clearTimeout(x.s),x.s=null)}function vl(x){x.a=new io(x,x.c,"rpc",x.U),null===x.i&&(x.a.B=x.l),x.a.O=0;var ce=Ao(x.la);di(ce,"RID","rpc"),di(ce,"SID",x.J),di(ce,"CI",x.H?"0":"1"),di(ce,"AID",x.P),Ti(x,ce),di(ce,"TYPE","xmlhttp"),x.i&&x.l&&Bi(ce,x.i,x.l),x.D&&x.a.setTimeout(x.D);var be=x.a;x=x.ga,be.H=1,be.i=ai(Ao(ce)),be.j=null,be.I=!0,ur(be,x)}function Ra(x){null!=x.m&&(re.clearTimeout(x.m),x.m=null)}function Gl(x,ce){var be=null;if(x.a==ce){Ra(x),Hl(x),x.a=null;var Ue=2}else{if(!Dr(x.b,ce))return;be=ce.s,$i(x.b,ce),Ue=1}if(x.I=ce.N,0!=x.v)if(ce.b)if(1==Ue){be=ce.j?ce.j.length:0,ce=ee()-ce.u;var ct=x.u;(Ue=hn()).dispatchEvent(new _n(Ue,be,ce,ct)),Qi(x)}else ca(x);else if(3==(ct=ce.h)||0==ct&&0<x.I||!(1==Ue&&function(x,ce){return!(ri(x.b)>=x.b.f-(x.h?1:0)||(x.h?(x.g=ce.s.concat(x.g),0):1==x.v||2==x.v||x.u>=(x.Ia?0:x.Ja)||(x.h=Kt(z(x.Ba,x,ce),Wo(x,x.u)),x.u++,0)))}(x,ce)||2==Ue&&$s(x)))switch(be&&0<be.length&&(ce=x.b,ce.c=ce.c.concat(be)),ct){case 1:Ks(x,5);break;case 4:Ks(x,10);break;case 3:Ks(x,6);break;default:Ks(x,2)}}function Wo(x,ce){var be=x.Fa+Math.floor(Math.random()*x.Ma);return x.f||(be*=2),be*ce}function Ks(x,ce){if(x.c.info("Error code "+ce),2==ce){var be=null;x.f&&(be=null);var Ue=z(x.Xa,x);be||(be=new No("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Fo(be,"https"),ai(be)),function(x,ce){var be=new et;if(re.Image){var Ue=new Image;Ue.onload=K(Zn,be,Ue,"TestLoadImage: loaded",!0,ce),Ue.onerror=K(Zn,be,Ue,"TestLoadImage: error",!1,ce),Ue.onabort=K(Zn,be,Ue,"TestLoadImage: abort",!1,ce),Ue.ontimeout=K(Zn,be,Ue,"TestLoadImage: timeout",!1,ce),re.setTimeout(function(){Ue.ontimeout&&Ue.ontimeout()},1e4),Ue.src=x}else ce(!1)}(be.toString(),Ue)}else vt(2);x.v=0,x.f&&x.f.ra(ce),bs(x),_s(x)}function bs(x){x.v=0,x.I=-1,x.f&&((0!=zo(x.b).length||0!=x.g.length)&&(x.b.c.length=0,O(x.g),x.g.length=0),x.f.qa())}function as(x,ce,be){var Ue=function(x){return x instanceof No?Ao(x):new No(x,void 0)}(be);if(""!=Ue.c)ce&&ys(Ue,ce+"."+Ue.c),os(Ue,Ue.h);else{var ct=re.location;Ue=function(x,ce,be,Ue){var ct=new No(null,void 0);return x&&Fo(ct,x),ce&&ys(ct,ce),be&&os(ct,be),Ue&&(ct.g=Ue),ct}(ct.protocol,ce?ce+"."+ct.hostname:ct.hostname,+ct.port,be)}return x.W&&Ne(x.W,function(Dt,Mn){di(Ue,Mn,Dt)}),be=x.na,(ce=x.A)&&be&&di(Ue,ce,be),di(Ue,"VER",x.ha),Ti(x,Ue),Ue}function ha(x,ce){if(ce&&!x.C)throw Error("Can't create secondary domain capable XhrIo object.");return(ce=new vi(x.Ka)).F=x.C,ce}function ls(){}function ka(){if(Ft&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function Kr(x,ce){Qe.call(this),this.a=new au(ce),this.l=x,this.b=ce&&ce.messageUrlParams||null,x=ce&&ce.messageHeaders||null,ce&&ce.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.a.l=x,x=ce&&ce.initMessageHeaders||null,ce&&ce.messageContentType&&(x?x["X-WebChannel-Content-Type"]=ce.messageContentType:x={"X-WebChannel-Content-Type":ce.messageContentType}),ce&&ce.a&&(x?x["X-WebChannel-Client-Profile"]=ce.a:x={"X-WebChannel-Client-Profile":ce.a}),this.a.O=x,(x=ce&&ce.httpHeadersOverwriteParam)&&!H(x)&&(this.a.i=x),this.h=ce&&ce.supportsCrossDomainXhr||!1,this.g=ce&&ce.sendRawJson||!1,(ce=ce&&ce.httpSessionIdParam)&&!H(ce)&&(this.a.A=ce,null!==(x=this.b)&&ce in x&&ce in(x=this.b)&&delete x[ce]),this.f=new ui(this)}function Na(x){Po.call(this);var ce=x.__sm__;if(ce){e:{for(var be in ce){x=be;break e}x=void 0}(this.c=x)?(x=this.c,this.data=null!==ce&&x in ce?ce[x]:void 0):this.data=ce}else this.data=x}function vn(){ro.call(this),this.status=1}function ui(x){this.a=x}(Y=vi.prototype).ba=function(x,ce,be,Ue){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+x);ce=ce?ce.toUpperCase():"GET",this.B=x,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(x){var ce;return(ce=x.a)||(ce=x.a={}),ce}(this.H?this.H:jo),this.a.onreadystatechange=z(this.za,this);try{this.A=!0,this.a.open(ce,String(x),!0),this.A=!1}catch(Dt){return void Zt(this,Dt)}x=be||"";var ct=new vs(this.headers);Ue&&Ps(Ue,function(Dt,Mn){ct.set(Mn,Dt)}),Ue=function(x){e:{for(var ce=Bl,be=x.length,Ue="string"==typeof x?x.split(""):x,ct=0;ct<be;ct++)if(ct in Ue&&ce.call(void 0,Ue[ct],ct,x)){ce=ct;break e}ce=-1}return 0>ce?null:"string"==typeof x?x.charAt(ce):x[ce]}(ct.L()),be=re.FormData&&x instanceof re.FormData,!(0<=xe(Ki,ce))||Ue||be||ct.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ct.forEach(function(Dt,Mn){this.a.setRequestHeader(Mn,Dt)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{gl(this),0<this.o&&((this.D=function(x){return Ft&&zn(9)&&"number"==typeof x.timeout&&void 0!==x.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=z(this.xa,this)):this.m=He(this.xa,this.o,this)),this.l=!0,this.a.send(x),this.l=!1}catch(Dt){Zt(this,Dt)}},Y.xa=function(){void 0!==se&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Y.abort=function(x){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=x||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yi(this))},Y.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yi(this,!0)),vi.S.G.call(this)},Y.za=function(){this.j||(this.A||this.l||this.g?_o(this):this.Ta())},Y.Ta=function(){_o(this)},Y.X=function(){try{return 2<fo(this)?this.a.status:-1}catch(x){return-1}},Y.$=function(){try{return this.a?this.a.responseText:""}catch(x){return""}},Y.Na=function(x){if(this.a){var ce=this.a.responseText;return x&&0==ce.indexOf(x)&&(ce=ce.substring(x.length)),Yu(ce)}},Y.ua=function(){return this.h},Y.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Y=au.prototype).ha=8,Y.v=1,Y.Ba=function(x){if(this.h)if(this.h=null,1==this.v){if(!x){this.R=Math.floor(1e5*Math.random()),x=this.R++;var Ue,ce=new io(this,this.c,x,void 0),be=this.l;if(this.O&&(be?$e(be=ut(be),this.O):be=this.O),null===this.i&&(ce.B=be),this.da)e:{for(var ct=Ue=0;ct<this.g.length;ct++){var Dt=this.g[ct];if(void 0===(Dt="__data__"in Dt.a&&"string"==typeof(Dt=Dt.a.__data__)?Dt.length:void 0))break;if(4096<(Ue+=Dt)){Ue=ct;break e}if(4096===Ue||ct===this.g.length-1){Ue=ct+1;break e}}Ue=1e3}else Ue=1e3;Ue=rl(this,ce,Ue),di(ct=Ao(this.B),"RID",x),di(ct,"CVER",22),this.A&&di(ct,"X-HTTP-Session-Id",this.A),Ti(this,ct),this.i&&be&&Bi(ct,this.i,be),li(this.b,ce),this.Ga&&di(ct,"TYPE","init"),this.da?(di(ct,"$req",Ue),di(ct,"SID","null"),ce.V=!0,ho(ce,ct,null)):ho(ce,ct,Ue),this.v=2}}else 3==this.v&&(x?Zr(this,x):0==this.g.length||ao(this.b)||Zr(this))},Y.Aa=function(){if(this.j=null,vl(this),this.V&&!(this.F||null==this.a||0>=this.N)){var x=2*this.N;this.c.info("BP detection timer enabled: "+x),this.s=Kt(z(this.Sa,this),x)}},Y.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Yi(this),vl(this))},Y.Ra=function(){null!=this.m&&(this.m=null,Yi(this),$s(this),vt(19))},Y.Xa=function(x){x?(this.c.info("Successfully pinged google.com"),vt(2)):(this.c.info("Failed to ping google.com"),vt(1))},(Y=ls.prototype).ta=function(){},Y.sa=function(){},Y.ra=function(){},Y.qa=function(){},Y.Ha=function(){},ka.prototype.a=function(x,ce){return new Kr(x,ce)},_e(Kr,Qe),(Y=Kr.prototype).addEventListener=function(x,ce,be,Ue){Kr.S.addEventListener.call(this,x,ce,be,Ue)},Y.removeEventListener=function(x,ce,be,Ue){Kr.S.removeEventListener.call(this,x,ce,be,Ue)},Y.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var x=this.a,ce=this.l,be=this.b||void 0;vt(0),x.fa=ce,x.W=be||{},x.H=x.T,x.B=as(x,null,x.fa),Qi(x)},Y.close=function(){jl(this.a)},Y.Pa=function(x){if("string"==typeof x){var ce={};ce.__data__=x,Ci(this.a,ce)}else this.g?((ce={}).__data__=Ct(x),Ci(this.a,ce)):Ci(this.a,x)},Y.G=function(){this.a.f=null,delete this.f,jl(this.a),delete this.a,Kr.S.G.call(this)},_e(Na,Po),_e(vn,ro),_e(ui,ls),ui.prototype.ta=function(){this.a.dispatchEvent("a")},ui.prototype.sa=function(x){this.a.dispatchEvent(new Na(x))},ui.prototype.ra=function(x){this.a.dispatchEvent(new vn(x))},ui.prototype.qa=function(){this.a.dispatchEvent("b")},ka.prototype.createWebChannel=ka.prototype.a,Kr.prototype.send=Kr.prototype.Pa,Kr.prototype.open=Kr.prototype.Oa,Kr.prototype.close=Kr.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Xn.COMPLETE="complete",wr.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",Qe.prototype.listen=Qe.prototype.va,vi.prototype.listenOnce=vi.prototype.wa,vi.prototype.getLastError=vi.prototype.Qa,vi.prototype.getLastErrorCode=vi.prototype.ua,vi.prototype.getStatus=vi.prototype.X,vi.prototype.getResponseJson=vi.prototype.Na,vi.prototype.getResponseText=vi.prototype.$,vi.prototype.send=vi.prototype.ba;var Si=function(){return new ka},qo=tr,Jr=Xn,xo=wr,zl=vi;const Fi={createWebChannelTransport:Si,ErrorCode:tr,EventType:Xn,WebChannel:wr,XhrIo:vi}},3264:(h,m,v)=>{"use strict";var t=v(5e3);let C=null;function S(){return C}const re=new t.OlP("DocumentToken");let fe=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:function(){return(0,t.LFG)(oe)},providedIn:"platform"}),r})();const j=new t.OlP("Location Initialized");let oe=(()=>{class r extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(e){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,d){X()?this._history.pushState(e,o,d):this.location.hash=d}replaceState(e,o,d){X()?this._history.replaceState(e,o,d):this.location.hash=d}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re))},r.\u0275prov=t.Yz7({token:r,factory:function(){return new oe((0,t.LFG)(re))},providedIn:"platform"}),r})();function X(){return!!window.history.pushState}function me(r,n){if(0==r.length)return n;if(0==n.length)return r;let e=0;return r.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?r+n.substring(1):1==e?r+n:r+"/"+n}function le(r){const n=r.match(/#|\?|$/),e=n&&n.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function W(r){return r&&"?"!==r[0]?"?"+r:r}let z=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:function(){return function(r){const n=(0,t.LFG)(re).location;return new _e((0,t.LFG)(fe),n&&n.origin||"")}()},providedIn:"root"}),r})();const ee=new t.OlP("appBaseHref");let _e=(()=>{class r extends z{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return me(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+W(this._platformLocation.search),d=this._platformLocation.hash;return d&&e?`${o}${d}`:o}pushState(e,o,d,E){const N=this.prepareExternalUrl(d+W(E));this._platformLocation.pushState(e,o,N)}replaceState(e,o,d,E){const N=this.prepareExternalUrl(d+W(E));this._platformLocation.replaceState(e,o,N)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,d;null===(d=(o=this._platformLocation).historyGo)||void 0===d||d.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(fe),t.LFG(ee,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),ve=(()=>{class r extends z{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=me(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,d,E){let N=this.prepareExternalUrl(d+W(E));0==N.length&&(N=this._platformLocation.pathname),this._platformLocation.pushState(e,o,N)}replaceState(e,o,d,E){let N=this.prepareExternalUrl(d+W(E));0==N.length&&(N=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,N)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,d;null===(d=(o=this._platformLocation).historyGo)||void 0===d||d.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(fe),t.LFG(ee,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Ae=(()=>{class r{constructor(e,o){this._subject=new t.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const d=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=le(k(d)),this._platformStrategy.onPopState(E=>{this._subject.emit({url:this.path(!0),pop:!0,state:E.state,type:E.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+W(o))}normalize(e){return r.stripTrailingSlash(function(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,k(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",d=null){this._platformStrategy.pushState(d,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+W(o)),d)}replaceState(e,o="",d=null){this._platformStrategy.replaceState(d,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+W(o)),d)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,d;null===(d=(o=this._platformStrategy).historyGo)||void 0===d||d.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(d=>d(e,o))}subscribe(e,o,d){return this._subject.subscribe({next:e,error:o,complete:d})}}return r.normalizeQueryParams=W,r.joinWithSlash=me,r.stripTrailingSlash=le,r.\u0275fac=function(e){return new(e||r)(t.LFG(z),t.LFG(fe))},r.\u0275prov=t.Yz7({token:r,factory:function(){return new Ae((0,t.LFG)(z),(0,t.LFG)(fe))},providedIn:"root"}),r})();function k(r){return r.replace(/\/index.html$/,"")}var H=(()=>((H=H||{})[H.Zero=0]="Zero",H[H.One=1]="One",H[H.Two=2]="Two",H[H.Few=3]="Few",H[H.Many=4]="Many",H[H.Other=5]="Other",H))();const Cn=t.kL8;class mt{}let cn=(()=>{class r extends mt{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Cn(o||this.locale)(e)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.soG))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function Qt(r,n){n=encodeURIComponent(n);for(const e of r.split(";")){const o=e.indexOf("="),[d,E]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(d.trim()===n)return decodeURIComponent(E)}return null}let hn=(()=>{class r{constructor(e,o,d,E){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=d,this._renderer=E,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(d=>{o?this._renderer.addClass(this._ngEl.nativeElement,d):this._renderer.removeClass(this._ngEl.nativeElement,d)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class At{constructor(n,e,o,d){this.$implicit=n,this.ngForOf=e,this.index=o,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Et=(()=>{class r{constructor(e,o,d){this._viewContainer=e,this._template=o,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((d,E,N)=>{if(null==d.previousIndex)o.createEmbeddedView(this._template,new At(d.item,this._ngForOf,-1,-1),null===N?void 0:N);else if(null==N)o.remove(null===E?void 0:E);else if(null!==E){const ne=o.get(E);o.move(ne,N),vt(ne,d)}});for(let d=0,E=o.length;d<E;d++){const ne=o.get(d).context;ne.index=d,ne.count=E,ne.ngForOf=this._ngForOf}e.forEachIdentityChange(d=>{vt(o.get(d.currentIndex),d)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();function vt(r,n){r.context.$implicit=n.item}let Kt=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new tr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.s_b),t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class tr{constructor(){this.$implicit=null,this.ngIf=null}}function Xn(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,t.AaK)(n)}'.`)}let fi=(()=>{class r{constructor(e,o,d){this._ngEl=e,this._differs=o,this._renderer=d,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[d,E]=e.split(".");null!=(o=null!=o&&E?`${o}${E}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,d,o):this._renderer.removeStyle(this._ngEl.nativeElement,d)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.aQg),t.Y36(t.Qsj))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),io=(()=>{class r{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.s_b))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[t.TTD]}),r})();class wi{createSubscription(n,e){return n.subscribe({next:e,error:o=>{throw o}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class ho{createSubscription(n,e){return n.then(e,o=>{throw o})}dispose(n){}onDestroy(n){}}const ur=new ho,so=new wi;let xs=(()=>{class r{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,t.QGY)(e))return ur;if((0,t.F4k)(e))return so;throw function(r,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,t.AaK)(r)}'`)}(r,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO,16))},r.\u0275pipe=t.Yjl({name:"async",type:r,pure:!1}),r})(),ai=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[{provide:mt,useClass:cn}]}),r})();const Go="browser";function pe(r){return r===Go}function Me(r){return"server"===r}let Nt=(()=>{class r{}return r.\u0275prov=(0,t.Yz7)({token:r,providedIn:"root",factory:()=>new Yt((0,t.LFG)(re),window)}),r})();class Yt{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(r,n){const e=r.getElementById(n)||r.getElementsByName(n)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let d=o.currentNode;for(;d;){const E=d.shadowRoot;if(E){const N=E.getElementById(n)||E.querySelector(`[name="${n}"]`);if(N)return N}d=o.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),o=e.left+this.window.pageXOffset,d=e.top+this.window.pageYOffset,E=this.offset();this.window.scrollTo(o-E[0],d-E[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=zt(this.window.history)||zt(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function zt(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Cr{}class ti extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new ti,C||(C=r)}onAndCancel(n,e,o){return n.addEventListener(e,o,!1),()=>{n.removeEventListener(e,o,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(Or=Or||document.querySelector("base"),Or?Or.getAttribute("href"):null);return null==e?null:function(r){pr=pr||document.createElement("a"),pr.setAttribute("href",r);const n=pr.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Or=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Qt(document.cookie,n)}}let pr,Or=null;const ri=new t.OlP("TRANSITION_ID"),li=[{provide:t.ip1,useFactory:function(r,n,e){return()=>{e.get(t.CZH).donePromise.then(()=>{const o=S(),d=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let E=0;E<d.length;E++)o.remove(d[E])})}},deps:[ri,re,t.zs3],multi:!0}];class $i{static init(){(0,t.VLi)(new $i)}addToWindow(n){t.dqk.getAngularTestability=(o,d=!0)=>{const E=n.findTestabilityInTree(o,d);if(null==E)throw new Error("Could not find testability for element.");return E},t.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),t.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),t.dqk.frameworkStabilizers||(t.dqk.frameworkStabilizers=[]),t.dqk.frameworkStabilizers.push(o=>{const d=t.dqk.getAllAngularTestabilities();let E=d.length,N=!1;const ne=function(Ee){N=N||Ee,E--,0==E&&o(N)};d.forEach(function(Ee){Ee.whenStable(ne)})})}findTestabilityInTree(n,e,o){if(null==e)return null;const d=n.getTestability(e);return null!=d?d:o?S().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let zo=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const gi=new t.OlP("EventManagerPlugins");let mi=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(d=>d.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,d){return this._findPluginFor(o).addEventListener(e,o,d)}addGlobalEventListener(e,o,d){return this._findPluginFor(o).addGlobalEventListener(e,o,d)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const d=this._plugins;for(let E=0;E<d.length;E++){const N=d[E];if(N.supports(e))return this._eventNameToPlugin.set(e,N),N}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(gi),t.LFG(t.R0b))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class Os{constructor(n){this._doc=n}addGlobalEventListener(n,e,o){const d=S().getGlobalEventTarget(this._doc,n);if(!d)throw new Error(`Unsupported event target ${d} for event ${e}`);return this.addEventListener(d,e,o)}}let ss=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),o.add(d))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Zn=(()=>{class r extends ss{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,d){e.forEach(E=>{const N=this._doc.createElement("style");N.textContent=E,d.push(o.appendChild(N))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Yu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,d)=>{this._addStylesToHost(e,d,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Yu))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function Yu(r){S().remove(r)}const vi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vr=/%COMP%/g;function _o(r,n,e){for(let o=0;o<n.length;o++){let d=n[o];Array.isArray(d)?_o(r,d,e):(d=d.replace(Vr,r),e.push(d))}return e}function yi(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let fo=(()=>{class r{constructor(e,o,d){this.eventManager=e,this.sharedStylesHost=o,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new _i(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case t.ifc.Emulated:{let d=this.rendererByCompId.get(o.id);return d||(d=new au(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,d)),d.applyToHost(e),d}case 1:case t.ifc.ShadowDom:return new jl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const d=_o(o.id,o.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(mi),t.LFG(Zn),t.LFG(t.AFp))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class _i{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(vi[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,o){n&&n.insertBefore(e,o)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return e||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,o,d){if(d){e=d+":"+e;const E=vi[d];E?n.setAttributeNS(E,e,o):n.setAttribute(e,o)}else n.setAttribute(e,o)}removeAttribute(n,e,o){if(o){const d=vi[o];d?n.removeAttributeNS(d,e):n.removeAttribute(`${o}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,o,d){d&(t.JOm.DashCase|t.JOm.Important)?n.style.setProperty(e,o,d&t.JOm.Important?"important":""):n.style[e]=o}removeStyle(n,e,o){o&t.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,o){n[e]=o}setValue(n,e){n.nodeValue=e}listen(n,e,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,yi(o)):this.eventManager.addEventListener(n,e,yi(o))}}class au extends _i{constructor(n,e,o,d){super(n),this.component=o;const E=_o(d+"-"+o.id,o.styles,[]);e.addStyles(E),this.contentAttr="_ngcontent-%COMP%".replace(Vr,d+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Vr,d+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const o=super.createElement(n,e);return super.setAttribute(o,this.contentAttr,""),o}}class jl extends _i{constructor(n,e,o,d){super(n),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=_o(d.id,d.styles,[]);for(let N=0;N<E.length;N++){const ne=document.createElement("style");ne.textContent=E[N],this.shadowRoot.appendChild(ne)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,o){return super.insertBefore(this.nodeOrShadowRoot(n),e,o)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Yi=(()=>{class r extends Os{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,d){return e.addEventListener(o,d,!1),()=>this.removeEventListener(e,o,d)}removeEventListener(e,o,d){return e.removeEventListener(o,d)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const _s=["alt","control","meta","shift"],Qi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Ti=(()=>{class r extends Os{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,d){const E=r.parseEventName(o),N=r.eventCallback(E.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(e,E.domEventName,N))}static parseEventName(e){const o=e.toLowerCase().split("."),d=o.shift();if(0===o.length||"keydown"!==d&&"keyup"!==d)return null;const E=r._normalizeKey(o.pop());let N="";if(_s.forEach(Ee=>{const Le=o.indexOf(Ee);Le>-1&&(o.splice(Le,1),N+=Ee+".")}),N+=E,0!=o.length||0===E.length)return null;const ne={};return ne.domEventName=d,ne.fullKey=N,ne}static getEventFullKey(e){let o="",d=function(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&xi.hasOwnProperty(n)&&(n=xi[n]))}return Qi[n]||n}(e);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),_s.forEach(E=>{E!=d&&Zr[E](e)&&(o+=E+".")}),o+=d,o}static eventCallback(e,o,d){return E=>{r.getEventFullKey(E)===e&&d.runGuarded(()=>o(E))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const Ra=(0,t.eFA)(t._c5,"browser",[{provide:t.Lbi,useValue:Go},{provide:t.g9A,useValue:function(){ti.makeCurrent(),$i.init()},multi:!0},{provide:re,useFactory:function(){return(0,t.RDi)(document),document},deps:[]}]),Gl=[{provide:t.zSh,useValue:"root"},{provide:t.qLn,useFactory:function(){return new t.qLn},deps:[]},{provide:gi,useClass:Yi,multi:!0,deps:[re,t.R0b,t.Lbi]},{provide:gi,useClass:Ti,multi:!0,deps:[re]},{provide:fo,useClass:fo,deps:[mi,Zn,t.AFp]},{provide:t.FYo,useExisting:fo},{provide:ss,useExisting:Zn},{provide:Zn,useClass:Zn,deps:[re]},{provide:t.dDg,useClass:t.dDg,deps:[t.R0b]},{provide:mi,useClass:mi,deps:[gi,t.R0b]},{provide:Cr,useClass:zo,deps:[]}];let Wo=(()=>{class r{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:r,providers:[{provide:t.AFp,useValue:e.appId},{provide:ri,useExisting:t.AFp},li]}}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(r,12))},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:Gl,imports:[ai,t.hGG]}),r})();"undefined"!=typeof window&&window;var Qn=v(9646),Ii=v(8306),Ko=v(4351),Ai=v(9300),Pn=v(4004);class Zi{}class ii{}class us{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const d=e.slice(0,o),E=d.toLowerCase(),N=e.slice(o+1).trim();this.maybeSetNormalizedName(d,E),this.headers.has(E)?this.headers.get(E).push(N):this.headers.set(E,[N])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let o=n[e];const d=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(d,o),this.maybeSetNormalizedName(e,d))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof us?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new us;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof us?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,e);const d=("a"===n.op?this.headers.get(e):void 0)||[];d.push(...o),this.headers.set(e,d);break;case"d":const E=n.value;if(E){let N=this.headers.get(e);if(!N)return;N=N.filter(ne=>-1===E.indexOf(ne)),0===N.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,N)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class Yo{encodeKey(n){return P(n)}encodeValue(n){return P(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const g=/%(\d[a-f0-9])/gi,b={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function P(r){return encodeURIComponent(r).replace(g,(n,e)=>{var o;return null!==(o=b[e])&&void 0!==o?o:n})}function G(r){return`${r}`}class ie{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Yo,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(d=>{const E=d.indexOf("="),[N,ne]=-1==E?[n.decodeKey(d),""]:[n.decodeKey(d.slice(0,E)),n.decodeValue(d.slice(E+1))],Ee=e.get(N)||[];Ee.push(ne),e.set(N,Ee)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const o=n.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(o=>{const d=n[o];Array.isArray(d)?d.forEach(E=>{e.push({param:o,value:E,op:"a"})}):e.push({param:o,value:d,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ie({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(G(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const d=o.indexOf(G(n.value));-1!==d&&o.splice(d,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Be(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function yt(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Ot(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Xt{constructor(n,e,o,d){let E;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==o?o:null,E=d):E=o,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params)),this.headers||(this.headers=new us),this.context||(this.context=new Oe),this.params){const N=this.params.toString();if(0===N.length)this.urlWithParams=e;else{const ne=e.indexOf("?");this.urlWithParams=e+(-1===ne?"?":ne<e.length-1?"&":"")+N}}else this.params=new ie,this.urlWithParams=e}serializeBody(){return null===this.body?null:Be(this.body)||yt(this.body)||Ot(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ot(this.body)?null:yt(this.body)?this.body.type||null:Be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const o=n.method||this.method,d=n.url||this.url,E=n.responseType||this.responseType,N=void 0!==n.body?n.body:this.body,ne=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,Ee=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let Le=n.headers||this.headers,ht=n.params||this.params;const bt=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(Le=Object.keys(n.setHeaders).reduce((Bt,Mt)=>Bt.set(Mt,n.setHeaders[Mt]),Le)),n.setParams&&(ht=Object.keys(n.setParams).reduce((Bt,Mt)=>Bt.set(Mt,n.setParams[Mt]),ht)),new Xt(o,d,N,{params:ht,headers:Le,context:bt,reportProgress:Ee,responseType:E,withCredentials:ne})}}var dn=(()=>((dn=dn||{})[dn.Sent=0]="Sent",dn[dn.UploadProgress=1]="UploadProgress",dn[dn.ResponseHeader=2]="ResponseHeader",dn[dn.DownloadProgress=3]="DownloadProgress",dn[dn.Response=4]="Response",dn[dn.User=5]="User",dn))();class On{constructor(n,e=200,o="OK"){this.headers=n.headers||new us,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Lr extends On{constructor(n={}){super(n),this.type=dn.ResponseHeader}clone(n={}){return new Lr({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Rr extends On{constructor(n={}){super(n),this.type=dn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Rr({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class bo extends On{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ji(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Qo=(()=>{class r{constructor(e){this.handler=e}request(e,o,d={}){let E;if(e instanceof Xt)E=e;else{let Ee,Le;Ee=d.headers instanceof us?d.headers:new us(d.headers),d.params&&(Le=d.params instanceof ie?d.params:new ie({fromObject:d.params})),E=new Xt(e,o,void 0!==d.body?d.body:null,{headers:Ee,context:d.context,params:Le,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials})}const N=(0,Qn.of)(E).pipe((0,Ko.b)(Ee=>this.handler.handle(Ee)));if(e instanceof Xt||"events"===d.observe)return N;const ne=N.pipe((0,Ai.h)(Ee=>Ee instanceof Rr));switch(d.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return ne.pipe((0,Pn.U)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ee.body}));case"blob":return ne.pipe((0,Pn.U)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof Blob))throw new Error("Response is not a Blob.");return Ee.body}));case"text":return ne.pipe((0,Pn.U)(Ee=>{if(null!==Ee.body&&"string"!=typeof Ee.body)throw new Error("Response is not a string.");return Ee.body}));default:return ne.pipe((0,Pn.U)(Ee=>Ee.body))}case"response":return ne;default:throw new Error(`Unreachable: unhandled observe type ${d.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new ie).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,d={}){return this.request("PATCH",e,Ji(d,o))}post(e,o,d={}){return this.request("POST",e,Ji(d,o))}put(e,o,d={}){return this.request("PUT",e,Ji(d,o))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Zi))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class Fn{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const qi=new t.OlP("HTTP_INTERCEPTORS");let cs=(()=>{class r{intercept(e,o){return o.handle(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const Lc=/^\)\]\}',?\n/;let La=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ii.y(o=>{const d=this.xhrFactory.build();if(d.open(e.method,e.urlWithParams),e.withCredentials&&(d.withCredentials=!0),e.headers.forEach((Mt,en)=>d.setRequestHeader(Mt,en.join(","))),e.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Mt=e.detectContentTypeHeader();null!==Mt&&d.setRequestHeader("Content-Type",Mt)}if(e.responseType){const Mt=e.responseType.toLowerCase();d.responseType="json"!==Mt?Mt:"text"}const E=e.serializeBody();let N=null;const ne=()=>{if(null!==N)return N;const Mt=1223===d.status?204:d.status,en=d.statusText||"OK",jn=new us(d.getAllResponseHeaders()),Yn=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(d)||e.url;return N=new Lr({headers:jn,status:Mt,statusText:en,url:Yn}),N},Ee=()=>{let{headers:Mt,status:en,statusText:jn,url:Yn}=ne(),ar=null;204!==en&&(ar=void 0===d.response?d.responseText:d.response),0===en&&(en=ar?200:0);let Ur=en>=200&&en<300;if("json"===e.responseType&&"string"==typeof ar){const Yr=ar;ar=ar.replace(Lc,"");try{ar=""!==ar?JSON.parse(ar):null}catch(ki){ar=Yr,Ur&&(Ur=!1,ar={error:ki,text:ar})}}Ur?(o.next(new Rr({body:ar,headers:Mt,status:en,statusText:jn,url:Yn||void 0})),o.complete()):o.error(new bo({error:ar,headers:Mt,status:en,statusText:jn,url:Yn||void 0}))},Le=Mt=>{const{url:en}=ne(),jn=new bo({error:Mt,status:d.status||0,statusText:d.statusText||"Unknown Error",url:en||void 0});o.error(jn)};let ht=!1;const bt=Mt=>{ht||(o.next(ne()),ht=!0);let en={type:dn.DownloadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(en.total=Mt.total),"text"===e.responseType&&!!d.responseText&&(en.partialText=d.responseText),o.next(en)},Bt=Mt=>{let en={type:dn.UploadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(en.total=Mt.total),o.next(en)};return d.addEventListener("load",Ee),d.addEventListener("error",Le),d.addEventListener("timeout",Le),d.addEventListener("abort",Le),e.reportProgress&&(d.addEventListener("progress",bt),null!==E&&d.upload&&d.upload.addEventListener("progress",Bt)),d.send(E),o.next({type:dn.Sent}),()=>{d.removeEventListener("error",Le),d.removeEventListener("abort",Le),d.removeEventListener("load",Ee),d.removeEventListener("timeout",Le),e.reportProgress&&(d.removeEventListener("progress",bt),null!==E&&d.upload&&d.upload.removeEventListener("progress",Bt)),d.readyState!==d.DONE&&d.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Cr))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const bf=new t.OlP("XSRF_COOKIE_NAME"),da=new t.OlP("XSRF_HEADER_NAME");class Di{}let ql=(()=>{class r{constructor(e,o,d){this.doc=e,this.platform=o,this.cookieName=d,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qt(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re),t.LFG(t.Lbi),t.LFG(bf))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Ad=(()=>{class r{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const d=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||d.startsWith("http://")||d.startsWith("https://"))return o.handle(e);const E=this.tokenService.getToken();return null!==E&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,E)})),o.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Di),t.LFG(da))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Dd=(()=>{class r{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(qi,[]);this.chain=o.reduceRight((d,E)=>new Fn(d,E),this.backend)}return this.chain.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ii),t.LFG(t.zs3))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Zs=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Ad,useClass:cs}]}}static withOptions(e={}){return{ngModule:r,providers:[e.cookieName?{provide:bf,useValue:e.cookieName}:[],e.headerName?{provide:da,useValue:e.headerName}:[]]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Ad,{provide:qi,useExisting:Ad,multi:!0},{provide:Di,useClass:ql},{provide:bf,useValue:"XSRF-TOKEN"},{provide:da,useValue:"X-XSRF-TOKEN"}]}),r})(),$l=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Qo,{provide:Zi,useClass:Dd},La,{provide:ii,useExisting:La}],imports:[[Zs.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();var Gr=v(6291),Li=v(7579),mr=v(8996),ks=v(6451),lo=v(5363),vr=v(3900),Xi=v(4707),_l=v(3099);function uu(r,n,e){var o,d;let E,N=!1;return r&&"object"==typeof r?(E=null!==(o=r.bufferSize)&&void 0!==o?o:1/0,n=null!==(d=r.windowTime)&&void 0!==d?d:1/0,N=!!r.refCount,e=r.scheduler):E=null!=r?r:1/0,(0,_l.B)({connector:()=>new Xi.t(E,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:N})}const Qu=(0,v(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Cs=v(5698),Zo=v(4482),Eo=v(5403);function Ef(r){return(0,Zo.e)((n,e)=>{let o=!1;n.subscribe(new Eo.Q(e,d=>{o=!0,e.next(d)},()=>{o||e.next(r),e.complete()}))})}function bl(r=Ns){return(0,Zo.e)((n,e)=>{let o=!1;n.subscribe(new Eo.Q(e,d=>{o=!0,e.next(d)},()=>o?e.complete():e.error(r())))})}function Ns(){return new Qu}var Fs=v(4671);function Ts(r,n){const e=arguments.length>=2;return o=>o.pipe(r?(0,Ai.h)((d,E)=>r(d,E,o)):Fs.y,(0,Cs.q)(1),e?Ef(n):bl(()=>new Qu))}var Lo=v(576);function Ss(r,n){return(0,Lo.m)(n)?(0,vr.w)(()=>r,n):(0,vr.w)(()=>r)}var il=v(9468);const Kl=new t.OlP("angularfire2.auth.use-emulator"),Uc=new t.OlP("angularfire2.auth.settings"),Lh=new t.OlP("angularfire2.auth.tenant-id"),wf=new t.OlP("angularfire2.auth.langugage-code"),cu=new t.OlP("angularfire2.auth.use-device-language"),El=new t.OlP("angularfire.auth.persistence");let Bc=(()=>{class r{constructor(e,o,d,E,N,ne,Ee,Le,ht,bt){const Bt=new Gr.HU(E),Mt=(0,Gr.ss)(Bt),en=new Li.x,jn=(0,Qn.of)(void 0).pipe((0,lo.Q)(Bt.outsideAngular),(0,vr.w)(()=>E.runOutsideAngular(()=>v.e(304).then(v.bind(v,8304)))),(0,Pn.U)(()=>(0,Gr.on)(e,E,o)),(0,Pn.U)(Yn=>E.runOutsideAngular(()=>{const ar=N,Ur=ne;return(0,Gr.sI)(`${Yn.name}.auth`,"AngularFireAuth",Yn,()=>{const Yr=E.runOutsideAngular(()=>Yn.auth());if(ar&&Yr.useEmulator(`http://${ar.join(":")}`),Ee&&(Yr.tenantId=Ee),Yr.languageCode=Le,ht&&Yr.useDeviceLanguage(),Ur)for(const[ki,Ei]of Object.entries(Ur))Yr.settings[ki]=Ei;return bt&&Yr.setPersistence(bt),Yr},[ar,Ee,Le,ht,Ur,bt])})),uu({bufferSize:1,refCount:!1}));if(Me(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Qn.of)(null);else{jn.pipe(Ts()).subscribe();const ar=jn.pipe((0,vr.w)(Ei=>Ei.getRedirectResult().then(su=>su,()=>null)),Mt,uu({bufferSize:1,refCount:!1})),Ur=Ei=>new Ii.y(su=>({unsubscribe:E.runOutsideAngular(()=>Ei(su))})),Yr=jn.pipe((0,vr.w)(Ei=>Ur(Ei.onAuthStateChanged.bind(Ei)))),ki=jn.pipe((0,vr.w)(Ei=>Ur(Ei.onIdTokenChanged.bind(Ei))));this.authState=ar.pipe(Ss(Yr),(0,il.R)(Bt.outsideAngular),(0,lo.Q)(Bt.insideAngular)),this.user=ar.pipe(Ss(ki),(0,il.R)(Bt.outsideAngular),(0,lo.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,vr.w)(Ei=>Ei?(0,mr.D)(Ei.getIdToken()):(0,Qn.of)(null))),this.idTokenResult=this.user.pipe((0,vr.w)(Ei=>Ei?(0,mr.D)(Ei.getIdTokenResult()):(0,Qn.of)(null))),this.credential=(0,ks.T)(ar,en,this.authState.pipe((0,Ai.h)(Ei=>!Ei))).pipe((0,Pn.U)(Ei=>(null==Ei?void 0:Ei.user)?Ei:null),(0,il.R)(Bt.outsideAngular),(0,lo.Q)(Bt.insideAngular))}return(0,Gr.pX)(this,jn,E,{spy:{apply:(Yn,ar,Ur)=>{(Yn.startsWith("signIn")||Yn.startsWith("createUser"))&&Ur.then(Yr=>en.next(Yr))}}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Gr.Dh),t.LFG(Gr.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Kl,8),t.LFG(Uc,8),t.LFG(Lh,8),t.LFG(wf,8),t.LFG(cu,8),t.LFG(El,8))},r.\u0275prov=t.Yz7({factory:function(){return new r(t.LFG(Gr.Dh),t.LFG(Gr.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Kl,8),t.LFG(Uc,8),t.LFG(Lh,8),t.LFG(wf,8),t.LFG(cu,8),t.LFG(El,8))},token:r,providedIn:"any"}),r})(),Zu=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Bc]}),r})();var pa=v(4986),Ls=v(8189),hu=v(3269);function fu(...r){return(0,Ls.J)(1)((0,mr.D)(r,(0,hu.yG)(r)))}function Yl(...r){const n=(0,hu.yG)(r);return(0,Zo.e)((e,o)=>{(n?fu(r,e,n):fu(r,e)).subscribe(o)})}function ma(){return(0,Zo.e)((r,n)=>{let e,o=!1;r.subscribe(new Eo.Q(n,d=>{const E=e;e=d,o&&n.next([E,d]),o=!0}))})}var wo=v(5026),po=v(1884),xd=v(3029),Co=v.n(xd);function du(r,n){return function(r,n=pa.z){return new Ii.y(e=>{let o;return null!=n?n.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},e)}):o=r.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(r,n)}function Xu(r,n){return du(r,n).pipe((0,Pn.U)(e=>({payload:e,type:"query"})))}function wl(r,n){return Xu(r,n).pipe(Yl(void 0),ma(),(0,Pn.U)(([e,o])=>{const d=o.payload.docChanges(),E=d.map(N=>({type:N.type,payload:N}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((N,ne)=>{const Ee=d.find(ht=>ht.doc.ref.isEqual(N.ref)),Le=null==e?void 0:e.payload.docs.find(ht=>ht.ref.isEqual(N.ref));Ee&&JSON.stringify(Ee.doc.metadata)===JSON.stringify(N.metadata)||!Ee&&Le&&JSON.stringify(Le.metadata)===JSON.stringify(N.metadata)||E.push({type:"modified",payload:{oldIndex:ne,newIndex:ne,type:"modified",doc:N}})}),E}))}function pu(r,n,e){return wl(r,e).pipe((0,wo.R)((o,d)=>function(r,n,e){return n.forEach(o=>{e.indexOf(o.type)>-1&&(r=function(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ua(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const e=r.slice();return e.splice(n.oldIndex,1),e.splice(n.newIndex,0,n),e}return Ua(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ua(r,n.oldIndex,1)}return r}(r,o))}),r}(o,d.map(E=>E.payload),n),[]),(0,po.x)(),(0,Pn.U)(o=>o.map(d=>({type:d.type,payload:d}))))}function Ua(r,n,e,...o){const d=r.slice();return d.splice(n,e,...o),d}function To(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}v(199);class jc{constructor(n,e,o){this.ref=n,this.query=e,this.afs=o}stateChanges(n){let e=wl(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(e=e.pipe((0,Pn.U)(o=>o.filter(d=>n.indexOf(d.type)>-1)))),e.pipe(Yl(void 0),ma(),(0,Ai.h)(([o,d])=>d.length>0||!o),(0,Pn.U)(([o,d])=>d),this.afs.keepUnstableUntilFirst)}auditTrail(n){return this.stateChanges(n).pipe((0,wo.R)((e,o)=>[...e,...o],[]))}snapshotChanges(n){const e=To(n);return pu(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(n={}){return Xu(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.U)(e=>e.payload.docs.map(o=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(n){return(0,mr.D)(this.query.get(n)).pipe((0,lo.Q)(this.afs.schedulers.insideAngular))}add(n){return this.ref.add(n)}doc(n){return new ec(this.ref.doc(n),this.afs)}}class ec{constructor(n,e){this.ref=n,this.afs=e}set(n,e){return this.ref.set(n,e)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,e){const o=this.ref.collection(n),{ref:d,query:E}=So(o,e);return new jc(d,E,this.afs)}snapshotChanges(){return(r=this.ref,n=this.afs.schedulers.outsideAngular,du(r,n).pipe(Yl(void 0),ma(),(0,Pn.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))).pipe(this.afs.keepUnstableUntilFirst);var r,n}valueChanges(n={}){return this.snapshotChanges().pipe((0,Pn.U)(({payload:e})=>n.idField?Object.assign(Object.assign({},e.data()),{[n.idField]:e.id}):e.data()))}get(n){return(0,mr.D)(this.ref.get(n)).pipe((0,lo.Q)(this.afs.schedulers.insideAngular))}}class Xs{constructor(n,e){this.query=n,this.afs=e}stateChanges(n){return n&&0!==n.length?wl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.U)(e=>e.filter(o=>n.indexOf(o.type)>-1)),(0,Ai.h)(e=>e.length>0),this.afs.keepUnstableUntilFirst):wl(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(n){return this.stateChanges(n).pipe((0,wo.R)((e,o)=>[...e,...o],[]))}snapshotChanges(n){const e=To(n);return pu(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(n={}){return Xu(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pn.U)(o=>o.payload.docs.map(d=>n.idField?Object.assign({[n.idField]:d.id},d.data()):d.data())),this.afs.keepUnstableUntilFirst)}get(n){return(0,mr.D)(this.query.get(n)).pipe((0,lo.Q)(this.afs.schedulers.insideAngular))}}const Cl=new t.OlP("angularfire2.enableFirestorePersistence"),Jo=new t.OlP("angularfire2.firestore.persistenceSettings"),sl=new t.OlP("angularfire2.firestore.settings"),Hc=new t.OlP("angularfire2.firestore.use-emulator");function So(r,n=(e=>e)){return{query:n(r),ref:r}}let al=(()=>{class r{constructor(e,o,d,E,N,ne,Ee,Le,ht){this.schedulers=new Gr.HU(ne),this.keepUnstableUntilFirst=(0,Gr.ss)(this.schedulers);const bt=(0,Gr.on)(e,ne,o);!Co().auth&&ht&&(0,Gr.yq)();const Bt=Le;[this.firestore,this.persistenceEnabled$]=(0,Gr.sI)(`${bt.name}.firestore`,"AngularFirestore",bt,()=>{const Mt=ne.runOutsideAngular(()=>bt.firestore());if(E&&Mt.settings(E),Bt&&Mt.useEmulator(...Bt),d&&!Me(N)){const en=()=>{try{return(0,mr.D)(Mt.enablePersistence(Ee||void 0).then(()=>!0,()=>!1))}catch(jn){return"undefined"!=typeof console&&console.warn(jn),(0,Qn.of)(!1)}};return[Mt,ne.runOutsideAngular(en)]}return[Mt,(0,Qn.of)(!1)]},[E,Bt,d])}collection(e,o){let d;d="string"==typeof e?this.firestore.collection(e):e;const{ref:E,query:N}=So(d,o),ne=this.schedulers.ngZone.run(()=>E);return new jc(ne,N,this)}collectionGroup(e,o){const d=o||(N=>N),E=this.firestore.collectionGroup(e);return new Xs(d(E),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const d=this.schedulers.ngZone.run(()=>o);return new ec(d,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Gr.Dh),t.LFG(Gr.xv,8),t.LFG(Cl,8),t.LFG(sl,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Jo,8),t.LFG(Hc,8),t.LFG(Kl,8))},r.\u0275prov=t.Yz7({factory:function(){return new r(t.LFG(Gr.Dh),t.LFG(Gr.xv,8),t.LFG(Cl,8),t.LFG(sl,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Jo,8),t.LFG(Hc,8),t.LFG(Kl,8))},token:r,providedIn:"any"}),r})(),gu=(()=>{class r{static enablePersistence(e){return{ngModule:r,providers:[{provide:Cl,useValue:!0},{provide:Jo,useValue:e}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[al]}),r})();class Md{}const ea="*";function Ba(r,n){return{type:7,name:r,definitions:n,options:{}}}function ta(r,n=null){return{type:4,styles:n,timings:r}}function Vh(r,n=null){return{type:2,steps:r,options:n}}function hs(r){return{type:6,styles:r,offset:null}}function ja(r,n,e){return{type:0,name:r,styles:n,options:e}}function va(r,n,e=null){return{type:1,expr:r,animation:n,options:e}}function ya(r,n=null){return{type:8,animation:r,options:n}}function Vs(r,n=null){return{type:10,animation:r,options:n}}function qc(r){Promise.resolve(null).then(r)}class yu{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class $c{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,o=0,d=0;const E=this.players.length;0==E?qc(()=>this._onFinish()):this.players.forEach(N=>{N.onDone(()=>{++e==E&&this._onFinish()}),N.onDestroy(()=>{++o==E&&this._onDestroy()}),N.onStart(()=>{++d==E&&this._onStart()})}),this.totalTime=this.players.reduce((N,ne)=>Math.max(N,ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(o=>{const d=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(d)})}getPosition(){const n=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function Uh(){return"undefined"!=typeof window&&void 0!==window.document}function Tl(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ha(r){switch(r.length){case 0:return new yu;case 1:return r[0];default:return new $c(r)}}function _u(r,n,e,o,d={},E={}){const N=[],ne=[];let Ee=-1,Le=null;if(o.forEach(ht=>{const bt=ht.offset,Bt=bt==Ee,Mt=Bt&&Le||{};Object.keys(ht).forEach(en=>{let jn=en,Yn=ht[en];if("offset"!==en)switch(jn=n.normalizePropertyName(jn,N),Yn){case"!":Yn=d[en];break;case ea:Yn=E[en];break;default:Yn=n.normalizeStyleValue(en,jn,Yn,N)}Mt[jn]=Yn}),Bt||ne.push(Mt),Le=Mt,Ee=bt}),N.length){const ht="\n - ";throw new Error(`Unable to animate due to the following errors:${ht}${N.join(ht)}`)}return ne}function ba(r,n,e,o){switch(n){case"start":r.onStart(()=>o(e&&Sl(e,"start",r)));break;case"done":r.onDone(()=>o(e&&Sl(e,"done",r)));break;case"destroy":r.onDestroy(()=>o(e&&Sl(e,"destroy",r)))}}function Sl(r,n,e){const o=e.totalTime,E=tc(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,null==o?r.totalTime:o,!!e.disabled),N=r._data;return null!=N&&(E._data=N),E}function tc(r,n,e,o,d="",E=0,N){return{element:r,triggerName:n,fromState:e,toState:o,phaseName:d,totalTime:E,disabled:!!N}}function na(r,n,e){let o;return r instanceof Map?(o=r.get(n),o||r.set(n,o=e)):(o=r[n],o||(o=r[n]=e)),o}function nc(r){const n=r.indexOf(":");return[r.substring(1,n),r.substr(n+1)]}let Kc=(r,n)=>!1,Ql=(r,n,e)=>[];(Tl()||"undefined"!=typeof Element)&&(Kc=Uh()?(r,n)=>{for(;n&&n!==document.documentElement;){if(n===r)return!0;n=n.parentNode||n.host}return!1}:(r,n)=>r.contains(n),Ql=(r,n,e)=>{let o=[];if(e){const d=r.querySelectorAll(n);for(let E=0;E<d.length;E++)o.push(d[E])}else{const d=r.querySelector(n);d&&o.push(d)}return o});let Il=null,Zl=!1;function ll(r){Il||(Il=("undefined"!=typeof document?document.body:null)||{},Zl=!!Il.style&&"WebkitAppearance"in Il.style);let n=!0;return Il.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Il.style,!n&&Zl&&(n="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Il.style)),n}const kd=Kc,Sf=Ql;function rc(r){const n={};return Object.keys(r).forEach(e=>{const o=e.replace(/([a-z])([A-Z])/g,"$1-$2");n[o]=r[e]}),n}let Yc=(()=>{class r{validateStyleProperty(e){return ll(e)}matchesElement(e,o){return!1}containsElement(e,o){return kd(e,o)}query(e,o,d){return Sf(e,o,d)}computeStyle(e,o,d){return d||""}animate(e,o,d,E,N,ne=[],Ee){return new yu(d,E)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),fs=(()=>{class r{}return r.NOOP=new Yc,r})();const ic="ng-enter",bu="ng-leave",oc="ng-trigger",Eu=".ng-trigger",Xl="ng-animating",Al=".ng-animating";function ul(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Nd(parseFloat(n[1]),n[2])}function Nd(r,n){return"s"===n?1e3*r:r}function If(r,n,e){return r.hasOwnProperty("duration")?r:function(r,n,e){let d,E=0,N="";if("string"==typeof r){const ne=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ne)return n.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};d=Nd(parseFloat(ne[1]),ne[2]);const Ee=ne[3];null!=Ee&&(E=Nd(parseFloat(Ee),ne[4]));const Le=ne[5];Le&&(N=Le)}else d=r;if(!e){let ne=!1,Ee=n.length;d<0&&(n.push("Duration values below 0 are not allowed for this animation step."),ne=!0),E<0&&(n.push("Delay values below 0 are not allowed for this animation step."),ne=!0),ne&&n.splice(Ee,0,`The provided timing value "${r}" is invalid.`)}return{duration:d,delay:E,easing:N}}(r,n,e)}function sc(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function Dl(r,n,e={}){if(n)for(let o in r)e[o]=r[o];else sc(r,e);return e}function Af(r,n,e){return e?n+":"+e+";":""}function Zc(r){let n="";for(let e=0;e<r.style.length;e++){const o=r.style.item(e);n+=Af(0,o,r.style.getPropertyValue(o))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=Af(0,xl(e),r.style[e]));r.setAttribute("style",n)}function ds(r,n,e){r.style&&(Object.keys(n).forEach(o=>{const d=Df(o);e&&!e.hasOwnProperty(o)&&(e[o]=r.style[d]),r.style[d]=n[o]}),Tl()&&Zc(r))}function cl(r,n){r.style&&(Object.keys(n).forEach(e=>{const o=Df(e);r.style[o]=""}),Tl()&&Zc(r))}function Ea(r){return Array.isArray(r)?1==r.length?r[0]:Vh(r):r}const uo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bs(r){let n=[];if("string"==typeof r){let e;for(;e=uo.exec(r);)n.push(e[1]);uo.lastIndex=0}return n}function ra(r,n,e){const o=r.toString(),d=o.replace(uo,(E,N)=>{let ne=n[N];return n.hasOwnProperty(N)||(e.push(`Please provide a value for the animation param ${N}`),ne=""),ne.toString()});return d==o?r:d}function wa(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const Ga=/-+([a-z0-9])/g;function Df(r){return r.replace(Ga,(...n)=>n[1].toUpperCase())}function xl(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cu(r,n){return 0===r||0===n}function jh(r,n,e){const o=Object.keys(e);if(o.length&&n.length){let E=n[0],N=[];if(o.forEach(ne=>{E.hasOwnProperty(ne)||N.push(ne),E[ne]=e[ne]}),N.length)for(var d=1;d<n.length;d++){let ne=n[d];N.forEach(function(Ee){ne[Ee]=ac(r,Ee)})}}return n}function ps(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function ac(r,n){return window.getComputedStyle(r)[n]}function eu(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(o=>function(r,n,e){if(":"==r[0]){const Ee=function(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return n.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,e);if("function"==typeof Ee)return void n.push(Ee);r=Ee}const o=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(`The provided transition expression "${r}" is not supported`),n;const d=o[1],E=o[2],N=o[3];n.push(Xo(d,N));"<"==E[0]&&!("*"==d&&"*"==N)&&n.push(Xo(N,d))}(o,e,n)):e.push(r),e}const Jc=new Set(["true","1"]),Ca=new Set(["false","0"]);function Xo(r,n){const e=Jc.has(r)||Ca.has(r),o=Jc.has(n)||Ca.has(n);return(d,E)=>{let N="*"==r||r==d,ne="*"==n||n==E;return!N&&e&&"boolean"==typeof d&&(N=d?Jc.has(r):Ca.has(r)),!ne&&o&&"boolean"==typeof E&&(ne=E?Jc.has(n):Ca.has(n)),N&&ne}}const uc=new RegExp("s*:selfs*,?","g");function Su(r,n,e){return new cc(r).build(n,e)}class cc{constructor(n){this._driver=n}build(n,e){const o=new Vd(e);return this._resetContextStyleTimingState(o),ps(this,Ea(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let o=e.queryCount=0,d=e.depCount=0;const E=[],N=[];return"@"==n.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(ne=>{if(this._resetContextStyleTimingState(e),0==ne.type){const Ee=ne,Le=Ee.name;Le.toString().split(/\s*,\s*/).forEach(ht=>{Ee.name=ht,E.push(this.visitState(Ee,e))}),Ee.name=Le}else if(1==ne.type){const Ee=this.visitTransition(ne,e);o+=Ee.queryCount,d+=Ee.depCount,N.push(Ee)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:E,transitions:N,queryCount:o,depCount:d,options:null}}visitState(n,e){const o=this.visitStyle(n.styles,e),d=n.options&&n.options.params||null;if(o.containsDynamicStyles){const E=new Set,N=d||{};if(o.styles.forEach(ne=>{if(Xc(ne)){const Ee=ne;Object.keys(Ee).forEach(Le=>{Bs(Ee[Le]).forEach(ht=>{N.hasOwnProperty(ht)||E.add(ht)})})}}),E.size){const ne=wa(E.values());e.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${ne.join(", ")}`)}}return{type:0,name:n.name,style:o,options:d?{params:d}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const o=ps(this,Ea(n.animation),e);return{type:1,matchers:eu(n.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:js(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(o=>ps(this,o,e)),options:js(n.options)}}visitGroup(n,e){const o=e.currentTime;let d=0;const E=n.steps.map(N=>{e.currentTime=o;const ne=ps(this,N,e);return d=Math.max(d,e.currentTime),ne});return e.currentTime=d,{type:3,steps:E,options:js(n.options)}}visitAnimate(n,e){const o=function(r,n){let e=null;if(r.hasOwnProperty("duration"))e=r;else if("number"==typeof r)return za(If(r,n).duration,0,"");const o=r;if(o.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=za(0,0,"");return E.dynamic=!0,E.strValue=o,E}return e=e||If(o,n),za(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=o;let d,E=n.styles?n.styles:hs({});if(5==E.type)d=this.visitKeyframes(E,e);else{let N=n.styles,ne=!1;if(!N){ne=!0;const Le={};o.easing&&(Le.easing=o.easing),N=hs(Le)}e.currentTime+=o.duration+o.delay;const Ee=this.visitStyle(N,e);Ee.isEmptyStep=ne,d=Ee}return e.currentAnimateTimings=null,{type:4,timings:o,style:d,options:null}}visitStyle(n,e){const o=this._makeStyleAst(n,e);return this._validateStyleAst(o,e),o}_makeStyleAst(n,e){const o=[];Array.isArray(n.styles)?n.styles.forEach(N=>{"string"==typeof N?N==ea?o.push(N):e.errors.push(`The provided style string value ${N} is not allowed.`):o.push(N)}):o.push(n.styles);let d=!1,E=null;return o.forEach(N=>{if(Xc(N)){const ne=N,Ee=ne.easing;if(Ee&&(E=Ee,delete ne.easing),!d)for(let Le in ne)if(ne[Le].toString().indexOf("{{")>=0){d=!0;break}}}),{type:6,styles:o,easing:E,offset:n.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(n,e){const o=e.currentAnimateTimings;let d=e.currentTime,E=e.currentTime;o&&E>0&&(E-=o.duration+o.delay),n.styles.forEach(N=>{"string"!=typeof N&&Object.keys(N).forEach(ne=>{if(!this._driver.validateStyleProperty(ne))return void e.errors.push(`The provided animation property "${ne}" is not a supported CSS property for animations`);const Ee=e.collectedStyles[e.currentQuerySelector],Le=Ee[ne];let ht=!0;Le&&(E!=d&&E>=Le.startTime&&d<=Le.endTime&&(e.errors.push(`The CSS property "${ne}" that exists between the times of "${Le.startTime}ms" and "${Le.endTime}ms" is also being animated in a parallel animation between the times of "${E}ms" and "${d}ms"`),ht=!1),E=Le.startTime),ht&&(Ee[ne]={startTime:E,endTime:d}),e.options&&function(r,n,e){const o=n.params||{},d=Bs(r);d.length&&d.forEach(E=>{o.hasOwnProperty(E)||e.push(`Unable to resolve the local animation param ${E} in the given list of values`)})}(N[ne],e.options,e.errors)})})}visitKeyframes(n,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),o;let E=0;const N=[];let ne=!1,Ee=!1,Le=0;const ht=n.steps.map(ar=>{const Ur=this._makeStyleAst(ar,e);let Yr=null!=Ur.offset?Ur.offset:function(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(Xc(e)&&e.hasOwnProperty("offset")){const o=e;n=parseFloat(o.offset),delete o.offset}});else if(Xc(r)&&r.hasOwnProperty("offset")){const e=r;n=parseFloat(e.offset),delete e.offset}return n}(Ur.styles),ki=0;return null!=Yr&&(E++,ki=Ur.offset=Yr),Ee=Ee||ki<0||ki>1,ne=ne||ki<Le,Le=ki,N.push(ki),Ur});Ee&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ne&&e.errors.push("Please ensure that all keyframe offsets are in order");const bt=n.steps.length;let Bt=0;E>0&&E<bt?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==E&&(Bt=1/(bt-1));const Mt=bt-1,en=e.currentTime,jn=e.currentAnimateTimings,Yn=jn.duration;return ht.forEach((ar,Ur)=>{const Yr=Bt>0?Ur==Mt?1:Bt*Ur:N[Ur],ki=Yr*Yn;e.currentTime=en+jn.delay+ki,jn.duration=ki,this._validateStyleAst(ar,e),ar.offset=Yr,o.styles.push(ar)}),o}visitReference(n,e){return{type:8,animation:ps(this,Ea(n.animation),e),options:js(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:js(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:js(n.options)}}visitQuery(n,e){const o=e.currentQuerySelector,d=n.options||{};e.queryCount++,e.currentQuery=n;const[E,N]=function(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(uc,"")),r=r.replace(/@\*/g,Eu).replace(/@\w+/g,e=>Eu+"-"+e.substr(1)).replace(/:animating/g,Al),[r,n]}(n.selector);e.currentQuerySelector=o.length?o+" "+E:E,na(e.collectedStyles,e.currentQuerySelector,{});const ne=ps(this,Ea(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:E,limit:d.limit||0,optional:!!d.optional,includeSelf:N,animation:ne,originalSelector:n.selector,options:js(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const o="full"===n.timings?{duration:0,delay:0,easing:"full"}:If(n.timings,e.errors,!0);return{type:12,animation:ps(this,Ea(n.animation),e),timings:o,options:null}}}class Vd{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xc(r){return!Array.isArray(r)&&"object"==typeof r}function js(r){return r?(r=sc(r)).params&&(r.params=function(r){return r?sc(r):null}(r.params)):r={},r}function za(r,n,e){return{duration:r,delay:n,easing:e}}function hc(r,n,e,o,d,E,N=null,ne=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:o,duration:d,delay:E,totalTime:d+E,easing:N,subTimeline:ne}}class Iu{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let o=this._map.get(n);o||this._map.set(n,o=[]),o.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Wp=new RegExp(":enter","g"),hl=new RegExp(":leave","g");function fl(r,n,e,o,d,E={},N={},ne,Ee,Le=[]){return(new Pf).buildKeyframes(r,n,e,o,d,E,N,ne,Ee,Le)}class Pf{buildKeyframes(n,e,o,d,E,N,ne,Ee,Le,ht=[]){Le=Le||new Iu;const bt=new th(n,e,Le,d,E,ht,[]);bt.options=Ee,bt.currentTimeline.setStyles([N],null,bt.errors,Ee),ps(this,o,bt);const Bt=bt.timelines.filter(Mt=>Mt.containsAnimation());if(Bt.length&&Object.keys(ne).length){const Mt=Bt[Bt.length-1];Mt.allowOnlyTimelineStyles()||Mt.setStyles([ne],null,bt.errors,Ee)}return Bt.length?Bt.map(Mt=>Mt.buildKeyframes()):[hc(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const o=e.subInstructions.get(e.element);if(o){const d=e.createSubContext(n.options),E=e.currentTimeline.currentTime,N=this._visitSubInstructions(o,d,d.options);E!=N&&e.transformIntoNewTimeline(N)}e.previousNode=n}visitAnimateRef(n,e){const o=e.createSubContext(n.options);o.transformIntoNewTimeline(),this.visitReference(n.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,o){let E=e.currentTimeline.currentTime;const N=null!=o.duration?ul(o.duration):null,ne=null!=o.delay?ul(o.delay):null;return 0!==N&&n.forEach(Ee=>{const Le=e.appendInstructionToTimeline(Ee,N,ne);E=Math.max(E,Le.duration+Le.delay)}),E}visitReference(n,e){e.updateOptions(n.options,!0),ps(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const o=e.subContextCount;let d=e;const E=n.options;if(E&&(E.params||E.delay)&&(d=e.createSubContext(E),d.transformIntoNewTimeline(),null!=E.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=eh);const N=ul(E.delay);d.delayNextStep(N)}n.steps.length&&(n.steps.forEach(N=>ps(this,N,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>o&&d.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const o=[];let d=e.currentTimeline.currentTime;const E=n.options&&n.options.delay?ul(n.options.delay):0;n.steps.forEach(N=>{const ne=e.createSubContext(n.options);E&&ne.delayNextStep(E),ps(this,N,ne),d=Math.max(d,ne.currentTimeline.currentTime),o.push(ne.currentTimeline)}),o.forEach(N=>e.currentTimeline.mergeTimelineCollectedStyles(N)),e.transformIntoNewTimeline(d),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const o=n.strValue;return If(e.params?ra(o,e.params,e.errors):o,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const o=e.currentAnimateTimings=this._visitTiming(n.timings,e),d=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),d.snapshotCurrentStyles());const E=n.style;5==E.type?this.visitKeyframes(E,e):(e.incrementTime(o.duration),this.visitStyle(E,e),d.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const o=e.currentTimeline,d=e.currentAnimateTimings;!d&&o.getCurrentStyleProperties().length&&o.forwardFrame();const E=d&&d.easing||n.easing;n.isEmptyStep?o.applyEmptyStep(E):o.setStyles(n.styles,E,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const o=e.currentAnimateTimings,d=e.currentTimeline.duration,E=o.duration,ne=e.createSubContext().currentTimeline;ne.easing=o.easing,n.styles.forEach(Ee=>{ne.forwardTime((Ee.offset||0)*E),ne.setStyles(Ee.styles,Ee.easing,e.errors,e.options),ne.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(ne),e.transformIntoNewTimeline(d+E),e.previousNode=n}visitQuery(n,e){const o=e.currentTimeline.currentTime,d=n.options||{},E=d.delay?ul(d.delay):0;E&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eh);let N=o;const ne=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!d.optional,e.errors);e.currentQueryTotal=ne.length;let Ee=null;ne.forEach((Le,ht)=>{e.currentQueryIndex=ht;const bt=e.createSubContext(n.options,Le);E&&bt.delayNextStep(E),Le===e.element&&(Ee=bt.currentTimeline),ps(this,n.animation,bt),bt.currentTimeline.applyStylesToKeyframe(),N=Math.max(N,bt.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(N),Ee&&(e.currentTimeline.mergeTimelineCollectedStyles(Ee),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const o=e.parentContext,d=e.currentTimeline,E=n.timings,N=Math.abs(E.duration),ne=N*(e.currentQueryTotal-1);let Ee=N*e.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":Ee=ne-Ee;break;case"full":Ee=o.currentStaggerTime}const ht=e.currentTimeline;Ee&&ht.delayNextStep(Ee);const bt=ht.currentTime;ps(this,n.animation,e),e.previousNode=n,o.currentStaggerTime=d.currentTime-bt+(d.startTime-o.currentTimeline.startTime)}}const eh={};class th{constructor(n,e,o,d,E,N,ne,Ee){this._driver=n,this.element=e,this.subInstructions=o,this._enterClassName=d,this._leaveClassName=E,this.errors=N,this.timelines=ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ee||new Vo(this._driver,e,0),ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const o=n;let d=this.options;null!=o.duration&&(d.duration=ul(o.duration)),null!=o.delay&&(d.delay=ul(o.delay));const E=o.params;if(E){let N=d.params;N||(N=this.options.params={}),Object.keys(E).forEach(ne=>{(!e||!N.hasOwnProperty(ne))&&(N[ne]=ra(E[ne],N,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const o=n.params={};Object.keys(e).forEach(d=>{o[d]=e[d]})}}return n}createSubContext(n=null,e,o){const d=e||this.element,E=new th(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,o||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(n),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(n){return this.previousNode=eh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,o){const d={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+n.delay,easing:""},E=new nh(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,d,n.stretchStartingKeyframe);return this.timelines.push(E),d}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,o,d,E,N){let ne=[];if(d&&ne.push(this.element),n.length>0){n=(n=n.replace(Wp,"."+this._enterClassName)).replace(hl,"."+this._leaveClassName);let Le=this._driver.query(this.element,n,1!=o);0!==o&&(Le=o<0?Le.slice(Le.length+o,Le.length):Le.slice(0,o)),ne.push(...Le)}return!E&&0==ne.length&&N.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),ne}}class Vo{constructor(n,e,o,d){this._driver=n,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=d,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Vo(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ea,this._currentKeyframe[e]=ea}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,o,d){e&&(this._previousKeyframe.easing=e);const E=d&&d.params||{},N=function(r,n){const e={};let o;return r.forEach(d=>{"*"===d?(o=o||Object.keys(n),o.forEach(E=>{e[E]=ea})):Dl(d,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(N).forEach(ne=>{const Ee=ra(N[ne],E,o);this._pendingStyles[ne]=Ee,this._localTimelineStyles.hasOwnProperty(ne)||(this._backFill[ne]=this._globalTimelineStyles.hasOwnProperty(ne)?this._globalTimelineStyles[ne]:ea),this._updateStyle(ne,Ee)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=n[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const o=this._styleSummary[e],d=n._styleSummary[e];(!o||d.time>o.time)&&this._updateStyle(e,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((ne,Ee)=>{const Le=Dl(ne,!0);Object.keys(Le).forEach(ht=>{const bt=Le[ht];"!"==bt?n.add(ht):bt==ea&&e.add(ht)}),o||(Le.offset=Ee/this.duration),d.push(Le)});const E=n.size?wa(n.values()):[],N=e.size?wa(e.values()):[];if(o){const ne=d[0],Ee=sc(ne);ne.offset=0,Ee.offset=1,d=[ne,Ee]}return hc(this.element,d,E,N,this.duration,this.startTime,this.easing,!1)}}class nh extends Vo{constructor(n,e,o,d,E,N,ne=!1){super(n,e,N.delay),this.keyframes=o,this.preStyleProps=d,this.postStyleProps=E,this._stretchStartingKeyframe=ne,this.timings={duration:N.duration,delay:N.delay,easing:N.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:o,easing:d}=this.timings;if(this._stretchStartingKeyframe&&e){const E=[],N=o+e,ne=e/N,Ee=Dl(n[0],!1);Ee.offset=0,E.push(Ee);const Le=Dl(n[0],!1);Le.offset=Pl(ne),E.push(Le);const ht=n.length-1;for(let bt=1;bt<=ht;bt++){let Bt=Dl(n[bt],!1);Bt.offset=Pl((e+Bt.offset*o)/N),E.push(Bt)}o=N,e=0,d="",n=E}return hc(this.element,n,this.preStyleProps,this.postStyleProps,o,e,d,!0)}}function Pl(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class dc{}class Kp extends dc{normalizePropertyName(n,e){return Df(n)}normalizeStyleValue(n,e,o,d){let E="";const N=o.toString().trim();if(Wh[e]&&0!==o&&"0"!==o)if("number"==typeof o)E="px";else{const ne=o.match(/^[+-]?[\d\.]+([a-z]*)$/);ne&&0==ne[1].length&&d.push(`Please provide a CSS unit value for ${n}:${o}`)}return N+E}}const Wh=(()=>function(r){const n={};return r.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ol(r,n,e,o,d,E,N,ne,Ee,Le,ht,bt,Bt){return{type:0,element:r,triggerName:n,isRemovalTransition:d,fromState:e,fromStyles:E,toState:o,toStyles:N,timelines:ne,queriedElements:Ee,preStyleProps:Le,postStyleProps:ht,totalTime:bt,errors:Bt}}const Is={};class pc{constructor(n,e,o){this._triggerName=n,this.ast=e,this._stateStyles=o}match(n,e,o,d){return function(r,n,e,o,d){return r.some(E=>E(n,e,o,d))}(this.ast.matchers,n,e,o,d)}buildStyles(n,e,o){const d=this._stateStyles["*"],E=this._stateStyles[n],N=d?d.buildStyles(e,o):{};return E?E.buildStyles(e,o):N}build(n,e,o,d,E,N,ne,Ee,Le,ht){const bt=[],Bt=this.ast.options&&this.ast.options.params||Is,en=this.buildStyles(o,ne&&ne.params||Is,bt),jn=Ee&&Ee.params||Is,Yn=this.buildStyles(d,jn,bt),ar=new Set,Ur=new Map,Yr=new Map,ki="void"===d,Ei={params:Object.assign(Object.assign({},Bt),jn)},su=ht?[]:fl(n,e,this.ast.animation,E,N,en,Yn,Ei,Le,bt);let Ul=0;if(su.forEach(Cd=>{Ul=Math.max(Cd.duration+Cd.delay,Ul)}),bt.length)return Ol(e,this._triggerName,o,d,ki,en,Yn,[],[],Ur,Yr,Ul,bt);su.forEach(Cd=>{const Td=Cd.element,gI=na(Ur,Td,{});Cd.preStyleProps.forEach(Eg=>gI[Eg]=!0);const j_=na(Yr,Td,{});Cd.postStyleProps.forEach(Eg=>j_[Eg]=!0),Td!==e&&ar.add(Td)});const wd=wa(ar.values());return Ol(e,this._triggerName,o,d,ki,en,Yn,su,wd,Ur,Yr,Ul)}}class Au{constructor(n,e,o){this.styles=n,this.defaultParams=e,this.normalizer=o}buildStyles(n,e){const o={},d=sc(this.defaultParams);return Object.keys(n).forEach(E=>{const N=n[E];null!=N&&(d[E]=N)}),this.styles.styles.forEach(E=>{if("string"!=typeof E){const N=E;Object.keys(N).forEach(ne=>{let Ee=N[ne];Ee.length>1&&(Ee=ra(Ee,d,e));const Le=this.normalizer.normalizePropertyName(ne,e);Ee=this.normalizer.normalizeStyleValue(ne,Le,Ee,e),o[Le]=Ee})}}),o}}class Wa{constructor(n,e,o){this.name=n,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(d=>{this.states[d.name]=new Au(d.style,d.options&&d.options.params||{},o)}),Sa(this.states,"true","1"),Sa(this.states,"false","0"),e.transitions.forEach(d=>{this.transitionFactories.push(new pc(n,d,this.states))}),this.fallbackTransition=function(r,n,e){return new pc(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(N,ne)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,o,d){return this.transitionFactories.find(N=>N.match(n,e,o,d))||null}matchStyles(n,e,o){return this.fallbackTransition.buildStyles(n,e,o)}}function Sa(r,n,e){r.hasOwnProperty(n)?r.hasOwnProperty(e)||(r[e]=r[n]):r.hasOwnProperty(e)&&(r[n]=r[e])}const Yp=new Iu;class Yh{constructor(n,e,o){this.bodyNode=n,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(n,e){const o=[],d=Su(this._driver,e,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[n]=d}_buildPlayer(n,e,o){const d=n.element,E=_u(0,this._normalizer,0,n.keyframes,e,o);return this._driver.animate(d,E,n.duration,n.delay,n.easing,[],!0)}create(n,e,o={}){const d=[],E=this._animations[n];let N;const ne=new Map;if(E?(N=fl(this._driver,e,E,ic,bu,{},{},o,Yp,d),N.forEach(ht=>{const bt=na(ne,ht.element,{});ht.postStyleProps.forEach(Bt=>bt[Bt]=null)})):(d.push("The requested animation doesn't exist or has already been destroyed"),N=[]),d.length)throw new Error(`Unable to create the animation due to the following errors: ${d.join("\n")}`);ne.forEach((ht,bt)=>{Object.keys(ht).forEach(Bt=>{ht[Bt]=this._driver.computeStyle(bt,Bt,ea)})});const Le=Ha(N.map(ht=>{const bt=ne.get(ht.element);return this._buildPlayer(ht,{},bt)}));return this._playersById[n]=Le,Le.onDestroy(()=>this.destroy(n)),this.players.push(Le),Le}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw new Error(`Unable to find the timeline player referenced by ${n}`);return e}listen(n,e,o,d){const E=tc(e,"","","");return ba(this._getPlayer(n),o,E,d),()=>{}}command(n,e,o,d){if("register"==o)return void this.register(n,d[0]);if("create"==o)return void this.create(n,e,d[0]||{});const E=this._getPlayer(n);switch(o){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(n)}}}const mc="ng-animate-queued",rh="ng-animate-disabled",_=[],T={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},V="__ng_removed";class ae{constructor(n,e=""){this.namespaceId=e;const o=n&&n.hasOwnProperty("value");if(this.value=null!=(r=o?n.value:n)?r:null,o){const E=sc(n);delete E.value,this.options=E}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const o=this.options.params;Object.keys(e).forEach(d=>{null==o[d]&&(o[d]=e[d])})}}}const ye="void",Re=new ae(ye);class We{constructor(n,e,o){this.id=n,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Tr(e,this._hostClassName)}listen(n,e,o,d){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${e}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=o)&&"done"!=r)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${e}" is not supported!`);var r;const E=na(this._elementListeners,n,[]),N={name:e,phase:o,callback:d};E.push(N);const ne=na(this._engine.statesByElement,n,{});return ne.hasOwnProperty(e)||(Tr(n,oc),Tr(n,oc+"-"+e),ne[e]=Re),()=>{this._engine.afterFlush(()=>{const Ee=E.indexOf(N);Ee>=0&&E.splice(Ee,1),this._triggers[e]||delete ne[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return e}trigger(n,e,o,d=!0){const E=this._getTrigger(e),N=new st(this.id,e,n);let ne=this._engine.statesByElement.get(n);ne||(Tr(n,oc),Tr(n,oc+"-"+e),this._engine.statesByElement.set(n,ne={}));let Ee=ne[e];const Le=new ae(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&Ee&&Le.absorbOptions(Ee.options),ne[e]=Le,Ee||(Ee=Re),Le.value!==ye&&Ee.value===Le.value){if(!function(r,n){const e=Object.keys(r),o=Object.keys(n);if(e.length!=o.length)return!1;for(let d=0;d<e.length;d++){const E=e[d];if(!n.hasOwnProperty(E)||r[E]!==n[E])return!1}return!0}(Ee.params,Le.params)){const jn=[],Yn=E.matchStyles(Ee.value,Ee.params,jn),ar=E.matchStyles(Le.value,Le.params,jn);jn.length?this._engine.reportError(jn):this._engine.afterFlush(()=>{cl(n,Yn),ds(n,ar)})}return}const Bt=na(this._engine.playersByElement,n,[]);Bt.forEach(jn=>{jn.namespaceId==this.id&&jn.triggerName==e&&jn.queued&&jn.destroy()});let Mt=E.matchTransition(Ee.value,Le.value,n,Le.params),en=!1;if(!Mt){if(!d)return;Mt=E.fallbackTransition,en=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Mt,fromState:Ee,toState:Le,player:N,isFallbackTransition:en}),en||(Tr(n,mc),N.onStart(()=>{Xr(n,mc)})),N.onDone(()=>{let jn=this.players.indexOf(N);jn>=0&&this.players.splice(jn,1);const Yn=this._engine.playersByElement.get(n);if(Yn){let ar=Yn.indexOf(N);ar>=0&&Yn.splice(ar,1)}}),this.players.push(N),Bt.push(N),N}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,o)=>{delete e[n]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(d=>d.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const o=this._engine.driver.query(n,Eu,!0);o.forEach(d=>{if(d[V])return;const E=this._engine.fetchNamespacesByElement(d);E.size?E.forEach(N=>N.triggerLeaveAnimation(d,e,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(n,e,o,d){const E=this._engine.statesByElement.get(n);if(E){const N=[];if(Object.keys(E).forEach(ne=>{if(this._triggers[ne]){const Ee=this.trigger(n,ne,ye,d);Ee&&N.push(Ee)}}),N.length)return this._engine.markElementAsRemoved(this.id,n,!0,e),o&&Ha(N).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),o=this._engine.statesByElement.get(n);if(e&&o){const d=new Set;e.forEach(E=>{const N=E.name;if(d.has(N))return;d.add(N);const Ee=this._triggers[N].fallbackTransition,Le=o[N]||Re,ht=new ae(ye),bt=new st(this.id,N,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:N,transition:Ee,fromState:Le,toState:ht,player:bt,isFallbackTransition:!0})})}}removeNode(n,e){const o=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let d=!1;if(o.totalAnimations){const E=o.players.length?o.playersByQueriedElement.get(n):[];if(E&&E.length)d=!0;else{let N=n;for(;N=N.parentNode;)if(o.statesByElement.get(N)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(n),d)o.markElementAsRemoved(this.id,n,!1,e);else{const E=n[V];(!E||E===T)&&(o.afterFlush(()=>this.clearElementCache(n)),o.destroyInnerAnimations(n),o._onRemovalComplete(n,e))}}insertNode(n,e){Tr(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(o=>{const d=o.player;if(d.destroyed)return;const E=o.element,N=this._elementListeners.get(E);N&&N.forEach(ne=>{if(ne.name==o.triggerName){const Ee=tc(E,o.triggerName,o.fromState.value,o.toState.value);Ee._data=n,ba(o.player,ne.phase,Ee,ne.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):e.push(o)}),this._queue=[],e.sort((o,d)=>{const E=o.transition.ast.depCount,N=d.transition.ast.depCount;return 0==E||0==N?E-N:this._engine.driver.containsElement(o.element,d.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(o=>o.element===n)||e,e}}class ot{constructor(n,e,o){this.bodyNode=n,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,E)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&n.push(o)})}),n}createNamespace(n,e){const o=new We(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[n]=o}_balanceNamespaceList(n,e){const o=this._namespaceList.length-1;if(o>=0){let d=!1;for(let E=o;E>=0;E--)if(this.driver.containsElement(this._namespaceList[E].hostElement,e)){this._namespaceList.splice(E+1,0,n),d=!0;break}d||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(e,n),n}register(n,e){let o=this._namespaceLookup[n];return o||(o=this.createNamespace(n,e)),o}registerTrigger(n,e,o){let d=this._namespaceLookup[n];d&&d.register(e,o)&&this.totalAnimations++}destroy(n,e){if(!n)return;const o=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[n];const d=this._namespaceList.indexOf(o);d>=0&&this._namespaceList.splice(d,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,o=this.statesByElement.get(n);if(o){const d=Object.keys(o);for(let E=0;E<d.length;E++){const N=o[d[E]].namespaceId;if(N){const ne=this._fetchNamespace(N);ne&&e.add(ne)}}}return e}trigger(n,e,o,d){if(jt(e)){const E=this._fetchNamespace(n);if(E)return E.trigger(e,o,d),!0}return!1}insertNode(n,e,o,d){if(!jt(e))return;const E=e[V];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const N=this.collectedLeaveElements.indexOf(e);N>=0&&this.collectedLeaveElements.splice(N,1)}if(n){const N=this._fetchNamespace(n);N&&N.insertNode(e,o)}d&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Tr(n,rh)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Xr(n,rh))}removeNode(n,e,o,d){if(jt(e)){const E=n?this._fetchNamespace(n):null;if(E?E.removeNode(e,d):this.markElementAsRemoved(n,e,!1,d),o){const N=this.namespacesByHostElement.get(e);N&&N.id!==n&&N.removeNode(e,d)}}else this._onRemovalComplete(e,d)}markElementAsRemoved(n,e,o,d){this.collectedLeaveElements.push(e),e[V]={namespaceId:n,setForRemoval:d,hasAnimation:o,removedBeforeQueried:!1}}listen(n,e,o,d,E){return jt(e)?this._fetchNamespace(n).listen(e,o,d,E):()=>{}}_buildInstruction(n,e,o,d,E){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,o,d,n.fromState.options,n.toState.options,e,E)}destroyInnerAnimations(n){let e=this.driver.query(n,Eu,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Al,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ha(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const o=n[V];if(o&&o.setForRemoval){if(n[V]=T,o.namespaceId){this.destroyInnerAnimations(n);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(n)}this._onRemovalComplete(n,o.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(rh))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,d)=>this._balanceNamespaceList(o,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Tr(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,n)}finally{for(let d=0;d<o.length;d++)o[d]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?Ha(e).onDone(()=>{o.forEach(d=>d())}):o.forEach(d=>d())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,e){const o=new Iu,d=[],E=new Map,N=[],ne=new Map,Ee=new Map,Le=new Map,ht=new Set;this.disabledNodes.forEach(rr=>{ht.add(rr);const Sr=this.driver.query(rr,".ng-animate-queued",!0);for(let jr=0;jr<Sr.length;jr++)ht.add(Sr[jr])});const bt=this.bodyNode,Bt=Array.from(this.statesByElement.keys()),Mt=xr(Bt,this.collectedEnterElements),en=new Map;let jn=0;Mt.forEach((rr,Sr)=>{const jr=ic+jn++;en.set(Sr,jr),rr.forEach(Vi=>Tr(Vi,jr))});const Yn=[],ar=new Set,Ur=new Set;for(let rr=0;rr<this.collectedLeaveElements.length;rr++){const Sr=this.collectedLeaveElements[rr],jr=Sr[V];jr&&jr.setForRemoval&&(Yn.push(Sr),ar.add(Sr),jr.hasAnimation?this.driver.query(Sr,".ng-star-inserted",!0).forEach(Vi=>ar.add(Vi)):Ur.add(Sr))}const Yr=new Map,ki=xr(Bt,Array.from(ar));ki.forEach((rr,Sr)=>{const jr=bu+jn++;Yr.set(Sr,jr),rr.forEach(Vi=>Tr(Vi,jr))}),n.push(()=>{Mt.forEach((rr,Sr)=>{const jr=en.get(Sr);rr.forEach(Vi=>Xr(Vi,jr))}),ki.forEach((rr,Sr)=>{const jr=Yr.get(Sr);rr.forEach(Vi=>Xr(Vi,jr))}),Yn.forEach(rr=>{this.processLeaveNode(rr)})});const Ei=[],su=[];for(let rr=this._namespaceList.length-1;rr>=0;rr--)this._namespaceList[rr].drainQueuedTransitions(e).forEach(jr=>{const Vi=jr.player,Oa=jr.element;if(Ei.push(Vi),this.collectedEnterElements.length){const Nc=Oa[V];if(Nc&&Nc.setForMove)return void Vi.destroy()}const _f=!bt||!this.driver.containsElement(bt,Oa),Ku=Yr.get(Oa),Gp=en.get(Oa),rs=this._buildInstruction(jr,o,Gp,Ku,_f);if(rs.errors&&rs.errors.length)return void su.push(rs);if(_f)return Vi.onStart(()=>cl(Oa,rs.fromStyles)),Vi.onDestroy(()=>ds(Oa,rs.toStyles)),void d.push(Vi);if(jr.isFallbackTransition)return Vi.onStart(()=>cl(Oa,rs.fromStyles)),Vi.onDestroy(()=>ds(Oa,rs.toStyles)),void d.push(Vi);const _I=[];rs.timelines.forEach(Nc=>{Nc.stretchStartingKeyframe=!0,this.disabledNodes.has(Nc.element)||_I.push(Nc)}),rs.timelines=_I,o.append(Oa,rs.timelines),N.push({instruction:rs,player:Vi,element:Oa}),rs.queriedElements.forEach(Nc=>na(ne,Nc,[]).push(Vi)),rs.preStyleProps.forEach((Nc,H_)=>{const TE=Object.keys(Nc);if(TE.length){let wg=Ee.get(H_);wg||Ee.set(H_,wg=new Set),TE.forEach(AT=>wg.add(AT))}}),rs.postStyleProps.forEach((Nc,H_)=>{const TE=Object.keys(Nc);let wg=Le.get(H_);wg||Le.set(H_,wg=new Set),TE.forEach(AT=>wg.add(AT))})});if(su.length){const rr=[];su.forEach(Sr=>{rr.push(`@${Sr.triggerName} has failed due to:\n`),Sr.errors.forEach(jr=>rr.push(`- ${jr}\n`))}),Ei.forEach(Sr=>Sr.destroy()),this.reportError(rr)}const Ul=new Map,wd=new Map;N.forEach(rr=>{const Sr=rr.element;o.has(Sr)&&(wd.set(Sr,Sr),this._beforeAnimationBuild(rr.player.namespaceId,rr.instruction,Ul))}),d.forEach(rr=>{const Sr=rr.element;this._getPreviousPlayers(Sr,!1,rr.namespaceId,rr.triggerName,null).forEach(Vi=>{na(Ul,Sr,[]).push(Vi),Vi.destroy()})});const Cd=Yn.filter(rr=>Du(rr,Ee,Le)),Td=new Map;sr(Td,this.driver,Ur,Le,ea).forEach(rr=>{Du(rr,Ee,Le)&&Cd.push(rr)});const j_=new Map;Mt.forEach((rr,Sr)=>{sr(j_,this.driver,new Set(rr),Ee,"!")}),Cd.forEach(rr=>{const Sr=Td.get(rr),jr=j_.get(rr);Td.set(rr,Object.assign(Object.assign({},Sr),jr))});const Eg=[],vI=[],yI={};N.forEach(rr=>{const{element:Sr,player:jr,instruction:Vi}=rr;if(o.has(Sr)){if(ht.has(Sr))return jr.onDestroy(()=>ds(Sr,Vi.toStyles)),jr.disabled=!0,jr.overrideTotalTime(Vi.totalTime),void d.push(jr);let Oa=yI;if(wd.size>1){let Ku=Sr;const Gp=[];for(;Ku=Ku.parentNode;){const rs=wd.get(Ku);if(rs){Oa=rs;break}Gp.push(Ku)}Gp.forEach(rs=>wd.set(rs,Oa))}const _f=this._buildAnimation(jr.namespaceId,Vi,Ul,E,j_,Td);if(jr.setRealPlayer(_f),Oa===yI)Eg.push(jr);else{const Ku=this.playersByElement.get(Oa);Ku&&Ku.length&&(jr.parentPlayer=Ha(Ku)),d.push(jr)}}else cl(Sr,Vi.fromStyles),jr.onDestroy(()=>ds(Sr,Vi.toStyles)),vI.push(jr),ht.has(Sr)&&d.push(jr)}),vI.forEach(rr=>{const Sr=E.get(rr.element);if(Sr&&Sr.length){const jr=Ha(Sr);rr.setRealPlayer(jr)}}),d.forEach(rr=>{rr.parentPlayer?rr.syncPlayerEvents(rr.parentPlayer):rr.destroy()});for(let rr=0;rr<Yn.length;rr++){const Sr=Yn[rr],jr=Sr[V];if(Xr(Sr,bu),jr&&jr.hasAnimation)continue;let Vi=[];if(ne.size){let _f=ne.get(Sr);_f&&_f.length&&Vi.push(..._f);let Ku=this.driver.query(Sr,Al,!0);for(let Gp=0;Gp<Ku.length;Gp++){let rs=ne.get(Ku[Gp]);rs&&rs.length&&Vi.push(...rs)}}const Oa=Vi.filter(_f=>!_f.destroyed);Oa.length?Hi(this,Sr,Oa):this.processLeaveNode(Sr)}return Yn.length=0,Eg.forEach(rr=>{this.players.push(rr),rr.onDone(()=>{rr.destroy();const Sr=this.players.indexOf(rr);this.players.splice(Sr,1)}),rr.play()}),Eg}elementContainsData(n,e){let o=!1;const d=e[V];return d&&d.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(n).elementContainsData(e)||o}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,o,d,E){let N=[];if(e){const ne=this.playersByQueriedElement.get(n);ne&&(N=ne)}else{const ne=this.playersByElement.get(n);if(ne){const Ee=!E||E==ye;ne.forEach(Le=>{Le.queued||!Ee&&Le.triggerName!=d||N.push(Le)})}}return(o||d)&&(N=N.filter(ne=>!(o&&o!=ne.namespaceId||d&&d!=ne.triggerName))),N}_beforeAnimationBuild(n,e,o){const E=e.element,N=e.isRemovalTransition?void 0:n,ne=e.isRemovalTransition?void 0:e.triggerName;for(const Ee of e.timelines){const Le=Ee.element,ht=Le!==E,bt=na(o,Le,[]);this._getPreviousPlayers(Le,ht,N,ne,e.toState).forEach(Mt=>{const en=Mt.getRealPlayer();en.beforeDestroy&&en.beforeDestroy(),Mt.destroy(),bt.push(Mt)})}cl(E,e.fromStyles)}_buildAnimation(n,e,o,d,E,N){const ne=e.triggerName,Ee=e.element,Le=[],ht=new Set,bt=new Set,Bt=e.timelines.map(en=>{const jn=en.element;ht.add(jn);const Yn=jn[V];if(Yn&&Yn.removedBeforeQueried)return new yu(en.duration,en.delay);const ar=jn!==Ee,Ur=function(r){const n=[];return Pr(r,n),n}((o.get(jn)||_).map(Ul=>Ul.getRealPlayer())).filter(Ul=>!!Ul.element&&Ul.element===jn),Yr=E.get(jn),ki=N.get(jn),Ei=_u(0,this._normalizer,0,en.keyframes,Yr,ki),su=this._buildPlayer(en,Ei,Ur);if(en.subTimeline&&d&&bt.add(jn),ar){const Ul=new st(n,ne,jn);Ul.setRealPlayer(su),Le.push(Ul)}return su});Le.forEach(en=>{na(this.playersByQueriedElement,en.element,[]).push(en),en.onDone(()=>function(r,n,e){let o;if(r instanceof Map){if(o=r.get(n),o){if(o.length){const d=o.indexOf(e);o.splice(d,1)}0==o.length&&r.delete(n)}}else if(o=r[n],o){if(o.length){const d=o.indexOf(e);o.splice(d,1)}0==o.length&&delete r[n]}return o}(this.playersByQueriedElement,en.element,en))}),ht.forEach(en=>Tr(en,Xl));const Mt=Ha(Bt);return Mt.onDestroy(()=>{ht.forEach(en=>Xr(en,Xl)),ds(Ee,e.toStyles)}),bt.forEach(en=>{na(d,en,[]).push(Mt)}),Mt}_buildPlayer(n,e,o){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,o):new yu(n.duration,n.delay)}}class st{constructor(n,e,o){this.namespaceId=n,this.triggerName=e,this.element=o,this._player=new yu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>ba(n,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){na(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function jt(r){return r&&1===r.nodeType}function Un(r,n){const e=r.style.display;return r.style.display=null!=n?n:"none",e}function sr(r,n,e,o,d){const E=[];e.forEach(Ee=>E.push(Un(Ee)));const N=[];o.forEach((Ee,Le)=>{const ht={};Ee.forEach(bt=>{const Bt=ht[bt]=n.computeStyle(Le,bt,d);(!Bt||0==Bt.length)&&(Le[V]=M,N.push(Le))}),r.set(Le,ht)});let ne=0;return e.forEach(Ee=>Un(Ee,E[ne++])),N}function xr(r,n){const e=new Map;if(r.forEach(ne=>e.set(ne,[])),0==n.length)return e;const d=new Set(n),E=new Map;function N(ne){if(!ne)return 1;let Ee=E.get(ne);if(Ee)return Ee;const Le=ne.parentNode;return Ee=e.has(Le)?Le:d.has(Le)?1:N(Le),E.set(ne,Ee),Ee}return n.forEach(ne=>{const Ee=N(ne);1!==Ee&&e.get(Ee).push(ne)}),e}function Tr(r,n){var e;null===(e=r.classList)||void 0===e||e.add(n)}function Xr(r,n){var e;null===(e=r.classList)||void 0===e||e.remove(n)}function Hi(r,n,e){Ha(e).onDone(()=>r.processLeaveNode(n))}function Pr(r,n){for(let e=0;e<r.length;e++){const o=r[e];o instanceof $c?Pr(o.players,n):n.push(o)}}function Du(r,n,e){const o=e.get(r);if(!o)return!1;let d=n.get(r);return d?o.forEach(E=>d.add(E)):n.set(r,o),e.delete(r),!0}class qa{constructor(n,e,o){this.bodyNode=n,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(d,E)=>{},this._transitionEngine=new ot(n,e,o),this._timelineEngine=new Yh(n,e,o),this._transitionEngine.onRemovalComplete=(d,E)=>this.onRemovalComplete(d,E)}registerTrigger(n,e,o,d,E){const N=n+"-"+d;let ne=this._triggerCache[N];if(!ne){const Ee=[],Le=Su(this._driver,E,Ee);if(Ee.length)throw new Error(`The animation trigger "${d}" has failed to build due to the following errors:\n - ${Ee.join("\n - ")}`);ne=function(r,n,e){return new Wa(r,n,e)}(d,Le,this._normalizer),this._triggerCache[N]=ne}this._transitionEngine.registerTrigger(e,d,ne)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,o,d){this._transitionEngine.insertNode(n,e,o,d)}onRemove(n,e,o,d){this._transitionEngine.removeNode(n,e,d||!1,o)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,o,d){if("@"==o.charAt(0)){const[E,N]=nc(o);this._timelineEngine.command(E,e,N,d)}else this._transitionEngine.trigger(n,e,o,d)}listen(n,e,o,d,E){if("@"==o.charAt(0)){const[N,ne]=nc(o);return this._timelineEngine.listen(N,e,ne,E)}return this._transitionEngine.listen(n,e,o,d,E)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xu(r,n){let e=null,o=null;return Array.isArray(n)&&n.length?(e=gc(n[0]),n.length>1&&(o=gc(n[n.length-1]))):n&&(e=gc(n)),e||o?new Qh(r,e,o):null}let Qh=(()=>{class r{constructor(e,o,d){this._element=e,this._startStyles=o,this._endStyles=d,this._state=0;let E=r.initialStylesByElement.get(e);E||r.initialStylesByElement.set(e,E={}),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&ds(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ds(this._element,this._initialStyles),this._endStyles&&(ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(cl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),ds(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function gc(r){let n=null;const e=Object.keys(r);for(let o=0;o<e.length;o++){const d=e[o];Hd(d)&&(n=n||{},n[d]=r[d])}return n}function Hd(r){return"display"===r||"position"===r}const dl="animation",vc="animationend";class Qp{constructor(n,e,o,d,E,N,ne){this._element=n,this._name=e,this._duration=o,this._delay=d,this._easing=E,this._fillMode=N,this._onDoneFn=ne,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Ee=>this._handleCallback(Ee)}apply(){(function(r,n){const e=Zp(r,"").trim();let o=0;e.length&&(function(r,n){let e=0;for(let o=0;o<r.length;o++)","===r.charAt(o)&&e++;return e}(e)+1,n=`${e}, ${n}`),yc(r,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$d(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Zh(this._element,this._name,"paused")}resume(){Zh(this._element,this._name,"running")}setPosition(n){const e=ih(this._element,this._name);this._position=n*this._duration,yc(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(n){const e=n._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$d(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,n){const o=Zp(r,"").split(","),d=qd(o,n);d>=0&&(o.splice(d,1),yc(r,"",o.join(",")))}(this._element,this._name))}}function Zh(r,n,e){yc(r,"PlayState",e,ih(r,n))}function ih(r,n){const e=Zp(r,"");return e.indexOf(",")>0?qd(e.split(","),n):qd([e],n)}function qd(r,n){for(let e=0;e<r.length;e++)if(r[e].indexOf(n)>=0)return e;return-1}function $d(r,n,e){e?r.removeEventListener(vc,n):r.addEventListener(vc,n)}function yc(r,n,e,o){const d=dl+n;if(null!=o){const E=r.style[d];if(E.length){const N=E.split(",");N[o]=e,e=N.join(",")}}r.style[d]=e}function Zp(r,n){return r.style[dl+n]||""}class Tg{constructor(n,e,o,d,E,N,ne,Ee){this.element=n,this.keyframes=e,this.animationName=o,this._duration=d,this._delay=E,this._finalStyles=ne,this._specialStyles=Ee,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=N||"linear",this.totalTime=d+E,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Qp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(n[o]=e?this._finalStyles[o]:ac(this.element,o))})}this.currentSnapshot=n}}class Sg extends yu{constructor(n,e){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=rc(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const e=this._startingStyles[n];e?this.element.style.setProperty(n,e):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class Xp{constructor(){this._count=0}validateStyleProperty(n){return ll(n)}matchesElement(n,e){return!1}containsElement(n,e){return kd(n,e)}query(n,e,o){return Sf(n,e,o)}computeStyle(n,e,o){return window.getComputedStyle(n)[e]}buildKeyframeElement(n,e,o){o=o.map(ne=>rc(ne));let d=`@keyframes ${e} {\n`,E="";o.forEach(ne=>{E=" ";const Ee=parseFloat(ne.offset);d+=`${E}${100*Ee}% {\n`,E+=" ",Object.keys(ne).forEach(Le=>{const ht=ne[Le];switch(Le){case"offset":return;case"easing":return void(ht&&(d+=`${E}animation-timing-function: ${ht};\n`));default:return void(d+=`${E}${Le}: ${ht};\n`)}}),d+=`${E}}\n`}),d+="}\n";const N=document.createElement("style");return N.textContent=d,N}animate(n,e,o,d,E,N=[],ne){const Ee=N.filter(Yn=>Yn instanceof Tg),Le={};Cu(o,d)&&Ee.forEach(Yn=>{let ar=Yn.currentSnapshot;Object.keys(ar).forEach(Ur=>Le[Ur]=ar[Ur])});const ht=function(r){let n={};return r&&(Array.isArray(r)?r:[r]).forEach(o=>{Object.keys(o).forEach(d=>{"offset"==d||"easing"==d||(n[d]=o[d])})}),n}(e=jh(n,e,Le));if(0==o)return new Sg(n,ht);const bt="gen_css_kf_"+this._count++,Bt=this.buildKeyframeElement(n,bt,e);(function(r){var n;const e=null===(n=r.getRootNode)||void 0===n?void 0:n.call(r);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(n).appendChild(Bt);const en=xu(n,e),jn=new Tg(n,e,bt,o,d,E,ht,en);return jn.onDestroy(()=>{var r;(r=Bt).parentNode.removeChild(r)}),jn}}class em{constructor(n,e,o,d){this.element=n,this.keyframes=e,this.options=o,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,o){return n.animate(e,o)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(o=>{"offset"!=o&&(n[o]=this._finished?e[o]:ac(this.element,o))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Qd{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oh().toString()),this._cssKeyframesDriver=new Xp}validateStyleProperty(n){return ll(n)}matchesElement(n,e){return!1}containsElement(n,e){return kd(n,e)}query(n,e,o){return Sf(n,e,o)}computeStyle(n,e,o){return window.getComputedStyle(n)[e]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,e,o,d,E,N=[],ne){if(!ne&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,e,o,d,E,N);const ht={duration:o,delay:d,fill:0==d?"both":"forwards"};E&&(ht.easing=E);const bt={},Bt=N.filter(en=>en instanceof em);Cu(o,d)&&Bt.forEach(en=>{let jn=en.currentSnapshot;Object.keys(jn).forEach(Yn=>bt[Yn]=jn[Yn])});const Mt=xu(n,e=jh(n,e=e.map(en=>Dl(en,!1)),bt));return new em(n,e,ht,Mt)}}function oh(){return Uh()&&Element.prototype.animate||{}}let Mf=(()=>{class r extends Md{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(e)?Vh(e):e;return kr(this._renderer,null,o,"register",[d]),new Jh(o,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.FYo),t.LFG(re))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class Jh extends class{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new xg(this._id,n,e||{},this._renderer)}}class xg{constructor(n,e,o,d){this.id=n,this.element=e,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return kr(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function kr(r,n,e,o,d){return r.setProperty(n,`@@${e}:${o}`,d)}const Zd="@.disabled";let nm=(()=>{class r{constructor(e,o,d){this.delegate=e,this.engine=o,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(E,N)=>{const ne=null==N?void 0:N.parentNode(E);ne&&N.removeChild(ne,E)}}createRenderer(e,o){const E=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let ht=this._rendererCache.get(E);return ht||(ht=new Pu("",E,this.engine),this._rendererCache.set(E,ht)),ht}const N=o.id,ne=o.id+"-"+this._currentId;this._currentId++,this.engine.register(ne,e);const Ee=ht=>{Array.isArray(ht)?ht.forEach(Ee):this.engine.registerTrigger(N,ne,e,ht.name,ht)};return o.data.animation.forEach(Ee),new Ia(this,ne,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,d){e>=0&&e<this._microtaskId?this._zone.run(()=>o(d)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[N,ne]=E;N(ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.FYo),t.LFG(qa),t.LFG(t.R0b))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class Pu{constructor(n,e,o){this.namespaceId=n,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?d=>e.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,o,d=!0){this.delegate.insertBefore(n,e,o),this.engine.onInsert(this.namespaceId,e,n,d)}removeChild(n,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,o,d){this.delegate.setAttribute(n,e,o,d)}removeAttribute(n,e,o){this.delegate.removeAttribute(n,e,o)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,o,d){this.delegate.setStyle(n,e,o,d)}removeStyle(n,e,o){this.delegate.removeStyle(n,e,o)}setProperty(n,e,o){"@"==e.charAt(0)&&e==Zd?this.disableAnimations(n,!!o):this.delegate.setProperty(n,e,o)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,o){return this.delegate.listen(n,e,o)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Ia extends Pu{constructor(n,e,o,d){super(e,o,d),this.factory=n,this.namespaceId=e}setProperty(n,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Zd?this.disableAnimations(n,o=void 0===o||!!o):this.engine.process(this.namespaceId,n,e.substr(1),o):this.delegate.setProperty(n,e,o)}listen(n,e,o){if("@"==e.charAt(0)){const d=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let E=e.substr(1),N="";return"@"!=E.charAt(0)&&([E,N]=function(r){const n=r.indexOf(".");return[r.substring(0,n),r.substr(n+1)]}(E)),this.engine.listen(this.namespaceId,d,E,N,ne=>{this.factory.scheduleListenerCallback(ne._data||-1,o,ne)})}return this.delegate.listen(n,e,o)}}let kf=(()=>{class r extends qa{constructor(e,o,d){super(e.body,o,d)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(re),t.LFG(fs),t.LFG(dc))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const Xd=new t.OlP("AnimationModuleType"),im=[{provide:Md,useClass:Mf},{provide:dc,useFactory:function(){return new Kp}},{provide:qa,useClass:kf},{provide:t.FYo,useFactory:function(r,n,e){return new nm(r,n,e)},deps:[fo,qa,t.R0b]}],om=[{provide:fs,useFactory:function(){return"function"==typeof oh()?new Qd:new Xp}},{provide:Xd,useValue:"BrowserAnimations"},...im],z_=[{provide:fs,useClass:Yc},{provide:Xd,useValue:"NoopAnimations"},...im];let ep=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?z_:om}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:om,imports:[Wo]}),r})();var Aa=v(8421);function sh(r){return new Ii.y(n=>{(0,Aa.Xf)(r()).subscribe(n)})}function Nf(r,n){const e=(0,Lo.m)(r)?r:()=>r,o=d=>d.error(e());return new Ii.y(n?d=>n.schedule(o,0,d):o)}var eo=v(5577),Ff=v(1144);const{isArray:ah}=Array;function am(r){return(0,Pn.U)(n=>function(r,n){return ah(n)?r(...n):r(n)}(r,n))}const lh=["addListener","removeListener"],W_=["addEventListener","removeEventListener"],lm=["on","off"];function Lf(r,n,e,o){if((0,Lo.m)(e)&&(o=e,e=void 0),o)return Lf(r,n,e).pipe(am(o));const[d,E]=function(r){return(0,Lo.m)(r.addEventListener)&&(0,Lo.m)(r.removeEventListener)}(r)?W_.map(N=>ne=>r[N](n,ne,e)):function(r){return(0,Lo.m)(r.addListener)&&(0,Lo.m)(r.removeListener)}(r)?lh.map(Vf(r,n)):function(r){return(0,Lo.m)(r.on)&&(0,Lo.m)(r.off)}(r)?lm.map(Vf(r,n)):[];if(!d&&(0,Ff.z)(r))return(0,eo.z)(N=>Lf(N,n,e))((0,Aa.Xf)(r));if(!d)throw new TypeError("Invalid event target");return new Ii.y(N=>{const ne=(...Ee)=>N.next(1<Ee.length?Ee:Ee[0]);return d(ne),()=>E(ne)})}function Vf(r,n){return e=>o=>r[e](n,o)}var tp=v(5032);const ru=new Ii.y(tp.Z);var cm=v(727);function hm(){return(0,Zo.e)((r,n)=>{let e=null;r._refCount++;const o=new Eo.Q(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const d=r._connection,E=e;e=null,d&&(!E||d===E)&&d.unsubscribe(),n.unsubscribe()});r.subscribe(o),o.closed||(e=r.connect())})}class fm extends Ii.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Zo.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new cm.w0;const e=this.getSubject();n.add(this.source.subscribe(new Eo.Q(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=cm.w0.EMPTY)}return n}refCount(){return hm()(this)}}const Mg={connector:()=>new Li.x};function dm(r,n=Mg){const{connector:e}=n;return(0,Zo.e)((o,d)=>{const E=e();(0,mr.D)(r(function(r){return new Ii.y(n=>r.subscribe(n))}(E))).subscribe(d),d.add(o.subscribe(E))})}function Rg(r,n){const e=(0,Lo.m)(r)?r:()=>r;return(0,Lo.m)(n)?dm(n,{connector:e}):o=>new fm(o,e)}var gs=v(8505);function pm(){return(0,Zo.e)((r,n)=>{r.subscribe(new Eo.Q(n,tp.Z))})}function np(r,n){return n?e=>fu(n.pipe((0,Cs.q)(1),pm()),e.pipe(np(r))):(0,eo.z)((e,o)=>r(e,o).pipe((0,Cs.q)(1),function(r){return(0,Pn.U)(()=>r)}(e)))}var kg=v(3532),mm=v(1165);function gm(r=0,n,e=pa.P){let o=-1;return null!=n&&((0,kg.K)(n)?e=n:o=n),new Ii.y(d=>{let E=(0,mm.q)(r)?+r-e.now():r;E<0&&(E=0);let N=0;return e.schedule(function(){d.closed||(d.next(N++),0<=o?this.schedule(void 0,o):d.complete())},E)})}const _c="Service workers are disabled or not supported by this browser";class ef{constructor(n){if(this.serviceWorker=n,n){const o=Lf(n,"controllerchange").pipe((0,Pn.U)(()=>n.controller)),E=fu(sh(()=>(0,Qn.of)(n.controller)),o);this.worker=E.pipe((0,Ai.h)(ht=>!!ht)),this.registration=this.worker.pipe((0,vr.w)(()=>n.getRegistration()));const Le=Lf(n,"message").pipe((0,Pn.U)(ht=>ht.data)).pipe((0,Ai.h)(ht=>ht&&ht.type)).pipe(n=>Rg(new Li.x)(n));Le.connect(),this.events=Le}else this.worker=this.events=this.registration=(_c,sh(()=>Nf(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(n,e){return this.worker.pipe((0,Cs.q)(1),(0,gs.b)(o=>{o.postMessage(Object.assign({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,o){const d=this.waitForOperationCompleted(o),E=this.postMessage(n,e);return Promise.all([E,d]).then(([,N])=>N)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?o=>o.type===n:o=>n.includes(o.type),this.events.pipe((0,Ai.h)(e))}nextEventOfType(n){return this.eventsOfType(n).pipe((0,Cs.q)(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ai.h)(e=>e.nonce===n),(0,Cs.q)(1),(0,Pn.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let vm=(()=>{class r{constructor(e){if(this.sw=e,this.subscriptionChanges=new Li.x,!e.isEnabled)return this.messages=ru,this.notificationClicks=ru,void(this.subscription=ru);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Pn.U)(d=>d.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Pn.U)(d=>d.data)),this.pushManager=this.sw.registration.pipe((0,Pn.U)(d=>d.pushManager));const o=this.pushManager.pipe((0,vr.w)(d=>d.getSubscription()));this.subscription=(0,ks.T)(o,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(_c));const o={userVisibleOnly:!0};let d=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),E=new Uint8Array(new ArrayBuffer(d.length));for(let N=0;N<d.length;N++)E[N]=d.charCodeAt(N);return o.applicationServerKey=E,this.pushManager.pipe((0,vr.w)(N=>N.subscribe(o)),(0,Cs.q)(1)).toPromise().then(N=>(this.subscriptionChanges.next(N),N))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Cs.q)(1),(0,vr.w)(o=>{if(null===o)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(d=>{if(!d)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(_c))}decodeBase64(e){return atob(e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ef))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),Ng=(()=>{class r{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=ru,this.available=ru,this.activated=ru,void(this.unrecoverable=ru);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Ai.h)(o=>"VERSION_READY"===o.type),(0,Pn.U)(o=>({type:"UPDATE_AVAILABLE",current:o.currentVersion,available:o.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_c));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_c));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ef))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();class Bf{}const Fg=new t.OlP("NGSW_REGISTER_SCRIPT");function bc(r,n,e,o){return()=>{if(!pe(o)||!("serviceWorker"in navigator)||!1===e.enabled)return;let E;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)E=e.registrationStrategy();else{const[ne,...Ee]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(ne){case"registerImmediately":E=(0,Qn.of)(null);break;case"registerWithDelay":E=Ec(+Ee[0]||0);break;case"registerWhenStable":E=Ee[0]?(0,ks.T)(jf(r),Ec(+Ee[0])):jf(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.get(t.R0b).runOutsideAngular(()=>E.pipe((0,Cs.q)(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(ne=>console.error("Service worker registration failed with:",ne))))}}function Ec(r){return(0,Qn.of)(null).pipe(function(r,n=pa.z){const e=gm(r,n);return np(()=>e)}(r))}function jf(r){return r.get(t.z2F).isStable.pipe((0,Ai.h)(e=>e))}function uh(r,n){return new ef(pe(n)&&!1!==r.enabled?navigator.serviceWorker:void 0)}let ch=(()=>{class r{static register(e,o={}){return{ngModule:r,providers:[{provide:Fg,useValue:e},{provide:Bf,useValue:o},{provide:ef,useFactory:uh,deps:[Bf,t.Lbi]},{provide:t.ip1,useFactory:bc,deps:[t.zs3,Fg,Bf,t.Lbi],multi:!0}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[vm,Ng]}),r})();const iu_firebase={apiKey:"AIzaSyBdpS1JPl7QLutm5ozy4UTgMD9V_k1AKIs",authDomain:"tz-list-manager.firebaseapp.com",projectId:"tz-list-manager",storageBucket:"tz-list-manager.appspot.com",messagingSenderId:"906362040167",appId:"1:906362040167:web:63a5d9896e3d8e770989c2",measurementId:"G-62EJ7F7WCD"},{isArray:iy}=Array,{getPrototypeOf:Lg,prototype:ym,keys:Hf}=Object;function Gf(r){if(1===r.length){const n=r[0];if(iy(n))return{args:n,keys:null};if(function(r){return r&&"object"==typeof r&&Lg(r)===ym}(n)){const e=Hf(n);return{args:e.map(o=>n[o]),keys:e}}}return{args:r,keys:null}}function hh(r,n){return r.reduce((e,o,d)=>(e[o]=n[d],e),{})}let rp=(()=>{class r{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Qsj),t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r}),r})(),Ru=(()=>{class r extends rp{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=t.n5z(r)))(o||r)}}(),r.\u0275dir=t.lG2({type:r,features:[t.qOj]}),r})();const Da=new t.OlP("NgValueAccessor"),Bg={provide:Da,useExisting:(0,t.Gpc)(()=>es),multi:!0},fh=new t.OlP("CompositionEventMode");let es=(()=>{class r extends rp{constructor(e,o,d){super(e,o),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=S()?S().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(fh,8))},r.\u0275dir=t.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(E){return o._handleInput(E.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(E){return o._compositionEnd(E.target.value)})},features:[t._Bn([Bg]),t.qOj]}),r})();function ku(r){return null==r||0===r.length}function Hg(r){return null!=r&&"number"==typeof r.length}const Hs=new t.OlP("NgValidators"),Nu=new t.OlP("NgAsyncValidators"),ip=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gg{static min(n){return r=n,n=>{if(ku(n.value)||ku(r))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<r?{min:{min:r,actual:n.value}}:null};var r}static max(n){return r=n,n=>{if(ku(n.value)||ku(r))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>r?{max:{max:r,actual:n.value}}:null};var r}static required(n){return ku(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return ku((r=n).value)||ip.test(r.value)?null:{email:!0};var r}static minLength(n){return r=n,n=>ku(n.value)||!Hg(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static maxLength(n){return r=n,n=>Hg(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static pattern(n){return function(r){if(!r)return wc;let n,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),n=new RegExp(e)):(e=r.toString(),n=r),o=>{if(ku(o.value))return null;const d=o.value;return n.test(d)?null:{pattern:{requiredPattern:e,actualValue:d}}}}(n)}static nullValidator(n){return null}static compose(n){return up(n)}static composeAsync(n){return cp(n)}}function wc(r){return null}function Cm(r){return null!=r}function dh(r){const n=(0,t.QGY)(r)?(0,mr.D)(r):r;return(0,t.CqO)(n),n}function qf(r){let n={};return r.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function Tm(r,n){return n.map(e=>e(r))}function Ka(r){return r.map(n=>function(r){return!r.validate}(n)?n:e=>n.validate(e))}function up(r){if(!r)return null;const n=r.filter(Cm);return 0==n.length?null:function(e){return qf(Tm(e,n))}}function $f(r){return null!=r?up(Ka(r)):null}function cp(r){if(!r)return null;const n=r.filter(Cm);return 0==n.length?null:function(e){return function(...r){const n=(0,hu.jO)(r),{args:e,keys:o}=Gf(r),d=new Ii.y(E=>{const{length:N}=e;if(!N)return void E.complete();const ne=new Array(N);let Ee=N,Le=N;for(let ht=0;ht<N;ht++){let bt=!1;(0,Aa.Xf)(e[ht]).subscribe(new Eo.Q(E,Bt=>{bt||(bt=!0,Le--),ne[ht]=Bt},()=>Ee--,void 0,()=>{(!Ee||!bt)&&(Le||E.next(o?hh(o,ne):ne),E.complete())}))}});return n?d.pipe(am(n)):d}(Tm(e,n).map(dh)).pipe((0,Pn.U)(qf))}}function hp(r){return null!=r?cp(Ka(r)):null}function fp(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function Wg(r){return r._rawValidators}function qg(r){return r._rawAsyncValidators}function tf(r){return r?Array.isArray(r)?r:[r]:[]}function nf(r,n){return Array.isArray(r)?r.includes(n):r===n}function $g(r,n){const e=tf(n);return tf(r).forEach(d=>{nf(e,d)||e.push(d)}),e}function xa(r,n){return tf(n).filter(e=>!nf(r,e))}class ph{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=$f(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ya extends ph{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ts extends ph{get formDirective(){return null}get path(){return null}}class rf{constructor(n){this._cd=n}is(n){var e,o,d;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(d=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===d?void 0:d[n])}}let mh=(()=>{class r extends rf{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ya,2))},r.\u0275dir=t.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[t.qOj]}),r})(),gh=(()=>{class r extends rf{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(ts,10))},r.\u0275dir=t.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[t.qOj]}),r})();function Kf(r,n){return[...n.path,r]}function Gs(r,n){bh(r,n),n.valueAccessor.writeValue(r.value),function(r,n){n.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&gp(r,n)})}(r,n),function(r,n){const e=(o,d)=>{n.valueAccessor.writeValue(o),d&&n.viewToModelUpdate(o)};r.registerOnChange(e),n._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,n),function(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&gp(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function(r,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(e),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,n)}function Yf(r,n,e=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),Eh(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function sf(r,n){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function bh(r,n){const e=Wg(r);null!==n.validator?r.setValidators(fp(e,n.validator)):"function"==typeof e&&r.setValidators([e]);const o=qg(r);null!==n.asyncValidator?r.setAsyncValidators(fp(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const d=()=>r.updateValueAndValidity();sf(n._rawValidators,d),sf(n._rawAsyncValidators,d)}function Eh(r,n){let e=!1;if(null!==r){if(null!==n.validator){const d=Wg(r);if(Array.isArray(d)&&d.length>0){const E=d.filter(N=>N!==n.validator);E.length!==d.length&&(e=!0,r.setValidators(E))}}if(null!==n.asyncValidator){const d=qg(r);if(Array.isArray(d)&&d.length>0){const E=d.filter(N=>N!==n.asyncValidator);E.length!==d.length&&(e=!0,r.setAsyncValidators(E))}}}const o=()=>{};return sf(n._rawValidators,o),sf(n._rawAsyncValidators,o),e}function gp(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Sc(r,n){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function Mm(r,n){if(!n)return null;let e,o,d;return Array.isArray(n),n.forEach(E=>{E.constructor===es?e=E:function(r){return Object.getPrototypeOf(r.constructor)===Ru}(E)?o=E:d=E}),d||o||e||null}function Rl(r,n){const e=r.indexOf(n);e>-1&&r.splice(e,1)}const Qf="VALID",af="INVALID",sa="PENDING",zs="DISABLED";function Zf(r){return(Ep(r)?r.validators:r)||null}function bp(r){return Array.isArray(r)?$f(r):r||null}function Fu(r,n){return(Ep(n)?n.asyncValidators:r)||null}function Qa(r){return Array.isArray(r)?hp(r):r||null}function Ep(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class wp{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=bp(this._rawValidators),this._composedAsyncValidatorFn=Qa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Qf}get invalid(){return this.status===af}get pending(){return this.status==sa}get disabled(){return this.status===zs}get enabled(){return this.status!==zs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=bp(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Qa(n)}addValidators(n){this.setValidators($g(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($g(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(xa(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(xa(n,this._rawAsyncValidators))}hasValidator(n){return nf(this._rawValidators,n)}hasAsyncValidator(n){return nf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=sa,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=zs,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Qf,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qf||this.status===sa)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zs:Qf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const e=dh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(r,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let o=r;return n.forEach(d=>{o=o instanceof Jf?o.controls.hasOwnProperty(d)?o.controls[d]:null:o instanceof Cp&&o.at(d)||null}),o}(this,n)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?zs:this.errors?af:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(af)?af:Qf}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ep(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wh extends wp{constructor(n=null,e,o){super(Zf(e),Fu(o,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Rl(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Rl(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Jf extends wp{constructor(n,e,o){super(Zf(e),Fu(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,d)=>{o.reset(n[d],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e instanceof wh?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,o)=>((e.enabled||this.disabled)&&(n[o]=e.value),n))}_reduceChildren(n,e){let o=n;return this._forEachChild((d,E)=>{o=e(o,d,E)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Cp extends wp{constructor(n,e,o){super(Zf(e),Fu(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,o={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((o,d)=>{this._throwIfControlMissing(d),this.at(d).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((o,d)=>{this.at(d)&&this.at(d).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((o,d)=>{o.reset(n[d],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof wh?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,o)=>{n(e,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,o)=>{if(void 0===n[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const zr={provide:Ya,useExisting:(0,t.Gpc)(()=>Lu)},aa=(()=>Promise.resolve(null))();let Lu=(()=>{class r extends Ya{constructor(e,o,d,E){super(),this.control=new wh,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(d),this.valueAccessor=Mm(0,E)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Sc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Kf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){aa.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,d=""===o||o&&"false"!==o;aa.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable()})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(ts,9),t.Y36(Hs,10),t.Y36(Nu,10),t.Y36(Da,10))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([zr]),t.qOj,t.TTD]}),r})(),Ip=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=t.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const mo={provide:Da,useExisting:(0,t.Gpc)(()=>Vu),multi:!0};let Vu=(()=>{class r extends Ru{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=t.n5z(r)))(o||r)}}(),r.\u0275dir=t.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(E){return o.onChange(E.target.value)})("blur",function(){return o.onTouched()})},features:[t._Bn([mo]),t.qOj]}),r})(),Rm=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();const Xf=new t.OlP("NgModelWithFormControlWarning"),sy={provide:ts,useExisting:(0,t.Gpc)(()=>Sh)};let Sh=(()=>{class r extends ts{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Eh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return Gs(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){Yf(e.control||null,e,!1),Rl(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function(r,n){r._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,d=this.form.get(e.path);o!==d&&(Yf(o||null,e),d instanceof wh&&(Gs(d,e),e.control=d))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function(r,n){bh(r,n)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(r,n){return Eh(r,n)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bh(this.form,this),this._oldForm&&Eh(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Hs,10),t.Y36(Nu,10))},r.\u0275dir=t.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&t.NdJ("submit",function(E){return o.onSubmit(E)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([sy]),t.qOj,t.TTD]}),r})();const ay={provide:Ya,useExisting:(0,t.Gpc)(()=>Dh)};let Dh=(()=>{class r extends Ya{constructor(e,o,d,E,N){super(),this._ngModelWarningConfig=N,this._added=!1,this.update=new t.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(d),this.valueAccessor=Mm(0,E)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Sc(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Kf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(t.Y36(ts,13),t.Y36(Hs,10),t.Y36(Nu,10),t.Y36(Da,10),t.Y36(Xf,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t._Bn([ay]),t.qOj,t.TTD]}),r})(),it=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[Rm]]}),r})(),Gt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[it]}),r})(),fn=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Xf,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[it]}),r})(),bi=(()=>{class r{group(e,o=null){const d=this._reduceControls(e);let ne,E=null,N=null;return null!=o&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(o)?(E=null!=o.validators?o.validators:null,N=null!=o.asyncValidators?o.asyncValidators:null,ne=null!=o.updateOn?o.updateOn:void 0):(E=null!=o.validator?o.validator:null,N=null!=o.asyncValidator?o.asyncValidator:null)),new Jf(d,{asyncValidators:N,updateOn:ne,validators:E})}control(e,o,d){return new wh(e,o,d)}array(e,o,d){const E=e.map(N=>this._createControl(N));return new Cp(E,o,d)}_reduceControls(e){const o={};return Object.keys(e).forEach(d=>{o[d]=this._createControl(e[d])}),o}_createControl(e){return e instanceof wh||e instanceof Jf||e instanceof Cp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:fn}),r})();class Fr{static equals(n,e,o){return o?this.resolveFieldData(n,o)===this.resolveFieldData(e,o):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&"object"==typeof n&&"object"==typeof e){var E,N,ne,o=Array.isArray(n),d=Array.isArray(e);if(o&&d){if((N=n.length)!=e.length)return!1;for(E=N;0!=E--;)if(!this.equalsByValue(n[E],e[E]))return!1;return!0}if(o!=d)return!1;var Ee=n instanceof Date,Le=e instanceof Date;if(Ee!=Le)return!1;if(Ee&&Le)return n.getTime()==e.getTime();var ht=n instanceof RegExp,bt=e instanceof RegExp;if(ht!=bt)return!1;if(ht&&bt)return n.toString()==e.toString();var Bt=Object.keys(n);if((N=Bt.length)!==Object.keys(e).length)return!1;for(E=N;0!=E--;)if(!Object.prototype.hasOwnProperty.call(e,Bt[E]))return!1;for(E=N;0!=E--;)if(!this.equalsByValue(n[ne=Bt[E]],e[ne]))return!1;return!0}return n!=n&&e!=e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(-1==e.indexOf("."))return n[e];{let o=e.split("."),d=n;for(let E=0,N=o.length;E<N;++E){if(null==d)return null;d=d[o[E]]}return d}}return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,o){n&&e!==o&&(o>=n.length&&(o%=n.length,e%=n.length),n.splice(o,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,o,d){if(o.length>0){let E=!1;for(let N=0;N<o.length;N++)if(this.findIndexInList(o[N],d)>e){o.splice(N,0,n),E=!0;break}E||o.push(n)}else o.push(n)}static findIndexInList(n,e){let o=-1;if(e)for(let d=0;d<e.length;d++)if(e[d]==n){o=d;break}return o}static contains(n,e){if(null!=n&&e&&e.length)for(let o of e)if(this.equals(n,o))return!0;return!1}static removeAccents(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}}var pl=0;function cf(){return"pr_id_"+ ++pl}var Oc=function(){let r=[];const d=E=>E&&parseInt(E.style.zIndex,10)||0;return{get:d,set:(E,N,ne)=>{N&&(N.style.zIndex=String(((E,N)=>{let ne=r.length>0?r[r.length-1]:{key:E,value:N},Ee=ne.value+(ne.key===E?0:N)+1;return r.push({key:E,value:Ee}),Ee})(E,ne)))},clear:E=>{E&&((E=>{r=r.filter(N=>N.value!==E)})(d(E)),E.style.zIndex="")},getCurrent:()=>r.length>0?r[r.length-1].value:0}}();const AE=["*"];let el=(()=>{class r{}return r.STARTS_WITH="startsWith",r.CONTAINS="contains",r.NOT_CONTAINS="notContains",r.ENDS_WITH="endsWith",r.EQUALS="equals",r.NOT_EQUALS="notEquals",r.IN="in",r.LESS_THAN="lt",r.LESS_THAN_OR_EQUAL_TO="lte",r.GREATER_THAN="gt",r.GREATER_THAN_OR_EQUAL_TO="gte",r.BETWEEN="between",r.IS="is",r.IS_NOT="isNot",r.BEFORE="before",r.AFTER="after",r.DATE_IS="dateIs",r.DATE_IS_NOT="dateIsNot",r.DATE_BEFORE="dateBefore",r.DATE_AFTER="dateAfter",r})(),xp=(()=>{class r{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[el.STARTS_WITH,el.CONTAINS,el.NOT_CONTAINS,el.ENDS_WITH,el.EQUALS,el.NOT_EQUALS],numeric:[el.EQUALS,el.NOT_EQUALS,el.LESS_THAN,el.LESS_THAN_OR_EQUAL_TO,el.GREATER_THAN,el.GREATER_THAN_OR_EQUAL_TO],date:[el.DATE_IS,el.DATE_IS_NOT,el.DATE_BEFORE,el.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Li.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Gm=(()=>{class r{}return r.STARTS_WITH="startsWith",r.CONTAINS="contains",r.NOT_CONTAINS="notContains",r.ENDS_WITH="endsWith",r.EQUALS="equals",r.NOT_EQUALS="notEquals",r.NO_FILTER="noFilter",r.LT="lt",r.LTE="lte",r.GT="gt",r.GTE="gte",r.IS="is",r.IS_NOT="isNot",r.BEFORE="before",r.AFTER="after",r.CLEAR="clear",r.APPLY="apply",r.MATCH_ALL="matchAll",r.MATCH_ANY="matchAny",r.ADD_RULE="addRule",r.REMOVE_RULE="removeRule",r.ACCEPT="accept",r.REJECT="reject",r.CHOOSE="choose",r.UPLOAD="upload",r.CANCEL="cancel",r.DAY_NAMES="dayNames",r.DAY_NAMES_SHORT="dayNamesShort",r.DAY_NAMES_MIN="dayNamesMin",r.MONTH_NAMES="monthNames",r.MONTH_NAMES_SHORT="monthNamesShort",r.FIRST_DAY_OF_WEEK="firstDayOfWeek",r.TODAY="today",r.WEEK_HEADER="weekHeader",r.WEAK="weak",r.MEDIUM="medium",r.STRONG="strong",r.PASSWORD_PROMPT="passwordPrompt",r.EMPTY_MESSAGE="emptyMessage",r.EMPTY_FILTER_MESSAGE="emptyFilterMessage",r})(),id=(()=>{class r{constructor(){this.filters={startsWith:(e,o,d)=>{if(null==o||""===o.trim())return!0;if(null==e)return!1;let E=Fr.removeAccents(o.toString()).toLocaleLowerCase(d);return Fr.removeAccents(e.toString()).toLocaleLowerCase(d).slice(0,E.length)===E},contains:(e,o,d)=>{if(null==o||"string"==typeof o&&""===o.trim())return!0;if(null==e)return!1;let E=Fr.removeAccents(o.toString()).toLocaleLowerCase(d);return-1!==Fr.removeAccents(e.toString()).toLocaleLowerCase(d).indexOf(E)},notContains:(e,o,d)=>{if(null==o||"string"==typeof o&&""===o.trim())return!0;if(null==e)return!1;let E=Fr.removeAccents(o.toString()).toLocaleLowerCase(d);return-1===Fr.removeAccents(e.toString()).toLocaleLowerCase(d).indexOf(E)},endsWith:(e,o,d)=>{if(null==o||""===o.trim())return!0;if(null==e)return!1;let E=Fr.removeAccents(o.toString()).toLocaleLowerCase(d),N=Fr.removeAccents(e.toString()).toLocaleLowerCase(d);return-1!==N.indexOf(E,N.length-E.length)},equals:(e,o,d)=>null==o||"string"==typeof o&&""===o.trim()||null!=e&&(e.getTime&&o.getTime?e.getTime()===o.getTime():Fr.removeAccents(e.toString()).toLocaleLowerCase(d)==Fr.removeAccents(o.toString()).toLocaleLowerCase(d)),notEquals:(e,o,d)=>!(null==o||"string"==typeof o&&""===o.trim()||null!=e&&(e.getTime&&o.getTime?e.getTime()===o.getTime():Fr.removeAccents(e.toString()).toLocaleLowerCase(d)==Fr.removeAccents(o.toString()).toLocaleLowerCase(d))),in:(e,o)=>{if(null==o||0===o.length)return!0;for(let d=0;d<o.length;d++)if(Fr.equals(e,o[d]))return!0;return!1},between:(e,o)=>null==o||null==o[0]||null==o[1]||null!=e&&(e.getTime?o[0].getTime()<=e.getTime()&&e.getTime()<=o[1].getTime():o[0]<=e&&e<=o[1]),lt:(e,o,d)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()<o.getTime():e<o),lte:(e,o,d)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()<=o.getTime():e<=o),gt:(e,o,d)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()>o.getTime():e>o),gte:(e,o,d)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()>=o.getTime():e>=o),is:(e,o,d)=>this.filters.equals(e,o,d),isNot:(e,o,d)=>this.filters.notEquals(e,o,d),before:(e,o,d)=>this.filters.lt(e,o,d),after:(e,o,d)=>this.filters.gt(e,o,d),dateIs:(e,o)=>null==o||null!=e&&e.toDateString()===o.toDateString(),dateIsNot:(e,o)=>null==o||null!=e&&e.toDateString()!==o.toDateString(),dateBefore:(e,o)=>null==o||null!=e&&e.getTime()<o.getTime(),dateAfter:(e,o)=>null==o||null!=e&&e.getTime()>o.getTime()}}filter(e,o,d,E,N){let ne=[];if(e)for(let Ee of e)for(let Le of o){let ht=Fr.resolveFieldData(Ee,Le);if(this.filters[E](ht,d,N)){ne.push(Ee);break}}return ne}register(e,o){this.filters[e]=o}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Y_=(()=>{class r{constructor(){this.clickSource=new Li.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-header"]],ngContentSelectors:AE,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2}),r})(),rv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-footer"]],ngContentSelectors:AE,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2}),r})(),Bu=(()=>{class r{constructor(e){this.template=e}getType(){return this.name}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Rgc))},r.\u0275dir=t.lG2({type:r,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),r})(),Oh=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})();function PE(r,n){if(1&r&&(t.TgZ(0,"span",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.header," ")}}function OE(r,n){1&r&&t.GkF(0)}function Q_(r,n){1&r&&t.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function ME(r,n){1&r&&t.GkF(0)}function Z_(r,n){if(1&r&&(t.ynx(0),t.YNc(1,ME,1,0,"ng-container",5),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.contentTemplate)}}const J_=["*",[["p-header"]]],uy=function(r){return{"p-accordion-tab-active":r}},OT=function(r,n){return{"p-highlight":r,"p-disabled":n}},iv=function(r){return{transitionParams:r}},RE=function(r){return{value:"visible",params:r}},MT=function(r){return{value:"hidden",params:r}},zm=["*","p-header"],X_=["*"];let cy=0,ov=(()=>{class r{constructor(e,o){this.changeDetector=o,this.cache=!0,this.selectedChange=new t.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+cy++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let o=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:o});else{if(!this.accordion.multiple)for(var d=0;d<this.accordion.tabs.length;d++)this.accordion.tabs[d].selected&&(this.accordion.tabs[d].selected=!1,this.accordion.tabs[d].selectedChange.emit(!1),this.accordion.tabs[d].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:o})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var o=0;o<this.accordion.tabs.length;o++)if(this.accordion.tabs[o]==this){e=o;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>e0)),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-accordionTab"]],contentQueries:function(e,o,d){if(1&e&&(t.Suo(d,nv,4),t.Suo(d,Bu,4)),2&e){let E;t.iGM(E=t.CRH())&&(o.headerFacet=E),t.iGM(E=t.CRH())&&(o.templates=E)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:zm,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,o){1&e&&(t.F$t(J_),t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"a",2),t.NdJ("click",function(E){return o.toggle(E)})("keydown",function(E){return o.onKeydown(E)}),t._UZ(3,"span",3),t.YNc(4,PE,2,1,"span",4),t.YNc(5,OE,1,0,"ng-container",5),t.YNc(6,Q_,1,0,"ng-content",6),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"div",8),t.Hsn(9),t.YNc(10,Z_,2,1,"ng-container",6),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(15,uy,o.selected)),t.xp6(1),t.Q6J("ngClass",t.WLB(17,OT,o.selected,o.disabled)),t.xp6(1),t.uIk("tabindex",o.disabled?null:0)("id",o.id)("aria-controls",o.id+"-content")("aria-expanded",o.selected),t.xp6(1),t.Q6J("ngClass",o.selected?o.accordion.collapseIcon:o.accordion.expandIcon),t.xp6(1),t.Q6J("ngIf",!o.hasHeaderFacet),t.xp6(1),t.Q6J("ngTemplateOutlet",o.headerTemplate),t.xp6(1),t.Q6J("ngIf",o.hasHeaderFacet),t.xp6(1),t.Q6J("@tabContent",o.selected?t.VKq(22,RE,t.VKq(20,iv,o.transitionOptions)):t.VKq(26,MT,t.VKq(24,iv,o.transitionOptions))),t.uIk("id",o.id+"-content")("aria-hidden",!o.selected)("aria-labelledby",o.id),t.xp6(3),t.Q6J("ngIf",o.contentTemplate&&(o.cache?o.loaded:o.selected)))},directives:[hn,Kt,io],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}\n"],encapsulation:2,data:{animation:[Ba("tabContent",[ja("hidden",hs({height:"0",overflow:"hidden"})),ja("visible",hs({height:"*"})),va("visible <=> hidden",[hs({overflow:"hidden"}),ta("{{transitionParams}}")]),va("void => *",ta(0))])]},changeDetection:0}),r})(),e0=(()=>{class r{constructor(e,o){this.el=e,this.changeDetector=o,this.onClose=new t.vpe,this.onOpen=new t.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new t.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let o=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;o!==this.tabs[e].selected&&(this.tabs[e].selected=o,this.tabs[e].selectedChange.emit(o),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((o,d)=>{if(o.selected){if(!this.multiple)return void(e=d);e.push(d)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-accordion"]],contentQueries:function(e,o,d){if(1&e&&t.Suo(d,ov,4),2&e){let E;t.iGM(E=t.CRH())&&(o.tabList=E)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:X_,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngClass","p-accordion p-component")("ngStyle",o.style))},directives:[hn,fi],encapsulation:2,changeDetection:0}),r})(),sv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai],Oh]}),r})(),gn=(()=>{class r{static addClass(e,o){e.classList?e.classList.add(o):e.className+=" "+o}static addMultipleClasses(e,o){if(e.classList){let d=o.trim().split(" ");for(let E=0;E<d.length;E++)e.classList.add(d[E])}else{let d=o.split(" ");for(let E=0;E<d.length;E++)e.className+=" "+d[E]}}static removeClass(e,o){e.classList?e.classList.remove(o):e.className=e.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,o){return e.classList?e.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(o){return o!==e})}static find(e,o){return Array.from(e.querySelectorAll(o))}static findSingle(e,o){return e?e.querySelector(o):null}static index(e){let o=e.parentNode.childNodes,d=0;for(var E=0;E<o.length;E++){if(o[E]==e)return d;1==o[E].nodeType&&d++}return-1}static indexWithinGroup(e,o){let d=e.parentNode?e.parentNode.childNodes:[],E=0;for(var N=0;N<d.length;N++){if(d[N]==e)return E;d[N].attributes&&d[N].attributes[o]&&1==d[N].nodeType&&E++}return-1}static relativePosition(e,o){let d=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const E=o.offsetHeight,N=o.getBoundingClientRect(),ne=this.getViewport();let Ee,Le;N.top+E+d.height>ne.height?(Ee=-1*d.height,e.style.transformOrigin="bottom",N.top+Ee<0&&(Ee=-1*N.top)):(Ee=E,e.style.transformOrigin="top"),Le=d.width>ne.width?-1*N.left:N.left+d.width>ne.width?-1*(N.left+d.width-ne.width):0,e.style.top=Ee+"px",e.style.left=Le+"px"}static absolutePosition(e,o){let Mt,en,d=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),E=d.height,N=d.width,ne=o.offsetHeight,Ee=o.offsetWidth,Le=o.getBoundingClientRect(),ht=this.getWindowScrollTop(),bt=this.getWindowScrollLeft(),Bt=this.getViewport();Le.top+ne+E>Bt.height?(Mt=Le.top+ht-E,e.style.transformOrigin="bottom",Mt<0&&(Mt=ht)):(Mt=ne+Le.top+ht,e.style.transformOrigin="top"),en=Le.left+N>Bt.width?Math.max(0,Le.left+bt+Ee-N):Le.left+bt,e.style.top=Mt+"px",e.style.left=en+"px"}static getParents(e,o=[]){return null===e.parentNode?o:this.getParents(e.parentNode,o.concat([e.parentNode]))}static getScrollableParents(e){let o=[];if(e){let d=this.getParents(e);const E=/(auto|scroll)/,N=ne=>{let Ee=window.getComputedStyle(ne,null);return E.test(Ee.getPropertyValue("overflow"))||E.test(Ee.getPropertyValue("overflowX"))||E.test(Ee.getPropertyValue("overflowY"))};for(let ne of d){let Ee=1===ne.nodeType&&ne.dataset.scrollselectors;if(Ee){let Le=Ee.split(",");for(let ht of Le){let bt=this.findSingle(ne,ht);bt&&N(bt)&&o.push(bt)}}9!==ne.nodeType&&N(ne)&&o.push(ne)}}return o}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementDimensions(e){let o={};return e.style.visibility="hidden",e.style.display="block",o.width=e.offsetWidth,o.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",o}static scrollInView(e,o){let d=getComputedStyle(e).getPropertyValue("borderTopWidth"),E=d?parseFloat(d):0,N=getComputedStyle(e).getPropertyValue("paddingTop"),ne=N?parseFloat(N):0,Ee=e.getBoundingClientRect(),ht=o.getBoundingClientRect().top+document.body.scrollTop-(Ee.top+document.body.scrollTop)-E-ne,bt=e.scrollTop,Bt=e.clientHeight,Mt=this.getOuterHeight(o);ht<0?e.scrollTop=bt+ht:ht+Mt>Bt&&(e.scrollTop=bt+ht-Bt+Mt)}static fadeIn(e,o){e.style.opacity=0;let d=+new Date,E=0,N=function(){E=+e.style.opacity.replace(",",".")+((new Date).getTime()-d)/o,e.style.opacity=E,d=+new Date,+E<1&&(window.requestAnimationFrame&&requestAnimationFrame(N)||setTimeout(N,16))};N()}static fadeOut(e,o){var d=1,ne=50/o;let Ee=setInterval(()=>{(d-=ne)<=0&&(d=0,clearInterval(Ee)),e.style.opacity=d},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,o){var d=Element.prototype;return(d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||function(N){return-1!==[].indexOf.call(document.querySelectorAll(N),this)}).call(e,o)}static getOuterWidth(e,o){let d=e.offsetWidth;if(o){let E=getComputedStyle(e);d+=parseFloat(E.marginLeft)+parseFloat(E.marginRight)}return d}static getHorizontalPadding(e){let o=getComputedStyle(e);return parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)}static getHorizontalMargin(e){let o=getComputedStyle(e);return parseFloat(o.marginLeft)+parseFloat(o.marginRight)}static innerWidth(e){let o=e.offsetWidth,d=getComputedStyle(e);return o+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),o}static width(e){let o=e.offsetWidth,d=getComputedStyle(e);return o-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),o}static getInnerHeight(e){let o=e.offsetHeight,d=getComputedStyle(e);return o+=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),o}static getOuterHeight(e,o){let d=e.offsetHeight;if(o){let E=getComputedStyle(e);d+=parseFloat(E.marginTop)+parseFloat(E.marginBottom)}return d}static getHeight(e){let o=e.offsetHeight,d=getComputedStyle(e);return o-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)+parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth),o}static getWidth(e){let o=e.offsetWidth,d=getComputedStyle(e);return o-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth),o}static getViewport(){let e=window,o=document,d=o.documentElement,E=o.getElementsByTagName("body")[0];return{width:e.innerWidth||d.clientWidth||E.clientWidth,height:e.innerHeight||d.clientHeight||E.clientHeight}}static getOffset(e){var o=e.getBoundingClientRect();return{top:o.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:o.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,o){let d=e.parentNode;if(!d)throw"Can't replace element";return d.replaceChild(o,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,o){if(this.isElement(o))o.appendChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot append "+o+" to "+e;o.el.nativeElement.appendChild(e)}}static removeChild(e,o){if(this.isElement(o))o.removeChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot remove "+e+" from "+o;o.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let o=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);let d=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=d,d}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let o=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=o,o}static invokeElementMethod(e,o,d){e[o].apply(e,d)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),o=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:o[1]||"",version:o[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let o=r.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),d=[];for(let E of o)"none"!=getComputedStyle(E).display&&"hidden"!=getComputedStyle(E).visibility&&d.push(E);return d}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return r.zindex=1e3,r.calculatedScrollbarWidth=null,r.calculatedScrollbarHeight=null,r})();class av{constructor(n,e=(()=>{})){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=gn.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let lv=(()=>{class r{constructor(e,o,d){this.el=e,this.zone=o,this.config=d}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let o=this.getInk();if(!o||"none"===getComputedStyle(o,null).display)return;if(gn.removeClass(o,"p-ink-active"),!gn.getHeight(o)&&!gn.getWidth(o)){let ne=Math.max(gn.getOuterWidth(this.el.nativeElement),gn.getOuterHeight(this.el.nativeElement));o.style.height=ne+"px",o.style.width=ne+"px"}let d=gn.getOffset(this.el.nativeElement),E=e.pageX-d.left+document.body.scrollTop-gn.getWidth(o)/2,N=e.pageY-d.top+document.body.scrollLeft-gn.getHeight(o)/2;o.style.top=N+"px",o.style.left=E+"px",gn.addClass(o,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&gn.removeClass(e,"p-ink-active")}onAnimationEnd(e){gn.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),gn.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(xp,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),r})(),od=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})(),ju=(()=>{class r{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,gn.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&gn.addClass(e,o);let d=this.getIconClass();d&&gn.addMultipleClasses(e,d);let E=gn.findSingle(this.el.nativeElement,".p-button-label");E?this.el.nativeElement.insertBefore(e,E):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=gn.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=gn.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(gn.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),r})(),r0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,od]]}),r})();function o0(r,n){1&r&&t.GkF(0)}function s0(r,n){if(1&r&&(t.TgZ(0,"div",8),t.Hsn(1,1),t.YNc(2,o0,1,0,"ng-container",6),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.headerTemplate)}}function fy(r,n){1&r&&t.GkF(0)}function a0(r,n){if(1&r&&(t.TgZ(0,"div",9),t._uU(1),t.YNc(2,fy,1,0,"ng-container",6),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("ngTemplateOutlet",e.titleTemplate)}}function UE(r,n){1&r&&t.GkF(0)}function l0(r,n){if(1&r&&(t.TgZ(0,"div",10),t._uU(1),t.YNc(2,UE,1,0,"ng-container",6),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.subheader," "),t.xp6(1),t.Q6J("ngTemplateOutlet",e.subtitleTemplate)}}function u0(r,n){1&r&&t.GkF(0)}function c0(r,n){1&r&&t.GkF(0)}function dy(r,n){if(1&r&&(t.TgZ(0,"div",11),t.Hsn(1,2),t.YNc(2,c0,1,0,"ng-container",6),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.footerTemplate)}}const h0=["*",[["p-header"]],[["p-footer"]]],f0=["*","p-header","p-footer"];let py=(()=>{class r{constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-card"]],contentQueries:function(e,o,d){if(1&e&&(t.Suo(d,nv,5),t.Suo(d,rv,5),t.Suo(d,Bu,4)),2&e){let E;t.iGM(E=t.CRH())&&(o.headerFacet=E.first),t.iGM(E=t.CRH())&&(o.footerFacet=E.first),t.iGM(E=t.CRH())&&(o.templates=E)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:f0,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,o){1&e&&(t.F$t(h0),t.TgZ(0,"div",0),t.YNc(1,s0,3,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,a0,3,2,"div",3),t.YNc(4,l0,3,2,"div",4),t.TgZ(5,"div",5),t.Hsn(6),t.YNc(7,u0,1,0,"ng-container",6),t.qZA(),t.YNc(8,dy,3,1,"div",7),t.qZA(),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngClass","p-card p-component")("ngStyle",o.style),t.xp6(1),t.Q6J("ngIf",o.headerFacet||o.headerTemplate),t.xp6(2),t.Q6J("ngIf",o.header||o.titleTemplate),t.xp6(1),t.Q6J("ngIf",o.subheader||o.subtitleTemplate),t.xp6(3),t.Q6J("ngTemplateOutlet",o.contentTemplate),t.xp6(1),t.Q6J("ngIf",o.footerFacet||o.footerTemplate))},directives:[hn,fi,Kt,io],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),my=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai],Oh]}),r})(),uv=(()=>{class r{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let o=gn.getFocusableElements(this.el.nativeElement);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let d=o.indexOf(o[0].ownerDocument.activeElement);e.shiftKey?-1==d||0===d?o[o.length-1].focus():o[d-1].focus():-1==d||d===o.length-1?o[0].focus():o[d+1].focus()}else o[0].focus()}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,o){1&e&&t.NdJ("keydown.tab",function(E){return o.onkeydown(E)})("keydown.shift.tab",function(E){return o.onkeydown(E)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),r})(),cv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})();const d0=["titlebar"],p0=["content"],RT=["footer"];function BE(r,n){if(1&r&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&r){const e=t.oxw(4);t.uIk("id",e.id+"-label"),t.xp6(1),t.Oqu(e.header)}}function jE(r,n){if(1&r&&(t.TgZ(0,"span",17),t.Hsn(1,1),t.qZA()),2&r){const e=t.oxw(4);t.uIk("id",e.id+"-label")}}function m0(r,n){1&r&&t.GkF(0)}const HE=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function As(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).maximize()})("keydown.enter",function(){return t.CHM(e),t.oxw(4).maximize()}),t._UZ(1,"span",19),t.qZA()}if(2&r){const e=t.oxw(4);t.Q6J("ngClass",t.DdM(2,HE)),t.xp6(1),t.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const g0=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function GE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(d){return t.CHM(e),t.oxw(4).close(d)})("keydown.enter",function(d){return t.CHM(e),t.oxw(4).close(d)}),t._UZ(1,"span",21),t.qZA()}if(2&r){const e=t.oxw(4);t.Q6J("ngClass",t.DdM(4,g0)),t.uIk("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),t.xp6(1),t.Q6J("ngClass",e.closeIcon)}}function zE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",11,12),t.NdJ("mousedown",function(d){return t.CHM(e),t.oxw(3).initDrag(d)}),t.YNc(2,BE,2,2,"span",13),t.YNc(3,jE,2,1,"span",13),t.YNc(4,m0,1,0,"ng-container",8),t.TgZ(5,"div",14),t.YNc(6,As,2,3,"button",15),t.YNc(7,GE,2,5,"button",16),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),t.xp6(1),t.Q6J("ngIf",e.headerFacet),t.xp6(1),t.Q6J("ngTemplateOutlet",e.headerTemplate),t.xp6(2),t.Q6J("ngIf",e.maximizable),t.xp6(1),t.Q6J("ngIf",e.closable)}}function v0(r,n){1&r&&t.GkF(0)}function WE(r,n){1&r&&t.GkF(0)}function y0(r,n){if(1&r&&(t.TgZ(0,"div",22,23),t.Hsn(2,2),t.YNc(3,WE,1,0,"ng-container",8),t.qZA()),2&r){const e=t.oxw(3);t.xp6(3),t.Q6J("ngTemplateOutlet",e.footerTemplate)}}function _0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",24),t.NdJ("mousedown",function(d){return t.CHM(e),t.oxw(3).initResize(d)}),t.qZA()}}const Pp=function(r,n,e,o){return{"p-dialog p-component":!0,"p-dialog-rtl":r,"p-dialog-draggable":n,"p-dialog-resizable":e,"p-dialog-maximized":o}},qE=function(r,n){return{transform:r,transition:n}},$E=function(r){return{value:"visible",params:r}};function b0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",3,4),t.NdJ("@animation.start",function(d){return t.CHM(e),t.oxw(2).onAnimationStart(d)})("@animation.done",function(d){return t.CHM(e),t.oxw(2).onAnimationEnd(d)}),t.YNc(2,zE,8,5,"div",5),t.TgZ(3,"div",6,7),t.Hsn(5),t.YNc(6,v0,1,0,"ng-container",8),t.qZA(),t.YNc(7,y0,4,1,"div",9),t.YNc(8,_0,1,0,"div",10),t.qZA()}if(2&r){const e=t.oxw(2);t.Tol(e.styleClass),t.Q6J("ngClass",t.l5B(15,Pp,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",t.VKq(23,$E,t.WLB(20,qE,e.transformOptions,e.transitionOptions))),t.uIk("aria-labelledby",e.id+"-label"),t.xp6(2),t.Q6J("ngIf",e.showHeader),t.xp6(1),t.Tol(e.contentStyleClass),t.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),t.xp6(3),t.Q6J("ngTemplateOutlet",e.contentTemplate),t.xp6(1),t.Q6J("ngIf",e.footerFacet||e.footerTemplate),t.xp6(1),t.Q6J("ngIf",e.resizable)}}const KE=function(r,n,e,o,d,E,N,ne,Ee,Le){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":r,"p-dialog-mask-scrollblocker":n,"p-dialog-left":e,"p-dialog-right":o,"p-dialog-top":d,"p-dialog-top-left":E,"p-dialog-top-right":N,"p-dialog-bottom":ne,"p-dialog-bottom-left":Ee,"p-dialog-bottom-right":Le}};function E0(r,n){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,b0,9,25,"div",2),t.qZA()),2&r){const e=t.oxw();t.Tol(e.maskStyleClass),t.Q6J("ngClass",t.rFY(4,KE,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),t.xp6(1),t.Q6J("ngIf",e.visible)}}const kT=["*",[["p-header"]],[["p-footer"]]],gy=["*","p-header","p-footer"],vy=ya([hs({transform:"{{transform}}",opacity:0}),ta("{{transition}}")]),Mc=ya([ta("{{transition}}",hs({transform:"{{transform}}",opacity:0}))]);let YE=(()=>{class r{constructor(e,o,d,E,N){this.el=e,this.renderer=o,this.zone=d,this.cd=E,this.config=N,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new t.vpe,this.onHide=new t.vpe,this.visibleChange=new t.vpe,this.onResizeInit=new t.vpe,this.onResizeEnd=new t.vpe,this.onDragEnd=new t.vpe,this.onMaximize=new t.vpe,this.id=cf(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=gn.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&gn.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&gn.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?gn.addClass(document.body,"p-overflow-hidden"):gn.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Oc.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let o in this.breakpoints)e+=`\n                    @media screen and (max-width: ${o}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[o]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){gn.hasClass(e.target,"p-dialog-header-icon")||gn.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",gn.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let o=gn.getFocusableElements(this.container);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let d=o.indexOf(o[0].ownerDocument.activeElement);e.shiftKey?-1==d||0===d?o[o.length-1].focus():o[d-1].focus():-1==d||d===o.length-1?o[0].focus():o[d+1].focus()}else o[0].focus()}}onDrag(e){if(this.dragging){let o=gn.getOuterWidth(this.container),d=gn.getOuterHeight(this.container),E=e.pageX-this.lastPageX,N=e.pageY-this.lastPageY,ne=gn.getOffset(this.container),Ee=ne.left+E,Le=ne.top+N,ht=gn.getViewport();this.container.style.position="fixed",this.keepInViewport?(Ee>=this.minX&&Ee+o<ht.width&&(this._style.left=Ee+"px",this.lastPageX=e.pageX,this.container.style.left=Ee+"px"),Le>=this.minY&&Le+d<ht.height&&(this._style.top=Le+"px",this.lastPageY=e.pageY,this.container.style.top=Le+"px")):(this.lastPageX=e.pageX,this.container.style.left=Ee+"px",this.lastPageY=e.pageY,this.container.style.top=Le+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,gn.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,gn.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let o=e.pageX-this.lastPageX,d=e.pageY-this.lastPageY,E=gn.getOuterWidth(this.container),N=gn.getOuterHeight(this.container),ne=gn.getOuterHeight(this.contentViewChild.nativeElement),Ee=E+o,Le=N+d,ht=this.container.style.minWidth,bt=this.container.style.minHeight,Bt=gn.getOffset(this.container),Mt=gn.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(Ee+=o,Le+=d),(!ht||Ee>parseInt(ht))&&Bt.left+Ee<Mt.width&&(this._style.width=Ee+"px",this.container.style.width=this._style.width),(!bt||Le>parseInt(bt))&&Bt.top+Le<Mt.height&&(this.contentViewChild.nativeElement.style.height=ne+Le-N+"px",this._style.height&&(this._style.height=Le+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,gn.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",o=>{27==o.which&&this.close(o)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):gn.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&gn.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&gn.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(gn.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&gn.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Oc.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(xp))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-dialog"]],contentQueries:function(e,o,d){if(1&e&&(t.Suo(d,nv,5),t.Suo(d,rv,5),t.Suo(d,Bu,4)),2&e){let E;t.iGM(E=t.CRH())&&(o.headerFacet=E.first),t.iGM(E=t.CRH())&&(o.footerFacet=E.first),t.iGM(E=t.CRH())&&(o.templates=E)}},viewQuery:function(e,o){if(1&e&&(t.Gf(d0,5),t.Gf(p0,5),t.Gf(RT,5)),2&e){let d;t.iGM(d=t.CRH())&&(o.headerViewChild=d.first),t.iGM(d=t.CRH())&&(o.contentViewChild=d.first),t.iGM(d=t.CRH())&&(o.footerViewChild=d.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:gy,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,o){1&e&&(t.F$t(kT),t.YNc(0,E0,2,15,"div",0)),2&e&&t.Q6J("ngIf",o.maskVisible)},directives:[Kt,hn,uv,fi,io,lv],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Ba("animation",[va("void => visible",[Vs(vy)]),va("visible => void",[Vs(Mc)])])]},changeDetection:0}),r})(),yy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,cv,od],Oh]}),r})();function ml(r,n=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}var w0=v(4408);const Wm={schedule(r){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:o}=Wm;o&&(n=o.requestAnimationFrame,e=o.cancelAnimationFrame);const d=n(E=>{e=void 0,r(E)});return new cm.w0(()=>null==e?void 0:e(d))},requestAnimationFrame(...r){const{delegate:n}=Wm;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=Wm;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};var Op=v(7565);const by=new class extends Op.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let o,d=-1;n=n||e.shift();const E=e.length;do{if(o=n.execute(n.state,n.delay))break}while(++d<E&&(n=e.shift()));if(this._active=!1,o){for(;++d<E&&(n=e.shift());)n.unsubscribe();throw o}}}(class extends w0.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,o=0){return null!==o&&o>0?super.requestAsyncId(n,e,o):(n.actions.push(this),n._scheduled||(n._scheduled=Wm.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,e,o);0===n.actions.length&&(Wm.cancelAnimationFrame(e),n._scheduled=void 0)}});let hv,C0=1;const sd={};function T0(r){return r in sd&&(delete sd[r],!0)}const S0={setImmediate(r){const n=C0++;return sd[n]=!0,hv||(hv=Promise.resolve()),hv.then(()=>T0(n)&&r()),n},clearImmediate(r){T0(r)}},{setImmediate:Ey,clearImmediate:fv}=S0,qm={setImmediate(...r){const{delegate:n}=qm;return((null==n?void 0:n.setImmediate)||Ey)(...r)},clearImmediate(r){const{delegate:n}=qm;return((null==n?void 0:n.clearImmediate)||fv)(r)},delegate:void 0},D0=new class extends Op.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let o,d=-1;n=n||e.shift();const E=e.length;do{if(o=n.execute(n.state,n.delay))break}while(++d<E&&(n=e.shift()));if(this._active=!1,o){for(;++d<E&&(n=e.shift());)n.unsubscribe();throw o}}}(class extends w0.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,o=0){return null!==o&&o>0?super.requestAsyncId(n,e,o):(n.actions.push(this),n._scheduled||(n._scheduled=qm.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(n,e,o);0===n.actions.length&&(qm.clearImmediate(e),n._scheduled=void 0)}});function wy(r){return!!r&&(r instanceof Ii.y||(0,Lo.m)(r.lift)&&(0,Lo.m)(r.subscribe))}function dv(r,n=pa.P){return function(r){return(0,Zo.e)((n,e)=>{let o=!1,d=null,E=null,N=!1;const ne=()=>{if(null==E||E.unsubscribe(),E=null,o){o=!1;const Le=d;d=null,e.next(Le)}N&&e.complete()},Ee=()=>{E=null,N&&e.complete()};n.subscribe(new Eo.Q(e,Le=>{o=!0,d=Le,E||(0,Aa.Xf)(r()).subscribe(E=new Eo.Q(e,ne,Ee))},()=>{N=!0,(!o||!E||E.closed)&&e.complete()}))})}(()=>gm(r,n))}var pv=v(2722);let Cy;try{Cy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){Cy=!1}let mv,ad,P0=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?pe(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.Lbi))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();function Km(){if("object"!=typeof document||!document)return 0;if(null==mv){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),o=e.style;o.width="2px",o.height="1px",r.appendChild(e),document.body.appendChild(r),mv=0,0===r.scrollLeft&&(r.scrollLeft=1,mv=0===r.scrollLeft?1:2),r.remove()}return mv}const M0=new t.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,t.f3M)(re)}}),k0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sy=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new t.vpe,e){const d=e.documentElement?e.documentElement.dir:null;this.value=function(r){const n=(null==r?void 0:r.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?k0.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||d||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(M0,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Iy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();class ld extends class{}{constructor(n){super(),this._data=n}connect(){return wy(this._data)?this._data:(0,Qn.of)(this._data)}disconnect(){}}class uw{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(n,e,o,d,E){n.forEachOperation((N,ne,Ee)=>{let Le,ht;null==N.previousIndex?(Le=this._insertView(()=>o(N,ne,Ee),Ee,e,d(N)),ht=Le?1:0):null==Ee?(this._detachAndCacheView(ne,e),ht=3):(Le=this._moveView(ne,Ee,e,d(N)),ht=2),E&&E({context:null==Le?void 0:Le.context,operation:ht,record:N})})}detach(){for(const n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,e,o,d){const E=this._insertViewFromCache(e,o);if(E)return void(E.context.$implicit=d);const N=n();return o.createEmbeddedView(N.templateRef,N.context,N.index)}_detachAndCacheView(n,e){const o=e.detach(n);this._maybeCacheView(o,e)}_moveView(n,e,o,d){const E=o.get(n);return o.move(E,e),E.context.$implicit=d,E}_maybeCacheView(n,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{const o=e.indexOf(n);-1===o?n.destroy():e.remove(o)}}_insertViewFromCache(n,e){const o=this._viewCache.pop();return o&&e.insert(o,n),o||null}}const cw=new t.OlP("_ViewRepeater"),U0=["contentWrapper"],B0=["*"],hw=new t.OlP("VIRTUAL_SCROLL_STRATEGY");class br{constructor(n,e,o){this._scrolledIndexChange=new Li.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,po.x)()),this._viewport=null,this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=o}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,e,o){this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=o,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,e){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const n=this._viewport.getRenderedRange(),e={start:n.start,end:n.end},o=this._viewport.getViewportSize(),d=this._viewport.getDataLength();let E=this._viewport.measureScrollOffset(),N=this._itemSize>0?E/this._itemSize:0;if(e.end>d){const Ee=Math.ceil(o/this._itemSize),Le=Math.max(0,Math.min(N,d-Ee));N!=Le&&(N=Le,E=Le*this._itemSize,e.start=Math.floor(N)),e.end=Math.max(0,Math.min(d,e.start+Ee))}const ne=E-e.start*this._itemSize;if(ne<this._minBufferPx&&0!=e.start){const Ee=Math.ceil((this._maxBufferPx-ne)/this._itemSize);e.start=Math.max(0,e.start-Ee),e.end=Math.min(d,Math.ceil(N+(o+this._minBufferPx)/this._itemSize))}else{const Ee=e.end*this._itemSize-(E+o);if(Ee<this._minBufferPx&&e.end!=d){const Le=Math.ceil((this._maxBufferPx-Ee)/this._itemSize);Le>0&&(e.end=Math.min(d,e.end+Le),e.start=Math.max(0,Math.floor(N-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(N))}}function fw(r){return r._scrollStrategy}let dw=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new br(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=ml(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=ml(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=ml(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=t.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[t._Bn([{provide:hw,useFactory:fw,deps:[(0,t.Gpc)(()=>r)]}]),t.TTD]}),r})(),Qm=(()=>{class r{constructor(e,o,d){this._ngZone=e,this._platform=o,this._scrolled=new Li.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=d}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ii.y(o=>{this._globalSubscription||this._addGlobalListener();const d=e>0?this._scrolled.pipe(dv(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{d.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Qn.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const d=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe((0,Ai.h)(E=>!E||d.indexOf(E)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((d,E)=>{this._scrollableContainsElement(E,e)&&o.push(E)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let d=function(r){return r instanceof t.SBq?r.nativeElement:r}(o),E=e.getElementRef().nativeElement;do{if(d==E)return!0}while(d=d.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.R0b),t.LFG(P0),t.LFG(re,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),j0=(()=>{class r{constructor(e,o,d,E){this.elementRef=e,this.scrollDispatcher=o,this.ngZone=d,this.dir=E,this._destroyed=new Li.x,this._elementScrolled=new Ii.y(N=>this.ngZone.runOutsideAngular(()=>Lf(this.elementRef.nativeElement,"scroll").pipe((0,pv.R)(this._destroyed)).subscribe(N)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const o=this.elementRef.nativeElement,d=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=d?e.end:e.start),null==e.right&&(e.right=d?e.start:e.end),null!=e.bottom&&(e.top=o.scrollHeight-o.clientHeight-e.bottom),d&&0!=Km()?(null!=e.left&&(e.right=o.scrollWidth-o.clientWidth-e.left),2==Km()?e.left=e.right:1==Km()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=o.scrollWidth-o.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const o=this.elementRef.nativeElement;!function(){if(null==ad){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ad=!1,ad;if("scrollBehavior"in document.documentElement.style)ad=!0;else{const r=Element.prototype.scrollTo;ad=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ad}()?(null!=e.top&&(o.scrollTop=e.top),null!=e.left&&(o.scrollLeft=e.left)):o.scrollTo(e)}measureScrollOffset(e){const o="left",d="right",E=this.elementRef.nativeElement;if("top"==e)return E.scrollTop;if("bottom"==e)return E.scrollHeight-E.clientHeight-E.scrollTop;const N=this.dir&&"rtl"==this.dir.value;return"start"==e?e=N?d:o:"end"==e&&(e=N?o:d),N&&2==Km()?e==o?E.scrollWidth-E.clientWidth-E.scrollLeft:E.scrollLeft:N&&1==Km()?e==o?E.scrollLeft+E.scrollWidth-E.clientWidth:-E.scrollLeft:e==o?E.scrollLeft:E.scrollWidth-E.clientWidth-E.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(Qm),t.Y36(t.R0b),t.Y36(Sy,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),vv=(()=>{class r{constructor(e,o,d){this._platform=e,this._change=new Li.x,this._changeListener=E=>{this._change.next(E)},this._document=d,o.runOutsideAngular(()=>{if(e.isBrowser){const E=this._getWindow();E.addEventListener("resize",this._changeListener),E.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:d}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+d,right:e.left+o,height:d,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),d=e.documentElement,E=d.getBoundingClientRect();return{top:-E.top||e.body.scrollTop||o.scrollY||d.scrollTop||0,left:-E.left||e.body.scrollLeft||o.scrollX||d.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(P0),t.LFG(t.R0b),t.LFG(re,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const HT="undefined"!=typeof requestAnimationFrame?by:D0;let yv=(()=>{class r extends j0{constructor(e,o,d,E,N,ne,Ee){super(e,ne,d,N),this.elementRef=e,this._changeDetectorRef=o,this._scrollStrategy=E,this._detachedSubject=new Li.x,this._renderedRangeSubject=new Li.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ii.y(Le=>this._scrollStrategy.scrolledIndexChange.subscribe(ht=>Promise.resolve().then(()=>this.ngZone.run(()=>Le.next(ht))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=cm.w0.EMPTY,this._viewportChanges=Ee.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function(r){return null!=r&&"false"!=`${r}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Yl(null),dv(0,HT)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,pv.R)(this._detachedSubject)).subscribe(o=>{const d=o.length;d!==this._dataLength&&(this._dataLength=d,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(r,n){return r.start==n.start&&r.end==n.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,o="to-start"){const E="horizontal"==this.orientation,N=E?"X":"Y";let Ee=`translate${N}(${Number((E&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===o&&(Ee+=` translate${N}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Ee&&(this._renderedContentTransform=Ee,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,o="auto"){const d={behavior:o};"horizontal"===this.orientation?d.start=e:d.top=e,this.scrollTo(d)}scrollToIndex(e,o="auto"){this._scrollStrategy.scrollToIndex(e,o)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const o of e)o()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(hw,8),t.Y36(Sy,8),t.Y36(Qm),t.Y36(vv))},r.\u0275cmp=t.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,o){if(1&e&&t.Gf(U0,7),2&e){let d;t.iGM(d=t.CRH())&&(o._contentWrapper=d.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===o.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==o.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[t._Bn([{provide:j0,useExisting:r}]),t.qOj],ngContentSelectors:B0,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA(),t._UZ(3,"div",2)),2&e&&(t.xp6(3),t.Udp("width",o._totalContentWidth)("height",o._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),r})();function H0(r,n,e){if(!e.getBoundingClientRect)return 0;const d=e.getBoundingClientRect();return"horizontal"===r?"start"===n?d.left:d.right:"start"===n?d.top:d.bottom}let mw=(()=>{class r{constructor(e,o,d,E,N,ne){this._viewContainerRef=e,this._template=o,this._differs=d,this._viewRepeater=E,this._viewport=N,this.viewChange=new Li.x,this._dataSourceChanges=new Li.x,this.dataStream=this._dataSourceChanges.pipe(Yl(null),ma(),(0,vr.w)(([Ee,Le])=>this._changeDataSource(Ee,Le)),uu(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Li.x,this.dataStream.subscribe(Ee=>{this._data=Ee,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,pv.R)(this._destroyed)).subscribe(Ee=>{this._renderedRange=Ee,ne.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function(r){return r&&"function"==typeof r.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new ld(wy(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(o,d)=>e(o+(this._renderedRange?this._renderedRange.start:0),d):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=ml(e)}measureRangeSize(e,o){if(e.start>=e.end)return 0;const d=e.start-this._renderedRange.start,E=e.end-e.start;let N,ne;for(let Ee=0;Ee<E;Ee++){const Le=this._viewContainerRef.get(Ee+d);if(Le&&Le.rootNodes.length){N=ne=Le.rootNodes[0];break}}for(let Ee=E-1;Ee>-1;Ee--){const Le=this._viewContainerRef.get(Ee+d);if(Le&&Le.rootNodes.length){ne=Le.rootNodes[Le.rootNodes.length-1];break}}return N&&ne?H0(o,"end",ne)-H0(o,"start",N):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,o)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,o):o)),this._needsUpdate=!0)}_changeDataSource(e,o){return e&&e.disconnect(this),this._needsUpdate=!0,o?o.connect(this):(0,Qn.of)()}_updateContext(){const e=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const d=this._viewContainerRef.get(o);d.context.index=this._renderedRange.start+o,d.context.count=e,this._updateComputedContextProperties(d.context),d.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(E,N,ne)=>this._getEmbeddedViewArgs(E,ne),E=>E.item),e.forEachIdentityChange(E=>{this._viewContainerRef.get(E.currentIndex).context.$implicit=E.item});const o=this._data.length;let d=this._viewContainerRef.length;for(;d--;){const E=this._viewContainerRef.get(d);E.context.index=this._renderedRange.start+d,E.context.count=o,this._updateComputedContextProperties(E.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,o){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:o}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(cw),t.Y36(yv,4),t.Y36(t.R0b))},r.\u0275dir=t.lG2({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[t._Bn([{provide:cw,useClass:uw}])]}),r})(),Ay=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})(),Dy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[Iy,nw,Ay],Iy,Ay]}),r})(),_v=(()=>{class r{constructor(e,o,d){this.el=e,this.zone=o,this.config=d,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?gn.appendChild(this.container,this.el.nativeElement):gn.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),gn.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Oc.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Oc.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+gn.getWindowScrollLeft(),top:e.top+gn.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),o=e.left+gn.getOuterWidth(this.el.nativeElement),d=e.top+(gn.getOuterHeight(this.el.nativeElement)-gn.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=d+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),o=e.left-gn.getOuterWidth(this.container),d=e.top+(gn.getOuterHeight(this.el.nativeElement)-gn.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=d+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),o=e.left+(gn.getOuterWidth(this.el.nativeElement)-gn.getOuterWidth(this.container))/2,d=e.top-gn.getOuterHeight(this.container);this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=d+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),o=e.left+(gn.getOuterWidth(this.el.nativeElement)-gn.getOuterWidth(this.container))/2,d=e.top+gn.getOuterHeight(this.el.nativeElement);this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=d+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let o="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?o+" "+this.getOption("tooltipStyleClass"):o}isOutOfBounds(){let e=this.container.getBoundingClientRect(),o=e.top,d=e.left,E=gn.getOuterWidth(this.container),N=gn.getOuterHeight(this.container),ne=gn.getViewport();return d+E>ne.width||d<0||o<0||o+N>ne.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new av(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):gn.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Oc.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(xp))},r.\u0275dir=t.lG2({type:r,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[t.TTD]}),r})(),ud=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})();function gw(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.label||"empty")}}function vw(r,n){1&r&&t.GkF(0)}const G0=function(r){return{height:r}},Zm=function(r,n){return{"p-dropdown-item":!0,"p-highlight":r,"p-disabled":n}},xy=function(r){return{$implicit:r}},yw=["container"],_w=["filter"],bv=["in"],z0=["editableInput"];function W0(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.label||"empty")}}function q0(r,n){1&r&&t.GkF(0)}const bw=function(r){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":r}};function Jm(r,n){if(1&r&&(t.TgZ(0,"span",12),t.YNc(1,W0,2,1,"ng-container",13),t.YNc(2,q0,1,0,"ng-container",14),t.qZA()),2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(9,bw,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),t.uIk("id",e.labelId),t.xp6(1),t.Q6J("ngIf",!e.selectedItemTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",t.VKq(11,xy,e.selectedOption))}}const Xm=function(r){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":r}};function Ew(r,n){if(1&r&&(t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,Xm,null==e.placeholder||0===e.placeholder.length)),t.xp6(1),t.Oqu(e.placeholder||"empty")}}function ww(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"input",16,17),t.NdJ("click",function(){return t.CHM(e),t.oxw().onEditableInputClick()})("input",function(d){return t.CHM(e),t.oxw().onEditableInputChange(d)})("focus",function(d){return t.CHM(e),t.oxw().onEditableInputFocus(d)})("blur",function(d){return t.CHM(e),t.oxw().onInputBlur(d)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled",e.disabled),t.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function Cw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"i",18),t.NdJ("click",function(d){return t.CHM(e),t.oxw().clear(d)}),t.qZA()}}function $0(r,n){1&r&&t.GkF(0)}function K0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"div",27),t.NdJ("click",function(d){return d.stopPropagation()}),t.TgZ(2,"input",28,29),t.NdJ("keydown.enter",function(d){return d.preventDefault()})("keydown",function(d){return t.CHM(e),t.oxw(2).onKeydown(d,!1)})("input",function(d){return t.CHM(e),t.oxw(2).onFilterInputChange(d)}),t.qZA(),t._UZ(4,"span",30),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("value",e.filterValue||""),t.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function Y0(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(o.getOptionGroupLabel(e)||"empty")}}function Tw(r,n){1&r&&t.GkF(0)}function Q0(r,n){1&r&&t.GkF(0)}const Z0=function(r,n){return{$implicit:r,selectedOption:n}};function Sw(r,n){if(1&r&&(t.TgZ(0,"li",32),t.YNc(1,Y0,2,1,"span",13),t.YNc(2,Tw,1,0,"ng-container",14),t.qZA(),t.YNc(3,Q0,1,0,"ng-container",14)),2&r){const e=n.$implicit;t.oxw(2);const o=t.MAs(8),d=t.oxw();t.xp6(1),t.Q6J("ngIf",!d.groupTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",d.groupTemplate)("ngTemplateOutletContext",t.VKq(5,xy,e)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(7,Z0,d.getOptionGroupChildren(e),d.selectedOption))}}function GT(r,n){if(1&r&&(t.ynx(0),t.YNc(1,Sw,4,10,"ng-template",31),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.optionsToDisplay)}}function zT(r,n){1&r&&t.GkF(0)}function WT(r,n){if(1&r&&(t.ynx(0),t.YNc(1,zT,1,0,"ng-container",14),t.BQk()),2&r){t.oxw();const e=t.MAs(8),o=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.WLB(2,Z0,o.optionsToDisplay,o.selectedOption))}}function qT(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p-dropdownItem",35),t.NdJ("onClick",function(d){return t.CHM(e),t.oxw(4).onItemClick(d)}),t.qZA()}if(2&r){const e=n.$implicit,o=t.oxw(2).selectedOption,d=t.oxw(2);t.Q6J("option",e)("selected",o==e)("label",d.getOptionLabel(e))("disabled",d.isOptionDisabled(e))("template",d.itemTemplate)}}function J0(r,n){if(1&r&&(t.ynx(0),t.YNc(1,qT,1,5,"ng-template",31),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function Ev(r,n){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"p-dropdownItem",35),t.NdJ("onClick",function(d){return t.CHM(e),t.oxw(5).onItemClick(d)}),t.qZA(),t.BQk()}if(2&r){const e=n.$implicit,o=t.oxw(3).selectedOption,d=t.oxw(2);t.xp6(1),t.Q6J("option",e)("selected",o==e)("label",d.getOptionLabel(e))("disabled",d.isOptionDisabled(e))("template",d.itemTemplate)}}function Iw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"cdk-virtual-scroll-viewport",37,38),t.NdJ("scrolledIndexChange",function(){return t.CHM(e),t.oxw(4).scrollToSelectedVirtualScrollElement()}),t.YNc(2,Ev,2,5,"ng-container",39),t.qZA()}if(2&r){const e=t.oxw(2).$implicit,o=t.oxw(2);t.Q6J("ngStyle",t.VKq(3,G0,o.scrollHeight))("itemSize",o.itemSize),t.xp6(2),t.Q6J("cdkVirtualForOf",e)}}function Aw(r,n){if(1&r&&t.YNc(0,Iw,3,5,"cdk-virtual-scroll-viewport",36),2&r){const e=t.oxw(3);t.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function X0(r,n){if(1&r&&(t.YNc(0,J0,2,1,"ng-container",33),t.YNc(1,Aw,1,1,"ng-template",null,34,t.W1O)),2&r){const e=t.MAs(2),o=t.oxw(2);t.Q6J("ngIf",!o.virtualScroll)("ngIfElse",e)}}function eg(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.emptyFilterMessageLabel," ")}}function Dw(r,n){1&r&&t.GkF(0,null,41)}function xw(r,n){if(1&r&&(t.TgZ(0,"li",40),t.YNc(1,eg,2,1,"ng-container",33),t.YNc(2,Dw,2,0,"ng-container",20),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Pw(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.emptyMessageLabel," ")}}function Ow(r,n){1&r&&t.GkF(0,null,42)}function Mw(r,n){if(1&r&&(t.TgZ(0,"li",40),t.YNc(1,Pw,2,1,"ng-container",33),t.YNc(2,Ow,2,0,"ng-container",20),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function eb(r,n){1&r&&t.GkF(0)}const Rw=function(r,n){return{showTransitionParams:r,hideTransitionParams:n}},kw=function(r){return{value:"visible",params:r}},Rp=function(r){return{"p-dropdown-virtualscroll":r}};function Nw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(d){return t.CHM(e),t.oxw().onOverlayClick(d)})("@overlayAnimation.start",function(d){return t.CHM(e),t.oxw().onOverlayAnimationStart(d)})("@overlayAnimation.start",function(d){return t.CHM(e),t.oxw().onOverlayAnimationEnd(d)}),t.YNc(1,$0,1,0,"ng-container",20),t.YNc(2,K0,5,4,"div",21),t.TgZ(3,"div",22),t.TgZ(4,"ul",23),t.YNc(5,GT,2,1,"ng-container",13),t.YNc(6,WT,2,5,"ng-container",13),t.YNc(7,X0,3,2,"ng-template",null,24,t.W1O),t.YNc(9,xw,3,3,"li",25),t.YNc(10,Mw,3,3,"li",25),t.qZA(),t.qZA(),t.YNc(11,eb,1,0,"ng-container",20),t.qZA()}if(2&r){const e=t.oxw();t.Tol(e.panelStyleClass),t.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",t.VKq(19,kw,t.WLB(16,Rw,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),t.xp6(1),t.Q6J("ngTemplateOutlet",e.headerTemplate),t.xp6(1),t.Q6J("ngIf",e.filter),t.xp6(1),t.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),t.xp6(1),t.Q6J("ngClass",t.VKq(21,Rp,e.virtualScroll)),t.uIk("id",e.listId),t.xp6(1),t.Q6J("ngIf",e.group),t.xp6(1),t.Q6J("ngIf",!e.group),t.xp6(3),t.Q6J("ngIf",e.filterValue&&e.isEmpty()),t.xp6(1),t.Q6J("ngIf",!e.filterValue&&e.isEmpty()),t.xp6(1),t.Q6J("ngTemplateOutlet",e.footerTemplate)}}const tb=function(r,n,e,o){return{"p-dropdown p-component":!0,"p-disabled":r,"p-dropdown-open":n,"p-focus":e,"p-dropdown-clearable":o}},Fw={provide:Da,useExisting:(0,t.Gpc)(()=>rb),multi:!0};let nb=(()=>{class r{constructor(){this.onClick=new t.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(t.TgZ(0,"li",0),t.NdJ("click",function(E){return o.onOptionClick(E)}),t.YNc(1,gw,2,1,"span",1),t.YNc(2,vw,1,0,"ng-container",2),t.qZA()),2&e&&(t.Q6J("ngStyle",t.VKq(8,G0,o.itemSize+"px"))("id",o.selected?"p-highlighted-option":"")("ngClass",t.WLB(10,Zm,o.selected,o.disabled)),t.uIk("aria-label",o.label)("aria-selected",o.selected),t.xp6(1),t.Q6J("ngIf",!o.template),t.xp6(1),t.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",t.VKq(13,xy,o.option)))},directives:[lv,fi,hn,Kt,io],encapsulation:2}),r})(),rb=(()=>{class r{constructor(e,o,d,E,N,ne,Ee){this.el=e,this.renderer=o,this.cd=d,this.zone=E,this.filterService=N,this.config=ne,this.overlayService=Ee,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new t.vpe,this.onFilter=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onClick=new t.vpe,this.onShow=new t.vpe,this.onHide=new t.vpe,this.onClear=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=cf()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Gm.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Gm.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Fr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Fr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Fr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Fr.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Fr.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const o=e.option;this.isOptionDisabled(o)||(this.selectItem(e.originalEvent,o),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,o){this.selectedOption!=o&&(this.selectedOption=o,this.value=this.getOptionValue(o),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let o=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(o.start>this.virtualScrollSelectedIndex||o.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}gn.findSingle(this.overlay,"li.p-highlight")&&gn.scrollInView(this.itemsWrapper,gn.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return gn.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=gn.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Oc.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let d=gn.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");d&&d.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Oc.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):gn.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=gn.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?gn.absolutePosition(this.overlay,this.containerViewChild.nativeElement):gn.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let o;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let d=e-1;0<=d;d--){let E=this.optionsToDisplay[d];if(!this.isOptionDisabled(E)){o=E;break}}if(!o)for(let d=this.optionsToDisplay.length-1;d>=e;d--){let E=this.optionsToDisplay[d];if(!this.isOptionDisabled(E)){o=E;break}}}return o}findNextEnabledOption(e){let o;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let d=e+1;d<this.optionsToDisplay.length;d++){let E=this.optionsToDisplay[d];if(!this.isOptionDisabled(E)){o=E;break}}if(!o)for(let d=0;d<e;d++){let E=this.optionsToDisplay[d];if(!this.isOptionDisabled(E)){o=E;break}}}return o}onKeydown(e,o){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let d=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==d){let E=d.itemIndex+1;E<this.getOptionGroupChildren(this.optionsToDisplay[d.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[d.groupIndex])[E]),this.selectedOptionUpdated=!0):this.optionsToDisplay[d.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[d.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let d=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,E=this.findNextEnabledOption(d);E&&(this.selectItem(e,E),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let d=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==d){let E=d.itemIndex-1;if(E>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[d.groupIndex])[E]),this.selectedOptionUpdated=!0;else if(E<0){let N=this.optionsToDisplay[d.groupIndex-1];N&&(this.selectItem(e,this.getOptionGroupChildren(N)[this.getOptionGroupChildren(N).length-1]),this.selectedOptionUpdated=!0)}}}else{let d=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,E=this.findPrevEnabledOption(d);E&&(this.selectItem(e,E),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:o&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:o&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const o=e.key;let d;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=o,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+o:o,this.group){let E=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};d=this.searchOptionWithinGroup(E)}else{let E=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;d=this.searchOption(++E)}d&&!this.isOptionDisabled(d)&&(this.selectItem(e,d),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let o;return this.searchValue&&(o=this.searchOptionInRange(e,this.optionsToDisplay.length),o||(o=this.searchOptionInRange(0,e))),o}searchOptionInRange(e,o){for(let d=e;d<o;d++){let E=this.optionsToDisplay[d];if(this.getOptionLabel(E).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(E))return E}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let d=e.groupIndex;d<this.optionsToDisplay.length;d++)for(let E=e.groupIndex===d?e.itemIndex+1:0;E<this.getOptionGroupChildren(this.optionsToDisplay[d]).length;E++){let N=this.getOptionGroupChildren(this.optionsToDisplay[d])[E];if(this.getOptionLabel(N).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(N))return N}for(let d=0;d<=e.groupIndex;d++)for(let E=0;E<(e.groupIndex===d?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[d]).length);E++){let N=this.getOptionGroupChildren(this.optionsToDisplay[d])[E];if(this.getOptionLabel(N).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(N))return N}}return null}findOptionIndex(e,o){let d=-1;if(o)for(let E=0;E<o.length;E++)if(null==e&&null==this.getOptionValue(o[E])||Fr.equals(e,this.getOptionValue(o[E]),this.dataKey)){d=E;break}return d}findOptionGroupIndex(e,o){let d,E;if(o)for(let N=0;N<o.length&&(d=N,E=this.findOptionIndex(e,this.getOptionGroupChildren(o[N])),-1===E);N++);return-1!==E?{groupIndex:d,itemIndex:E}:-1}findOption(e,o,d){if(this.group&&!d){let E;if(o&&o.length)for(let N of o)if(E=this.findOption(e,this.getOptionGroupChildren(N),!0),E)break;return E}{let E=this.findOptionIndex(e,o);return-1!=E?o[E]:null}}onFilterInputChange(e){let o=e.target.value;o&&o.length?(this._filterValue=o,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let o=[];for(let d of this.options){let E=this.filterService.filter(this.getOptionGroupChildren(d),e,this.filterValue,this.filterMatchMode,this.filterLocale);E&&E.length&&o.push(Object.assign(Object.assign({},d),{[this.optionGroupChildren]:E}))}this.optionsToDisplay=o}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?gn.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():gn.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",o=>{!this.preventDocumentDefault&&this.isOutsideClicked(o)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!gn.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new av(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Oc.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(id),t.Y36(xp),t.Y36(Y_))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-dropdown"]],contentQueries:function(e,o,d){if(1&e&&t.Suo(d,Bu,4),2&e){let E;t.iGM(E=t.CRH())&&(o.templates=E)}},viewQuery:function(e,o){if(1&e&&(t.Gf(yw,5),t.Gf(_w,5),t.Gf(bv,5),t.Gf(yv,5),t.Gf(z0,5)),2&e){let d;t.iGM(d=t.CRH())&&(o.containerViewChild=d.first),t.iGM(d=t.CRH())&&(o.filterViewChild=d.first),t.iGM(d=t.CRH())&&(o.accessibleViewChild=d.first),t.iGM(d=t.CRH())&&(o.viewPort=d.first),t.iGM(d=t.CRH())&&(o.editableInputViewChild=d.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused||o.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[t._Bn([Fw])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(E){return o.onMouseclick(E)}),t.TgZ(2,"div",2),t.TgZ(3,"input",3,4),t.NdJ("focus",function(E){return o.onInputFocus(E)})("blur",function(E){return o.onInputBlur(E)})("keydown",function(E){return o.onKeydown(E,!0)}),t.qZA(),t.qZA(),t.YNc(5,Jm,3,13,"span",5),t.YNc(6,Ew,2,4,"span",6),t.YNc(7,ww,2,4,"input",7),t.YNc(8,Cw,1,0,"i",8),t.TgZ(9,"div",9),t._UZ(10,"span",10),t.qZA(),t.YNc(11,Nw,12,23,"div",11),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngClass",t.l5B(19,tb,o.disabled,o.overlayVisible,o.focused,o.showClear&&!o.disabled))("ngStyle",o.style),t.xp6(3),t.Q6J("disabled",o.disabled),t.uIk("id",o.inputId)("placeholder",o.placeholder)("aria-expanded",o.overlayVisible)("aria-labelledby",o.ariaLabelledBy)("tabindex",o.tabindex)("autofocus",o.autofocus)("aria-activedescendant",o.overlayVisible?"p-highlighted-option":o.labelId),t.xp6(2),t.Q6J("ngIf",!o.editable&&null!=o.label),t.xp6(1),t.Q6J("ngIf",!o.editable&&null==o.label),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(1),t.Q6J("ngIf",null!=o.value&&o.showClear&&!o.disabled),t.xp6(1),t.uIk("aria-expanded",o.overlayVisible),t.xp6(1),t.Q6J("ngClass",o.dropdownIcon),t.xp6(1),t.Q6J("ngIf",o.overlayVisible))},directives:[hn,fi,Kt,_v,io,Et,nb,yv,dw,mw],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ba("overlayAnimation",[va(":enter",[hs({opacity:0,transform:"scaleY(0.8)"}),ta("{{showTransitionParams}}")]),va(":leave",[ta("{{hideTransitionParams}}",hs({opacity:0}))])])]},changeDetection:0}),r})(),Py=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,Oh,Dy,ud,od],Oh,Dy]}),r})(),Lw=(()=>{class r{constructor(e,o,d,E){this.el=e,this.ngModel=o,this.control=d,this.cd=E,this.onResize=new t.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(e){this.autoResize&&this.resize(e)}onBlur(e){this.autoResize&&this.resize(e)}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(Lu,8),t.Y36(Ya,8),t.Y36(t.sBO))},r.\u0275dir=t.lG2({type:r,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(e,o){1&e&&t.NdJ("input",function(E){return o.onInput(E)})("focus",function(E){return o.onFocus(E)})("blur",function(E){return o.onBlur(E)}),2&e&&t.ekj("p-filled",o.filled)("p-inputtextarea-resizable",o.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),r})(),wv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})(),Cv=(()=>{class r{constructor(e,o,d){this.el=e,this.ngModel=o,this.cd=d}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(Lu,8),t.Y36(t.sBO))},r.\u0275dir=t.lG2({type:r,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("input",function(E){return o.onInput(E)}),2&e&&t.ekj("p-filled",o.filled)}}),r})(),Oy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})();const ib=["headerchkbox"];function Vw(r,n){1&r&&t.GkF(0)}function Uw(r,n){if(1&r&&(t.TgZ(0,"div",6),t.Hsn(1),t.YNc(2,Vw,1,0,"ng-container",7),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.headerTemplate)}}const sb=function(r){return{"p-checkbox-disabled":r}},My=function(r,n,e){return{"p-highlight":r,"p-focus":n,"p-disabled":e}},ab=function(r){return{"pi pi-check":r}};function lb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10),t.TgZ(1,"div",11),t.TgZ(2,"input",12),t.NdJ("focus",function(){return t.CHM(e),t.oxw(2).onHeaderCheckboxFocus()})("blur",function(){return t.CHM(e),t.oxw(2).onHeaderCheckboxBlur()})("keydown.space",function(d){return t.CHM(e),t.oxw(2).toggleAll(d)}),t.qZA(),t.qZA(),t.TgZ(3,"div",13,14),t.NdJ("click",function(d){return t.CHM(e),t.oxw(2).toggleAll(d)}),t._UZ(5,"span",15),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(5,sb,e.disabled||e.toggleAllDisabled)),t.xp6(2),t.Q6J("checked",e.allChecked)("disabled",e.disabled||e.toggleAllDisabled),t.xp6(1),t.Q6J("ngClass",t.kEZ(7,My,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),t.xp6(2),t.Q6J("ngClass",t.VKq(11,ab,e.allChecked))}}function Bw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",16),t.TgZ(1,"input",17),t.NdJ("input",function(d){return t.CHM(e),t.oxw(2).onFilter(d)}),t.qZA(),t._UZ(2,"span",18),t.qZA()}if(2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.filterValue||"")("disabled",e.disabled),t.uIk("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function jw(r,n){if(1&r&&(t.TgZ(0,"div",6),t.YNc(1,lb,6,13,"div",8),t.YNc(2,Bw,3,4,"div",9),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.checkbox&&e.multiple&&e.showToggleAll),t.xp6(1),t.Q6J("ngIf",e.filter)}}function Hw(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.getOptionGroupLabel(e)||"empty")}}function Gw(r,n){1&r&&t.GkF(0)}function zw(r,n){1&r&&t.GkF(0)}const Ry=function(r){return{$implicit:r}};function Ww(r,n){if(1&r&&(t.TgZ(0,"li",20),t.YNc(1,Hw,2,1,"span",3),t.YNc(2,Gw,1,0,"ng-container",21),t.qZA(),t.YNc(3,zw,1,0,"ng-container",21)),2&r){const e=n.$implicit,o=t.oxw(2),d=t.MAs(8);t.xp6(1),t.Q6J("ngIf",!o.groupTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",t.VKq(5,Ry,e)),t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.VKq(7,Ry,o.getOptionGroupChildren(e)))}}function qw(r,n){if(1&r&&(t.ynx(0),t.YNc(1,Ww,4,9,"ng-template",19),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.optionsToRender)}}function ub(r,n){1&r&&t.GkF(0)}function cb(r,n){if(1&r&&(t.ynx(0),t.YNc(1,ub,1,0,"ng-container",21),t.BQk()),2&r){const e=t.oxw(),o=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,Ry,e.optionsToRender))}}const $w=function(r){return{"p-highlight":r}};function Kw(r,n){if(1&r&&(t.TgZ(0,"div",10),t.TgZ(1,"div",25),t._UZ(2,"span",15),t.qZA(),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);t.Q6J("ngClass",t.VKq(3,sb,o.disabled||o.isOptionDisabled(e))),t.xp6(1),t.Q6J("ngClass",t.VKq(5,$w,o.isSelected(e))),t.xp6(1),t.Q6J("ngClass",t.VKq(7,ab,o.isSelected(e)))}}function hb(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.getOptionLabel(e))}}function Yw(r,n){1&r&&t.GkF(0)}const Qw=function(r,n){return{"p-listbox-item":!0,"p-highlight":r,"p-disabled":n}},Zw=function(r,n){return{$implicit:r,index:n}};function ky(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",24),t.NdJ("click",function(d){const N=t.CHM(e).$implicit;return t.oxw(2).onOptionClick(d,N)})("dblclick",function(d){const N=t.CHM(e).$implicit;return t.oxw(2).onOptionDoubleClick(d,N)})("touchend",function(){const E=t.CHM(e).$implicit;return t.oxw(2).onOptionTouchEnd(E)})("keydown",function(d){const N=t.CHM(e).$implicit;return t.oxw(2).onOptionKeyDown(d,N)}),t.YNc(1,Kw,3,9,"div",8),t.YNc(2,hb,2,1,"span",3),t.YNc(3,Yw,1,0,"ng-container",21),t.qZA()}if(2&r){const e=n.$implicit,o=n.index,d=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Qw,d.isSelected(e),d.isOptionDisabled(e))),t.uIk("tabindex",d.disabled||d.isOptionDisabled(e)?null:"0")("aria-label",d.getOptionLabel(e))("aria-selected",d.isSelected(e)),t.xp6(1),t.Q6J("ngIf",d.checkbox&&d.multiple),t.xp6(1),t.Q6J("ngIf",!d.itemTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",d.itemTemplate)("ngTemplateOutletContext",t.WLB(11,Zw,e,o))}}function Ny(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.emptyFilterMessageLabel," ")}}function fb(r,n){1&r&&t.GkF(0,null,28)}function Fy(r,n){if(1&r&&(t.TgZ(0,"li",26),t.YNc(1,Ny,2,1,"ng-container",27),t.YNc(2,fb,2,0,"ng-container",7),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Jw(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.emptyMessageLabel," ")}}function Xw(r,n){1&r&&t.GkF(0,null,29)}function Ly(r,n){if(1&r&&(t.TgZ(0,"li",26),t.YNc(1,Jw,2,1,"ng-container",27),t.YNc(2,Xw,2,0,"ng-container",7),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function eC(r,n){if(1&r&&(t.YNc(0,ky,4,14,"li",22),t.YNc(1,Fy,3,3,"li",23),t.YNc(2,Ly,3,3,"li",23)),2&r){const e=n.$implicit,o=t.oxw();t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",o.hasFilter()&&o.isEmpty(e)),t.xp6(1),t.Q6J("ngIf",!o.hasFilter()&&o.isEmpty(e))}}function db(r,n){1&r&&t.GkF(0)}function tC(r,n){if(1&r&&(t.TgZ(0,"div",30),t.Hsn(1,1),t.YNc(2,db,1,0,"ng-container",7),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.footerTemplate)}}const pb=[[["p-header"]],[["p-footer"]]],nC=function(r){return{"p-listbox p-component":!0,"p-disabled":r}},mb=["p-header","p-footer"],$T={provide:Da,useExisting:(0,t.Gpc)(()=>Vy),multi:!0};let Vy=(()=>{class r{constructor(e,o,d,E){this.el=e,this.cd=o,this.filterService=d,this.config=E,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new t.vpe,this.onClick=new t.vpe,this.onDblClick=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(e){this._options=e,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template}})}getOptionLabel(e){return this.optionLabel?Fr.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Fr.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Fr.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Fr.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Fr.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e,o){this.disabled||this.isOptionDisabled(o)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(e,o):this.onOptionClickMultiple(e,o):this.onOptionClickSingle(e,o),this.onClick.emit({originalEvent:e,option:o,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(e){this.disabled||this.isOptionDisabled(e)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(e,o){this.disabled||this.isOptionDisabled(o)||this.readonly||this.onDblClick.emit({originalEvent:e,option:o,value:this.value})}onOptionClickSingle(e,o){let d=this.isSelected(o),E=!1;if(!this.optionTouched&&this.metaKeySelection){let ne=e.metaKey||e.ctrlKey;d?ne&&(this.value=null,E=!0):(this.value=this.getOptionValue(o),E=!0)}else this.value=d?null:this.getOptionValue(o),E=!0;E&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickMultiple(e,o){let d=this.isSelected(o),E=!1;if(!this.optionTouched&&this.metaKeySelection){let ne=e.metaKey||e.ctrlKey;d?(ne?this.removeOption(o):this.value=[this.getOptionValue(o)],E=!0):(this.value=ne&&this.value||[],this.value=[...this.value,this.getOptionValue(o)],E=!0)}else d?this.removeOption(o):this.value=[...this.value||[],this.getOptionValue(o)],E=!0;E&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onOptionClickCheckbox(e,o){this.disabled||this.readonly||(this.isSelected(o)?this.removeOption(o):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(o)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}removeOption(e){this.value=this.value.filter(o=>!Fr.equals(o,this.getOptionValue(e),this.dataKey))}isSelected(e){let o=!1,d=this.getOptionValue(e);if(this.multiple){if(this.value)for(let E of this.value)if(Fr.equals(E,d,this.dataKey)){o=!0;break}}else o=Fr.equals(this.value,d,this.dataKey);return o}get allChecked(){let e=this.optionsToRender;if(!e||0===e.length)return!1;{let o=0,d=0,E=0,N=this.group?0:this.optionsToRender.length;for(let ne of e)if(this.group)for(let Ee of this.getOptionGroupChildren(ne)){let Le=this.isOptionDisabled(Ee),ht=this.isSelected(Ee);if(Le)ht?o++:d++;else{if(!ht)return!1;E++}N++}else{let Ee=this.isOptionDisabled(ne),Le=this.isSelected(ne);if(Ee)Le?o++:d++;else{if(!Le)return!1;E++}}return N===o||N===E||E&&N===E+d+o}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Gm.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Gm.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(e){return!e||e&&0===e.length}onFilter(e){this._filterValue=e.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=(this.optionLabel||"label").split(","),o=[];for(let d of this.options){let E=this.filterService.filter(this.getOptionGroupChildren(d),e,this.filterValue,this.filterMatchMode,this.filterLocale);E&&E.length&&o.push(Object.assign(Object.assign({},d),{[this.optionGroupChildren]:E}))}this._filteredOptions=o}else this._filteredOptions=this._options.filter(e=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(e),this._filterValue,this.filterLocale));else this._filteredOptions=null}get toggleAllDisabled(){let e=this.optionsToRender;if(!e||0===e.length)return!0;for(let o of e)if(!this.isOptionDisabled(o))return!1;return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),e.preventDefault())}checkAll(){let o=[];this.optionsToRender.forEach(d=>{if(this.group){let E=this.getOptionGroupChildren(d);E&&E.forEach(N=>{let ne=this.isOptionDisabled(N);(!ne||ne&&this.isSelected(N))&&o.push(this.getOptionValue(N))})}else{let E=this.isOptionDisabled(d);(!E||E&&this.isSelected(d))&&o.push(this.getOptionValue(d))}}),this.value=o}uncheckAll(){let o=[];this.optionsToRender.forEach(d=>{this.group?d.items&&d.items.forEach(E=>{this.isOptionDisabled(E)&&this.isSelected(E)&&o.push(this.getOptionValue(E))}):this.isOptionDisabled(d)&&this.isSelected(d)&&o.push(this.getOptionValue(d))}),this.value=o}onOptionKeyDown(e,o){if(this.readonly)return;let d=e.currentTarget;switch(e.which){case 40:var E=this.findNextItem(d);E&&E.focus(),e.preventDefault();break;case 38:var N=this.findPrevItem(d);N&&N.focus(),e.preventDefault();break;case 13:this.onOptionClick(e,o),e.preventDefault()}}findNextItem(e){let o=e.nextElementSibling;return o?gn.hasClass(o,"p-disabled")||gn.isHidden(o)||gn.hasClass(o,"p-listbox-item-group")?this.findNextItem(o):o:null}findPrevItem(e){let o=e.previousElementSibling;return o?gn.hasClass(o,"p-disabled")||gn.isHidden(o)||gn.hasClass(o,"p-listbox-item-group")?this.findPrevItem(o):o:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(id),t.Y36(xp))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-listbox"]],contentQueries:function(e,o,d){if(1&e&&(t.Suo(d,nv,5),t.Suo(d,rv,5),t.Suo(d,Bu,4)),2&e){let E;t.iGM(E=t.CRH())&&(o.headerFacet=E.first),t.iGM(E=t.CRH())&&(o.footerFacet=E.first),t.iGM(E=t.CRH())&&(o.templates=E)}},viewQuery:function(e,o){if(1&e&&t.Gf(ib,5),2&e){let d;t.iGM(d=t.CRH())&&(o.headerCheckboxViewChild=d.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[t._Bn([$T])],ngContentSelectors:mb,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(e,o){1&e&&(t.F$t(pb),t.TgZ(0,"div",0),t.YNc(1,Uw,3,1,"div",1),t.YNc(2,jw,3,2,"div",1),t.TgZ(3,"div",0),t.TgZ(4,"ul",2),t.YNc(5,qw,2,1,"ng-container",3),t.YNc(6,cb,2,4,"ng-container",3),t.YNc(7,eC,3,3,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t.YNc(9,tC,3,1,"div",5),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngClass",t.VKq(13,nC,o.disabled))("ngStyle",o.style),t.xp6(1),t.Q6J("ngIf",o.headerFacet||o.headerTemplate),t.xp6(1),t.Q6J("ngIf",o.checkbox&&o.multiple&&o.showToggleAll||o.filter),t.xp6(1),t.Tol(o.listStyleClass),t.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",o.listStyle),t.xp6(2),t.Q6J("ngIf",o.group),t.xp6(1),t.Q6J("ngIf",!o.group),t.xp6(3),t.Q6J("ngIf",o.footerFacet||o.footerTemplate))},directives:[hn,fi,Kt,io,Et,lv],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),kp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,Oh,od],Oh]}),r})();var Nl=v(1135),Np=v(9672);function iC(r,n,e){r?(0,Np.f)(e,r,n):n()}var Mh=v(515),Rh=v(262);function Uy(r){return r<=0?()=>Mh.E:(0,Zo.e)((n,e)=>{let o=[];n.subscribe(new Eo.Q(e,d=>{o.push(d),r<o.length&&o.shift()},()=>{for(const d of o)e.next(d);e.complete()},void 0,()=>{o=null}))})}class kc{constructor(n,e){this.id=n,this.url=e}}class Tv extends kc{constructor(n,e,o="imperative",d=null){super(n,e),this.navigationTrigger=o,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cd extends kc{constructor(n,e,o){super(n,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ng extends kc{constructor(n,e,o){super(n,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rg extends kc{constructor(n,e,o){super(n,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aC extends kc{constructor(n,e,o,d){super(n,e),this.urlAfterRedirects=o,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gb extends kc{constructor(n,e,o,d){super(n,e),this.urlAfterRedirects=o,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vb extends kc{constructor(n,e,o,d,E){super(n,e),this.urlAfterRedirects=o,this.state=d,this.shouldActivate=E}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lC extends kc{constructor(n,e,o,d){super(n,e),this.urlAfterRedirects=o,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uC extends kc{constructor(n,e,o,d){super(n,e),this.urlAfterRedirects=o,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yb{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sv{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cC{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KT{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hC{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fC{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hd{constructor(n,e,o){this.routerEvent=n,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ei="primary";class Fp{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ig(r){return new Fp(r)}const By="ngNavigationCancelingError";function jy(r){const n=Error("NavigationCancelingError: "+r);return n[By]=!0,n}function _b(r,n,e){const o=e.path.split("/");if(o.length>r.length||"full"===e.pathMatch&&(n.hasChildren()||o.length<r.length))return null;const d={};for(let E=0;E<o.length;E++){const N=o[E],ne=r[E];if(N.startsWith(":"))d[N.substring(1)]=ne;else if(N!==ne.path)return null}return{consumed:r.slice(0,o.length),posParams:d}}function Gu(r,n){const e=r?Object.keys(r):void 0,o=n?Object.keys(n):void 0;if(!e||!o||e.length!=o.length)return!1;let d;for(let E=0;E<e.length;E++)if(d=e[E],!Iv(r[d],n[d]))return!1;return!0}function Iv(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const e=[...r].sort(),o=[...n].sort();return e.every((d,E)=>o[E]===d)}return r===n}function Hy(r){return Array.prototype.concat.apply([],r)}function Gy(r){return r.length>0?r[r.length-1]:null}function Ws(r,n){for(const e in r)r.hasOwnProperty(e)&&n(r[e],e)}function zu(r){return(0,t.CqO)(r)?r:(0,t.QGY)(r)?(0,mr.D)(Promise.resolve(r)):(0,Qn.of)(r)}const mC={exact:function Lp(r,n,e){if(!fd(r.segments,n.segments)||!og(r.segments,n.segments,e)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!r.children[o]||!Lp(r.children[o],n.children[o],e))return!1;return!0},subset:zy},bb={exact:function(r,n){return Gu(r,n)},subset:function(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(e=>Iv(r[e],n[e]))},ignored:()=>!0};function Eb(r,n,e){return mC[e.paths](r.root,n.root,e.matrixParams)&&bb[e.queryParams](r.queryParams,n.queryParams)&&!("exact"===e.fragment&&r.fragment!==n.fragment)}function zy(r,n,e){return Wy(r,n,n.segments,e)}function Wy(r,n,e,o){if(r.segments.length>e.length){const d=r.segments.slice(0,e.length);return!(!fd(d,e)||n.hasChildren()||!og(d,e,o))}if(r.segments.length===e.length){if(!fd(r.segments,e)||!og(r.segments,e,o))return!1;for(const d in n.children)if(!r.children[d]||!zy(r.children[d],n.children[d],o))return!1;return!0}{const d=e.slice(0,r.segments.length),E=e.slice(r.segments.length);return!!(fd(r.segments,d)&&og(r.segments,d,o)&&r.children[ei])&&Wy(r.children[ei],n,E,o)}}function og(r,n,e){return n.every((o,d)=>bb[e](r[d].parameters,o.parameters))}class hf{constructor(n,e,o){this.root=n,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ig(this.queryParams)),this._queryParamMap}toString(){return ag.serialize(this)}}class ci{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Ws(e,(o,d)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Av(this)}}class sg{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ig(this.parameters)),this._parameterMap}toString(){return Db(this)}}function fd(r,n){return r.length===n.length&&r.every((e,o)=>e.path===n[o].path)}class Sb{}class Ib{parse(n){const e=new yC(n);return new hf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${dd(n.root,!0)}`,o=function(r){const n=Object.keys(r).map(e=>{const o=r[e];return Array.isArray(o)?o.map(d=>`${Dv(e)}=${Dv(d)}`).join("&"):`${Dv(e)}=${Dv(o)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var r;return`${e}${o}${"string"==typeof n.fragment?`#${r=n.fragment,encodeURI(r)}`:""}`}}const ag=new Ib;function Av(r){return r.segments.map(n=>Db(n)).join("/")}function dd(r,n){if(!r.hasChildren())return Av(r);if(n){const e=r.children[ei]?dd(r.children[ei],!1):"",o=[];return Ws(r.children,(d,E)=>{E!==ei&&o.push(`${E}:${dd(d,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(r,n){let e=[];return Ws(r.children,(o,d)=>{d===ei&&(e=e.concat(n(o,d)))}),Ws(r.children,(o,d)=>{d!==ei&&(e=e.concat(n(o,d)))}),e}(r,(o,d)=>d===ei?[dd(r.children[ei],!1)]:[`${d}:${dd(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ei]?`${Av(r)}/${e[0]}`:`${Av(r)}/(${e.join("//")})`}}function Wu(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dv(r){return Wu(r).replace(/%3B/gi,";")}function pd(r){return Wu(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xv(r){return decodeURIComponent(r)}function Ab(r){return xv(r.replace(/\+/g,"%20"))}function Db(r){return`${pd(r.path)}${function(r){return Object.keys(r).map(n=>`;${pd(n)}=${pd(r[n])}`).join("")}(r.parameters)}`}const vC=/^[^\/()?;=#]+/;function Mv(r){const n=r.match(vC);return n?n[0]:""}const xb=/^[^=?&#]+/,$y=/^[^&#]+/;class yC{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ci([],{}):new ci([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(o[ei]=new ci(n,e)),o}parseSegment(){const n=Mv(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new sg(xv(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Mv(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const d=Mv(this.remaining);d&&(o=d,this.capture(o))}n[xv(e)]=xv(o)}parseQueryParam(n){const e=function(r){const n=r.match(xb);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const N=function(r){const n=r.match($y);return n?n[0]:""}(this.remaining);N&&(o=N,this.capture(o))}const d=Ab(e),E=Ab(o);if(n.hasOwnProperty(d)){let N=n[d];Array.isArray(N)||(N=[N],n[d]=N),N.push(E)}else n[d]=E}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Mv(this.remaining),d=this.remaining[o.length];if("/"!==d&&")"!==d&&";"!==d)throw new Error(`Cannot parse url '${this.url}'`);let E;o.indexOf(":")>-1?(E=o.substr(0,o.indexOf(":")),this.capture(E),this.capture(":")):n&&(E=ei);const N=this.parseChildren();e[E]=1===Object.keys(N).length?N[ei]:new ci([],N),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Mb{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Rb(n,this._root);return e?e.children.map(o=>o.value):[]}firstChild(n){const e=Rb(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=lg(n,this._root);return e.length<2?[]:e[e.length-2].children.map(d=>d.value).filter(d=>d!==n)}pathFromRoot(n){return lg(n,this._root).map(e=>e.value)}}function Rb(r,n){if(r===n.value)return n;for(const e of n.children){const o=Rb(r,e);if(o)return o}return null}function lg(r,n){if(r===n.value)return[n];for(const e of n.children){const o=lg(r,e);if(o.length)return o.unshift(n),o}return[]}class qu{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function md(r){const n={};return r&&r.children.forEach(e=>n[e.value.outlet]=e),n}class Rv extends Mb{constructor(n,e){super(n),this.snapshot=e,Fv(this,n)}toString(){return this.snapshot.toString()}}function kv(r,n){const e=function(r,n){const N=new ug([],{},{},"",{},ei,n,null,r.root,-1,{});return new Nv("",new qu(N,[]))}(r,n),o=new Nl.X([new sg("",{})]),d=new Nl.X({}),E=new Nl.X({}),N=new Nl.X({}),ne=new Nl.X(""),Ee=new gd(o,d,N,ne,E,ei,n,e.root);return Ee.snapshot=e.root,new Rv(new qu(Ee,[]),e)}class gd{constructor(n,e,o,d,E,N,ne,Ee){this.url=n,this.params=e,this.queryParams=o,this.fragment=d,this.data=E,this.outlet=N,this.component=ne,this._futureSnapshot=Ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pn.U)(n=>ig(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pn.U)(n=>ig(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kb(r,n="emptyOnly"){const e=r.pathFromRoot;let o=0;if("always"!==n)for(o=e.length-1;o>=1;){const d=e[o],E=e[o-1];if(d.routeConfig&&""===d.routeConfig.path)o--;else{if(E.component)break;o--}}return function(r){return r.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class ug{constructor(n,e,o,d,E,N,ne,Ee,Le,ht,bt){this.url=n,this.params=e,this.queryParams=o,this.fragment=d,this.data=E,this.outlet=N,this.component=ne,this.routeConfig=Ee,this._urlSegment=Le,this._lastPathIndex=ht,this._resolve=bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ig(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ig(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nv extends Mb{constructor(n,e){super(e),this.url=n,Fv(this,e)}toString(){return Ky(this._root)}}function Fv(r,n){n.value._routerState=r,n.children.forEach(e=>Fv(r,e))}function Ky(r){const n=r.children.length>0?` { ${r.children.map(Ky).join(", ")} } `:"";return`${r.value}${n}`}function Lv(r){if(r.snapshot){const n=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Gu(n.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),n.fragment!==e.fragment&&r.fragment.next(e.fragment),Gu(n.params,e.params)||r.params.next(e.params),function(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;++e)if(!Gu(r[e],n[e]))return!1;return!0}(n.url,e.url)||r.url.next(e.url),Gu(n.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function Vv(r,n){const e=Gu(r.params,n.params)&&function(r,n){return fd(r,n)&&r.every((e,o)=>Gu(e.parameters,n[o].parameters))}(r.url,n.url);return e&&!(!r.parent!=!n.parent)&&(!r.parent||Vv(r.parent,n.parent))}function Vp(r,n,e){if(e&&r.shouldReuseRoute(n.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=n.value;const d=function(r,n,e){return n.children.map(o=>{for(const d of e.children)if(r.shouldReuseRoute(o.value,d.value.snapshot))return Vp(r,o,d);return Vp(r,o)})}(r,n,e);return new qu(o,d)}{if(r.shouldAttach(n.value)){const E=r.retrieve(n.value);if(null!==E){const N=E.route;return N.value._futureSnapshot=n.value,N.children=n.children.map(ne=>Vp(r,ne)),N}}const o=function(r){return new gd(new Nl.X(r.url),new Nl.X(r.params),new Nl.X(r.queryParams),new Nl.X(r.fragment),new Nl.X(r.data),r.outlet,r.component,r)}(n.value),d=n.children.map(E=>Vp(r,E));return new qu(o,d)}}function cg(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ds(r){return"object"==typeof r&&null!=r&&r.outlets}function ff(r,n,e,o,d){let E={};return o&&Ws(o,(N,ne)=>{E[ne]=Array.isArray(N)?N.map(Ee=>`${Ee}`):`${N}`}),new hf(e.root===r?n:Lb(e.root,r,n),E,d)}function Lb(r,n,e){const o={};return Ws(r.children,(d,E)=>{o[E]=d===n?e:Lb(d,n,e)}),new ci(r.segments,o)}class Vb{constructor(n,e,o){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=o,n&&o.length>0&&cg(o[0]))throw new Error("Root segment cannot have matrix parameters");const d=o.find(Ds);if(d&&d!==Gy(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vd{constructor(n,e,o){this.segmentGroup=n,this.processChildren=e,this.index=o}}function Qy(r,n,e){if(r||(r=new ci([],{})),0===r.segments.length&&r.hasChildren())return Uv(r,n,e);const o=function(r,n,e){let o=0,d=n;const E={match:!1,pathIndex:0,commandIndex:0};for(;d<r.segments.length;){if(o>=e.length)return E;const N=r.segments[d],ne=e[o];if(Ds(ne))break;const Ee=`${ne}`,Le=o<e.length-1?e[o+1]:null;if(d>0&&void 0===Ee)break;if(Ee&&Le&&"object"==typeof Le&&void 0===Le.outlets){if(!fg(Ee,Le,N))return E;o+=2}else{if(!fg(Ee,{},N))return E;o++}d++}return{match:!0,pathIndex:d,commandIndex:o}}(r,n,e),d=e.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const E=new ci(r.segments.slice(0,o.pathIndex),{});return E.children[ei]=new ci(r.segments.slice(o.pathIndex),r.children),Uv(E,0,d)}return o.match&&0===d.length?new ci(r.segments,{}):o.match&&!r.hasChildren()?hg(r,n,e):o.match?Uv(r,0,d):hg(r,n,e)}function Uv(r,n,e){if(0===e.length)return new ci(r.segments,{});{const o=function(r){return Ds(r[0])?r[0].outlets:{[ei]:r}}(e),d={};return Ws(o,(E,N)=>{"string"==typeof E&&(E=[E]),null!==E&&(d[N]=Qy(r.children[N],n,E))}),Ws(r.children,(E,N)=>{void 0===o[N]&&(d[N]=E)}),new ci(r.segments,d)}}function hg(r,n,e){const o=r.segments.slice(0,n);let d=0;for(;d<e.length;){const E=e[d];if(Ds(E)){const Ee=Ub(E.outlets);return new ci(o,Ee)}if(0===d&&cg(e[0])){o.push(new sg(r.segments[n].path,Zy(e[0]))),d++;continue}const N=Ds(E)?E.outlets[ei]:`${E}`,ne=d<e.length-1?e[d+1]:null;N&&ne&&cg(ne)?(o.push(new sg(N,Zy(ne))),d+=2):(o.push(new sg(N,{})),d++)}return new ci(o,{})}function Ub(r){const n={};return Ws(r,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[o]=hg(new ci([],{}),0,e))}),n}function Zy(r){const n={};return Ws(r,(e,o)=>n[o]=`${e}`),n}function fg(r,n,e){return r==e.path&&Gu(n,e.parameters)}class JT{constructor(n,e,o,d){this.routeReuseStrategy=n,this.futureState=e,this.currState=o,this.forwardEvent=d}activate(n){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,n),Lv(this.futureState.root),this.activateChildRoutes(e,o,n)}deactivateChildRoutes(n,e,o){const d=md(e);n.children.forEach(E=>{const N=E.value.outlet;this.deactivateRoutes(E,d[N],o),delete d[N]}),Ws(d,(E,N)=>{this.deactivateRouteAndItsChildren(E,o)})}deactivateRoutes(n,e,o){const d=n.value,E=e?e.value:null;if(d===E)if(d.component){const N=o.getContext(d.outlet);N&&this.deactivateChildRoutes(n,e,N.children)}else this.deactivateChildRoutes(n,e,o);else E&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const o=e.getContext(n.value.outlet),d=o&&n.value.component?o.children:e,E=md(n);for(const N of Object.keys(E))this.deactivateRouteAndItsChildren(E[N],d);if(o&&o.outlet){const N=o.outlet.detach(),ne=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:N,route:n,contexts:ne})}}deactivateRouteAndOutlet(n,e){const o=e.getContext(n.value.outlet),d=o&&n.value.component?o.children:e,E=md(n);for(const N of Object.keys(E))this.deactivateRouteAndItsChildren(E[N],d);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,e,o){const d=md(e);n.children.forEach(E=>{this.activateRoutes(E,d[E.value.outlet],o),this.forwardEvent(new fC(E.value.snapshot))}),n.children.length&&this.forwardEvent(new KT(n.value.snapshot))}activateRoutes(n,e,o){const d=n.value,E=e?e.value:null;if(Lv(d),d===E)if(d.component){const N=o.getOrCreateContext(d.outlet);this.activateChildRoutes(n,e,N.children)}else this.activateChildRoutes(n,e,o);else if(d.component){const N=o.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const ne=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),N.children.onOutletReAttached(ne.contexts),N.attachRef=ne.componentRef,N.route=ne.route.value,N.outlet&&N.outlet.attach(ne.componentRef,ne.route.value),Lv(ne.route.value),this.activateChildRoutes(n,null,N.children)}else{const ne=function(r){for(let n=r.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(d.snapshot),Ee=ne?ne.module.componentFactoryResolver:null;N.attachRef=null,N.route=d,N.resolver=Ee,N.outlet&&N.outlet.activateWith(d,Ee),this.activateChildRoutes(n,null,N.children)}}else this.activateChildRoutes(n,null,o)}}class Xy{constructor(n,e){this.routes=n,this.module=e}}function kh(r){return"function"==typeof r}function df(r){return r instanceof hf}const dg=Symbol("INITIAL_VALUE");function pg(){return(0,vr.w)(r=>function(...r){const n=(0,hu.yG)(r),e=(0,hu.jO)(r),{args:o,keys:d}=Gf(r);if(0===o.length)return(0,mr.D)([],n);const E=new Ii.y(function(r,n,e=Fs.y){return o=>{iC(n,()=>{const{length:d}=r,E=new Array(d);let N=d,ne=d;for(let Ee=0;Ee<d;Ee++)iC(n,()=>{const Le=(0,mr.D)(r[Ee],n);let ht=!1;Le.subscribe(new Eo.Q(o,bt=>{E[Ee]=bt,ht||(ht=!0,ne--),ne||o.next(e(E.slice()))},()=>{--N||o.complete()}))},o)},o)}}(o,n,d?N=>hh(d,N):Fs.y));return e?E.pipe(am(e)):E}(r.map(n=>n.pipe((0,Cs.q)(1),Yl(dg)))).pipe((0,wo.R)((n,e)=>{let o=!1;return e.reduce((d,E,N)=>d!==dg?d:(E===dg&&(o=!0),o||!1!==E&&N!==e.length-1&&!df(E)?d:E),n)},dg),(0,Ai.h)(n=>n!==dg),(0,Pn.U)(n=>df(n)?n:!0===n),(0,Cs.q)(1)))}class jb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Up,this.attachRef=null}}class Up{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const o=this.getOrCreateContext(n);o.outlet=e,this.contexts.set(n,o)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new jb,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let n_=(()=>{class r{constructor(e,o,d,E,N){this.parentContexts=e,this.location=o,this.resolver=d,this.changeDetector=N,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=E||ei,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const N=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),ne=this.parentContexts.getOrCreateContext(this.name).children,Ee=new Hb(e,ne,this.location.injector);this.activated=this.location.createComponent(N,this.location.length,Ee),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Up),t.Y36(t.s_b),t.Y36(t._Vd),t.$8M("name"),t.Y36(t.sBO))},r.\u0275dir=t.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Hb{constructor(n,e,o){this.route=n,this.childContexts=e,this.parent=o}get(n,e){return n===gd?this.route:n===Up?this.childContexts:this.parent.get(n,e)}}let r_=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[n_],encapsulation:2}),r})();function Gb(r,n=""){for(let e=0;e<r.length;e++){const o=r[e];AC(o,zb(n,o))}}function AC(r,n){r.children&&Gb(r.children,n)}function zb(r,n){return n?r||n.path?r&&!n.path?`${r}/`:!r&&n.path?n.path:`${r}/${n.path}`:"":r}function i_(r){const n=r.children&&r.children.map(i_),e=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ei&&(e.component=r_),e}function Fl(r){return r.outlet||ei}function o_(r,n){const e=r.filter(o=>Fl(o)===n);return e.push(...r.filter(o=>Fl(o)!==n)),e}const s_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mg(r,n,e){var o;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||e.length>0)?Object.assign({},s_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const E=(n.matcher||_b)(e,r,n);if(!E)return Object.assign({},s_);const N={};Ws(E.posParams,(Ee,Le)=>{N[Le]=Ee.path});const ne=E.consumed.length>0?Object.assign(Object.assign({},N),E.consumed[E.consumed.length-1].parameters):N;return{matched:!0,consumedSegments:E.consumed,lastChild:E.consumed.length,parameters:ne,positionalParamSegments:null!==(o=E.posParams)&&void 0!==o?o:{}}}function jv(r,n,e,o,d="corrected"){if(e.length>0&&function(r,n,e){return e.some(o=>a_(r,n,o)&&Fl(o)!==ei)}(r,e,o)){const N=new ci(n,function(r,n,e,o){const d={};d[ei]=o,o._sourceSegment=r,o._segmentIndexShift=n.length;for(const E of e)if(""===E.path&&Fl(E)!==ei){const N=new ci([],{});N._sourceSegment=r,N._segmentIndexShift=n.length,d[Fl(E)]=N}return d}(r,n,o,new ci(e,r.children)));return N._sourceSegment=r,N._segmentIndexShift=n.length,{segmentGroup:N,slicedSegments:[]}}if(0===e.length&&function(r,n,e){return e.some(o=>a_(r,n,o))}(r,e,o)){const N=new ci(r.segments,function(r,n,e,o,d,E){const N={};for(const ne of o)if(a_(r,e,ne)&&!d[Fl(ne)]){const Ee=new ci([],{});Ee._sourceSegment=r,Ee._segmentIndexShift="legacy"===E?r.segments.length:n.length,N[Fl(ne)]=Ee}return Object.assign(Object.assign({},d),N)}(r,n,e,o,r.children,d));return N._sourceSegment=r,N._segmentIndexShift=n.length,{segmentGroup:N,slicedSegments:e}}const E=new ci(r.segments,r.children);return E._sourceSegment=r,E._segmentIndexShift=n.length,{segmentGroup:E,slicedSegments:e}}function a_(r,n,e){return(!(r.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function xC(r,n,e,o){return!!(Fl(r)===o||o!==ei&&a_(n,e,r))&&("**"===r.path||mg(n,r,e).matched)}function PC(r,n,e){return 0===n.length&&!r.children[e]}class Hv{constructor(n){this.segmentGroup=n||null}}class OC{constructor(n){this.urlTree=n}}function l_(r){return new Ii.y(n=>n.error(new Hv(r)))}function MC(r){return new Ii.y(n=>n.error(new OC(r)))}function Gv(r){return new Ii.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class Bp{constructor(n,e,o,d,E){this.configLoader=e,this.urlSerializer=o,this.urlTree=d,this.config=E,this.allowRedirects=!0,this.ngModule=n.get(t.h0i)}apply(){const n=jv(this.urlTree.root,[],[],this.config).segmentGroup,e=new ci(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ei).pipe((0,Pn.U)(E=>this.createUrlTree(c_(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Rh.K)(E=>{if(E instanceof OC)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof Hv?this.noMatchError(E):E}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ei).pipe((0,Pn.U)(d=>this.createUrlTree(c_(d),n.queryParams,n.fragment))).pipe((0,Rh.K)(d=>{throw d instanceof Hv?this.noMatchError(d):d}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,o){const d=n.segments.length>0?new ci([],{[ei]:n}):n;return new hf(d,e,o)}expandSegmentGroup(n,e,o,d){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,e,o).pipe((0,Pn.U)(E=>new ci([],E))):this.expandSegment(n,o,e,o.segments,d,!0)}expandChildren(n,e,o){const d=[];for(const E of Object.keys(o.children))"primary"===E?d.unshift(E):d.push(E);return(0,mr.D)(d).pipe((0,Ko.b)(E=>{const N=o.children[E],ne=o_(e,E);return this.expandSegmentGroup(n,ne,N,E).pipe((0,Pn.U)(Ee=>({segment:Ee,outlet:E})))}),(0,wo.R)((E,N)=>(E[N.outlet]=N.segment,E),{}),function(r,n){const e=arguments.length>=2;return o=>o.pipe(r?(0,Ai.h)((d,E)=>r(d,E,o)):Fs.y,Uy(1),e?Ef(n):bl(()=>new Qu))}())}expandSegment(n,e,o,d,E,N){return(0,mr.D)(o).pipe((0,Ko.b)(ne=>this.expandSegmentAgainstRoute(n,e,o,ne,d,E,N).pipe((0,Rh.K)(Le=>{if(Le instanceof Hv)return(0,Qn.of)(null);throw Le}))),Ts(ne=>!!ne),(0,Rh.K)((ne,Ee)=>{if(ne instanceof Qu||"EmptyError"===ne.name){if(PC(e,d,E))return(0,Qn.of)(new ci([],{}));throw new Hv(e)}throw ne}))}expandSegmentAgainstRoute(n,e,o,d,E,N,ne){return xC(d,e,E,N)?void 0===d.redirectTo?this.matchSegmentAgainstRoute(n,e,d,E,N):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,o,d,E,N):l_(e):l_(e)}expandSegmentAgainstRouteUsingRedirect(n,e,o,d,E,N){return"**"===d.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,d,N):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,o,d,E,N)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,o,d){const E=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?MC(E):this.lineralizeSegments(o,E).pipe((0,eo.z)(N=>{const ne=new ci(N,{});return this.expandSegment(n,ne,e,N,d,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,o,d,E,N){const{matched:ne,consumedSegments:Ee,lastChild:Le,positionalParamSegments:ht}=mg(e,d,E);if(!ne)return l_(e);const bt=this.applyRedirectCommands(Ee,d.redirectTo,ht);return d.redirectTo.startsWith("/")?MC(bt):this.lineralizeSegments(d,bt).pipe((0,eo.z)(Bt=>this.expandSegment(n,e,o,Bt.concat(E.slice(Le)),N,!1)))}matchSegmentAgainstRoute(n,e,o,d,E){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Qn.of)(o._loadedConfig):this.configLoader.load(n.injector,o)).pipe((0,Pn.U)(Bt=>(o._loadedConfig=Bt,new ci(d,{})))):(0,Qn.of)(new ci(d,{}));const{matched:N,consumedSegments:ne,lastChild:Ee}=mg(e,o,d);if(!N)return l_(e);const Le=d.slice(Ee);return this.getChildConfig(n,o,d).pipe((0,eo.z)(bt=>{const Bt=bt.module,Mt=bt.routes,{segmentGroup:en,slicedSegments:jn}=jv(e,ne,Le,Mt),Yn=new ci(en.segments,en.children);if(0===jn.length&&Yn.hasChildren())return this.expandChildren(Bt,Mt,Yn).pipe((0,Pn.U)(ki=>new ci(ne,ki)));if(0===Mt.length&&0===jn.length)return(0,Qn.of)(new ci(ne,{}));const ar=Fl(o)===E;return this.expandSegment(Bt,Yn,Mt,jn,ar?ei:E,!0).pipe((0,Pn.U)(Yr=>new ci(ne.concat(Yr.segments),Yr.children)))}))}getChildConfig(n,e,o){return e.children?(0,Qn.of)(new Xy(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?(0,Qn.of)(e._loadedConfig):this.runCanLoadGuards(n.injector,e,o).pipe((0,eo.z)(d=>{return d?this.configLoader.load(n.injector,e).pipe((0,Pn.U)(E=>(e._loadedConfig=E,E))):(r=e,new Ii.y(n=>n.error(jy(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,Qn.of)(new Xy([],n))}runCanLoadGuards(n,e,o){const d=e.canLoad;if(!d||0===d.length)return(0,Qn.of)(!0);const E=d.map(N=>{const ne=n.get(N);let Ee;if((r=ne)&&kh(r.canLoad))Ee=ne.canLoad(e,o);else{if(!kh(ne))throw new Error("Invalid CanLoad guard");Ee=ne(e,o)}var r;return zu(Ee)});return(0,Qn.of)(E).pipe(pg(),(0,gs.b)(N=>{if(!df(N))return;const ne=jy(`Redirecting to "${this.urlSerializer.serialize(N)}"`);throw ne.url=N,ne}),(0,Pn.U)(N=>!0===N))}lineralizeSegments(n,e){let o=[],d=e.root;for(;;){if(o=o.concat(d.segments),0===d.numberOfChildren)return(0,Qn.of)(o);if(d.numberOfChildren>1||!d.children[ei])return Gv(n.redirectTo);d=d.children[ei]}}applyRedirectCommands(n,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,o)}applyRedirectCreatreUrlTree(n,e,o,d){const E=this.createSegmentGroup(n,e.root,o,d);return new hf(E,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const o={};return Ws(n,(d,E)=>{if("string"==typeof d&&d.startsWith(":")){const ne=d.substring(1);o[E]=e[ne]}else o[E]=d}),o}createSegmentGroup(n,e,o,d){const E=this.createSegments(n,e.segments,o,d);let N={};return Ws(e.children,(ne,Ee)=>{N[Ee]=this.createSegmentGroup(n,ne,o,d)}),new ci(E,N)}createSegments(n,e,o,d){return e.map(E=>E.path.startsWith(":")?this.findPosParam(n,E,d):this.findOrReturn(E,o))}findPosParam(n,e,o){const d=o[e.path.substring(1)];if(!d)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return d}findOrReturn(n,e){let o=0;for(const d of e){if(d.path===n.path)return e.splice(o),d;o++}return n}}function c_(r){const n={};for(const o of Object.keys(r.children)){const E=c_(r.children[o]);(E.segments.length>0||E.hasChildren())&&(n[o]=E)}return function(r){if(1===r.numberOfChildren&&r.children[ei]){const n=r.children[ei];return new ci(r.segments.concat(n.segments),n.children)}return r}(new ci(r.segments,n))}class zv{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class gg{constructor(n,e){this.component=n,this.route=e}}function $b(r,n,e){const o=r._root;return pf(o,n?n._root:null,e,[o.value])}function h_(r,n,e){const o=function(r){if(!r)return null;for(let n=r.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(o?o.module.injector:e).get(r)}function pf(r,n,e,o,d={canDeactivateChecks:[],canActivateChecks:[]}){const E=md(n);return r.children.forEach(N=>{(function(r,n,e,o,d={canDeactivateChecks:[],canActivateChecks:[]}){const E=r.value,N=n?n.value:null,ne=e?e.getContext(r.value.outlet):null;if(N&&E.routeConfig===N.routeConfig){const Ee=function(r,n,e){if("function"==typeof e)return e(r,n);switch(e){case"pathParamsChange":return!fd(r.url,n.url);case"pathParamsOrQueryParamsChange":return!fd(r.url,n.url)||!Gu(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(r,n)||!Gu(r.queryParams,n.queryParams);default:return!Vv(r,n)}}(N,E,E.routeConfig.runGuardsAndResolvers);Ee?d.canActivateChecks.push(new zv(o)):(E.data=N.data,E._resolvedData=N._resolvedData),pf(r,n,E.component?ne?ne.children:null:e,o,d),Ee&&ne&&ne.outlet&&ne.outlet.isActivated&&d.canDeactivateChecks.push(new gg(ne.outlet.component,N))}else N&&Wv(n,ne,d),d.canActivateChecks.push(new zv(o)),pf(r,null,E.component?ne?ne.children:null:e,o,d)})(N,E[N.value.outlet],e,o.concat([N.value]),d),delete E[N.value.outlet]}),Ws(E,(N,ne)=>Wv(N,e.getContext(ne),d)),d}function Wv(r,n,e){const o=md(r),d=r.value;Ws(o,(E,N)=>{Wv(E,d.component?n?n.children.getContext(N):null:n,e)}),e.canDeactivateChecks.push(new gg(d.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,d))}class Ll{}function Zb(r){return new Ii.y(n=>n.error(r))}class VC{constructor(n,e,o,d,E,N){this.rootComponentType=n,this.config=e,this.urlTree=o,this.url=d,this.paramsInheritanceStrategy=E,this.relativeLinkResolution=N}recognize(){const n=jv(this.urlTree.root,[],[],this.config.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ei);if(null===e)return null;const o=new ug([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ei,this.rootComponentType,null,this.urlTree.root,-1,{}),d=new qu(o,e),E=new Nv(this.url,d);return this.inheritParamsAndData(E._root),E}inheritParamsAndData(n){const e=n.value,o=kb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),n.children.forEach(d=>this.inheritParamsAndData(d))}processSegmentGroup(n,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,o)}processChildren(n,e){const o=[];for(const E of Object.keys(e.children)){const N=e.children[E],ne=o_(n,E),Ee=this.processSegmentGroup(ne,N,E);if(null===Ee)return null;o.push(...Ee)}const d=g_(o);return d.sort((n,e)=>n.value.outlet===ei?-1:e.value.outlet===ei?1:n.value.outlet.localeCompare(e.value.outlet)),d}processSegment(n,e,o,d){for(const E of n){const N=this.processSegmentAgainstRoute(E,e,o,d);if(null!==N)return N}return PC(e,o,d)?[]:null}processSegmentAgainstRoute(n,e,o,d){if(n.redirectTo||!xC(n,e,o,d))return null;let E,N=[],ne=[];if("**"===n.path){const Mt=o.length>0?Gy(o).parameters:{};E=new ug(o,Mt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xb(n),Fl(n),n.component,n,v_(e),y_(e)+o.length,eE(n))}else{const Mt=mg(e,n,o);if(!Mt.matched)return null;N=Mt.consumedSegments,ne=o.slice(Mt.lastChild),E=new ug(N,Mt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xb(n),Fl(n),n.component,n,v_(e),y_(e)+N.length,eE(n))}const Ee=(r=n).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:Le,slicedSegments:ht}=jv(e,N,ne,Ee.filter(Mt=>void 0===Mt.redirectTo),this.relativeLinkResolution);var r;if(0===ht.length&&Le.hasChildren()){const Mt=this.processChildren(Ee,Le);return null===Mt?null:[new qu(E,Mt)]}if(0===Ee.length&&0===ht.length)return[new qu(E,[])];const bt=Fl(n)===d,Bt=this.processSegment(Ee,Le,ht,bt?ei:d);return null===Bt?null:[new qu(E,Bt)]}}function Jb(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function g_(r){const n=[],e=new Set;for(const o of r){if(!Jb(o)){n.push(o);continue}const d=n.find(E=>o.value.routeConfig===E.value.routeConfig);void 0!==d?(d.children.push(...o.children),e.add(d)):n.push(o)}for(const o of e){const d=g_(o.children);n.push(new qu(o.value,d))}return n.filter(o=>!e.has(o))}function v_(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function y_(r){let n=r,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Xb(r){return r.data||{}}function eE(r){return r.resolve||{}}function qv(r){return(0,vr.w)(n=>{const e=r(n);return e?(0,mr.D)(e).pipe((0,Pn.U)(()=>n)):(0,Qn.of)(n)})}class tE extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const b_=new t.OlP("ROUTES");class WC{constructor(n,e,o,d){this.injector=n,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=d}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const d=this.loadModuleFactory(e.loadChildren).pipe((0,Pn.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(e);const N=E.create(n);return new Xy(Hy(N.injector.get(b_,void 0,t.XFs.Self|t.XFs.Optional)).map(i_),N)}),(0,Rh.K)(E=>{throw e._loader$=void 0,E}));return e._loader$=new fm(d,()=>new Li.x).pipe(hm()),e._loader$}loadModuleFactory(n){return zu(n()).pipe((0,eo.z)(e=>e instanceof t.YKP?(0,Qn.of)(e):(0,mr.D)(this.compiler.compileModuleAsync(e))))}}class rE{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function qC(r){throw r}function $C(r,n,e){return n.parse("/")}function E_(r,n){return(0,Qn.of)(null)}const vg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pa=(()=>{class r{constructor(e,o,d,E,N,ne,Ee){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=d,this.location=E,this.config=Ee,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Li.x,this.errorHandler=qC,this.malformedUriErrorHandler=$C,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:E_,afterPreactivation:E_},this.urlHandlingStrategy=new rE,this.routeReuseStrategy=new tE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=N.get(t.h0i),this.console=N.get(t.c2e);const bt=N.get(t.R0b);this.isNgZoneEnabled=bt instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(Ee),this.currentUrlTree=new hf(new ci([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WC(N,ne,Bt=>this.triggerEvent(new yb(Bt)),Bt=>this.triggerEvent(new Sv(Bt))),this.routerState=kv(this.currentUrlTree,this.rootComponentType),this.transitions=new Nl.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe((0,Ai.h)(d=>0!==d.id),(0,Pn.U)(d=>Object.assign(Object.assign({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),(0,vr.w)(d=>{let E=!1,N=!1;return(0,Qn.of)(d).pipe((0,gs.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.currentRawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,vr.w)(ne=>{const Ee=this.browserUrlTree.toString(),Le=!this.navigated||ne.extractedUrl.toString()!==Ee||Ee!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Le)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return yg(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,Qn.of)(ne).pipe((0,vr.w)(bt=>{const Bt=this.transitions.getValue();return o.next(new Tv(bt.id,this.serializeUrl(bt.extractedUrl),bt.source,bt.restoredState)),Bt!==this.transitions.getValue()?Mh.E:Promise.resolve(bt)}),function(r,n,e,o){return(0,vr.w)(d=>function(r,n,e,o,d){return new Bp(r,n,e,o,d).apply()}(r,n,e,d.extractedUrl,o).pipe((0,Pn.U)(E=>Object.assign(Object.assign({},d),{urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gs.b)(bt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:bt.urlAfterRedirects})}),function(r,n,e,o,d){return(0,eo.z)(E=>function(r,n,e,o,d="emptyOnly",E="legacy"){try{const N=new VC(r,n,e,o,d,E).recognize();return null===N?Zb(new Ll):(0,Qn.of)(N)}catch(N){return Zb(N)}}(r,n,E.urlAfterRedirects,e(E.urlAfterRedirects),o,d).pipe((0,Pn.U)(N=>Object.assign(Object.assign({},E),{targetSnapshot:N}))))}(this.rootComponentType,this.config,bt=>this.serializeUrl(bt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gs.b)(bt=>{if("eager"===this.urlUpdateStrategy){if(!bt.extras.skipLocationChange){const Mt=this.urlHandlingStrategy.merge(bt.urlAfterRedirects,bt.rawUrl);this.setBrowserUrl(Mt,bt)}this.browserUrlTree=bt.urlAfterRedirects}const Bt=new aC(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);o.next(Bt)}));if(Le&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Bt,extractedUrl:Mt,source:en,restoredState:jn,extras:Yn}=ne,ar=new Tv(Bt,this.serializeUrl(Mt),en,jn);o.next(ar);const Ur=kv(Mt,this.rootComponentType).snapshot;return(0,Qn.of)(Object.assign(Object.assign({},ne),{targetSnapshot:Ur,urlAfterRedirects:Mt,extras:Object.assign(Object.assign({},Yn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),Mh.E}),qv(ne=>{const{targetSnapshot:Ee,id:Le,extractedUrl:ht,rawUrl:bt,extras:{skipLocationChange:Bt,replaceUrl:Mt}}=ne;return this.hooks.beforePreactivation(Ee,{navigationId:Le,appliedUrlTree:ht,rawUrlTree:bt,skipLocationChange:!!Bt,replaceUrl:!!Mt})}),(0,gs.b)(ne=>{const Ee=new gb(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(Ee)}),(0,Pn.U)(ne=>Object.assign(Object.assign({},ne),{guards:$b(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)})),function(r,n){return(0,eo.z)(e=>{const{targetSnapshot:o,currentSnapshot:d,guards:{canActivateChecks:E,canDeactivateChecks:N}}=e;return 0===N.length&&0===E.length?(0,Qn.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(r,n,e,o){return(0,mr.D)(r).pipe((0,eo.z)(d=>function(r,n,e,o,d){const E=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!E||0===E.length)return(0,Qn.of)(!0);const N=E.map(ne=>{const Ee=h_(ne,n,d);let Le;if(function(r){return r&&kh(r.canDeactivate)}(Ee))Le=zu(Ee.canDeactivate(r,n,e,o));else{if(!kh(Ee))throw new Error("Invalid CanDeactivate guard");Le=zu(Ee(r,n,e,o))}return Le.pipe(Ts())});return(0,Qn.of)(N).pipe(pg())}(d.component,d.route,e,n,o)),Ts(d=>!0!==d,!0))}(N,o,d,r).pipe((0,eo.z)(ne=>ne&&function(r){return"boolean"==typeof r}(ne)?function(r,n,e,o){return(0,mr.D)(n).pipe((0,Ko.b)(d=>fu(function(r,n){return null!==r&&n&&n(new cC(r)),(0,Qn.of)(!0)}(d.route.parent,o),function(r,n){return null!==r&&n&&n(new hC(r)),(0,Qn.of)(!0)}(d.route,o),function(r,n,e){const o=n[n.length-1],E=n.slice(0,n.length-1).reverse().map(N=>function(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(N)).filter(N=>null!==N).map(N=>sh(()=>{const ne=N.guards.map(Ee=>{const Le=h_(Ee,N.node,e);let ht;if(function(r){return r&&kh(r.canActivateChild)}(Le))ht=zu(Le.canActivateChild(o,r));else{if(!kh(Le))throw new Error("Invalid CanActivateChild guard");ht=zu(Le(o,r))}return ht.pipe(Ts())});return(0,Qn.of)(ne).pipe(pg())}));return(0,Qn.of)(E).pipe(pg())}(r,d.path,e),function(r,n,e){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Qn.of)(!0);const d=o.map(E=>sh(()=>{const N=h_(E,n,e);let ne;if(function(r){return r&&kh(r.canActivate)}(N))ne=zu(N.canActivate(n,r));else{if(!kh(N))throw new Error("Invalid CanActivate guard");ne=zu(N(n,r))}return ne.pipe(Ts())}));return(0,Qn.of)(d).pipe(pg())}(r,d.route,e))),Ts(d=>!0!==d,!0))}(o,E,r,n):(0,Qn.of)(ne)),(0,Pn.U)(ne=>Object.assign(Object.assign({},e),{guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,gs.b)(ne=>{if(df(ne.guardsResult)){const Le=jy(`Redirecting to "${this.serializeUrl(ne.guardsResult)}"`);throw Le.url=ne.guardsResult,Le}const Ee=new vb(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(Ee)}),(0,Ai.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,""),!1)),qv(ne=>{if(ne.guards.canActivateChecks.length)return(0,Qn.of)(ne).pipe((0,gs.b)(Ee=>{const Le=new lC(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(Le)}),(0,vr.w)(Ee=>{let Le=!1;return(0,Qn.of)(Ee).pipe(function(r,n){return(0,eo.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:d}}=e;if(!d.length)return(0,Qn.of)(e);let E=0;return(0,mr.D)(d).pipe((0,Ko.b)(N=>function(r,n,e,o){return function(r,n,e,o){const d=Object.keys(r);if(0===d.length)return(0,Qn.of)({});const E={};return(0,mr.D)(d).pipe((0,eo.z)(N=>function(r,n,e,o){const d=h_(r,n,o);return zu(d.resolve?d.resolve(n,e):d(n,e))}(r[N],n,e,o).pipe((0,gs.b)(ne=>{E[N]=ne}))),Uy(1),(0,eo.z)(()=>Object.keys(E).length===d.length?(0,Qn.of)(E):Mh.E))}(r._resolve,r,n,o).pipe((0,Pn.U)(E=>(r._resolvedData=E,r.data=Object.assign(Object.assign({},r.data),kb(r,e).resolve),null)))}(N.route,o,r,n)),(0,gs.b)(()=>E++),Uy(1),(0,eo.z)(N=>E===d.length?(0,Qn.of)(e):Mh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gs.b)({next:()=>Le=!0,complete:()=>{Le||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,"At least one route resolver didn't emit any value."))}}))}),(0,gs.b)(Ee=>{const Le=new uC(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(Le)}))}),qv(ne=>{const{targetSnapshot:Ee,id:Le,extractedUrl:ht,rawUrl:bt,extras:{skipLocationChange:Bt,replaceUrl:Mt}}=ne;return this.hooks.afterPreactivation(Ee,{navigationId:Le,appliedUrlTree:ht,rawUrlTree:bt,skipLocationChange:!!Bt,replaceUrl:!!Mt})}),(0,Pn.U)(ne=>{const Ee=function(r,n,e){const o=Vp(r,n._root,e?e._root:void 0);return new Rv(o,n)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return Object.assign(Object.assign({},ne),{targetRouterState:Ee})}),(0,gs.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((r,n,e)=>(0,Pn.U)(o=>(new JT(n,o.targetRouterState,o.currentRouterState,e).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,gs.b)({next(){E=!0},complete(){E=!0}}),function(r){return(0,Zo.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(r)}})}(()=>{var ne;E||N||this.cancelNavigationTransition(d,`Navigation ID ${d.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.id)===d.id&&(this.currentNavigation=null)}),(0,Rh.K)(ne=>{if(N=!0,function(r){return r&&r[By]}(ne)){const Ee=df(ne.url);Ee||(this.navigated=!0,this.restoreHistory(d,!0));const Le=new ng(d.id,this.serializeUrl(d.extractedUrl),ne.message);o.next(Le),Ee?setTimeout(()=>{const ht=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),bt={skipLocationChange:d.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yg(d.source)};this.scheduleNavigation(ht,"imperative",null,bt,{resolve:d.resolve,reject:d.reject,promise:d.promise})},0):d.resolve(!1)}else{this.restoreHistory(d,!0);const Ee=new rg(d.id,this.serializeUrl(d.extractedUrl),ne);o.next(Ee);try{d.resolve(this.errorHandler(ne))}catch(Le){d.reject(Le)}}return Mh.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var d;const E={replaceUrl:!0},N=(null===(d=e.state)||void 0===d?void 0:d.navigationId)?e.state:null;if(N){const Ee=Object.assign({},N);delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(E.state=Ee)}const ne=this.parseUrl(e.url);this.scheduleNavigation(ne,o,N,E)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gb(e),this.config=e.map(i_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:d,queryParams:E,fragment:N,queryParamsHandling:ne,preserveFragment:Ee}=o,Le=d||this.routerState.root,ht=Ee?this.currentUrlTree.fragment:N;let bt=null;switch(ne){case"merge":bt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),E);break;case"preserve":bt=this.currentUrlTree.queryParams;break;default:bt=E||null}return null!==bt&&(bt=this.removeEmptyProps(bt)),function(r,n,e,o,d){if(0===e.length)return ff(n.root,n.root,n,o,d);const E=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Vb(!0,0,r);let n=0,e=!1;const o=r.reduce((d,E,N)=>{if("object"==typeof E&&null!=E){if(E.outlets){const ne={};return Ws(E.outlets,(Ee,Le)=>{ne[Le]="string"==typeof Ee?Ee.split("/"):Ee}),[...d,{outlets:ne}]}if(E.segmentPath)return[...d,E.segmentPath]}return"string"!=typeof E?[...d,E]:0===N?(E.split("/").forEach((ne,Ee)=>{0==Ee&&"."===ne||(0==Ee&&""===ne?e=!0:".."===ne?n++:""!=ne&&d.push(ne))}),d):[...d,E]},[]);return new Vb(e,n,o)}(e);if(E.toRoot())return ff(n.root,new ci([],{}),n,o,d);const N=function(r,n,e){if(r.isAbsolute)return new vd(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const E=e.snapshot._urlSegment;return new vd(E,E===n.root,0)}const o=cg(r.commands[0])?0:1;return function(r,n,e){let o=r,d=n,E=e;for(;E>d;){if(E-=d,o=o.parent,!o)throw new Error("Invalid number of '../'");d=o.segments.length}return new vd(o,!1,d-E)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,r.numberOfDoubleDots)}(E,n,r),ne=N.processChildren?Uv(N.segmentGroup,N.index,E.commands):Qy(N.segmentGroup,N.index,E.commands);return ff(N.segmentGroup,ne,n,o,d)}(Le,this.currentUrlTree,e,bt,null!=ht?ht:null)}navigateByUrl(e,o={skipLocationChange:!1}){const d=df(e)?e:this.parseUrl(e),E=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(r){for(let n=0;n<r.length;n++){const e=r[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(d){o=this.malformedUriErrorHandler(d,this.urlSerializer,e)}return o}isActive(e,o){let d;if(d=!0===o?Object.assign({},vg):!1===o?Object.assign({},w_):o,df(e))return Eb(this.currentUrlTree,e,d);const E=this.parseUrl(e);return Eb(this.currentUrlTree,E,d)}removeEmptyProps(e){return Object.keys(e).reduce((o,d)=>{const E=e[d];return null!=E&&(o[d]=E),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new cd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,d,E,N){var ne,Ee,Le;if(this.disposed)return Promise.resolve(!1);const ht=this.transitions.value,bt=yg(o)&&ht&&!yg(ht.source),Bt=ht.rawUrl.toString()===e.toString(),Mt=ht.id===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.id);if(bt&&Bt&&Mt)return Promise.resolve(!0);let jn,Yn,ar;N?(jn=N.resolve,Yn=N.reject,ar=N.promise):ar=new Promise((ki,Ei)=>{jn=ki,Yn=Ei});const Ur=++this.navigationId;let Yr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(d=this.location.getState()),Yr=d&&d.\u0275routerPageId?d.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?null!==(Ee=this.browserPageId)&&void 0!==Ee?Ee:0:(null!==(Le=this.browserPageId)&&void 0!==Le?Le:0)+1):Yr=0,this.setTransition({id:Ur,targetPageId:Yr,source:o,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:E,resolve:jn,reject:Yn,promise:ar,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ar.catch(ki=>Promise.reject(ki))}setBrowserUrl(e,o){const d=this.urlSerializer.serialize(e),E=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(d)||o.extras.replaceUrl?this.location.replaceState(d,"",E):this.location.go(d,"",E)}restoreHistory(e,o=!1){var d,E;if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)||0===N?this.currentUrlTree===(null===(E=this.currentNavigation)||void 0===E?void 0:E.finalUrl)&&0===N&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(N)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const d=new ng(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(d),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return r.\u0275fac=function(e){t.$Z()},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function yg(r){return"imperative"!==r}let $v=(()=>{class r{constructor(e,o,d,E,N){this.router=e,this.route=o,this.tabIndexAttribute=d,this.renderer=E,this.el=N,this.commands=null,this.onChanges=new Li.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,d=this.el.nativeElement;null!==e?o.setAttribute(d,"tabindex",e):o.removeAttribute(d,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:jp(this.skipLocationChange),replaceUrl:jp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jp(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Pa),t.Y36(gd),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},r.\u0275dir=t.lG2({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&t.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),r})(),Kv=(()=>{class r{constructor(e,o,d){this.router=e,this.route=o,this.locationStrategy=d,this.commands=null,this.href=null,this.onChanges=new Li.x,this.subscription=e.events.subscribe(E=>{E instanceof cd&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,d,E,N){if(0!==e||o||d||E||N||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ne={skipLocationChange:jp(this.skipLocationChange),replaceUrl:jp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ne),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jp(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Pa),t.Y36(gd),t.Y36(z))},r.\u0275dir=t.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("click",function(E){return o.onClick(E.button,E.ctrlKey,E.shiftKey,E.altKey,E.metaKey)}),2&e&&t.uIk("target",o.target)("href",o.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),r})();function jp(r){return""===r||!!r}let YC=(()=>{class r{constructor(e,o,d,E,N,ne){this.router=e,this.element=o,this.renderer=d,this.cdr=E,this.link=N,this.linkWithHref=ne,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.vpe,this.routerEventsSubscription=e.events.subscribe(Ee=>{Ee instanceof cd&&this.update()})}ngAfterContentInit(){(0,Qn.of)(this.links.changes,this.linksWithHrefs.changes,(0,Qn.of)(null)).pipe((0,Ls.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(d=>!!d).map(d=>d.onChanges);this.linkInputChangesSubscription=(0,mr.D)(o).pipe((0,Ls.J)()).subscribe(d=>{this.isActive!==this.isLinkActive(this.router)(d)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(d=>!!d)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return d=>!!d.urlTree&&e.isActive(d.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Pa),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36($v,8),t.Y36(Kv,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,d){if(1&e&&(t.Suo(d,$v,5),t.Suo(d,Kv,5)),2&e){let E;t.iGM(E=t.CRH())&&(o.links=E),t.iGM(E=t.CRH())&&(o.linksWithHrefs=E)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[t.TTD]}),r})();class C_{}class iE{preload(n,e){return(0,Qn.of)(null)}}let oE=(()=>{class r{constructor(e,o,d,E){this.router=e,this.injector=d,this.preloadingStrategy=E,this.loader=new WC(d,o,Ee=>e.triggerEvent(new yb(Ee)),Ee=>e.triggerEvent(new Sv(Ee)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ai.h)(e=>e instanceof cd),(0,Ko.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(t.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const d=[];for(const E of o)if(E.loadChildren&&!E.canLoad&&E._loadedConfig){const N=E._loadedConfig;d.push(this.processRoutes(N.module,N.routes))}else E.loadChildren&&!E.canLoad?d.push(this.preloadConfig(e,E)):E.children&&d.push(this.processRoutes(e,E.children));return(0,mr.D)(d).pipe((0,Ls.J)(),(0,Pn.U)(E=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Qn.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,eo.z)(E=>(o._loadedConfig=E,this.processRoutes(E.module,E.routes)))))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Pa),t.LFG(t.Sil),t.LFG(t.zs3),t.LFG(C_))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),sE=(()=>{class r{constructor(e,o,d={}){this.router=e,this.viewportScroller=o,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new hd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){t.$Z()},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const Hp=new t.OlP("ROUTER_CONFIGURATION"),ZC=new t.OlP("ROUTER_FORROOT_GUARD"),lS=[Ae,{provide:Sb,useClass:Ib},{provide:Pa,useFactory:function(r,n,e,o,d,E,N={},ne,Ee){const Le=new Pa(null,r,n,e,o,d,Hy(E));return ne&&(Le.urlHandlingStrategy=ne),Ee&&(Le.routeReuseStrategy=Ee),function(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(N,Le),N.enableTracing&&Le.events.subscribe(ht=>{var bt,Bt;null===(bt=console.group)||void 0===bt||bt.call(console,`Router Event: ${ht.constructor.name}`),console.log(ht.toString()),console.log(ht),null===(Bt=console.groupEnd)||void 0===Bt||Bt.call(console)}),Le},deps:[Sb,Up,Ae,t.zs3,t.Sil,b_,Hp,[class{},new t.FiY],[class{},new t.FiY]]},Up,{provide:gd,useFactory:function(r){return r.routerState.root},deps:[Pa]},oE,iE,class{preload(n,e){return e().pipe((0,Rh.K)(()=>(0,Qn.of)(null)))}},{provide:Hp,useValue:{enableTracing:!1}}];function JC(){return new t.PXZ("Router",Pa)}let tl=(()=>{class r{constructor(e,o){}static forRoot(e,o){return{ngModule:r,providers:[lS,mf(e),{provide:ZC,useFactory:aE,deps:[[Pa,new t.FiY,new t.tp0]]},{provide:Hp,useValue:o||{}},{provide:z,useFactory:eT,deps:[fe,[new t.tBr(ee),new t.FiY],Hp]},{provide:sE,useFactory:XC,deps:[Pa,Nt,Hp]},{provide:C_,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:iE},{provide:t.PXZ,multi:!0,useFactory:JC},[I_,{provide:t.ip1,multi:!0,useFactory:A_,deps:[I_]},{provide:x_,useFactory:D_,deps:[I_]},{provide:t.tb,multi:!0,useExisting:x_}]]}}static forChild(e){return{ngModule:r,providers:[mf(e)]}}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ZC,8),t.LFG(Pa,8))},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();function XC(r,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new sE(r,n,e)}function eT(r,n,e={}){return e.useHash?new ve(r,n):new _e(r,n)}function aE(r){return"guarded"}function mf(r){return[{provide:t.deG,multi:!0,useValue:r},{provide:b_,multi:!0,useValue:r}]}let I_=(()=>{class r{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Li.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const d=new Promise(ne=>o=ne),E=this.injector.get(Pa),N=this.injector.get(Hp);return"disabled"===N.initialNavigation?(E.setUpLocationChangeListener(),o(!0)):"enabled"===N.initialNavigation||"enabledBlocking"===N.initialNavigation?(E.hooks.afterPreactivation=()=>this.initNavigation?(0,Qn.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),E.initialNavigation()):o(!0),d})}bootstrapListener(e){const o=this.injector.get(Hp),d=this.injector.get(oE),E=this.injector.get(sE),N=this.injector.get(Pa),ne=this.injector.get(t.z2F);e===ne.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&N.initialNavigation(),d.setUpPreloading(),E.init(),N.resetRootComponentType(ne.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.zs3))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function A_(r){return r.appInitializer.bind(r)}function D_(r){return r.bootstrapListener.bind(r)}const x_=new t.OlP("Router Initializer");let gE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,tl,od,ud],tl,ud]}),r})();const cT=["pMenuItemContent",""];function hT(r,n){if(1&r&&t._UZ(0,"span",6),2&r){const e=t.oxw(2);t.Q6J("ngClass",e.item.icon)}}function wS(r,n){if(1&r&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.item.label)}}function CS(r,n){if(1&r&&t._UZ(0,"span",8),2&r){const e=t.oxw(2);t.Q6J("innerHTML",e.item.label,t.oJD)}}const fT=function(r){return{"p-disabled":r}};function TS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",2),t.NdJ("keydown",function(d){return t.CHM(e),t.oxw().onItemKeyDown(d)})("click",function(d){t.CHM(e);const E=t.oxw();return E.menu.itemClick(d,E.item)}),t.YNc(1,hT,1,1,"span",3),t.YNc(2,wS,2,1,"span",4),t.YNc(3,CS,1,1,"ng-template",null,5,t.W1O),t.qZA()}if(2&r){const e=t.MAs(4),o=t.oxw();t.Q6J("ngClass",t.VKq(10,fT,o.item.disabled)),t.uIk("href",o.item.url||null,t.LSH)("tabindex",o.item.disabled?null:"0")("data-automationid",o.item.automationId)("target",o.item.target)("title",o.item.title)("id",o.item.id),t.xp6(1),t.Q6J("ngIf",o.item.icon),t.xp6(1),t.Q6J("ngIf",!1!==o.item.escape)("ngIfElse",e)}}function SS(r,n){if(1&r&&t._UZ(0,"span",6),2&r){const e=t.oxw(2);t.Q6J("ngClass",e.item.icon)}}function dT(r,n){if(1&r&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.item.label)}}function IS(r,n){if(1&r&&t._UZ(0,"span",8),2&r){const e=t.oxw(2);t.Q6J("innerHTML",e.item.label,t.oJD)}}const AS=function(){return{exact:!1}};function DS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",9),t.NdJ("keydown",function(d){return t.CHM(e),t.oxw().onItemKeyDown(d)})("click",function(d){t.CHM(e);const E=t.oxw();return E.menu.itemClick(d,E.item)}),t.YNc(1,SS,1,1,"span",3),t.YNc(2,dT,2,1,"span",4),t.YNc(3,IS,1,1,"ng-template",null,10,t.W1O),t.qZA()}if(2&r){const e=t.MAs(4),o=t.oxw();t.Q6J("routerLink",o.item.routerLink)("queryParams",o.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.item.routerLinkActiveOptions||t.DdM(19,AS))("ngClass",t.VKq(20,fT,o.item.disabled))("fragment",o.item.fragment)("queryParamsHandling",o.item.queryParamsHandling)("preserveFragment",o.item.preserveFragment)("skipLocationChange",o.item.skipLocationChange)("replaceUrl",o.item.replaceUrl)("state",o.item.state),t.uIk("data-automationid",o.item.automationId)("target",o.item.target)("id",o.item.id)("tabindex",o.item.disabled?null:"0")("title",o.item.title),t.xp6(1),t.Q6J("ngIf",o.item.icon),t.xp6(1),t.Q6J("ngIf",!1!==o.item.escape)("ngIfElse",e)}}const xS=["container"],s=function(r){return{"p-hidden":r}};function a(r,n){if(1&r&&t._UZ(0,"li",8),2&r){const e=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,s,!1===e.visible))}}function u(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.label)}}function y(r,n){if(1&r&&t._UZ(0,"span",12),2&r){const e=t.oxw(2).$implicit;t.Q6J("innerHTML",e.label,t.oJD)}}function w(r,n){if(1&r&&(t.TgZ(0,"li",9),t.YNc(1,u,2,1,"span",10),t.YNc(2,y,1,1,"ng-template",null,11,t.W1O),t.qZA()),2&r){const e=t.MAs(3),o=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,s,!1===o.visible))("tooltipOptions",o.tooltipOptions),t.uIk("data-automationid",o.automationId),t.xp6(1),t.Q6J("ngIf",!1!==o.escape)("ngIfElse",e)}}function D(r,n){if(1&r&&t._UZ(0,"li",8),2&r){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,s,!1===e.visible||!1===o.visible))}}function L(r,n){if(1&r&&t._UZ(0,"li",14),2&r){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.Tol(e.styleClass),t.Q6J("pMenuItemContent",e)("ngClass",t.VKq(6,s,!1===e.visible||!1===o.visible))("ngStyle",e.style)("tooltipOptions",e.tooltipOptions)}}function Z(r,n){if(1&r&&(t.YNc(0,D,1,3,"li",6),t.YNc(1,L,1,8,"li",13)),2&r){const e=n.$implicit;t.Q6J("ngIf",e.separator),t.xp6(1),t.Q6J("ngIf",!e.separator)}}function de(r,n){if(1&r&&(t.YNc(0,a,1,3,"li",6),t.YNc(1,w,4,7,"li",7),t.YNc(2,Z,2,2,"ng-template",5)),2&r){const e=n.$implicit;t.Q6J("ngIf",e.separator),t.xp6(1),t.Q6J("ngIf",!e.separator),t.xp6(1),t.Q6J("ngForOf",e.items)}}function Te(r,n){if(1&r&&t.YNc(0,de,3,3,"ng-template",5),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.model)}}function Pe(r,n){if(1&r&&t._UZ(0,"li",8),2&r){const e=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,s,!1===e.visible))}}function Ze(r,n){if(1&r&&t._UZ(0,"li",14),2&r){const e=t.oxw().$implicit;t.Tol(e.styleClass),t.Q6J("pMenuItemContent",e)("ngClass",t.VKq(6,s,!1===e.visible))("ngStyle",e.style)("tooltipOptions",e.tooltipOptions)}}function dt(r,n){if(1&r&&(t.YNc(0,Pe,1,3,"li",6),t.YNc(1,Ze,1,8,"li",13)),2&r){const e=n.$implicit;t.Q6J("ngIf",e.separator),t.xp6(1),t.Q6J("ngIf",!e.separator)}}function It(r,n){if(1&r&&t.YNc(0,dt,2,2,"ng-template",5),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.model)}}const qt=function(r){return{"p-menu p-component":!0,"p-menu-overlay":r}},wn=function(r,n){return{showTransitionParams:r,hideTransitionParams:n}},kn=function(r){return{value:"visible",params:r}};function Jn(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1,2),t.NdJ("click",function(d){return t.CHM(e),t.oxw().onOverlayClick(d)})("@overlayAnimation.start",function(d){return t.CHM(e),t.oxw().onOverlayAnimationStart(d)})("@overlayAnimation.done",function(d){return t.CHM(e),t.oxw().onOverlayAnimationEnd(d)}),t.TgZ(2,"ul",3),t.YNc(3,Te,1,1,void 0,4),t.YNc(4,It,1,1,void 0,4),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.Tol(e.styleClass),t.Q6J("ngClass",t.VKq(8,qt,e.popup))("ngStyle",e.style)("@overlayAnimation",t.VKq(13,kn,t.WLB(10,wn,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0!==e.popup),t.xp6(3),t.Q6J("ngIf",e.hasSubMenu()),t.xp6(1),t.Q6J("ngIf",!e.hasSubMenu())}}let an=(()=>{class r{constructor(e){this.menu=e}onItemKeyDown(e){let o=e.currentTarget.parentElement;switch(e.code){case"ArrowDown":var d=this.findNextItem(o);d&&d.children[0].focus(),e.preventDefault();break;case"ArrowUp":var E=this.findPrevItem(o);E&&E.children[0].focus(),e.preventDefault();break;case"Space":case"Enter":o&&!gn.hasClass(o,"p-disabled")&&o.children[0].click(),e.preventDefault()}}findNextItem(e){let o=e.nextElementSibling;return o?gn.hasClass(o,"p-disabled")||!gn.hasClass(o,"p-menuitem")?this.findNextItem(o):o:null}findPrevItem(e){let o=e.previousElementSibling;return o?gn.hasClass(o,"p-disabled")||!gn.hasClass(o,"p-menuitem")?this.findPrevItem(o):o:null}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>cr)))},r.\u0275cmp=t.Xpm({type:r,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:cT,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["htmlRouteLabel",""]],template:function(e,o){1&e&&(t.YNc(0,TS,5,12,"a",0),t.YNc(1,DS,5,22,"a",1)),2&e&&(t.Q6J("ngIf",!o.item.routerLink),t.xp6(1),t.Q6J("ngIf",o.item.routerLink))},directives:[Kt,hn,Kv,lv,YC],encapsulation:2}),r})(),cr=(()=>{class r{constructor(e,o,d,E,N){this.el=e,this.renderer=o,this.cd=d,this.config=E,this.overlayService=N,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new t.vpe,this.onHide=new t.vpe}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Oc.clear(e.element)}alignOverlay(){this.relativeAlign?gn.relativePosition(this.container,this.target):gn.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):gn.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&Oc.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}itemClick(e,o){o.disabled?e.preventDefault():(!o.url&&!o.routerLink&&e.preventDefault(),o.command&&o.command({originalEvent:e,item:o}),this.popup&&this.hide())}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new av(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Oc.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var e of this.model)if(e.items)return!0;return!1}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(xp),t.Y36(Y_))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-menu"]],viewQuery:function(e,o){if(1&e&&t.Gf(xS,5),2&e){let d;t.iGM(d=t.CRH())&&(o.containerViewChild=d.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(e,o){1&e&&t.YNc(0,Jn,5,15,"div",0),2&e&&t.Q6J("ngIf",!o.popup||o.visible)},directives:[Kt,hn,fi,Et,_v,an],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[Ba("overlayAnimation",[va(":enter",[hs({opacity:0,transform:"scaleY(0.8)"}),ta("{{showTransitionParams}}")]),va(":leave",[ta("{{hideTransitionParams}}",hs({opacity:0}))])])]},changeDetection:0}),r})(),oi=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,tl,od,ud],tl,ud]}),r})();function Gi(r,n){1&r&&t.GkF(0)}function Vl(r,n){if(1&r&&(t.ynx(0),t.YNc(1,Gi,1,0,"ng-container",3),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.contentTemplate)}}function yd(r,n){if(1&r&&(t.TgZ(0,"div",1),t.Hsn(1),t.YNc(2,Vl,2,1,"ng-container",2),t.qZA()),2&r){const e=t.oxw();t.Q6J("hidden",!e.selected),t.uIk("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),t.xp6(2),t.Q6J("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const Qv=["*"],O_=["content"],M_=["navbar"],R_=["prevBtn"],k_=["nextBtn"],N_=["inkbar"];function F_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",12,13),t.NdJ("click",function(){return t.CHM(e),t.oxw().navBackward()}),t._UZ(2,"span",14),t.qZA()}}function L_(r,n){if(1&r&&t._UZ(0,"span",24),2&r){const e=t.oxw(3).$implicit;t.Q6J("ngClass",e.leftIcon)}}function V_(r,n){if(1&r&&t._UZ(0,"span",25),2&r){const e=t.oxw(3).$implicit;t.Q6J("ngClass",e.rightIcon)}}function SI(r,n){if(1&r&&(t.ynx(0),t.YNc(1,L_,1,1,"span",21),t.TgZ(2,"span",22),t._uU(3),t.qZA(),t.YNc(4,V_,1,1,"span",23),t.BQk()),2&r){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.leftIcon),t.xp6(2),t.Oqu(e.header),t.xp6(1),t.Q6J("ngIf",e.rightIcon)}}function II(r,n){1&r&&t.GkF(0)}function AI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"span",26),t.NdJ("click",function(d){t.CHM(e);const E=t.oxw(2).$implicit;return t.oxw().close(d,E)}),t.qZA()}}const DI=function(r,n){return{"p-highlight":r,"p-disabled":n}};function xI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",16),t.TgZ(1,"a",17),t.NdJ("click",function(d){t.CHM(e);const E=t.oxw().$implicit;return t.oxw().open(d,E)})("keydown.enter",function(d){t.CHM(e);const E=t.oxw().$implicit;return t.oxw().open(d,E)}),t.YNc(2,SI,5,3,"ng-container",18),t.YNc(3,II,1,0,"ng-container",19),t.YNc(4,AI,1,0,"span",20),t.qZA(),t.qZA()}if(2&r){const e=t.oxw().$implicit;t.Tol(e.headerStyleClass),t.Q6J("ngClass",t.WLB(16,DI,e.selected,e.disabled))("ngStyle",e.headerStyle),t.xp6(1),t.Q6J("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),t.uIk("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected)("tabindex",e.disabled?null:"0"),t.xp6(1),t.Q6J("ngIf",!e.headerTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",e.headerTemplate),t.xp6(1),t.Q6J("ngIf",e.closable)}}function PI(r,n){1&r&&t.YNc(0,xI,5,19,"li",15),2&r&&t.Q6J("ngIf",!n.$implicit.closed)}function OI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27,28),t.NdJ("click",function(){return t.CHM(e),t.oxw().navForward()}),t._UZ(2,"span",29),t.qZA()}}const MI=function(r){return{"p-tabview p-component":!0,"p-tabview-scrollable":r}};let RI=0,PS=(()=>{class r{constructor(e,o,d){this.viewContainer=o,this.cd=d,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+RI++,this.tabView=e}ngAfterContentInit(){this.templates.forEach(e=>{"header"===e.getType()?this.headerTemplate=e.template:this.contentTemplate=e.template})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,this.tabView.updateInkBar(),this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return r.\u0275fac=function(e){return new(e||r)(t.Y36((0,t.Gpc)(()=>OS)),t.Y36(t.s_b),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-tabPanel"]],contentQueries:function(e,o,d){if(1&e&&t.Suo(d,Bu,4),2&e){let E;t.iGM(E=t.CRH())&&(o.templates=E)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:Qv,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,yd,3,5,"div",0)),2&e&&t.Q6J("ngIf",!o.closed)},directives:[Kt,io],encapsulation:2}),r})(),OS=(()=>{class r{constructor(e,o){this.el=e,this.cd=o,this.orientation="top",this.onChange=new t.vpe,this.onClose=new t.vpe,this.activeIndexChange=new t.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(e,o){if(o.disabled)e&&e.preventDefault();else{if(!o.selected){let d=this.findSelectedTab();d&&(d.selected=!1),this.tabChanged=!0,o.selected=!0;let E=this.findTabIndex(o);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(E),this.onChange.emit({originalEvent:e,index:E}),this.updateScrollBar(E)}e&&e.preventDefault()}}close(e,o){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(o),close:()=>{this.closeTab(o)}}):(this.closeTab(o),this.onClose.emit({originalEvent:e,index:this.findTabIndex(o)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let o=0;o<this.tabs.length;o++){let d=this.tabs[o];if(!d.closed&&!e.disabled){d.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let o=-1;for(let d=0;d<this.tabs.length;d++)if(this.tabs[d]==e){o=d;break}return o}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}updateInkBar(){if(this.navbar){let e=gn.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=gn.getWidth(e)+"px",this.inkbar.nativeElement.style.left=gn.getOffset(e).left-gn.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){this.navbar.nativeElement.children[e].scrollIntoView({block:"nearest"})}updateButtonState(){const e=this.content.nativeElement,{scrollLeft:o,scrollWidth:d}=e,E=gn.getWidth(e);this.backwardIsDisabled=0===o,this.forwardIsDisabled=o===d-E}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){var e,o;return[null===(e=this.prevBtn)||void 0===e?void 0:e.nativeElement,null===(o=this.nextBtn)||void 0===o?void 0:o.nativeElement].reduce((d,E)=>E?d+gn.getWidth(E):d,0)}navBackward(){const e=this.content.nativeElement,o=gn.getWidth(e)-this.getVisibleButtonWidths(),d=e.scrollLeft-o;e.scrollLeft=d<=0?0:d}navForward(){const e=this.content.nativeElement,o=gn.getWidth(e)-this.getVisibleButtonWidths(),d=e.scrollLeft+o,E=e.scrollWidth-o;e.scrollLeft=d>=E?E:d}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["p-tabView"]],contentQueries:function(e,o,d){if(1&e&&t.Suo(d,PS,4),2&e){let E;t.iGM(E=t.CRH())&&(o.tabPanels=E)}},viewQuery:function(e,o){if(1&e&&(t.Gf(O_,5),t.Gf(M_,5),t.Gf(R_,5),t.Gf(k_,5),t.Gf(N_,5)),2&e){let d;t.iGM(d=t.CRH())&&(o.content=d.first),t.iGM(d=t.CRH())&&(o.navbar=d.first),t.iGM(d=t.CRH())&&(o.prevBtn=d.first),t.iGM(d=t.CRH())&&(o.nextBtn=d.first),t.iGM(d=t.CRH())&&(o.inkbar=d.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:Qv,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,F_,3,0,"button",2),t.TgZ(3,"div",3,4),t.NdJ("scroll",function(E){return o.onScroll(E)}),t.TgZ(5,"ul",5,6),t.YNc(7,PI,1,1,"ng-template",7),t._UZ(8,"li",8,9),t.qZA(),t.qZA(),t.YNc(10,OI,3,0,"button",10),t.qZA(),t.TgZ(11,"div",11),t.Hsn(12),t.qZA(),t.qZA()),2&e&&(t.Tol(o.styleClass),t.Q6J("ngClass",t.VKq(7,MI,o.scrollable))("ngStyle",o.style),t.xp6(2),t.Q6J("ngIf",o.scrollable&&!o.backwardIsDisabled),t.xp6(5),t.Q6J("ngForOf",o.tabs),t.xp6(3),t.Q6J("ngIf",o.scrollable&&!o.forwardIsDisabled))},directives:[hn,fi,Kt,Et,lv,_v,io],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),r})(),MS=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,Oh,ud,od],Oh]}),r})(),Zv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[sv,r0,my,yy,Py,cv,wv,Oy,kp,oi,gE,MS],sv,r0,my,yy,Py,cv,wv,Oy,kp,oi,gE,MS]}),r})();const NI=["container"],RS=new t.OlP("LottieOptions");let pT=(()=>{class r{constructor(e,o){this.ngZone=e,this.options=o,this.player$=function(r){const n=r();return n instanceof Promise?(0,mr.D)(n).pipe((0,Pn.U)(e=>e.default||e),function(r,n,e,o){const d=(0,Lo.m)(e)?e:void 0;return E=>Rg(new Xi.t(1,void 0,o),d)(E)}(),hm()):(0,Qn.of)(n)}(this.options.player).pipe((0,lo.Q)(by))}loadAnimation(e){return this.player$.pipe((0,Pn.U)(o=>this.createAnimationItem(o,e)))}resolveOptions(e,o){return Object.assign({container:o,renderer:"svg",loop:!0,autoplay:!0},e)}createAnimationItem(e,o){return this.ngZone.runOutsideAngular(()=>e.loadAnimation(o))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.R0b),t.LFG(RS))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})(),LI=(()=>{class r{constructor(e,o,d){this.ngZone=e,this.platformId=o,this.animationLoader=d,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new Li.x,this.loadAnimation$=new Li.x,this.animationItem$=new Nl.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(e,o){this.loadAnimation$.next([e,o])}getAnimationItem(){return sh(()=>this.animationItem$).pipe((0,Ai.h)(e=>null!==e))}awaitAnimationItemAndStartListening(e){return this.getAnimationItem().pipe((0,vr.w)(o=>new Ii.y(d=>{o.addEventListener(e,E=>{this.ngZone.runOutsideAngular(()=>{d.next(E)})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Ai.h)(([e])=>pe(this.platformId)&&void 0!==e.options),(0,vr.w)(([e,o])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(e.options.currentValue,o)))),(0,pv.R)(this.destroy$)).subscribe(e=>{this.animationItem$.next(e)})}destroyAnimation(){const e=this.animationItem$.getValue();null!==e&&(e.destroy(),this.animationItem$.next(null))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.R0b),t.Y36(t.Lbi),t.Y36(pT))},r.\u0275dir=t.lG2({type:r,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),r})(),VI=(()=>{class r extends LI{constructor(e,o,d){super(e,o,d),this.width=null,this.height=null,this.container=null}ngOnChanges(e){super.loadAnimation(e,this.container.nativeElement)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.R0b),t.Y36(t.Lbi),t.Y36(pT))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-lottie"]],viewQuery:function(e,o){if(1&e&&t.Gf(NI,7),2&e){let d;t.iGM(d=t.CRH())&&(o.container=d.first)}},inputs:{width:"width",height:"height"},features:[t.qOj,t.TTD],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(e,o){1&e&&t._UZ(0,"div",0,1),2&e&&(t.Udp("width",o.width||"100%")("height",o.height||"100%"),t.Q6J("ngStyle",o.styles)("ngClass",o.containerClass))},directives:[fi,hn],encapsulation:2,changeDetection:0}),r})(),UI=(()=>{class r{static forRoot(e){return{ngModule:r,providers:[pT,{provide:RS,useValue:e}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai]]}),r})();var BI=v(4487),jI=v.n(BI);function HI(){return jI()}let mT=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,Gt,$l,UI.forRoot({player:HI}),Zv,fn]]}),r})();var _g=(()=>{return(r=_g||(_g={})).User="gl-user",r.Token="gl-user_token",r.iActiveList="gl_iActiveList",_g;var r})();let kS=(()=>{class r{constructor(){}cache(e,o){localStorage.setItem(e,JSON.stringify(o))}isItem(e){return!!localStorage.getItem(e)}getItem(e){return JSON.parse(localStorage.getItem(e))}clear(){localStorage.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ln=v(5620);const NS=(0,Ln.PH)("[LISTS] ADD",(0,Ln.Ky)()),FS=(0,Ln.PH)("[LISTS] ADD ITEM",(0,Ln.Ky)()),vE=(0,Ln.PH)("[LISTS] DELETE LIST",(0,Ln.Ky)()),LS=(0,Ln.PH)("[LIST] FETCH",(0,Ln.Ky)()),VS=(0,Ln.PH)("[LISTS] ITEM ADDED",(0,Ln.Ky)()),US=(0,Ln.PH)("[LISTS] LIST ADDED",(0,Ln.Ky)()),BS=(0,Ln.PH)("[LIST] FETCHED",(0,Ln.Ky)()),yE=(0,Ln.PH)("[LISTS] LOAD",(0,Ln.Ky)()),jS=(0,Ln.PH)("[LISTS] LOADED",(0,Ln.Ky)()),GI=(0,Ln.PH)("[LISTS] RESET"),zI=(0,Ln.PH)("[LISTS] SET CURRENT",(0,Ln.Ky)()),gT=(0,Ln.PH)("[LISTS] UPDATE",(0,Ln.Ky)()),HS=(0,Ln.PH)("[LISTS] UPDATED",(0,Ln.Ky)());let _E=(()=>{class r{constructor(){this._modal$=new Nl.X({open:!1,params:{}}),this.close$=new Li.x}get modal(){return this._modal$.asObservable()}open(e){this._modal$.next({open:!0,params:e})}closed(){return this.close$.asObservable()}afterClose(){this._modal$.next({open:!1,params:{}}),this.close$.next()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _d=(()=>{return(r=_d||(_d={})).Unit="unit",r.Gram="gram",r.KiloGram="kilogram",_d;var r})();let WI=(()=>{class r{transform(e){switch(e){case _d.Unit:return"\u05d9\u05d7\u05d9\u05d3\u05d5\u05ea";case _d.Gram:return"\u05d2\u05e8\u05dd";case _d.KiloGram:return"\u05e7\u05d9\u05dc\u05d5";default:return""}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"unitTypes",type:r,pure:!0}),r})();function qI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return d.onListAction(d.ListActions.DeleteItems)}),t.qZA()}}function $I(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return d.onListAction(d.ListActions.MarkChecked)}),t.qZA()}}function KI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return d.onListAction(d.ListActions.MarkUnchecked)}),t.qZA()}}function YI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return d.onListAction(d.ListActions.ItemEdit)}),t.qZA()}}function QI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const d=t.oxw(2);return d.onListAction(d.ListActions.AddItem)}),t.qZA()}}function ZI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"p-menu",3,4),t.TgZ(3,"button",5),t.NdJ("click",function(d){return t.CHM(e),t.MAs(2).toggle(d)}),t.qZA(),t.qZA(),t.TgZ(4,"div",6),t.YNc(5,qI,1,0,"button",7),t.YNc(6,$I,1,0,"button",8),t.YNc(7,KI,1,0,"button",9),t.YNc(8,YI,1,0,"button",10),t.YNc(9,QI,1,0,"button",11),t.qZA()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("popup",!0)("model",e.menuItems),t.xp6(4),t.Q6J("ngIf",e.bShowTrash),t.xp6(1),t.Q6J("ngIf",e.bShowCheck),t.xp6(1),t.Q6J("ngIf",e.bShowUnCheck),t.xp6(1),t.Q6J("ngIf",e.bShowItemEdit),t.xp6(1),t.Q6J("ngIf",e.bShowAdd)}}function JI(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e)}}function XI(r,n){if(1&r&&(t.TgZ(0,"div",19),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.Q6J("ngClass",e.bChecked?"checked":"unchecked"),t.xp6(1),t.Oqu(e.sName)}}function eA(r,n){if(1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"unitTypes"),t.BQk()),2&r){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.sUnit)," ")}}function tA(r,n){if(1&r&&(t.TgZ(0,"div",19),t._uU(1),t.YNc(2,eA,3,3,"ng-container",20),t.qZA()),2&r){const e=t.oxw().$implicit;t.Q6J("ngClass",e.bChecked?"checked":"unchecked"),t.xp6(1),t.hij("",e.iAmount," "),t.xp6(1),t.Q6J("ngIf",e.sUnit)}}function nA(r,n){if(1&r&&(t.YNc(0,JI,2,1,"ng-template",17),t.YNc(1,XI,2,2,"div",18),t.YNc(2,tA,3,3,"div",18)),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.items.length>0),t.xp6(1),t.Q6J("ngIf",e.items.length>0)}}var gf=(()=>{return(r=gf||(gf={}))[r.AddItem=0]="AddItem",r[r.DeleteItems=1]="DeleteItems",r[r.MarkChecked=2]="MarkChecked",r[r.MarkUnchecked=3]="MarkUnchecked",r[r.ItemEdit=4]="ItemEdit",gf;var r})();let rA=(()=>{class r{constructor(e,o){this.modalService=e,this.store=o,this.items=[],this.aSelectedItems=[],this.ListActions=gf}ngOnInit(){this.items=this.list.items,this.initMenu()}get bShowAdd(){return this.aSelectedItems.length<1}get bShowCheck(){return this.aSelectedItems.length>0&&this.aSelectedItems.every(e=>!e.bChecked)}get bShowTrash(){return this.aSelectedItems.length>0}get bShowUnCheck(){return this.aSelectedItems.length>0&&this.aSelectedItems.every(e=>e.bChecked)}get bShowItemEdit(){return 1===this.aSelectedItems.length}onListAction(e){const o=e===gf.MarkChecked;let d=[];switch(e){case gf.AddItem:this.onAddItem();break;case gf.DeleteItems:d=this.list.items.filter(N=>!this.aSelectedItems.includes(N));break;case gf.MarkChecked:case gf.MarkUnchecked:d=this.list.items.map(N=>this.aSelectedItems.includes(N)?Object.assign(Object.assign({},N),{bChecked:o}):N);break;case gf.ItemEdit:this.onItemEdit()}const E=Object.assign(Object.assign({},this.list),{items:d});this.store.dispatch(gT({payload:E}))}onAddItem(){this.modalService.open({sComponent:"add-item",sTitle:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d9\u05d8",cb:e=>{e.sListID=this.list.id,this.store.dispatch(FS({payload:{list:this.list,item:e}}))}})}onItemEdit(){this.modalService.open({sComponent:"item-edit",sTitle:this.aSelectedItems[0].sName,cb:e=>{const o=this.list.items.map(E=>E.id===e.id?e:E),d=Object.assign(Object.assign({},this.list),{items:o});this.store.dispatch(gT({payload:d}))},inputs:{item:this.aSelectedItems[0]}})}initMenu(){this.menuItems=[{label:"\u05e9\u05d9\u05ea\u05d5\u05e3 \u05e8\u05e9\u05d9\u05de\u05d4",icon:"pi pi-envelope",command:()=>{this.onShareList()}},{label:"\u05de\u05d7\u05d9\u05e7\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",icon:"pi pi-trash",command:()=>{this.onDeleteList()}}]}onDeleteList(){this.modalService.open({sComponent:"confirm",sTitle:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05d7\u05d9\u05e7\u05d4",sMessage:this.items.length>0?`\u05e8\u05e9\u05d9\u05de\u05ea ${this.list.sName} \u05d0\u05d9\u05e0\u05d4 \u05e8\u05d9\u05e7\u05d4, \u05dc\u05de\u05d7\u05d5\u05e7?`:`\u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea \u05e8\u05e9\u05d9\u05de\u05ea ${this.list.sName} ?`,sIcon:"pi pi-exclamation-triangle",cb:d=>{d&&this.store.dispatch(vE({payload:this.list}))}})}onShareList(){navigator.share({url:`list-invite/${this.list._id}`,title:"test",text:"please click the link"}).then(e=>console.log("user invited")).catch(e=>console.log(e))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_E),t.Y36(Ln.yh))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-listbox"]],inputs:{list:"list"},decls:3,vars:4,consts:[["optionLabel","sName",3,"options","ngModel","multiple","filter","ngModelChange"],["pTemplate","header"],["pTemplate","item"],[3,"popup","model"],["menu",""],["pButton","","icon","pi pi-ellipsis-v",1,"p-button-text","p-button-rounded","p-button-primary",3,"click"],[1,"mr-auto"],["pButton","","type","button","class","p-button-text p-button-rounded p-button-danger","icon","pi pi-trash",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-text p-button-rounded","icon","pi pi-check",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-text p-button-rounded","icon","pi pi-undo",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-text p-button-rounded p-button-secondary","icon","pi pi-pencil",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-text p-button-rounded p-button-secondary mr-1","icon","pi pi-plus",3,"click",4,"ngIf"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-text","p-button-rounded","p-button-danger",3,"click"],["pButton","","type","button","icon","pi pi-check",1,"p-button-text","p-button-rounded",3,"click"],["pButton","","type","button","icon","pi pi-undo",1,"p-button-text","p-button-rounded",3,"click"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-rounded","p-button-secondary",3,"click"],["pButton","","type","button","icon","pi pi-plus",1,"p-button-text","p-button-rounded","p-button-secondary","mr-1",3,"click"],["pTemplate","group"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"p-listbox",0),t.NdJ("ngModelChange",function(E){return o.aSelectedItems=E}),t.YNc(1,ZI,10,7,"ng-template",1),t.YNc(2,nA,3,2,"ng-template",2),t.qZA()),2&e&&t.Q6J("options",o.items)("ngModel",o.aSelectedItems)("multiple",!0)("filter",!0)},directives:[Vy,mh,Lu,Bu,cr,ju,Kt,hn],pipes:[WI],styles:[".checked[_ngcontent-%COMP%]{text-decoration:line-through}.unchecked[_ngcontent-%COMP%]{text-decoration:none}"]}),r})();function iA(r,n){if(1&r&&t._uU(0),2&r){const e=t.oxw().$implicit;t.hij(" ",e.sName," ")}}function oA(r,n){if(1&r&&t._UZ(0,"gl-listbox",6),2&r){const e=t.oxw().$implicit;t.Q6J("list",e)}}function sA(r,n){1&r&&(t.TgZ(0,"p-accordionTab"),t.YNc(1,iA,1,1,"ng-template",4),t.YNc(2,oA,1,1,"ng-template",5),t.qZA())}function aA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p-accordion",2),t.NdJ("activeIndexChange",function(d){return t.CHM(e),t.oxw().iCurrentIndex=d})("onOpen",function(d){return t.CHM(e),t.oxw().onChangeList(d)}),t.YNc(1,sA,3,0,"p-accordionTab",3),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("activeIndex",e.iCurrentIndex),t.xp6(1),t.Q6J("ngForOf",e.lists)}}let GS=(()=>{class r{constructor(e,o,d){this.modal=e,this.cache=o,this.store=d}ngOnChanges(e){this.iCurrentIndex=this.cache.getItem(_g.iActiveList)||0}ngOnInit(){}onChangeList({index:e}){this.iCurrentIndex=e,this.cache.cache(_g.iActiveList,e)}onAddList(){this.modal.open({sComponent:"add-list",sTitle:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05e9\u05d9\u05de\u05d4",cb:e=>{this.store.dispatch(NS({payload:{list:{sName:e,items:[],aUserIDs:[this.user.id]},sUserID:this.user._id}}))}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_E),t.Y36(kS),t.Y36(Ln.yh))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-lists"]],inputs:{user:"user",lists:"lists"},features:[t.TTD],decls:3,vars:1,consts:[["pButton","","type","button","icon","pi pi-plus",1,"p-button-raised","p-button-primary","w-100","mb-1",3,"click"],["expandIcon","pi pi-fw pi-chevron-left",3,"activeIndex","activeIndexChange","onOpen",4,"ngIf"],["expandIcon","pi pi-fw pi-chevron-left",3,"activeIndex","activeIndexChange","onOpen"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[3,"list"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.onAddList()}),t._uU(1,"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05e9\u05d9\u05de\u05d4"),t.qZA(),t.YNc(2,aA,2,2,"p-accordion",1)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.lists.length>0))},directives:[ju,Kt,e0,Et,ov,Bu,rA],styles:[".p-accordion .p-accordion-header .p-accordion-header-link .p-accordion-toggle-icon{position:absolute;left:30px}"]}),r})();const lA=[{path:"",component:GS}];let uA=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[tl.forChild(lA)],tl]}),r})(),zS=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,uA,Gt,Zv,mT]]}),r})(),WS=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,fn,Zv]]}),r})();const cA=(0,Ln.PH)("[USERS] REGISTER",(0,Ln.Ky)()),hA=(0,Ln.PH)("[USERS] LOGIN",(0,Ln.Ky)()),fA=(0,Ln.PH)("[USERS] LOGOUT"),U_=(0,Ln.PH)("[USERS] USER LOGGED IN",(0,Ln.Ky)()),qS=(0,Ln.PH)("[USERS] GET FROM CAHCE",(0,Ln.Ky)()),vT=((0,Ln.PH)("[USERS] GET LISTS",(0,Ln.Ky)()),(0,Ln.PH)("[USERS] UPDATE USER",(0,Ln.Ky)())),dA=(0,Ln.PH)("[USERS] RESET"),$S=(0,Ln.PH)("[USERS] ADD PUBLIC LIST",(0,Ln.Ky)());function pA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onEditList()}),t.qZA()}}function mA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onDeleteList()}),t.qZA()}}function gA(r,n){if(1&r&&(t.TgZ(0,"h2",16),t._uU(1,"\u05e8\u05e9\u05d9\u05de\u05d5\u05ea"),t.qZA(),t._UZ(2,"div",17),t.TgZ(3,"div"),t.YNc(4,pA,1,0,"button",18),t.YNc(5,mA,1,0,"button",19),t.qZA()),2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.bShowListEdit),t.xp6(1),t.Q6J("ngIf",e.bShowTrashList)}}function vA(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e)}}function yA(r,n){if(1&r&&(t.YNc(0,vA,2,1,"ng-template",22),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()),2&r){const e=n.$implicit;t.xp6(2),t.Oqu(e.sName),t.xp6(2),t.Oqu(e.iAmount)}}const _A=[{path:"",component:(()=>{class r{constructor(e,o,d){this.store=e,this.fb=o,this.modalService=d}ngOnInit(){this.store.subscribe(e=>{this.user=e.userState.user,this.lists=e.listState.lists,this.initUserDetails()})}initUserDetails(){}onUpdateUserDetails(){this.store.dispatch(vT({payload:this.userDetails.value}))}onSelectList(){this.bShowListEdit=!!this.selectedList,this.bShowTrashList=!!this.selectedList}onEditList(){console.log(this.selectedList)}onDeleteList(){this.selectedList.items.length>0?this.modalService.open({sComponent:"confirm",sTitle:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05d7\u05d9\u05e7\u05d4",sMessage:"\u05e8\u05e9\u05d9\u05de\u05d4 \u05d6\u05d5 \u05d0\u05d9\u05e0\u05d4 \u05e8\u05d9\u05e7\u05d4, \u05dc\u05de\u05d7\u05d5\u05e7?",sIcon:"pi pi-exclamation-triangle",cb:e=>{e&&this.store.dispatch(vE({payload:this.selectedList}))}}):this.store.dispatch(vE({payload:this.selectedList}))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ln.yh),t.Y36(bi),t.Y36(_E))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-profile"]],decls:27,vars:4,consts:[[1,"form-container"],[1,"form-header"],[3,"formGroup","ngSubmit"],[1,"p-float-label","d-inline-block","w-50"],["type","text","id","sFirstName","pInputText","","formControlName","sFirstName",1,"w-90"],["for","sFirstName"],["type","text","id","sLastName","pInputText","","formControlName","sLastName",1,"w-90"],["for","sLastName"],[1,"p-float-label"],["type","text","id","sEmail","pInputText","","formControlName","sEmail",1,"w-100"],["for","sEmail"],[1,"btn-container"],["pButton","","type","submit",1,"p-button-raised"],["optionLabel","sName",3,"options","ngModel","multiple","ngModelChange"],["pTemplate","header"],["pTemplate","item"],[1,"text-right"],[2,"width","auto"],["pButton","","type","button","class","p-button-text p-button-rounded p-button-secondary ml-1","icon","pi pi-pencil",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-text p-button-rounded p-button-danger","icon","pi pi-trash",3,"click",4,"ngIf"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-text","p-button-rounded","p-button-secondary","ml-1",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-text","p-button-rounded","p-button-danger",3,"click"],["pTemplate","group"]],template:function(e,o){1&e&&(t.TgZ(0,"p-card",0),t.TgZ(1,"h3",1),t._uU(2,"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return o.onUpdateUserDetails()}),t.TgZ(4,"div"),t.TgZ(5,"span",3),t._UZ(6,"input",4),t.TgZ(7,"label",5),t._uU(8,"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),t.qZA(),t.qZA(),t.TgZ(9,"span",3),t._UZ(10,"input",6),t.TgZ(11,"label",7),t._uU(12,"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"span",8),t._UZ(14,"input",9),t.TgZ(15,"label",10),t._uU(16,"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"),t.qZA(),t.qZA(),t.TgZ(17,"div",11),t.TgZ(18,"button",12),t._uU(19,"\u05e2\u05d3\u05db\u05d5\u05df"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"p-card"),t.TgZ(21,"p-listbox",13),t.NdJ("ngModelChange",function(E){return o.selectedList=E})("ngModelChange",function(){return o.onSelectList()}),t.YNc(22,gA,6,2,"ng-template",14),t.YNc(23,yA,5,2,"ng-template",15),t.qZA(),t.qZA(),t.TgZ(24,"p-card"),t.TgZ(25,"h3"),t._uU(26,"\u05e7\u05d1\u05d5\u05e6\u05d5\u05ea"),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.userDetails),t.xp6(18),t.Q6J("options",o.lists)("ngModel",o.selectedList)("multiple",!1))},directives:[py,Ip,gh,Sh,es,Cv,mh,Dh,ju,Vy,Lu,Bu,Kt],styles:[".p-float-label[_ngcontent-%COMP%]{margin-top:2.5rem}.btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:initial;float:left}.p-listbox[_ngcontent-%COMP%]   .p-listbox-header[_ngcontent-%COMP%]{justify-content:flex-end!important}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:0 auto}.form-container[_ngcontent-%COMP%]{align-items:inherit!important}"]}),r})()}];let bA=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[tl.forChild(_A)],tl]}),r})(),EA=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,bA,Gt,fn,Zv]]}),r})();var yT=v(6175);function wA(r,n){1&r&&t._UZ(0,"i",4)}function CA(r,n){if(1&r&&t._UZ(0,"gl-lists",5),2&r){const e=t.oxw();t.Q6J("user",e.user)("lists",e.usersLists)}}function TA(r,n){1&r&&t._UZ(0,"i",6)}function SA(r,n){if(1&r&&t._UZ(0,"gl-lists",5),2&r){const e=t.oxw();t.Q6J("user",e.user)("lists",e.publicLists)}}function IA(r,n){if(1&r&&t._UZ(0,"img",8),2&r){const e=t.oxw(2);t.Q6J("src",e.user.sProfilePic,t.LSH)}}function AA(r,n){if(1&r&&t.YNc(0,IA,1,1,"img",7),2&r){const e=t.oxw();t.Q6J("ngIf",e.user)}}function DA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().onLogout()}),t.TgZ(2,"span",10),t._uU(3,"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea"),t.qZA(),t.qZA(),t.qZA()}}let KS=(()=>{class r{constructor(e,o,d){this.store=e,this.auth=o,this.router=d,this.bIsLoading=!0}ngOnInit(){this.auth.user.subscribe(e=>{e&&(this.user={sName:e.displayName,sEmail:e.email,sProfilePic:e.photoURL,id:e.uid})}),this.store.subscribe(({listState:e})=>{this.usersLists=e.lists.filter(d=>!d.bIsPublic),this.publicLists=e.lists.filter(d=>d.bIsPublic),this.bIsLoading=!1})}onLogout(){yT.auth().signOut().then(()=>this.router.navigate([""]))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ln.yh),t.Y36(Bc),t.Y36(Pa))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-admin"]],decls:10,vars:1,consts:[[3,"activeIndex","activeIndexChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate"," content"],[1,"pi","pi-list"],[3,"user","lists"],[1,"pi","pi-share-alt"],["class","profile-pic","alt","",3,"src",4,"ngIf"],["alt","",1,"profile-pic",3,"src"],["pButton","","icon","pi pi-google",1,"p-button-outlined","p-button-secondary",2,"width","100%",3,"click"],[1,"ml-2"]],template:function(e,o){1&e&&(t.TgZ(0,"p-tabView",0),t.NdJ("activeIndexChange",function(E){return o.iTabIndex=E}),t.TgZ(1,"p-tabPanel"),t.YNc(2,wA,1,0,"ng-template",1),t.YNc(3,CA,1,2,"ng-template",2),t.qZA(),t.TgZ(4,"p-tabPanel"),t.YNc(5,TA,1,0,"ng-template",1),t.YNc(6,SA,1,2,"ng-template",2),t.qZA(),t.TgZ(7,"p-tabPanel"),t.YNc(8,AA,1,1,"ng-template",1),t.YNc(9,DA,4,0,"ng-template",3),t.qZA(),t.qZA()),2&e&&t.Q6J("activeIndex",o.iTabIndex)},directives:[OS,PS,Bu,GS,Kt,ju],styles:["div.p-tabview-nav-content>ul.p-tabview-nav{align-items:center;justify-content:space-between}  div.p-tabview-nav-content>ul.p-tabview-nav li:nth-child(3) a{padding:6px!important}  div.p-tabview-nav-content>ul.p-tabview-nav li:nth-child(3) a img.profile-pic{width:43px;height:43px;border:3px solid #6366F1;padding:0;border-radius:50%}"]}),r})();const xA=[{path:"",component:KS}];let PA=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[tl.forChild(xA)],tl]}),r})(),YS=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[PA,ai,zS,WS,Zv,EA,mT]]}),r})(),OA=(()=>{class r{constructor(){this.options={path:"../../assets/spinner/spinner.json"}}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-spinner"]],decls:2,vars:1,consts:[[1,"spinner-container"],["width","100px","height","100px",3,"options"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"ng-lottie",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("options",o.options))},directives:[VI],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;top:20%;right:calc(50% - 50px);z-index:100000}"]}),r})();function MA(r,n){1&r&&t._UZ(0,"gl-spinner")}function RA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p-card"),t.TgZ(1,"pre"),t._uU(2),t.qZA(),t.TgZ(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6,"\u05dc\u05d7\u05e5 "),t.TgZ(7,"span",1),t.NdJ("click",function(){return t.CHM(e),t.oxw().onGoToList()}),t._uU(8,"\u05db\u05d0\u05df"),t.qZA(),t._uU(9," \u05dc\u05de\u05e2\u05d1\u05e8 \u05dc\u05e8\u05e9\u05d9\u05de\u05d4 "),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu(e.list),t.xp6(2),t.hij("\u05e7\u05d9\u05d1\u05dc\u05ea \u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05e8\u05e9\u05d9\u05de\u05ea ",e.list.sName,"")}}const kA=[{path:"",pathMatch:"full",redirectTo:"admin"},{path:"admin",component:KS},{path:"list-invite/:sListID",component:(()=>{class r{constructor(e,o,d){this.activeRoutes=e,this.router=o,this.store=d}ngOnInit(){this.store.subscribe(({listState:e,userState:o})=>{this.user=o.user,this.list=e.listInvite}),this.activeRoutes.params.subscribe(e=>{const o=e.sListID;o&&this.store.dispatch(LS({sListID:o}))})}onGoToList(){this.store.dispatch($S({sListID:this.list._id,sUserID:this.user._id})),this.router.navigate(["admin"])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(gd),t.Y36(Pa),t.Y36(Ln.yh))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-list-invite"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"link",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,MA,1,0,"gl-spinner",0),t.YNc(1,RA,10,2,"p-card",0)),2&e&&(t.Q6J("ngIf",!o.list),t.xp6(1),t.Q6J("ngIf",o.list))},directives:[Kt,OA,py],styles:[""]}),r})()}];let NA=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[YS,tl.forRoot(kA)],tl]}),r})(),FA=(()=>{class r{constructor(e,o){this.fb=e,this.store=o,this.close=new t.vpe}ngOnInit(){this.form=this.fb.group({sName:["",Gg.required],iAmount:[null,[Gg.min(1)]]}),this.store.select("listState").subscribe(e=>this.state=e)}onSubmit(){this.params.cb({sName:this.form.value.sName,iAmount:this.form.value.iAmount,bChecked:!1}),this.close.emit()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(bi),t.Y36(Ln.yh))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-modal-add-item"]],inputs:{params:"params"},outputs:{close:"close"},decls:12,vars:2,consts:[[1,"mt-3"],["pFocusTrap","",3,"formGroup","ngSubmit"],[1,"p-float-label","mb-2"],["pInputText","","type","text","formControlName","sName","autofocus",""],["for","sName"],["pInputText","","type","number","formControlName","iAmount"],["for","iAmount"],["pButton","","type","submit",1,"p-button-raised","float-left",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"span",2),t._UZ(3,"input",3),t.TgZ(4,"label",4),t._uU(5,"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"),t.qZA(),t.qZA(),t.TgZ(6,"span",2),t._UZ(7,"input",5),t.TgZ(8,"label",6),t._uU(9,"\u05db\u05de\u05d5\u05ea"),t.qZA(),t.qZA(),t.TgZ(10,"button",7),t._uU(11,"\u05d4\u05d5\u05e1\u05e4\u05d4"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(9),t.Q6J("disabled",o.form.invalid))},directives:[Ip,gh,uv,Sh,es,Cv,mh,Dh,Vu,ju],styles:[""]}),r})(),LA=(()=>{class r{constructor(e){this.fb=e,this.close=new t.vpe}ngOnInit(){this.form=this.fb.group({sName:["",Gg.required]})}onSubmit(){this.params.cb(this.form.value.sName),this.close.emit()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(bi))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-modal-add-list"]],inputs:{params:"params"},outputs:{close:"close"},decls:7,vars:2,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],[1,"p-float-label","mb-2"],["pInputText","","type","text","formControlName","sName","autofocus",""],["for","sName"],["pButton","","type","submit",1,"p-button-raised","float-left",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u05e9\u05dd \u05d4\u05e8\u05e9\u05d9\u05de\u05d4"),t.qZA(),t.qZA(),t.TgZ(5,"button",4),t._uU(6,"\u05d4\u05d5\u05e1\u05e4\u05d4"),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("disabled",o.form.invalid))},directives:[Ip,gh,Sh,es,Cv,mh,Dh,ju],styles:[""]}),r})();function VA(r,n){if(1&r&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.params.sMessage)}}let UA=(()=>{class r{constructor(){this.close=new t.vpe}ngOnInit(){}onConfirm(){console.log(this.params),this.params.cb(!0),this.close.emit()}onReject(){console.log(this.params),this.params.cb(!1),this.close.emit()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-modal-confirm"]],inputs:{params:"params"},outputs:{close:"close"},decls:4,vars:1,consts:[[4,"ngIf"],[1,"float-left"],["type","button","pButton","","icon","pi pi-times",1,"p-button-text","p-button-rounded","p-button-danger",3,"click"],["type","button","pButton","","icon","pi pi-check",1,"p-button-text","p-button-rounded","p-button-success",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,VA,2,1,"h3",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return o.onReject()}),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return o.onConfirm()}),t.qZA(),t.qZA()),2&e&&t.Q6J("ngIf",o.params.sMessage)},directives:[Kt,ju],styles:[""]}),r})(),BA=(()=>{class r{constructor(e){this.fb=e,this.close=new t.vpe,this.aUnits=[{value:"",label:""},{value:_d.Gram,label:"\u05d2\u05e8\u05dd"},{value:_d.KiloGram,label:"\u05e7\u05d9\u05dc\u05d5"},{value:_d.Unit,label:"\u05d9\u05d7\u05d9\u05d3\u05d4"}]}ngOnInit(){this.form=this.fb.group({sName:["",null],iAmount:[null,null],sUnit:["",null],sComment:["",null]}),this.item=this.params.inputs.item,this.form.patchValue(this.item);const e=this.aUnits.find(o=>o.value===this.item.sUnit).value;this.form.patchValue({sUnit:e})}onSubmit(){const e=Object.assign(Object.assign({},this.item),this.form.value);this.params.cb(e),this.close.emit()}onCancel(){this.close.emit()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(bi))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-modal-item-edit"]],inputs:{params:"params"},outputs:{close:"close"},decls:21,vars:5,consts:[[1,"mt-3","item-edit-container"],[3,"formGroup"],[1,"p-float-label","mb-2"],["pInputText","","type","text","formControlName","sName","id","sName","autofocus","",1,"w-80"],["for","sName"],["pInputText","","type","number","formControlName","iAmount","id","iAmount",1,"w-80"],["for","iAmount"],["formControlName","sUnit","optionLabel","label","optionValue","value","styleClass","w-80",3,"options"],["for","sUnit"],["pInputTextarea","","formControlName","sComment",3,"rows","cols","autoResize"],["for","sComment"],[1,"float-left"],["pButton","","type","button","icon","pi pi-times",1,"p-button-text","p-button-rounded","p-button-danger",3,"click"],["pButton","","type","button","icon","pi pi-check",1,"p-button-text","p-button-rounded","p-button-success",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.TgZ(2,"span",2),t._UZ(3,"input",3),t.TgZ(4,"label",4),t._uU(5,"\u05e9\u05dd \u05e4\u05e8\u05d9\u05d8"),t.qZA(),t.qZA(),t.TgZ(6,"span",2),t._UZ(7,"input",5),t.TgZ(8,"label",6),t._uU(9,"\u05db\u05de\u05d5\u05ea"),t.qZA(),t.qZA(),t.TgZ(10,"span",2),t._UZ(11,"p-dropdown",7),t.TgZ(12,"label",8),t._uU(13,"\u05e1\u05d5\u05d2"),t.qZA(),t.qZA(),t.TgZ(14,"span",2),t._UZ(15,"textarea",9),t.TgZ(16,"label",10),t._uU(17,"\u05d4\u05e2\u05e8\u05d5\u05ea \u05db\u05dc\u05dc\u05d9\u05d5\u05ea"),t.qZA(),t.qZA(),t.TgZ(18,"div",11),t.TgZ(19,"button",12),t.NdJ("click",function(){return o.onCancel()}),t.qZA(),t.TgZ(20,"button",13),t.NdJ("click",function(){return o.onSubmit()}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(10),t.Q6J("options",o.aUnits),t.xp6(4),t.Q6J("rows",3)("cols",26)("autoResize",!1))},directives:[Ip,gh,Sh,es,Cv,mh,Dh,Vu,rb,Lw,ju],styles:[".item-edit-container[_ngcontent-%COMP%]{width:80vw;height:max-content}"]}),r})();function jA(r,n){if(1&r&&(t._UZ(0,"i"),t.ALo(1,"async")),2&r){const e=t.oxw(2);t.Tol(t.lcZ(1,2,e.modal$).params.sIcon)}}function HA(r,n){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,jA,2,4,"i",4),t.ALo(2,"async"),t._uU(3),t.ALo(4,"async"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.modal$).params.sIcon),t.xp6(2),t.hij(" ",t.lcZ(4,4,e.modal$).params.sTitle," ")}}function GA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"gl-modal-add-item",5),t.NdJ("close",function(){return t.CHM(e),t.oxw().onHide()}),t.ALo(1,"async"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("params",t.lcZ(1,1,e.modal$).params)}}function zA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"gl-modal-add-list",5),t.NdJ("close",function(){return t.CHM(e),t.oxw().onHide()}),t.ALo(1,"async"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("params",t.lcZ(1,1,e.modal$).params)}}function WA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"gl-modal-confirm",5),t.NdJ("close",function(){return t.CHM(e),t.oxw().onHide()}),t.ALo(1,"async"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("params",t.lcZ(1,1,e.modal$).params)}}function qA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"gl-modal-item-edit",5),t.NdJ("close",function(){return t.CHM(e),t.oxw().onHide()}),t.ALo(1,"async"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("params",t.lcZ(1,1,e.modal$).params)}}let $A=(()=>{class r{constructor(e){this.modalService=e,this.bShow=!1}ngOnInit(){this.modal$=this.modalService.modal.pipe((0,gs.b)(e=>this.bShow=e.open))}onHide(){this.modalService.afterClose()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(_E))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-modal-generic"]],decls:11,vars:13,consts:[["pFocusTrap",""],[3,"visible","visibleChange","onHide"],["pTemplate","header"],[3,"params","close",4,"ngIf"],[3,"class",4,"ngIf"],[3,"params","close"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p-dialog",1),t.NdJ("visibleChange",function(E){return o.bShow=E})("onHide",function(){return o.onHide()}),t.YNc(2,HA,5,6,"ng-template",2),t.YNc(3,GA,2,3,"gl-modal-add-item",3),t.ALo(4,"async"),t.YNc(5,zA,2,3,"gl-modal-add-list",3),t.ALo(6,"async"),t.YNc(7,WA,2,3,"gl-modal-confirm",3),t.ALo(8,"async"),t.YNc(9,qA,2,3,"gl-modal-item-edit",3),t.ALo(10,"async"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("visible",o.bShow),t.xp6(2),t.Q6J("ngIf","add-item"===t.lcZ(4,5,o.modal$).params.sComponent),t.xp6(2),t.Q6J("ngIf","add-list"===t.lcZ(6,7,o.modal$).params.sComponent),t.xp6(2),t.Q6J("ngIf","confirm"===t.lcZ(8,9,o.modal$).params.sComponent),t.xp6(2),t.Q6J("ngIf","item-edit"===t.lcZ(10,11,o.modal$).params.sComponent))},directives:[uv,YE,Bu,Kt,FA,LA,UA,BA],pipes:[xs],styles:[""]}),r})(),KA=(()=>{class r{constructor(e,o){this.store=e,this.auth=o}ngOnInit(){}onLogin(){this.auth.user.subscribe(o=>console.log(o));const e=yT.auth();e.signInWithRedirect(new yT.auth.GoogleAuthProvider).then(o=>{console.log(o)}),e.getRedirectResult().then(o=>console.log(o))}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ln.yh),t.Y36(Bc))},r.\u0275cmp=t.Xpm({type:r,selectors:[["gl-auth"]],decls:4,vars:0,consts:[[1,"mt-3"],["pButton","","icon","pi pi-google",1,"p-button-outlined","p-button-secondary","w-100","mt-3",3,"click"],[1,"ml-3"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.onLogin()}),t.TgZ(2,"span",2),t._uU(3,"\u05db\u05e0\u05d9\u05e1\u05d4"),t.qZA(),t.qZA(),t.qZA())},directives:[ju],styles:[""]}),r})();function YA(r,n){1&r&&(t.ynx(0),t._UZ(1,"gl-auth"),t.BQk())}function QA(r,n){1&r&&(t.ynx(0),t._UZ(1,"router-outlet"),t.BQk())}let ZA=(()=>{class r{constructor(e,o,d){this.store=e,this.db=o,this.auth=d}ngOnInit(){this.auth.user.subscribe(e=>{this.bIsUserLoggedIn=!!e,e&&this.store.dispatch(yE({sUserID:e.uid}))})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(Ln.yh),t.Y36(al),t.Y36(Bc))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,o){1&e&&(t.YNc(0,YA,2,0,"ng-container",0),t.YNc(1,QA,2,0,"ng-container",0),t._UZ(2,"gl-modal-generic")),2&e&&(t.Q6J("ngIf",!o.bIsUserLoggedIn),t.xp6(1),t.Q6J("ngIf",o.bIsUserLoggedIn))},directives:[Kt,$A,KA,n_],styles:[".p-listbox-header,   .p-listbox-item{justify-content:space-between}"]}),r})();const _T={user:null,bIsLoggedIn:!1,bIsUser:!1},JA=(0,Ln.Lq)(_T,(0,Ln.on)(qS,r=>Object.assign(Object.assign({},r),{bIsUser:!0})),(0,Ln.on)(U_,(r,n)=>Object.assign(Object.assign({},r),{user:n.payload,bIsLoggedIn:!0,bIsUser:!0})),(0,Ln.on)(fA,r=>Object.assign(Object.assign({},r),{bIsLoggedIn:!1})),(0,Ln.on)(vT,(r,n)=>Object.assign(Object.assign({},r),{user:n.payload})),(0,Ln.on)(dA,()=>_T));function bE(r){return r.map(n=>{const e=[...n.items];return Object.assign(Object.assign({},n),{items:e.sort((o,d)=>o.dCreated>d.dCreated?1:-1).sort((o,d)=>o.bChecked?1:-1)})})}function QS(r,n){return r.map(e=>e._id===n._id?n:e)}const bT={lists:[],iCurrentList:-1,listInvite:null},e1=(0,Ln.Lq)(bT,(0,Ln.on)(jS,(r,n)=>Object.assign(Object.assign({},r),{lists:bE(n.payload)})),(0,Ln.on)(US,(r,n)=>{const e=[...r.lists,n.payload];return Object.assign(Object.assign({},r),{lists:bE(e)})}),(0,Ln.on)(VS,(r,n)=>{const e=bE(QS(r.lists,n.payload));return Object.assign(Object.assign({},r),{lists:e})}),(0,Ln.on)(zI,(r,n)=>Object.assign(Object.assign({},r),{iCurrentList:n.payload})),(0,Ln.on)(HS,(r,n)=>{const o=bE(QS(r.lists,n.payload));return Object.assign(Object.assign({},r),{lists:o})}),(0,Ln.on)(GI,()=>bT),(0,Ln.on)(vE,(r,n)=>Object.assign(Object.assign({},r),{lists:r.lists.filter(e=>e._id!==n.payload._id)})),(0,Ln.on)(BS,(r,n)=>Object.assign(Object.assign({},r),{listInvite:n.payload}))),ZS={loading:!1},JS=(0,Ln.PH)("[APP] LOADING"),XS=(0,Ln.PH)("[APP] LOADED"),n1=(0,Ln.Lq)(ZS,(0,Ln.on)(JS,()=>({loading:!0})),(0,Ln.on)(XS,()=>({loading:!1}))),o1={listState:function(r=bT,n){return e1(r,n)},userState:function(r=_T,n){return JA(r,n)},app:function(r=ZS,n){return n1(r,n)}};let s1=(()=>{class r{constructor(e){this.store=e}intercept(e,o){return this.store.dispatch(JS()),o.handle(e).pipe((0,gs.b)(d=>{d instanceof Rr&&this.store.dispatch(XS())}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Ln.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var bd=(()=>{return(r=bd||(bd={})).Main="users",r.Register="register",r.Login="login",r.GetLists="get-lists",r.Auth="auth",r.AddPublicList="list-public-add",bd;var r})();class Ed{constructor(n,e,o){this.kind=n,this.value=e,this.error=o,this.hasValue="N"===n}observe(n){return eI(this,n)}do(n,e,o){const{kind:d,value:E,error:N}=this;return"N"===d?null==n?void 0:n(E):"E"===d?null==e?void 0:e(N):null==o?void 0:o()}accept(n,e,o){var d;return(0,Lo.m)(null===(d=n)||void 0===d?void 0:d.next)?this.observe(n):this.do(n,e,o)}toObservable(){const{kind:n,value:e,error:o}=this,d="N"===n?(0,Qn.of)(e):"E"===n?Nf(()=>o):"C"===n?Mh.E:0;if(!d)throw new TypeError(`Unexpected notification kind ${n}`);return d}static createNext(n){return new Ed("N",n)}static createError(n){return new Ed("E",void 0,n)}static createComplete(){return Ed.completeNotification}}function eI(r,n){var e,o,d;const{kind:E,value:N,error:ne}=r;if("string"!=typeof E)throw new TypeError('Invalid notification, missing "kind"');"N"===E?null===(e=n.next)||void 0===e||e.call(n,N):"E"===E?null===(o=n.error)||void 0===o||o.call(n,ne):null===(d=n.complete)||void 0===d||d.call(n)}function tI(r,n,e,o){return(0,Zo.e)((d,E)=>{let N;n&&"function"!=typeof n?({duration:e,element:N,connector:o}=n):N=n;const ne=new Map,Ee=Bt=>{ne.forEach(Bt),Bt(E)},Le=Bt=>Ee(Mt=>Mt.error(Bt)),ht=new l1(E,Bt=>{try{const Mt=r(Bt);let en=ne.get(Mt);if(!en){ne.set(Mt,en=o?o():new Li.x);const jn=function(Bt,Mt){const en=new Ii.y(jn=>{ht.activeGroups++;const Yn=Mt.subscribe(jn);return()=>{Yn.unsubscribe(),0==--ht.activeGroups&&ht.teardownAttempted&&ht.unsubscribe()}});return en.key=Bt,en}(Mt,en);if(E.next(jn),e){const Yn=new Eo.Q(en,()=>{en.complete(),null==Yn||Yn.unsubscribe()},void 0,void 0,()=>ne.delete(Mt));ht.add((0,Aa.Xf)(e(jn)).subscribe(Yn))}}en.next(N?N(Bt):Bt)}catch(Mt){Le(Mt)}},()=>Ee(Bt=>Bt.complete()),Le,()=>ne.clear());d.subscribe(ht)})}Ed.completeNotification=new Ed("C");class l1 extends Eo.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}function nI(r,n){return n?e=>e.pipe(nI((o,d)=>(0,Aa.Xf)(r(o,d)).pipe((0,Pn.U)((E,N)=>n(o,E,d,N))))):(0,Zo.e)((e,o)=>{let d=0,E=null,N=!1;e.subscribe(new Eo.Q(o,ne=>{E||(E=new Eo.Q(o,void 0,()=>{E=null,N&&o.complete()}),(0,Aa.Xf)(r(ne,d++)).subscribe(E))},()=>{N=!0,!E&&o.complete()}))})}const rI={dispatch:!0,useEffectsErrorHandler:!0},EE="__@ngrx/effects_create__";function vf(r,n){const e=r(),o=Object.assign(Object.assign({},rI),n);return Object.defineProperty(e,EE,{value:o}),e}function c1(r){return Object.getOwnPropertyNames(r).filter(o=>!(!r[o]||!r[o].hasOwnProperty(EE))&&r[o][EE].hasOwnProperty("dispatch")).map(o=>Object.assign({propertyName:o},r[o][EE]))}function ET(r){return Object.getPrototypeOf(r)}const wE="__@ngrx/effects__";function h1(r){return(0,Ln.qC)(d1,ET)(r)}function d1(r){return function(r){return r.constructor.hasOwnProperty(wE)}(r)?r.constructor[wE]:[]}function p1(r,n,e){const o=ET(r).constructor.name,d=function(r){return[h1,c1].reduce((e,o)=>e.concat(o(r)),[])}(r).map(({propertyName:E,dispatch:N,useEffectsErrorHandler:ne})=>{const Ee="function"==typeof r[E]?r[E]():r[E],Le=ne?e(Ee,n):Ee;return!1===N?Le.pipe(pm()):Le.pipe((0,Zo.e)((r,n)=>{r.subscribe(new Eo.Q(n,e=>{n.next(Ed.createNext(e))},()=>{n.next(Ed.createComplete()),n.complete()},e=>{n.next(Ed.createError(e)),n.complete()}))})).pipe((0,Pn.U)(bt=>({effect:r[E],notification:bt,propertyName:E,sourceName:o,sourceInstance:r})))});return(0,ks.T)(...d)}function sI(r,n,e=10){return r.pipe((0,Rh.K)(o=>(n&&n.handleError(o),e<=1?r:sI(r,n,e-1))))}let wT=(()=>{class r extends Ii.y{constructor(e){super(),e&&(this.source=e)}lift(e){const o=new r;return o.source=this,o.operator=e,o}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Ln.Y$))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function yf(...r){return(0,Ai.h)(n=>r.some(e=>"string"==typeof e?e===n.type:e.type===n.type))}function S1(r){return CT(r,"ngrxOnInitEffects")}function CT(r,n){return r&&n in r&&"function"==typeof r[n]}const aI=new t.OlP("@ngrx/effects Internal Root Guard"),CE=new t.OlP("@ngrx/effects User Provided Effects"),TT=new t.OlP("@ngrx/effects Internal Root Effects"),lI=new t.OlP("@ngrx/effects Root Effects"),uI=new t.OlP("@ngrx/effects Internal Feature Effects"),cI=new t.OlP("@ngrx/effects Feature Effects"),hI=new t.OlP("@ngrx/effects Effects Error Handler");let ST=(()=>{class r extends Li.x{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(tI(ET),(0,eo.z)(e=>e.pipe(tI(I1))),(0,eo.z)(e=>{const o=e.pipe(nI(E=>function(r,n){return e=>{const o=p1(e,r,n);return function(r){return CT(r,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(o):o}}(this.errorHandler,this.effectsErrorHandler)(E)),(0,Pn.U)(E=>(function(r,n){if("N"===r.notification.kind){const e=r.notification.value;!function(r){return"function"!=typeof r&&r&&r.type&&"string"==typeof r.type}(e)&&n.handleError(new Error(`Effect ${function({propertyName:r,sourceInstance:n,sourceName:e}){const o="function"==typeof n[r];return`"${e}.${String(r)}${o?"()":""}"`}(r)} dispatched an invalid action: ${function(r){try{return JSON.stringify(r)}catch(n){return r}}(e)}`))}}(E,this.errorHandler),E.notification)),(0,Ai.h)(E=>"N"===E.kind&&null!=E.value),(0,Zo.e)((r,n)=>{r.subscribe(new Eo.Q(n,e=>eI(e,n)))})),d=e.pipe((0,Cs.q)(1),(0,Ai.h)(S1),(0,Pn.U)(E=>E.ngrxOnInitEffects()));return(0,ks.T)(o,d)}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(t.qLn),t.LFG(hI))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();function I1(r){return function(r){return CT(r,"ngrxOnIdentifyEffects")}(r)?r.ngrxOnIdentifyEffects():""}let IT=(()=>{class r{constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ST),t.LFG(Ln.yh))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();const fI="@ngrx/effects/init";(0,Ln.PH)(fI);let dI=(()=>{class r{constructor(e,o,d,E,N,ne,Ee){this.sources=e,o.start(),E.forEach(Le=>e.addEffects(Le)),d.dispatch({type:fI})}addEffects(e){this.sources.addEffects(e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(ST),t.LFG(IT),t.LFG(Ln.yh),t.LFG(lI),t.LFG(Ln.cr,8),t.LFG(Ln.CK,8),t.LFG(aI,8))},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})(),D1=(()=>{class r{constructor(e,o,d,E){o.forEach(N=>N.forEach(ne=>e.addEffects(ne)))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(dI),t.LFG(cI),t.LFG(Ln.cr,8),t.LFG(Ln.CK,8))},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})(),x1=(()=>{class r{static forFeature(e=[]){return{ngModule:D1,providers:[e,{provide:uI,multi:!0,useValue:e},{provide:CE,multi:!0,useValue:[]},{provide:cI,multi:!0,useFactory:pI,deps:[t.zs3,uI,CE]}]}}static forRoot(e=[]){return{ngModule:dI,providers:[{provide:hI,useValue:sI},IT,ST,wT,e,{provide:TT,useValue:[e]},{provide:aI,useFactory:O1,deps:[[IT,new t.FiY,new t.tp0],[TT,new t.PiD]]},{provide:CE,multi:!0,useValue:[]},{provide:lI,useFactory:pI,deps:[t.zs3,TT,CE]}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();function pI(r,n,e){const o=[];for(const d of n)o.push(...d);for(const d of e)o.push(...d);return function(r,n){return n.map(e=>r.get(e))}(r,o)}function O1(r,n){if((1!==n.length||0!==n[0].length)&&r)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let mI=(()=>{class r{constructor(e,o){this.http=e,this.db=o,this.api="http://localhost:8000/api"}get(e){return this.http.get(e).pipe((0,Pn.U)(o=>o.error?[]:o.data))}post(e,o){return this.http.post(e,o).pipe((0,Pn.U)(d=>d.error?[]:d.data))}put(e,o){return this.http.put(e,o).pipe((0,Pn.U)(d=>d.error?[]:d.data))}delete(e,o){return this.http.delete(e,o).pipe((0,Pn.U)(()=>null))}buildUrl(e){return`${this.api}/${e.route}`}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Qo),t.LFG(al))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),M1=(()=>{class r{constructor(e,o,d){this.actions$=e,this.api=o,this.cacheService=d,this.register$=vf(()=>this.actions$.pipe(yf(cA),(0,eo.z)(E=>{const N=this.api.buildUrl({route:`${bd.Main}/${bd.Register}`});return this.api.post(N,E.payload).pipe((0,Pn.U)(ne=>(this.cacheService.cache(_g.Token,ne.token),this.cacheService.cache(_g.User,ne.user),ne.user)),(0,Pn.U)(ne=>U_({payload:ne})))}))),this.login$=vf(()=>this.actions$.pipe(yf(hA),(0,Pn.U)(E=>U_({payload:E.payload})))),this.userLoggedIn$=vf(()=>this.actions$.pipe(yf(U_),(0,Pn.U)(E=>yE({sUserID:E.payload.id})))),this.getUserFromCache$=vf(()=>this.actions$.pipe(yf(qS),(0,eo.z)(E=>{const N=this.api.buildUrl({route:`${bd.Main}/${bd.Auth}`});return this.api.post(N,{token:E.payload}).pipe((0,Pn.U)(ne=>U_({payload:ne})))}))),this.addPublicList$=vf(()=>this.actions$.pipe(yf($S),(0,eo.z)(E=>{const N=this.api.buildUrl({route:`${bd.Main}/${bd.AddPublicList}`});return this.api.post(N,{sListID:E.sListID,sUserID:E.sUserID}).pipe((0,Pn.U)(ne=>yE({sUserID:ne._id})))})))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(wT),t.LFG(mI),t.LFG(kS))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var B_=(()=>((B_||(B_={})).Lists="lists",B_))(),bg=(()=>{return(r=bg||(bg={})).Main="lists",r.MarkItemsChecked="mark-items-checked",r.ItemsUnCheck="items-uncheck",r.GetAll="",r.AddList="add-list",r.Load="load",r.DeleteList="list-delete",r.UpdateItem="item-update",r.GetByID="list-by-id",bg;var r})();let R1=(()=>{class r{constructor(e,o,d,E){this.actions$=e,this.store=o,this.api=d,this.db=E,this.load$=vf(()=>this.actions$.pipe(yf(yE),(0,eo.z)(N=>(this.api.buildUrl({route:`${B_.Lists}/${bg.Load}`}),this.db.collection("lists").valueChanges().pipe((0,Pn.U)(Ee=>Ee.filter(Le=>Le.aUserIDs.includes(N.sUserID))),(0,Pn.U)(Ee=>jS({payload:Ee}))))))),this.addList$=vf(()=>this.actions$.pipe(yf(NS),(0,eo.z)(N=>{const ne=this.api.buildUrl({route:`${B_.Lists}/${bg.AddList}`}),{list:Ee,sUserID:Le}=N.payload;return this.api.post(ne,{list:Ee,sUserID:Le}).pipe((0,Pn.U)(({list:ht,user:bt})=>(this.store.dispatch(vT({payload:bt})),US({payload:ht}))),(0,Rh.K)(()=>Mh.E))}))),this.addItem$=vf(()=>this.actions$.pipe(yf(FS),(0,Pn.U)(N=>{const{list:ne,item:Ee}=N.payload,Le=Object.assign(Object.assign({},Ee),{id:this.db.createId()}),ht=Object.assign(Object.assign({},ne),{items:ne.items.concat(Le)});return this.db.doc(`lists/${ne.id}`).set(ht),VS({payload:ht})}))),this.update$=vf(()=>this.actions$.pipe(yf(gT),(0,Pn.U)(N=>{const ne=N.payload;return this.db.doc(`lists/${ne.id}`).set(ne),HS({payload:ne})}))),this.fetchList$=vf(()=>this.actions$.pipe(yf(LS),(0,eo.z)(N=>{const ne=this.api.buildUrl({route:`${bg.Main}/${bg.GetByID}`});return this.api.post(ne,{sListID:N.sListID}).pipe((0,Pn.U)(Ee=>BS({payload:Ee})))}))),this.init()}init(){this.store.select("listState").subscribe(e=>this.state=e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(wT),t.LFG(Ln.yh),t.LFG(mI),t.LFG(al))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var k1=v(9565);let N1=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[ai,Ln.Aw.forRoot(o1),k1.FT.instrument({maxAge:30}),x1.forRoot([R1,M1])]]}),r})(),F1=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r,bootstrap:[ZA]}),r.\u0275inj=t.cJS({providers:[{provide:qi,useClass:s1,multi:!0}],imports:[[YS,Zu,Gr.hO.initializeApp(iu_firebase),gu,NA,ep,Wo,zS,WS,Zv,ch.register("service-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),mT,N1]]}),r})();(0,t.G48)(),Ra().bootstrapModule(F1).catch(r=>console.error(r))},3029:(h,m,v)=>{"use strict";function C(se){return se&&"object"==typeof se&&"default"in se?se:{default:se}}var S=C(v(9278));S.default.registerVersion("firebase","7.24.0","app"),h.exports=S.default},6175:(h,m,v)=>{"use strict";var t=v(9278);function C(fe){return fe&&"object"==typeof fe&&"default"in fe?fe:{default:fe}}v(2451),v(1925),v(199),v(5011),v(6101),v(2684),v(2517),v(454),v(8072);var S=C(t);S.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),S.default.registerVersion("firebase","7.24.0"),h.exports=S.default},2940:function(h,m){!function(v){"use strict";function t(z){return Array.prototype.slice.call(z)}function C(z){return new Promise(function(K,ee){z.onsuccess=function(){K(z.result)},z.onerror=function(){ee(z.error)}})}function S(z,K,ee){var _e,ve=new Promise(function(Ae,xe){C(_e=z[K].apply(z,ee)).then(Ae,xe)});return ve.request=_e,ve}function q(z,K,ee){var _e=S(z,K,ee);return _e.then(function(ve){if(ve)return new j(ve,_e.request)})}function Y(z,K,ee){ee.forEach(function(_e){Object.defineProperty(z.prototype,_e,{get:function(){return this[K][_e]},set:function(ve){this[K][_e]=ve}})})}function se(z,K,ee,_e){_e.forEach(function(ve){ve in ee.prototype&&(z.prototype[ve]=function(){return S(this[K],ve,arguments)})})}function re(z,K,ee,_e){_e.forEach(function(ve){ve in ee.prototype&&(z.prototype[ve]=function(){return this[K][ve].apply(this[K],arguments)})})}function fe(z,K,ee,_e){_e.forEach(function(ve){ve in ee.prototype&&(z.prototype[ve]=function(){return q(this[K],ve,arguments)})})}function B(z){this._index=z}function j(z,K){this._cursor=z,this._request=K}function oe(z){this._store=z}function X(z){this._tx=z,this.complete=new Promise(function(K,ee){z.oncomplete=function(){K()},z.onerror=function(){ee(z.error)},z.onabort=function(){ee(z.error)}})}function te(z,K,ee){this._db=z,this.oldVersion=K,this.transaction=new X(ee)}function me(z){this._db=z}Y(B,"_index",["name","keyPath","multiEntry","unique"]),se(B,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(B,"_index",IDBIndex,["openCursor","openKeyCursor"]),Y(j,"_cursor",["direction","key","primaryKey","value"]),se(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(j.prototype[z]=function(){var K=this,ee=arguments;return Promise.resolve().then(function(){return K._cursor[z].apply(K._cursor,ee),C(K._request).then(function(_e){if(_e)return new j(_e,K._request)})})})}),oe.prototype.createIndex=function(){return new B(this._store.createIndex.apply(this._store,arguments))},oe.prototype.index=function(){return new B(this._store.index.apply(this._store,arguments))},Y(oe,"_store",["name","keyPath","indexNames","autoIncrement"]),se(oe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(oe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(oe,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new oe(this._tx.objectStore.apply(this._tx,arguments))},Y(X,"_tx",["objectStoreNames","mode"]),re(X,"_tx",IDBTransaction,["abort"]),te.prototype.createObjectStore=function(){return new oe(this._db.createObjectStore.apply(this._db,arguments))},Y(te,"_db",["name","version","objectStoreNames"]),re(te,"_db",IDBDatabase,["deleteObjectStore","close"]),me.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},Y(me,"_db",["name","version","objectStoreNames"]),re(me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[oe,B].forEach(function(K){z in K.prototype&&(K.prototype[z.replace("open","iterate")]=function(){var ee=t(arguments),_e=ee[ee.length-1],ve=this._store||this._index,Ae=ve[z].apply(ve,ee.slice(0,-1));Ae.onsuccess=function(){_e(Ae.result)}})})}),[B,oe].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(K,ee){var _e=this,ve=[];return new Promise(function(Ae){_e.iterateCursor(K,function(xe){xe?(ve.push(xe.value),void 0===ee||ve.length!=ee?xe.continue():Ae(ve)):Ae(ve)})})})}),v.openDb=function(z,K,ee){var _e=S(indexedDB,"open",[z,K]),ve=_e.request;return ve&&(ve.onupgradeneeded=function(Ae){ee&&ee(new te(ve.result,Ae.oldVersion,ve.transaction))}),_e.then(function(Ae){return new me(Ae)})},v.deleteDb=function(z){return S(indexedDB,"deleteDatabase",[z])},Object.defineProperty(v,"__esModule",{value:!0})}(m)},4487:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__,h,m;"undefined"!=typeof navigator&&(h=window||{},m=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var m,h=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],v=h.length;for(m=0;m<v;m+=1)BMMath[h[m]]=Math[h[m]]}(),BMMath.random=Math.random,BMMath.abs=function(h){if("object"==typeof h&&h.length){var t,v=createSizedArray(h.length),C=h.length;for(t=0;t<C;t+=1)v[t]=Math.abs(h[t]);return v}return Math.abs(h)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(h){bmRnd=h?Math.round:function(m){return m}}function styleDiv(h){h.style.position="absolute",h.style.top=0,h.style.left=0,h.style.display="block",h.style.transformOrigin="0 0",h.style.webkitTransformOrigin="0 0",h.style.backfaceVisibility="visible",h.style.webkitBackfaceVisibility="visible",h.style.transformStyle="preserve-3d",h.style.webkitTransformStyle="preserve-3d",h.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(h,m,v,t){this.type=h,this.currentTime=m,this.totalTime=v,this.direction=t<0?-1:1}function BMCompleteEvent(h,m){this.type=h,this.direction=m<0?-1:1}function BMCompleteLoopEvent(h,m,v,t){this.type=h,this.currentLoop=v,this.totalLoops=m,this.direction=t<0?-1:1}function BMSegmentStartEvent(h,m,v){this.type=h,this.firstFrame=m,this.totalFrames=v}function BMDestroyEvent(h,m){this.type=h,this.target=m}function BMRenderFrameErrorEvent(h,m){this.type="renderFrameError",this.nativeError=h,this.currentTime=m}function BMConfigErrorEvent(h){this.type="configError",this.nativeError=h}function BMAnimationConfigErrorEvent(h,m){this.type=h,this.nativeError=m}roundValues(!1);var createElementID=(h=0,function(){return idPrefix+"__lottie_element_"+(h+=1)}),h;function HSVtoRGB(h,m,v){var t,C,S,q,Y,se,re,fe;switch(se=v*(1-m),re=v*(1-(Y=6*h-(q=Math.floor(6*h)))*m),fe=v*(1-(1-Y)*m),q%6){case 0:t=v,C=fe,S=se;break;case 1:t=re,C=v,S=se;break;case 2:t=se,C=v,S=fe;break;case 3:t=se,C=re,S=v;break;case 4:t=fe,C=se,S=v;break;case 5:t=v,C=se,S=re}return[t,C,S]}function RGBtoHSV(h,m,v){var q,t=Math.max(h,m,v),C=Math.min(h,m,v),S=t-C,Y=0===t?0:S/t,se=t/255;switch(t){case C:q=0;break;case h:q=m-v+S*(m<v?6:0),q/=6*S;break;case m:q=v-h+2*S,q/=6*S;break;case v:q=h-m+4*S,q/=6*S}return[q,Y,se]}function addSaturationToRGB(h,m){var v=RGBtoHSV(255*h[0],255*h[1],255*h[2]);return v[1]+=m,v[1]>1?v[1]=1:v[1]<=0&&(v[1]=0),HSVtoRGB(v[0],v[1],v[2])}function addBrightnessToRGB(h,m){var v=RGBtoHSV(255*h[0],255*h[1],255*h[2]);return v[2]+=m,v[2]>1?v[2]=1:v[2]<0&&(v[2]=0),HSVtoRGB(v[0],v[1],v[2])}function addHueToRGB(h,m){var v=RGBtoHSV(255*h[0],255*h[1],255*h[2]);return v[0]+=m/360,v[0]>1?v[0]-=1:v[0]<0&&(v[0]+=1),HSVtoRGB(v[0],v[1],v[2])}var rgbToHex=function(){var m,v,h=[];for(m=0;m<256;m+=1)v=m.toString(16),h[m]=1===v.length?"0"+v:v;return function(t,C,S){return t<0&&(t=0),C<0&&(C=0),S<0&&(S=0),"#"+h[t]+h[C]+h[S]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(h,m){if(this._cbs[h])for(var v=this._cbs[h],t=0;t<v.length;t+=1)v[t](m)},addEventListener:function(h,m){return this._cbs[h]||(this._cbs[h]=[]),this._cbs[h].push(m),function(){this.removeEventListener(h,m)}.bind(this)},removeEventListener:function(h,m){if(m){if(this._cbs[h]){for(var v=0,t=this._cbs[h].length;v<t;)this._cbs[h][v]===m&&(this._cbs[h].splice(v,1),v-=1,t-=1),v+=1;this._cbs[h].length||(this._cbs[h]=null)}}else this._cbs[h]=null}};var createTypedArray=function(){function h(v,t){var q,C=0,S=[];switch(v){case"int16":case"uint8c":q=1;break;default:q=1.1}for(C=0;C<t;C+=1)S.push(q);return S}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(v,t){return"float32"===v?new Float32Array(t):"int16"===v?new Int16Array(t):"uint8c"===v?new Uint8ClampedArray(t):h(v,t)}:h}();function createSizedArray(h){return Array.apply(null,{length:h})}function createNS(h){return document.createElementNS(svgNS,h)}function createTag(h){return document.createElement(h)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&(this.dynamicProperties.push(h),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var h,m=this.dynamicProperties.length;for(h=0;h<m;h+=1)this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(h){this.container=h,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=function(){var h={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(m){return h[m]||""}}(),lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var h=Math.cos,m=Math.sin,v=Math.tan,t=Math.round;function C(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function S($){if(0===$)return this;var J=h($),je=m($);return this._t(J,-je,0,0,je,J,0,0,0,0,1,0,0,0,0,1)}function q($){if(0===$)return this;var J=h($),je=m($);return this._t(1,0,0,0,0,J,-je,0,0,je,J,0,0,0,0,1)}function Y($){if(0===$)return this;var J=h($),je=m($);return this._t(J,0,je,0,0,1,0,0,-je,0,J,0,0,0,0,1)}function se($){if(0===$)return this;var J=h($),je=m($);return this._t(J,-je,0,0,je,J,0,0,0,0,1,0,0,0,0,1)}function re($,J){return this._t(1,J,$,1,0,0)}function fe($,J){return this.shear(v($),v(J))}function B($,J){var je=h(J),we=m(J);return this._t(je,we,0,0,-we,je,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,v($),1,0,0,0,0,1,0,0,0,0,1)._t(je,-we,0,0,we,je,0,0,0,0,1,0,0,0,0,1)}function j($,J,je){return!je&&0!==je&&(je=1),1===$&&1===J&&1===je?this:this._t($,0,0,0,0,J,0,0,0,0,je,0,0,0,0,1)}function oe($,J,je,we,Ne,ut,qe,$e,lt,Pt,nn,Ft,pn,rn,St,qn){return this.props[0]=$,this.props[1]=J,this.props[2]=je,this.props[3]=we,this.props[4]=Ne,this.props[5]=ut,this.props[6]=qe,this.props[7]=$e,this.props[8]=lt,this.props[9]=Pt,this.props[10]=nn,this.props[11]=Ft,this.props[12]=pn,this.props[13]=rn,this.props[14]=St,this.props[15]=qn,this}function X($,J,je){return je=je||0,0!==$||0!==J||0!==je?this._t(1,0,0,0,0,1,0,0,0,0,1,0,$,J,je,1):this}function te($,J,je,we,Ne,ut,qe,$e,lt,Pt,nn,Ft,pn,rn,St,qn){var un=this.props;if(1===$&&0===J&&0===je&&0===we&&0===Ne&&1===ut&&0===qe&&0===$e&&0===lt&&0===Pt&&1===nn&&0===Ft)return un[12]=un[12]*$+un[15]*pn,un[13]=un[13]*ut+un[15]*rn,un[14]=un[14]*nn+un[15]*St,un[15]*=qn,this._identityCalculated=!1,this;var mn=un[0],tn=un[1],Cn=un[2],Nn=un[3],on=un[4],zn=un[5],yn=un[6],Hn=un[7],ir=un[8],or=un[9],dr=un[10],hr=un[11],Gn=un[12],An=un[13],Wr=un[14],ft=un[15];return un[0]=mn*$+tn*Ne+Cn*lt+Nn*pn,un[1]=mn*J+tn*ut+Cn*Pt+Nn*rn,un[2]=mn*je+tn*qe+Cn*nn+Nn*St,un[3]=mn*we+tn*$e+Cn*Ft+Nn*qn,un[4]=on*$+zn*Ne+yn*lt+Hn*pn,un[5]=on*J+zn*ut+yn*Pt+Hn*rn,un[6]=on*je+zn*qe+yn*nn+Hn*St,un[7]=on*we+zn*$e+yn*Ft+Hn*qn,un[8]=ir*$+or*Ne+dr*lt+hr*pn,un[9]=ir*J+or*ut+dr*Pt+hr*rn,un[10]=ir*je+or*qe+dr*nn+hr*St,un[11]=ir*we+or*$e+dr*Ft+hr*qn,un[12]=Gn*$+An*Ne+Wr*lt+ft*pn,un[13]=Gn*J+An*ut+Wr*Pt+ft*rn,un[14]=Gn*je+An*qe+Wr*nn+ft*St,un[15]=Gn*we+An*$e+Wr*Ft+ft*qn,this._identityCalculated=!1,this}function me(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function le($){for(var J=0;J<16;){if($.props[J]!==this.props[J])return!1;J+=1}return!0}function W($){var J;for(J=0;J<16;J+=1)$.props[J]=this.props[J];return $}function z($){var J;for(J=0;J<16;J+=1)this.props[J]=$[J]}function K($,J,je){return{x:$*this.props[0]+J*this.props[4]+je*this.props[8]+this.props[12],y:$*this.props[1]+J*this.props[5]+je*this.props[9]+this.props[13],z:$*this.props[2]+J*this.props[6]+je*this.props[10]+this.props[14]}}function ee($,J,je){return $*this.props[0]+J*this.props[4]+je*this.props[8]+this.props[12]}function _e($,J,je){return $*this.props[1]+J*this.props[5]+je*this.props[9]+this.props[13]}function ve($,J,je){return $*this.props[2]+J*this.props[6]+je*this.props[10]+this.props[14]}function Ae(){var $=this.props[0]*this.props[5]-this.props[1]*this.props[4],J=this.props[5]/$,je=-this.props[1]/$,we=-this.props[4]/$,Ne=this.props[0]/$,ut=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/$,qe=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/$,$e=new Matrix;return $e.props[0]=J,$e.props[1]=je,$e.props[4]=we,$e.props[5]=Ne,$e.props[12]=ut,$e.props[13]=qe,$e}function xe($){return this.getInverseMatrix().applyToPointArray($[0],$[1],$[2]||0)}function Ge($){var J,je=$.length,we=[];for(J=0;J<je;J+=1)we[J]=xe($[J]);return we}function k($,J,je){var we=createTypedArray("float32",6);if(this.isIdentity())we[0]=$[0],we[1]=$[1],we[2]=J[0],we[3]=J[1],we[4]=je[0],we[5]=je[1];else{var Ne=this.props[0],ut=this.props[1],qe=this.props[4],$e=this.props[5],lt=this.props[12],Pt=this.props[13];we[0]=$[0]*Ne+$[1]*qe+lt,we[1]=$[0]*ut+$[1]*$e+Pt,we[2]=J[0]*Ne+J[1]*qe+lt,we[3]=J[0]*ut+J[1]*$e+Pt,we[4]=je[0]*Ne+je[1]*qe+lt,we[5]=je[0]*ut+je[1]*$e+Pt}return we}function U($,J,je){return this.isIdentity()?[$,J,je]:[$*this.props[0]+J*this.props[4]+je*this.props[8]+this.props[12],$*this.props[1]+J*this.props[5]+je*this.props[9]+this.props[13],$*this.props[2]+J*this.props[6]+je*this.props[10]+this.props[14]]}function O($,J){if(this.isIdentity())return $+","+J;var je=this.props;return Math.round(100*($*je[0]+J*je[4]+je[12]))/100+","+Math.round(100*($*je[1]+J*je[5]+je[13]))/100}function H(){for(var $=0,J=this.props,je="matrix3d(";$<16;)je+=t(1e4*J[$])/1e4,je+=15===$?")":",",$+=1;return je}function Q($){return $<1e-6&&$>0||$>-1e-6&&$<0?t(1e4*$)/1e4:$}function R(){var $=this.props;return"matrix("+Q($[0])+","+Q($[1])+","+Q($[4])+","+Q($[5])+","+Q($[12])+","+Q($[13])+")"}return function(){this.reset=C,this.rotate=S,this.rotateX=q,this.rotateY=Y,this.rotateZ=se,this.skew=fe,this.skewFromAxis=B,this.shear=re,this.scale=j,this.setTransform=oe,this.translate=X,this.transform=te,this.applyToPoint=K,this.applyToX=ee,this.applyToY=_e,this.applyToZ=ve,this.applyToPointArray=U,this.applyToTriplePoints=k,this.applyToPointStringified=O,this.toCSS=H,this.to2dCSS=R,this.clone=W,this.cloneFromProps=z,this.equals=le,this.inversePoints=Ge,this.inversePoint=xe,this.getInverseMatrix=Ae,this._t=this.transform,this.isIdentity=me,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(h,m){var v=this,t=256,q="random",Y=m.pow(t,6),se=m.pow(2,52),re=2*se;function oe(z){var K,ee=z.length,_e=this,ve=0,Ae=_e.i=_e.j=0,xe=_e.S=[];for(ee||(z=[ee++]);ve<t;)xe[ve]=ve++;for(ve=0;ve<t;ve++)xe[ve]=xe[Ae=255&Ae+z[ve%ee]+(K=xe[ve])],xe[Ae]=K;_e.g=function(Ge){for(var k,U=0,O=_e.i,H=_e.j,Q=_e.S;Ge--;)k=Q[O=255&O+1],U=U*t+Q[255&(Q[O]=Q[H=255&H+k])+(Q[H]=k)];return _e.i=O,_e.j=H,U}}function X(z,K){return K.i=z.i,K.j=z.j,K.S=z.S.slice(),K}function te(z,K){var ve,ee=[],_e=typeof z;if(K&&"object"==_e)for(ve in z)try{ee.push(te(z[ve],K-1))}catch(Ae){}return ee.length?ee:"string"==_e?z:z+"\0"}function me(z,K){for(var _e,ee=z+"",ve=0;ve<ee.length;)K[255&ve]=255&(_e^=19*K[255&ve])+ee.charCodeAt(ve++);return W(K)}function W(z){return String.fromCharCode.apply(0,z)}m["seed"+q]=function(z,K,ee){var _e=[],ve=me(te((K=!0===K?{entropy:!0}:K||{}).entropy?[z,W(h)]:null===z?function(){try{var z=new Uint8Array(t);return(v.crypto||v.msCrypto).getRandomValues(z),W(z)}catch(_e){var K=v.navigator,ee=K&&K.plugins;return[+new Date,v,ee,v.screen,W(h)]}}():z,3),_e),Ae=new oe(_e),xe=function(){for(var Ge=Ae.g(6),k=Y,U=0;Ge<se;)Ge=(Ge+U)*t,k*=t,U=Ae.g(1);for(;Ge>=re;)Ge/=2,k/=2,U>>>=1;return(Ge+U)/k};return xe.int32=function(){return 0|Ae.g(4)},xe.quick=function(){return Ae.g(4)/4294967296},xe.double=xe,me(W(Ae.S),h),(K.pass||ee||function(Ge,k,U,O){return O&&(O.S&&X(O,Ae),Ge.state=function(){return X(Ae,{})}),U?(m[q]=Ge,k):Ge})(xe,ve,"global"in K?K.global:this==m,K.state)},me(m.random(),h)}([],BMMath);var BezierFactory=function(){var h={getBezierEasing:function(W,z,K,ee,_e){var ve=_e||("bez_"+W+"_"+z+"_"+K+"_"+ee).replace(/\./g,"p");if(m[ve])return m[ve];var Ae=new le([W,z,K,ee]);return m[ve]=Ae,Ae}},m={},re="function"==typeof Float32Array;function fe(W,z){return 1-3*z+3*W}function B(W,z){return 3*z-6*W}function j(W){return 3*W}function oe(W,z,K){return((fe(z,K)*W+B(z,K))*W+j(z))*W}function X(W,z,K){return 3*fe(z,K)*W*W+2*B(z,K)*W+j(z)}function le(W){this._p=W,this._mSampleValues=re?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return le.prototype={get:function(W){var z=this._p[0],K=this._p[1],ee=this._p[2],_e=this._p[3];return this._precomputed||this._precompute(),z===K&&ee===_e?W:0===W?0:1===W?1:oe(this._getTForX(W),K,_e)},_precompute:function(){var W=this._p[0],z=this._p[1],K=this._p[2],ee=this._p[3];this._precomputed=!0,(W!==z||K!==ee)&&this._calcSampleValues()},_calcSampleValues:function(){for(var W=this._p[0],z=this._p[2],K=0;K<11;++K)this._mSampleValues[K]=oe(.1*K,W,z)},_getTForX:function(W){for(var z=this._p[0],K=this._p[2],ee=this._mSampleValues,_e=0,ve=1;10!==ve&&ee[ve]<=W;++ve)_e+=.1;var Ge=_e+(W-ee[--ve])/(ee[ve+1]-ee[ve])*.1,k=X(Ge,z,K);return k>=.001?function(W,z,K,ee){for(var _e=0;_e<4;++_e){var ve=X(z,K,ee);if(0===ve)return z;z-=(oe(z,K,ee)-W)/ve}return z}(W,Ge,z,K):0===k?Ge:function(W,z,K,ee,_e){var ve,Ae,xe=0;do{(ve=oe(Ae=z+(K-z)/2,ee,_e)-W)>0?K=Ae:z=Ae}while(Math.abs(ve)>1e-7&&++xe<10);return Ae}(W,_e,_e+.1,z,K)}},h}();function extendPrototype(h,m){var v,C,t=h.length;for(v=0;v<t;v+=1)for(var S in C=h[v].prototype)Object.prototype.hasOwnProperty.call(C,S)&&(m.prototype[S]=C[S])}function getDescriptor(h,m){return Object.getOwnPropertyDescriptor(h,m)}function createProxyFunction(h){function m(){}return m.prototype=h,m}function bezFunction(){var h=Math;function m(j,oe,X,te,me,le){var W=j*te+oe*me+X*le-me*te-le*j-X*oe;return W>-.001&&W<.001}var t=function(j,oe,X,te){var le,W,z,K,ee,ve,me=defaultCurveSegments,_e=0,Ae=[],xe=[],Ge=bezierLengthPool.newElement();for(z=X.length,le=0;le<me;le+=1){for(ee=le/(me-1),ve=0,W=0;W<z;W+=1)K=bmPow(1-ee,3)*j[W]+3*bmPow(1-ee,2)*ee*X[W]+3*(1-ee)*bmPow(ee,2)*te[W]+bmPow(ee,3)*oe[W],Ae[W]=K,null!==xe[W]&&(ve+=bmPow(Ae[W]-xe[W],2)),xe[W]=Ae[W];ve&&(_e+=ve=bmSqrt(ve)),Ge.percents[le]=ee,Ge.lengths[le]=_e}return Ge.addedLength=_e,Ge};function S(j){this.segmentLength=0,this.points=new Array(j)}function q(j,oe){this.partialLength=j,this.point=oe}var j,Y=(j={},function(oe,X,te,me){var le=(oe[0]+"_"+oe[1]+"_"+X[0]+"_"+X[1]+"_"+te[0]+"_"+te[1]+"_"+me[0]+"_"+me[1]).replace(/\./g,"p");if(!j[le]){var z,K,ee,_e,ve,xe,Ge,W=defaultCurveSegments,Ae=0,k=null;2===oe.length&&(oe[0]!==X[0]||oe[1]!==X[1])&&m(oe[0],oe[1],X[0],X[1],oe[0]+te[0],oe[1]+te[1])&&m(oe[0],oe[1],X[0],X[1],X[0]+me[0],X[1]+me[1])&&(W=2);var U=new S(W);for(ee=te.length,z=0;z<W;z+=1){for(Ge=createSizedArray(ee),ve=z/(W-1),xe=0,K=0;K<ee;K+=1)_e=bmPow(1-ve,3)*oe[K]+3*bmPow(1-ve,2)*ve*(oe[K]+te[K])+3*(1-ve)*bmPow(ve,2)*(X[K]+me[K])+bmPow(ve,3)*X[K],Ge[K]=_e,null!==k&&(xe+=bmPow(Ge[K]-k[K],2));Ae+=xe=bmSqrt(xe),U.points[z]=new q(xe,Ge),k=Ge}U.segmentLength=Ae,j[le]=U}return j[le]});function se(j,oe){var X=oe.percents,te=oe.lengths,me=X.length,le=bmFloor((me-1)*j),W=j*oe.addedLength,z=0;if(le===me-1||0===le||W===te[le])return X[le];for(var K=te[le]>W?-1:1,ee=!0;ee;)if(te[le]<=W&&te[le+1]>W?(z=(W-te[le])/(te[le+1]-te[le]),ee=!1):le+=K,le<0||le>=me-1){if(le===me-1)return X[le];ee=!1}return X[le]+(X[le+1]-X[le])*z}var fe=createTypedArray("float32",8);return{getSegmentsLength:function(j){var W,oe=segmentsLengthPool.newElement(),X=j.c,te=j.v,me=j.o,le=j.i,z=j._length,K=oe.lengths,ee=0;for(W=0;W<z-1;W+=1)K[W]=t(te[W],te[W+1],me[W],le[W+1]),ee+=K[W].addedLength;return X&&z&&(K[W]=t(te[W],te[0],me[W],le[0]),ee+=K[W].addedLength),oe.totalLength=ee,oe},getNewSegment:function(j,oe,X,te,me,le,W){me<0?me=0:me>1&&(me=1);var ee,z=se(me,W),K=se(le=le>1?1:le,W),_e=j.length,ve=1-z,Ae=1-K,xe=ve*ve*ve,Ge=z*ve*ve*3,k=z*z*ve*3,U=z*z*z,O=ve*ve*Ae,H=z*ve*Ae+ve*z*Ae+ve*ve*K,Q=z*z*Ae+ve*z*K+z*ve*K,R=z*z*K,$=ve*Ae*Ae,J=z*Ae*Ae+ve*K*Ae+ve*Ae*K,je=z*K*Ae+ve*K*K+z*Ae*K,we=z*K*K,Ne=Ae*Ae*Ae,ut=K*Ae*Ae+Ae*K*Ae+Ae*Ae*K,qe=K*K*Ae+Ae*K*K+K*Ae*K,$e=K*K*K;for(ee=0;ee<_e;ee+=1)fe[4*ee]=h.round(1e3*(xe*j[ee]+Ge*X[ee]+k*te[ee]+U*oe[ee]))/1e3,fe[4*ee+1]=h.round(1e3*(O*j[ee]+H*X[ee]+Q*te[ee]+R*oe[ee]))/1e3,fe[4*ee+2]=h.round(1e3*($*j[ee]+J*X[ee]+je*te[ee]+we*oe[ee]))/1e3,fe[4*ee+3]=h.round(1e3*(Ne*j[ee]+ut*X[ee]+qe*te[ee]+$e*oe[ee]))/1e3;return fe},getPointInSegment:function(j,oe,X,te,me,le){var W=se(me,le),z=1-W;return[h.round(1e3*(z*z*z*j[0]+(W*z*z+z*W*z+z*z*W)*X[0]+(W*W*z+z*W*W+W*z*W)*te[0]+W*W*W*oe[0]))/1e3,h.round(1e3*(z*z*z*j[1]+(W*z*z+z*W*z+z*z*W)*X[1]+(W*W*z+z*W*W+W*z*W)*te[1]+W*W*W*oe[1]))/1e3]},buildBezierData:Y,pointOnLine2D:m,pointOnLine3D:function(j,oe,X,te,me,le,W,z,K){if(0===X&&0===le&&0===K)return m(j,oe,te,me,W,z);var Ae,ee=h.sqrt(h.pow(te-j,2)+h.pow(me-oe,2)+h.pow(le-X,2)),_e=h.sqrt(h.pow(W-j,2)+h.pow(z-oe,2)+h.pow(K-X,2)),ve=h.sqrt(h.pow(W-te,2)+h.pow(z-me,2)+h.pow(K-le,2));return(Ae=ee>_e?ee>ve?ee-_e-ve:ve-_e-ee:ve>_e?ve-_e-ee:_e-ee-ve)>-1e-4&&Ae<1e-4}}}!function(){for(var h=0,m=["ms","moz","webkit","o"],v=0;v<m.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[m[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[v]+"CancelAnimationFrame"]||window[m[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var C=(new Date).getTime(),S=Math.max(0,16-(C-h)),q=setTimeout(function(){t(C+S)},S);return h=C+S,q}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=function(){var v,t,h=1,m=[],C={onmessage:function(){},postMessage:function(j){v({data:j})}},S={postMessage:function(j){C.onmessage({data:j})}};function Y(){t||((t=function(j){if(window.Worker&&window.Blob&&_useWebWorker){var oe=new Blob(["var _workerSelf = self; self.onmessage = ",j.toString()],{type:"text/javascript"}),X=URL.createObjectURL(oe);return new Worker(X)}return v=j,C}(function(oe){if(S.dataManager||(S.dataManager=function(){function me(O,H){var Q,R,J,je,we,Ne,$=O.length;for(R=0;R<$;R+=1)if("ks"in(Q=O[R])&&!Q.completed){if(Q.completed=!0,Q.tt&&(O[R-1].td=Q.tt),Q.hasMask){var ut=Q.masksProperties;for(je=ut.length,J=0;J<je;J+=1)if(ut[J].pt.k.i)z(ut[J].pt.k);else for(Ne=ut[J].pt.k.length,we=0;we<Ne;we+=1)ut[J].pt.k[we].s&&z(ut[J].pt.k[we].s[0]),ut[J].pt.k[we].e&&z(ut[J].pt.k[we].e[0])}0===Q.ty?(Q.layers=le(Q.refId,H),me(Q.layers,H)):4===Q.ty?W(Q.shapes):5===Q.ty&&k(Q)}}function le(O,H){for(var Q=0,R=H.length;Q<R;){if(H[Q].id===O)return H[Q].layers.__used?JSON.parse(JSON.stringify(H[Q].layers)):(H[Q].layers.__used=!0,H[Q].layers);Q+=1}return null}function W(O){var H,R,$;for(H=O.length-1;H>=0;H-=1)if("sh"===O[H].ty)if(O[H].ks.k.i)z(O[H].ks.k);else for($=O[H].ks.k.length,R=0;R<$;R+=1)O[H].ks.k[R].s&&z(O[H].ks.k[R].s[0]),O[H].ks.k[R].e&&z(O[H].ks.k[R].e[0]);else"gr"===O[H].ty&&W(O[H].it)}function z(O){var H,Q=O.i.length;for(H=0;H<Q;H+=1)O.i[H][0]+=O.v[H][0],O.i[H][1]+=O.v[H][1],O.o[H][0]+=O.v[H][0],O.o[H][1]+=O.v[H][1]}function K(O,H){var Q=H?H.split("."):[100,100,100];return O[0]>Q[0]||!(Q[0]>O[0])&&(O[1]>Q[1]||!(Q[1]>O[1])&&(O[2]>Q[2]||!(Q[2]>O[2])&&null))}var O,ee=function(){var O=[4,4,14];function H(R){R.t.d={k:[{s:R.t.d,t:0}]}}function Q(R){var $,J=R.length;for($=0;$<J;$+=1)5===R[$].ty&&H(R[$])}return function(R){if(K(O,R.v)&&(Q(R.layers),R.assets)){var $,J=R.assets.length;for($=0;$<J;$+=1)R.assets[$].layers&&Q(R.assets[$].layers)}}}(),_e=(O=[4,7,99],function(H){if(H.chars&&!K(O,H.v)){var Q,$,J,je,we,R=H.chars.length;for(Q=0;Q<R;Q+=1)if(H.chars[Q].data&&H.chars[Q].data.shapes)for(J=(we=H.chars[Q].data.shapes[0].it).length,$=0;$<J;$+=1)(je=we[$].ks.k).__converted||(z(we[$].ks.k),je.__converted=!0)}}),ve=function(){var O=[5,7,15];function H(R){var $=R.t.p;"number"==typeof $.a&&($.a={a:0,k:$.a}),"number"==typeof $.p&&($.p={a:0,k:$.p}),"number"==typeof $.r&&($.r={a:0,k:$.r})}function Q(R){var $,J=R.length;for($=0;$<J;$+=1)5===R[$].ty&&H(R[$])}return function(R){if(K(O,R.v)&&(Q(R.layers),R.assets)){var $,J=R.assets.length;for($=0;$<J;$+=1)R.assets[$].layers&&Q(R.assets[$].layers)}}}(),Ae=function(){var O=[4,1,9];function H(R){var $,je,we,J=R.length;for($=0;$<J;$+=1)if("gr"===R[$].ty)H(R[$].it);else if("fl"===R[$].ty||"st"===R[$].ty)if(R[$].c.k&&R[$].c.k[0].i)for(we=R[$].c.k.length,je=0;je<we;je+=1)R[$].c.k[je].s&&(R[$].c.k[je].s[0]/=255,R[$].c.k[je].s[1]/=255,R[$].c.k[je].s[2]/=255,R[$].c.k[je].s[3]/=255),R[$].c.k[je].e&&(R[$].c.k[je].e[0]/=255,R[$].c.k[je].e[1]/=255,R[$].c.k[je].e[2]/=255,R[$].c.k[je].e[3]/=255);else R[$].c.k[0]/=255,R[$].c.k[1]/=255,R[$].c.k[2]/=255,R[$].c.k[3]/=255}function Q(R){var $,J=R.length;for($=0;$<J;$+=1)4===R[$].ty&&H(R[$].shapes)}return function(R){if(K(O,R.v)&&(Q(R.layers),R.assets)){var $,J=R.assets.length;for($=0;$<J;$+=1)R.assets[$].layers&&Q(R.assets[$].layers)}}}(),xe=function(){var O=[4,4,18];function H(R){var $,je,we;for($=R.length-1;$>=0;$-=1)if("sh"===R[$].ty)if(R[$].ks.k.i)R[$].ks.k.c=R[$].closed;else for(we=R[$].ks.k.length,je=0;je<we;je+=1)R[$].ks.k[je].s&&(R[$].ks.k[je].s[0].c=R[$].closed),R[$].ks.k[je].e&&(R[$].ks.k[je].e[0].c=R[$].closed);else"gr"===R[$].ty&&H(R[$].it)}function Q(R){var $,J,we,Ne,ut,qe,je=R.length;for(J=0;J<je;J+=1){if(($=R[J]).hasMask){var $e=$.masksProperties;for(Ne=$e.length,we=0;we<Ne;we+=1)if($e[we].pt.k.i)$e[we].pt.k.c=$e[we].cl;else for(qe=$e[we].pt.k.length,ut=0;ut<qe;ut+=1)$e[we].pt.k[ut].s&&($e[we].pt.k[ut].s[0].c=$e[we].cl),$e[we].pt.k[ut].e&&($e[we].pt.k[ut].e[0].c=$e[we].cl)}4===$.ty&&H($.shapes)}}return function(R){if(K(O,R.v)&&(Q(R.layers),R.assets)){var $,J=R.assets.length;for($=0;$<J;$+=1)R.assets[$].layers&&Q(R.assets[$].layers)}}}();function k(O){0===O.t.a.length&&!("m"in O.t.p)&&(O.singleShape=!0)}var U={completeData:function(O){O.__complete||(Ae(O),ee(O),_e(O),ve(O),xe(O),me(O.layers,O.assets),O.__complete=!0)}};return U.checkColors=Ae,U.checkChars=_e,U.checkPathProperties=ve,U.checkShapes=xe,U.completeLayers=me,U}()),S.assetLoader||(S.assetLoader=function(){function me(W){var z=W.getResponseHeader("content-type");return z&&"json"===W.responseType&&-1!==z.indexOf("json")||W.response&&"object"==typeof W.response?W.response:W.response&&"string"==typeof W.response?JSON.parse(W.response):W.responseText?JSON.parse(W.responseText):null}return{load:function(W,z,K,ee){var _e,ve=new XMLHttpRequest;try{ve.responseType="json"}catch(Ae){}ve.onreadystatechange=function(){if(4===ve.readyState)if(200===ve.status)_e=me(ve),K(_e);else try{_e=me(ve),K(_e)}catch(Ae){ee&&ee(Ae)}};try{ve.open("GET",W,!0)}catch(Ae){ve.open("GET",z+"/"+W,!0)}ve.send()}}}()),"loadAnimation"===oe.data.type)S.assetLoader.load(oe.data.path,oe.data.fullPath,function(me){S.dataManager.completeData(me),S.postMessage({id:oe.data.id,payload:me,status:"success"})},function(){S.postMessage({id:oe.data.id,status:"error"})});else if("complete"===oe.data.type){var te=oe.data.animation;S.dataManager.completeData(te),S.postMessage({id:oe.data.id,payload:te,status:"success"})}else"loadData"===oe.data.type&&S.assetLoader.load(oe.data.path,oe.data.fullPath,function(me){S.postMessage({id:oe.data.id,payload:me,status:"success"})},function(){S.postMessage({id:oe.data.id,status:"error"})})})).onmessage=function(j){var oe=j.data,X=oe.id,te=m[X];m[X]=null,"success"===oe.status?te.onComplete(oe.payload):te.onError&&te.onError()})}function se(j,oe){var X="processId_"+(h+=1);return m[X]={onComplete:j,onError:oe},X}return{loadAnimation:function(j,oe,X){Y();var te=se(oe,X);t.postMessage({type:"loadAnimation",path:j,fullPath:window.location.origin+window.location.pathname,id:te})},loadData:function(j,oe,X){Y();var te=se(oe,X);t.postMessage({type:"loadData",path:j,fullPath:window.location.origin+window.location.pathname,id:te})},completeAnimation:function(j,oe,X){Y();var te=se(oe,X);t.postMessage({type:"complete",animation:j,id:te})}}}();function getFontProperties(h){for(var S,m=h.fStyle?h.fStyle.split(" "):[],v="normal",t="normal",C=m.length,q=0;q<C;q+=1)switch(S=m[q].toLowerCase(),S){case"italic":t="italic";break;case"bold":v="700";break;case"black":v="900";break;case"medium":v="500";break;case"regular":case"normal":v="400";break;case"light":case"thin":v="200"}return{style:t,weight:h.fWeight||v}}var FontManager=function(){var m={w:0,size:0,shapes:[]},v=[];v=v.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var t=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],C=[65039,8205];function q(K,ee){var _e=createTag("span");_e.setAttribute("aria-hidden",!0),_e.style.fontFamily=ee;var ve=createTag("span");ve.innerText="giItT1WQy@!-/#",_e.style.position="absolute",_e.style.left="-10000px",_e.style.top="-10000px",_e.style.fontSize="300px",_e.style.fontVariant="normal",_e.style.fontStyle="normal",_e.style.fontWeight="normal",_e.style.letterSpacing="0",_e.appendChild(ve),document.body.appendChild(_e);var Ae=ve.offsetWidth;return ve.style.fontFamily=function(K){var _e,ee=K.split(","),ve=ee.length,Ae=[];for(_e=0;_e<ve;_e+=1)"sans-serif"!==ee[_e]&&"monospace"!==ee[_e]&&Ae.push(ee[_e]);return Ae.join(",")}(K)+", "+ee,{node:ve,w:Ae,parent:_e}}function se(K,ee){var _e=createNS("text");_e.style.fontSize="100px";var ve=getFontProperties(ee);return _e.setAttribute("font-family",ee.fFamily),_e.setAttribute("font-style",ve.style),_e.setAttribute("font-weight",ve.weight),_e.textContent="1",ee.fClass?(_e.style.fontFamily="inherit",_e.setAttribute("class",ee.fClass)):_e.style.fontFamily=ee.fFamily,K.appendChild(_e),createTag("canvas").getContext("2d").font=ee.fWeight+" "+ee.fStyle+" 100px "+ee.fFamily,_e}var W=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return W.isModifier=function(K,ee){var _e=K.toString(16)+ee.toString(16);return-1!==t.indexOf(_e)},W.isZeroWidthJoiner=function(K,ee){return ee?K===C[0]&&ee===C[1]:K===C[1]},W.isCombinedCharacter=function(K){return-1!==v.indexOf(K)},W.prototype={addChars:function(K){if(K){this.chars||(this.chars=[]);var ee,ve,xe,_e=K.length,Ae=this.chars.length;for(ee=0;ee<_e;ee+=1){for(ve=0,xe=!1;ve<Ae;)this.chars[ve].style===K[ee].style&&this.chars[ve].fFamily===K[ee].fFamily&&this.chars[ve].ch===K[ee].ch&&(xe=!0),ve+=1;xe||(this.chars.push(K[ee]),Ae+=1)}}},addFonts:function(K,ee){if(K){if(this.chars)return this.isLoaded=!0,void(this.fonts=K.list);var ve,_e=K.list,Ae=_e.length,xe=Ae;for(ve=0;ve<Ae;ve+=1){var k,U,Ge=!0;if(_e[ve].loaded=!1,_e[ve].monoCase=q(_e[ve].fFamily,"monospace"),_e[ve].sansCase=q(_e[ve].fFamily,"sans-serif"),_e[ve].fPath){if("p"===_e[ve].fOrigin||3===_e[ve].origin){if((k=document.querySelectorAll('style[f-forigin="p"][f-family="'+_e[ve].fFamily+'"], style[f-origin="3"][f-family="'+_e[ve].fFamily+'"]')).length>0&&(Ge=!1),Ge){var O=createTag("style");O.setAttribute("f-forigin",_e[ve].fOrigin),O.setAttribute("f-origin",_e[ve].origin),O.setAttribute("f-family",_e[ve].fFamily),O.type="text/css",O.innerText="@font-face {font-family: "+_e[ve].fFamily+"; font-style: normal; src: url('"+_e[ve].fPath+"');}",ee.appendChild(O)}}else if("g"===_e[ve].fOrigin||1===_e[ve].origin){for(k=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),U=0;U<k.length;U+=1)-1!==k[U].href.indexOf(_e[ve].fPath)&&(Ge=!1);if(Ge){var H=createTag("link");H.setAttribute("f-forigin",_e[ve].fOrigin),H.setAttribute("f-origin",_e[ve].origin),H.type="text/css",H.rel="stylesheet",H.href=_e[ve].fPath,document.body.appendChild(H)}}else if("t"===_e[ve].fOrigin||2===_e[ve].origin){for(k=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),U=0;U<k.length;U+=1)_e[ve].fPath===k[U].src&&(Ge=!1);if(Ge){var Q=createTag("link");Q.setAttribute("f-forigin",_e[ve].fOrigin),Q.setAttribute("f-origin",_e[ve].origin),Q.setAttribute("rel","stylesheet"),Q.setAttribute("href",_e[ve].fPath),ee.appendChild(Q)}}}else _e[ve].loaded=!0,xe-=1;_e[ve].helper=se(ee,_e[ve]),_e[ve].cache={},this.fonts.push(_e[ve])}0===xe?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(K,ee,_e){for(var ve=0,Ae=this.chars.length;ve<Ae;){if(this.chars[ve].ch===K&&this.chars[ve].style===ee&&this.chars[ve].fFamily===_e)return this.chars[ve];ve+=1}return("string"==typeof K&&13!==K.charCodeAt(0)||!K)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",K,ee,_e)),m},getFontByName:function(K){for(var ee=0,_e=this.fonts.length;ee<_e;){if(this.fonts[ee].fName===K)return this.fonts[ee];ee+=1}return this.fonts[0]},measureText:function(K,ee,_e){var ve=this.getFontByName(ee),Ae=K.charCodeAt(0);if(!ve.cache[Ae+1]){var xe=ve.helper;if(" "===K){xe.textContent="|"+K+"|";var Ge=xe.getComputedTextLength();xe.textContent="||";var k=xe.getComputedTextLength();ve.cache[Ae+1]=(Ge-k)/100}else xe.textContent=K,ve.cache[Ae+1]=xe.getComputedTextLength()/100}return ve.cache[Ae+1]*_e},checkLoadedFonts:function(){var K,ee=this.fonts.length,Ae=ee;for(K=0;K<ee;K+=1)this.fonts[K].loaded?Ae-=1:"n"===this.fonts[K].fOrigin||0===this.fonts[K].origin?this.fonts[K].loaded=!0:((this.fonts[K].monoCase.node.offsetWidth!==this.fonts[K].monoCase.w||this.fonts[K].sansCase.node.offsetWidth!==this.fonts[K].sansCase.w)&&(Ae-=1,this.fonts[K].loaded=!0),this.fonts[K].loaded&&(this.fonts[K].sansCase.parent.parentNode.removeChild(this.fonts[K].sansCase.parent),this.fonts[K].monoCase.parent.parentNode.removeChild(this.fonts[K].monoCase.parent)));0!==Ae&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},W}(),PropertyFactory=function(){var h=initialDefaultFrame,m=Math.abs;function v(me,le){var z,W=this.offsetTime;"multidimensional"===this.propType&&(z=createTypedArray("float32",this.pv.length));for(var Ae,xe,Ge,K=le.lastIndex,ee=K,_e=this.keyframes.length-1,ve=!0;ve;){if(Ae=this.keyframes[ee],xe=this.keyframes[ee+1],ee===_e-1&&me>=xe.t-W){Ae.h&&(Ae=xe),K=0;break}if(xe.t-W>me){K=ee;break}ee<_e-1?ee+=1:(K=0,ve=!1)}Ge=this.keyframesMetadata[ee]||{};var k,U,O,H,Q,R,je,$=xe.t-W,J=Ae.t-W;if(Ae.to){Ge.bezierData||(Ge.bezierData=bez.buildBezierData(Ae.s,xe.s||Ae.e,Ae.to,Ae.ti));var we=Ge.bezierData;if(me>=$||me<J){var Ne=me>=$?we.points.length-1:0;for(U=we.points[Ne].point.length,k=0;k<U;k+=1)z[k]=we.points[Ne].point[k]}else{Ge.__fnct?R=Ge.__fnct:(R=BezierFactory.getBezierEasing(Ae.o.x,Ae.o.y,Ae.i.x,Ae.i.y,Ae.n).get,Ge.__fnct=R),O=R((me-J)/($-J));var qe,ut=we.segmentLength*O,$e=le.lastFrame<me&&le._lastKeyframeIndex===ee?le._lastAddedLength:0;for(Q=le.lastFrame<me&&le._lastKeyframeIndex===ee?le._lastPoint:0,ve=!0,H=we.points.length;ve;){if($e+=we.points[Q].partialLength,0===ut||0===O||Q===we.points.length-1){for(U=we.points[Q].point.length,k=0;k<U;k+=1)z[k]=we.points[Q].point[k];break}if(ut>=$e&&ut<$e+we.points[Q+1].partialLength){for(qe=(ut-$e)/we.points[Q+1].partialLength,U=we.points[Q].point.length,k=0;k<U;k+=1)z[k]=we.points[Q].point[k]+(we.points[Q+1].point[k]-we.points[Q].point[k])*qe;break}Q<H-1?Q+=1:ve=!1}le._lastPoint=Q,le._lastAddedLength=$e-we.points[Q].partialLength,le._lastKeyframeIndex=ee}}else{var pn;if(_e=Ae.s.length,je=xe.s||Ae.e,this.sh&&1!==Ae.h)me>=$?(z[0]=je[0],z[1]=je[1],z[2]=je[2]):me<=J?(z[0]=Ae.s[0],z[1]=Ae.s[1],z[2]=Ae.s[2]):function(me,le){var W=le[0],z=le[1],K=le[2],ee=le[3],_e=Math.atan2(2*z*ee-2*W*K,1-2*z*z-2*K*K),ve=Math.asin(2*W*z+2*K*ee),Ae=Math.atan2(2*W*ee-2*z*K,1-2*W*W-2*K*K);me[0]=_e/degToRads,me[1]=ve/degToRads,me[2]=Ae/degToRads}(z,function(me,le,W){var U,O,H,Q,R,z=[],K=me[0],ee=me[1],_e=me[2],ve=me[3],Ae=le[0],xe=le[1],Ge=le[2],k=le[3];return(O=K*Ae+ee*xe+_e*Ge+ve*k)<0&&(O=-O,Ae=-Ae,xe=-xe,Ge=-Ge,k=-k),1-O>1e-6?(U=Math.acos(O),H=Math.sin(U),Q=Math.sin((1-W)*U)/H,R=Math.sin(W*U)/H):(Q=1-W,R=W),z[0]=Q*K+R*Ae,z[1]=Q*ee+R*xe,z[2]=Q*_e+R*Ge,z[3]=Q*ve+R*k,z}(S(Ae.s),S(je),(me-J)/($-J)));else for(ee=0;ee<_e;ee+=1)1!==Ae.h&&(me>=$?O=1:me<J?O=0:(Ae.o.x.constructor===Array?(Ge.__fnct||(Ge.__fnct=[]),Ge.__fnct[ee]?R=Ge.__fnct[ee]:(R=BezierFactory.getBezierEasing(void 0===Ae.o.x[ee]?Ae.o.x[0]:Ae.o.x[ee],void 0===Ae.o.y[ee]?Ae.o.y[0]:Ae.o.y[ee],void 0===Ae.i.x[ee]?Ae.i.x[0]:Ae.i.x[ee],void 0===Ae.i.y[ee]?Ae.i.y[0]:Ae.i.y[ee]).get,Ge.__fnct[ee]=R)):Ge.__fnct?R=Ge.__fnct:(R=BezierFactory.getBezierEasing(Ae.o.x,Ae.o.y,Ae.i.x,Ae.i.y).get,Ae.keyframeMetadata=R),O=R((me-J)/($-J)))),je=xe.s||Ae.e,pn=1===Ae.h?Ae.s[ee]:Ae.s[ee]+(je[ee]-Ae.s[ee])*O,"multidimensional"===this.propType?z[ee]=pn:z=pn}return le.lastIndex=K,z}function S(me){var le=me[0]*degToRads,W=me[1]*degToRads,z=me[2]*degToRads,K=Math.cos(le/2),ee=Math.cos(W/2),_e=Math.cos(z/2),ve=Math.sin(le/2),Ae=Math.sin(W/2),xe=Math.sin(z/2);return[ve*Ae*_e+K*ee*xe,ve*ee*_e+K*Ae*xe,K*Ae*_e-ve*ee*xe,K*ee*_e-ve*Ae*xe]}function q(){var me=this.comp.renderedFrame-this.offsetTime,le=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(me===this._caching.lastFrame||this._caching.lastFrame!==h&&(this._caching.lastFrame>=W&&me>=W||this._caching.lastFrame<le&&me<le))){this._caching.lastFrame>=me&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var z=this.interpolateValue(me,this._caching);this.pv=z}return this._caching.lastFrame=me,this.pv}function Y(me){var le;if("unidimensional"===this.propType)m(this.v-(le=me*this.mult))>1e-5&&(this.v=le,this._mdf=!0);else for(var W=0,z=this.v.length;W<z;)m(this.v[W]-(le=me[W]*this.mult))>1e-5&&(this.v[W]=le,this._mdf=!0),W+=1}function se(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var me,le=this.effectsSequence.length,W=this.kf?this.pv:this.data.k;for(me=0;me<le;me+=1)W=this.effectsSequence[me](W);this.setVValue(W),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function re(me){this.effectsSequence.push(me),this.container.addDynamicProperty(this)}function fe(me,le,W,z){this.propType="unidimensional",this.mult=W||1,this.data=le,this.v=W?le.k*W:le.k,this.pv=le.k,this._mdf=!1,this.elem=me,this.container=z,this.comp=me.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=se,this.setVValue=Y,this.addEffect=re}function B(me,le,W,z){this.propType="multidimensional",this.mult=W||1,this.data=le,this._mdf=!1,this.elem=me,this.container=z,this.comp=me.comp,this.k=!1,this.kf=!1,this.frameId=-1;var K,ee=le.k.length;for(this.v=createTypedArray("float32",ee),this.pv=createTypedArray("float32",ee),this.vel=createTypedArray("float32",ee),K=0;K<ee;K+=1)this.v[K]=le.k[K]*this.mult,this.pv[K]=le.k[K];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=se,this.setVValue=Y,this.addEffect=re}function j(me,le,W,z){this.propType="unidimensional",this.keyframes=le.k,this.keyframesMetadata=[],this.offsetTime=me.data.st,this.frameId=-1,this._caching={lastFrame:h,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=le,this.mult=W||1,this.elem=me,this.container=z,this.comp=me.comp,this.v=h,this.pv=h,this._isFirstFrame=!0,this.getValue=se,this.setVValue=Y,this.interpolateValue=v,this.effectsSequence=[q.bind(this)],this.addEffect=re}function oe(me,le,W,z){this.propType="multidimensional";var K,_e,ve,Ae,xe,ee=le.k.length;for(K=0;K<ee-1;K+=1)le.k[K].to&&le.k[K].s&&le.k[K+1]&&le.k[K+1].s&&(ve=le.k[K+1].s,Ae=le.k[K].to,xe=le.k[K].ti,(2===(_e=le.k[K].s).length&&!(_e[0]===ve[0]&&_e[1]===ve[1])&&bez.pointOnLine2D(_e[0],_e[1],ve[0],ve[1],_e[0]+Ae[0],_e[1]+Ae[1])&&bez.pointOnLine2D(_e[0],_e[1],ve[0],ve[1],ve[0]+xe[0],ve[1]+xe[1])||3===_e.length&&!(_e[0]===ve[0]&&_e[1]===ve[1]&&_e[2]===ve[2])&&bez.pointOnLine3D(_e[0],_e[1],_e[2],ve[0],ve[1],ve[2],_e[0]+Ae[0],_e[1]+Ae[1],_e[2]+Ae[2])&&bez.pointOnLine3D(_e[0],_e[1],_e[2],ve[0],ve[1],ve[2],ve[0]+xe[0],ve[1]+xe[1],ve[2]+xe[2]))&&(le.k[K].to=null,le.k[K].ti=null),_e[0]===ve[0]&&_e[1]===ve[1]&&0===Ae[0]&&0===Ae[1]&&0===xe[0]&&0===xe[1]&&(2===_e.length||_e[2]===ve[2]&&0===Ae[2]&&0===xe[2])&&(le.k[K].to=null,le.k[K].ti=null));this.effectsSequence=[q.bind(this)],this.data=le,this.keyframes=le.k,this.keyframesMetadata=[],this.offsetTime=me.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=W||1,this.elem=me,this.container=z,this.comp=me.comp,this.getValue=se,this.setVValue=Y,this.interpolateValue=v,this.frameId=-1;var Ge=le.k[0].s.length;for(this.v=createTypedArray("float32",Ge),this.pv=createTypedArray("float32",Ge),K=0;K<Ge;K+=1)this.v[K]=h,this.pv[K]=h;this._caching={lastFrame:h,lastIndex:0,value:createTypedArray("float32",Ge)},this.addEffect=re}return{getProp:function(me,le,W,z,K){var ee;if(le.k.length)if("number"==typeof le.k[0])ee=new B(me,le,z,K);else switch(W){case 0:ee=new j(me,le,z,K);break;case 1:ee=new oe(me,le,z,K)}else ee=new fe(me,le,z,K);return ee.effectsSequence.length&&K.addDynamicProperty(ee),ee}}}(),TransformPropertyFactory=function(){var h=[0,0];function q(se,re,fe){if(this.elem=se,this.frameId=-1,this.propType="transform",this.data=re,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(fe||se),re.p&&re.p.s?(this.px=PropertyFactory.getProp(se,re.p.x,0,0,this),this.py=PropertyFactory.getProp(se,re.p.y,0,0,this),re.p.z&&(this.pz=PropertyFactory.getProp(se,re.p.z,0,0,this))):this.p=PropertyFactory.getProp(se,re.p||{k:[0,0,0]},1,0,this),re.rx){if(this.rx=PropertyFactory.getProp(se,re.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(se,re.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(se,re.rz,0,degToRads,this),re.or.k[0].ti){var B,j=re.or.k.length;for(B=0;B<j;B+=1)re.or.k[B].to=null,re.or.k[B].ti=null}this.or=PropertyFactory.getProp(se,re.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(se,re.r||{k:0},0,degToRads,this);re.sk&&(this.sk=PropertyFactory.getProp(se,re.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(se,re.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(se,re.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(se,re.s||{k:[100,100,100]},1,.01,this),this.o=re.o?PropertyFactory.getProp(se,re.o,0,.01,se):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return q.prototype={applyToMatrix:function(se){var re=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||re,this.a&&se.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&se.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&se.skewFromAxis(-this.sk.v,this.sa.v),this.r?se.rotate(-this.r.v):se.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?se.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):se.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(se){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||se){var re;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var fe,B;if(re=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(fe=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/re,0),B=this.p.getValueAtTime(this.p.keyframes[0].t/re,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(fe=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/re,0),B=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/re,0)):(fe=this.p.pv,B=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/re,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){fe=[],B=[];var j=this.px,oe=this.py;j._caching.lastFrame+j.offsetTime<=j.keyframes[0].t?(fe[0]=j.getValueAtTime((j.keyframes[0].t+.01)/re,0),fe[1]=oe.getValueAtTime((oe.keyframes[0].t+.01)/re,0),B[0]=j.getValueAtTime(j.keyframes[0].t/re,0),B[1]=oe.getValueAtTime(oe.keyframes[0].t/re,0)):j._caching.lastFrame+j.offsetTime>=j.keyframes[j.keyframes.length-1].t?(fe[0]=j.getValueAtTime(j.keyframes[j.keyframes.length-1].t/re,0),fe[1]=oe.getValueAtTime(oe.keyframes[oe.keyframes.length-1].t/re,0),B[0]=j.getValueAtTime((j.keyframes[j.keyframes.length-1].t-.01)/re,0),B[1]=oe.getValueAtTime((oe.keyframes[oe.keyframes.length-1].t-.01)/re,0)):(fe=[j.pv,oe.pv],B[0]=j.getValueAtTime((j._caching.lastFrame+j.offsetTime-.01)/re,j.offsetTime),B[1]=oe.getValueAtTime((oe._caching.lastFrame+oe.offsetTime-.01)/re,oe.offsetTime))}else fe=B=h;this.v.rotate(-Math.atan2(fe[1]-B[1],fe[0]-B[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],q),q.prototype.addDynamicProperty=function(se){this._addDynamicProperty(se),this.elem.addDynamicProperty(se),this._isDirty=!0},q.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(se,re,fe){return new q(se,re,fe)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(h,m){this.c=h,this.setLength(m);for(var v=0;v<m;)this.v[v]=pointPool.newElement(),this.o[v]=pointPool.newElement(),this.i[v]=pointPool.newElement(),v+=1},ShapePath.prototype.setLength=function(h){for(;this._maxLength<h;)this.doubleArrayLength();this._length=h},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(h,m,v,t,C){var S;switch(this._length=Math.max(this._length,t+1),this._length>=this._maxLength&&this.doubleArrayLength(),v){case"v":S=this.v;break;case"i":S=this.i;break;case"o":S=this.o;break;default:S=[]}(!S[t]||S[t]&&!C)&&(S[t]=pointPool.newElement()),S[t][0]=h,S[t][1]=m},ShapePath.prototype.setTripleAt=function(h,m,v,t,C,S,q,Y){this.setXYAt(h,m,"v",q,Y),this.setXYAt(v,t,"o",q,Y),this.setXYAt(C,S,"i",q,Y)},ShapePath.prototype.reverse=function(){var h=new ShapePath;h.setPathData(this.c,this._length);var m=this.v,v=this.o,t=this.i,C=0;this.c&&(h.setTripleAt(m[0][0],m[0][1],t[0][0],t[0][1],v[0][0],v[0][1],0,!1),C=1);var Y,S=this._length-1,q=this._length;for(Y=C;Y<q;Y+=1)h.setTripleAt(m[S][0],m[S][1],t[S][0],t[S][1],v[S][0],v[S][1],Y,!1),S-=1;return h};var ShapePropertyFactory=function(){var h=-999999;function m(le,W,z){var ee,_e,ve,Ae,xe,Ge,k,U,K=z.lastIndex,H=this.keyframes;if(le<H[0].t-this.offsetTime)ee=H[0].s[0],ve=!0,K=0;else if(le>=H[H.length-1].t-this.offsetTime)ee=H[H.length-1].s?H[H.length-1].s[0]:H[H.length-2].e[0],ve=!0;else{for(var J,je,we,Q=K,R=H.length-1,$=!0;$&&(J=H[Q],!((je=H[Q+1]).t-this.offsetTime>le));)Q<R-1?Q+=1:$=!1;if(we=this.keyframesMetadata[Q]||{},K=Q,!(ve=1===J.h)){if(le>=je.t-this.offsetTime)U=1;else if(le<J.t-this.offsetTime)U=0;else{var Ne;we.__fnct?Ne=we.__fnct:(Ne=BezierFactory.getBezierEasing(J.o.x,J.o.y,J.i.x,J.i.y).get,we.__fnct=Ne),U=Ne((le-(J.t-this.offsetTime))/(je.t-this.offsetTime-(J.t-this.offsetTime)))}_e=je.s?je.s[0]:J.e[0]}ee=J.s[0]}for(Ge=W._length,k=ee.i[0].length,z.lastIndex=K,Ae=0;Ae<Ge;Ae+=1)for(xe=0;xe<k;xe+=1)W.i[Ae][xe]=ve?ee.i[Ae][xe]:ee.i[Ae][xe]+(_e.i[Ae][xe]-ee.i[Ae][xe])*U,W.o[Ae][xe]=ve?ee.o[Ae][xe]:ee.o[Ae][xe]+(_e.o[Ae][xe]-ee.o[Ae][xe])*U,W.v[Ae][xe]=ve?ee.v[Ae][xe]:ee.v[Ae][xe]+(_e.v[Ae][xe]-ee.v[Ae][xe])*U}function v(){var le=this.comp.renderedFrame-this.offsetTime,W=this.keyframes[0].t-this.offsetTime,z=this.keyframes[this.keyframes.length-1].t-this.offsetTime,K=this._caching.lastFrame;return K!==h&&(K<W&&le<W||K>z&&le>z)||(this._caching.lastIndex=K<le?this._caching.lastIndex:0,this.interpolateShape(le,this.pv,this._caching)),this._caching.lastFrame=le,this.pv}function t(){this.paths=this.localShapeCollection}function S(le){(function(le,W){if(le._length!==W._length||le.c!==W.c)return!1;var z,K=le._length;for(z=0;z<K;z+=1)if(le.v[z][0]!==W.v[z][0]||le.v[z][1]!==W.v[z][1]||le.o[z][0]!==W.o[z][0]||le.o[z][1]!==W.o[z][1]||le.i[z][0]!==W.i[z][0]||le.i[z][1]!==W.i[z][1])return!1;return!0})(this.v,le)||(this.v=shapePool.clone(le),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function q(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var le;this.lock=!0,this._mdf=!1,le=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var W,z=this.effectsSequence.length;for(W=0;W<z;W+=1)le=this.effectsSequence[W](le);this.setVValue(le),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Y(le,W,z){this.propType="shape",this.comp=le.comp,this.container=le,this.elem=le,this.data=W,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===z?W.pt.k:W.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=t,this.effectsSequence=[]}function se(le){this.effectsSequence.push(le),this.container.addDynamicProperty(this)}function re(le,W,z){this.propType="shape",this.comp=le.comp,this.elem=le,this.container=le,this.offsetTime=le.data.st,this.keyframes=3===z?W.pt.k:W.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var K=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,K),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=h,this.reset=t,this._caching={lastFrame:h,lastIndex:0},this.effectsSequence=[v.bind(this)]}Y.prototype.interpolateShape=m,Y.prototype.getValue=q,Y.prototype.setVValue=S,Y.prototype.addEffect=se,re.prototype.getValue=q,re.prototype.interpolateShape=m,re.prototype.setVValue=S,re.prototype.addEffect=se;var fe=function(){var le=roundCorner;function W(z,K){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=K.d,this.elem=z,this.comp=z.comp,this.frameId=-1,this.initDynamicPropertyContainer(z),this.p=PropertyFactory.getProp(z,K.p,1,0,this),this.s=PropertyFactory.getProp(z,K.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return W.prototype={reset:t,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var z=this.p.v[0],K=this.p.v[1],ee=this.s.v[0]/2,_e=this.s.v[1]/2,ve=3!==this.d,Ae=this.v;Ae.v[0][0]=z,Ae.v[0][1]=K-_e,Ae.v[1][0]=ve?z+ee:z-ee,Ae.v[1][1]=K,Ae.v[2][0]=z,Ae.v[2][1]=K+_e,Ae.v[3][0]=ve?z-ee:z+ee,Ae.v[3][1]=K,Ae.i[0][0]=ve?z-ee*le:z+ee*le,Ae.i[0][1]=K-_e,Ae.i[1][0]=ve?z+ee:z-ee,Ae.i[1][1]=K-_e*le,Ae.i[2][0]=ve?z+ee*le:z-ee*le,Ae.i[2][1]=K+_e,Ae.i[3][0]=ve?z-ee:z+ee,Ae.i[3][1]=K+_e*le,Ae.o[0][0]=ve?z+ee*le:z-ee*le,Ae.o[0][1]=K-_e,Ae.o[1][0]=ve?z+ee:z-ee,Ae.o[1][1]=K+_e*le,Ae.o[2][0]=ve?z-ee*le:z+ee*le,Ae.o[2][1]=K+_e,Ae.o[3][0]=ve?z-ee:z+ee,Ae.o[3][1]=K-_e*le}},extendPrototype([DynamicPropertyContainer],W),W}(),B=function(){function le(W,z){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=W,this.comp=W.comp,this.data=z,this.frameId=-1,this.d=z.d,this.initDynamicPropertyContainer(W),1===z.sy?(this.ir=PropertyFactory.getProp(W,z.ir,0,0,this),this.is=PropertyFactory.getProp(W,z.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(W,z.pt,0,0,this),this.p=PropertyFactory.getProp(W,z.p,1,0,this),this.r=PropertyFactory.getProp(W,z.r,0,degToRads,this),this.or=PropertyFactory.getProp(W,z.or,0,0,this),this.os=PropertyFactory.getProp(W,z.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return le.prototype={reset:t,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var k,U,O,H,W=2*Math.floor(this.pt.v),z=2*Math.PI/W,K=!0,ee=this.or.v,_e=this.ir.v,ve=this.os.v,Ae=this.is.v,xe=2*Math.PI*ee/(2*W),Ge=2*Math.PI*_e/(2*W),Q=-Math.PI/2;Q+=this.r.v;var R=3===this.data.d?-1:1;for(this.v._length=0,k=0;k<W;k+=1){O=K?ve:Ae,H=K?xe:Ge;var $=(U=K?ee:_e)*Math.cos(Q),J=U*Math.sin(Q),je=0===$&&0===J?0:J/Math.sqrt($*$+J*J),we=0===$&&0===J?0:-$/Math.sqrt($*$+J*J);this.v.setTripleAt($+=+this.p.v[0],J+=+this.p.v[1],$-je*H*O*R,J-we*H*O*R,$+je*H*O*R,J+we*H*O*R,k,!0),K=!K,Q+=z*R}},convertPolygonToPath:function(){var ve,W=Math.floor(this.pt.v),z=2*Math.PI/W,K=this.or.v,ee=this.os.v,_e=2*Math.PI*K/(4*W),Ae=.5*-Math.PI,xe=3===this.data.d?-1:1;for(Ae+=this.r.v,this.v._length=0,ve=0;ve<W;ve+=1){var Ge=K*Math.cos(Ae),k=K*Math.sin(Ae),U=0===Ge&&0===k?0:k/Math.sqrt(Ge*Ge+k*k),O=0===Ge&&0===k?0:-Ge/Math.sqrt(Ge*Ge+k*k);this.v.setTripleAt(Ge+=+this.p.v[0],k+=+this.p.v[1],Ge-U*_e*ee*xe,k-O*_e*ee*xe,Ge+U*_e*ee*xe,k+O*_e*ee*xe,ve,!0),Ae+=z*xe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],le),le}(),j=function(){function le(W,z){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=W,this.comp=W.comp,this.frameId=-1,this.d=z.d,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,z.p,1,0,this),this.s=PropertyFactory.getProp(W,z.s,1,0,this),this.r=PropertyFactory.getProp(W,z.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return le.prototype={convertRectToPath:function(){var W=this.p.v[0],z=this.p.v[1],K=this.s.v[0]/2,ee=this.s.v[1]/2,_e=bmMin(K,ee,this.r.v),ve=_e*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(W+K,z-ee+_e,W+K,z-ee+_e,W+K,z-ee+ve,0,!0),this.v.setTripleAt(W+K,z+ee-_e,W+K,z+ee-ve,W+K,z+ee-_e,1,!0),0!==_e?(this.v.setTripleAt(W+K-_e,z+ee,W+K-_e,z+ee,W+K-ve,z+ee,2,!0),this.v.setTripleAt(W-K+_e,z+ee,W-K+ve,z+ee,W-K+_e,z+ee,3,!0),this.v.setTripleAt(W-K,z+ee-_e,W-K,z+ee-_e,W-K,z+ee-ve,4,!0),this.v.setTripleAt(W-K,z-ee+_e,W-K,z-ee+ve,W-K,z-ee+_e,5,!0),this.v.setTripleAt(W-K+_e,z-ee,W-K+_e,z-ee,W-K+ve,z-ee,6,!0),this.v.setTripleAt(W+K-_e,z-ee,W+K-ve,z-ee,W+K-_e,z-ee,7,!0)):(this.v.setTripleAt(W-K,z+ee,W-K+ve,z+ee,W-K,z+ee,2),this.v.setTripleAt(W-K,z-ee,W-K,z-ee+ve,W-K,z-ee,3))):(this.v.setTripleAt(W+K,z-ee+_e,W+K,z-ee+ve,W+K,z-ee+_e,0,!0),0!==_e?(this.v.setTripleAt(W+K-_e,z-ee,W+K-_e,z-ee,W+K-ve,z-ee,1,!0),this.v.setTripleAt(W-K+_e,z-ee,W-K+ve,z-ee,W-K+_e,z-ee,2,!0),this.v.setTripleAt(W-K,z-ee+_e,W-K,z-ee+_e,W-K,z-ee+ve,3,!0),this.v.setTripleAt(W-K,z+ee-_e,W-K,z+ee-ve,W-K,z+ee-_e,4,!0),this.v.setTripleAt(W-K+_e,z+ee,W-K+_e,z+ee,W-K+ve,z+ee,5,!0),this.v.setTripleAt(W+K-_e,z+ee,W+K-ve,z+ee,W+K-_e,z+ee,6,!0),this.v.setTripleAt(W+K,z+ee-_e,W+K,z+ee-_e,W+K,z+ee-ve,7,!0)):(this.v.setTripleAt(W-K,z-ee,W-K+ve,z-ee,W-K,z-ee,1,!0),this.v.setTripleAt(W-K,z+ee,W-K,z+ee-ve,W-K,z+ee,2,!0),this.v.setTripleAt(W+K,z+ee,W+K-ve,z+ee,W+K,z+ee,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:t},extendPrototype([DynamicPropertyContainer],le),le}();return{getShapeProp:function(le,W,z){var K;return 3===z||4===z?K=(3===z?W.pt:W.ks).k.length?new re(le,W,z):new Y(le,W,z):5===z?K=new j(le,W):6===z?K=new fe(le,W):7===z&&(K=new B(le,W)),K.k&&le.addDynamicProperty(K),K},getConstructorFunction:function(){return Y},getKeyframedConstructorFunction:function(){return re}}}(),ShapeModifiers=function(){var h={},m={};return h.registerModifier=function(C,S){m[C]||(m[C]=S)},h.getModifier=function(C,S,q){return new m[C](S,q)},h}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(h,m,v,t){this.elem=h,this.frameId=-1,this.dataProps=createSizedArray(m.length),this.renderer=v,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",m.length?m.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(t);var C,q,S=m.length||0;for(C=0;C<S;C+=1)q=PropertyFactory.getProp(h,m[C].v,0,0,this),this.k=q.k||this.k,this.dataProps[C]={n:m[C].n,p:q};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(h,m,v){this.data=m,this.c=createTypedArray("uint8c",4*m.p);var t=m.k.k[0].s?m.k.k[0].s.length-4*m.p:m.k.k.length-4*m.p;this.o=createTypedArray("float32",t),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=t,this.initDynamicPropertyContainer(v),this.prop=PropertyFactory.getProp(h,m.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(h){if(!this.closed){h.sh.container.addDynamicProperty(h.sh);var m={shape:h.sh,data:h,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(m),this.addShapeToModifier(m),this._isAnimated&&h.setAsAnimated()}},ShapeModifier.prototype.init=function(h,m){this.shapes=[],this.elem=h,this.initDynamicPropertyContainer(h),this.initModifierProperties(h,m),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(h,m){this.s=PropertyFactory.getProp(h,m.s,0,.01,this),this.e=PropertyFactory.getProp(h,m.e,0,.01,this),this.o=PropertyFactory.getProp(h,m.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=m.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(h){h.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(h,m,v,t,C){var S=[];m<=1?S.push({s:h,e:m}):h>=1?S.push({s:h-1,e:m-1}):(S.push({s:h,e:1}),S.push({s:0,e:m-1}));var Y,re,q=[],se=S.length;for(Y=0;Y<se;Y+=1)(re=S[Y]).e*C<t||re.s*C>t+v||q.push([re.s*C<=t?0:(re.s*C-t)/v,re.e*C>=t+v?1:(re.e*C-t)/v]);return q.length||q.push([0,0]),q},TrimModifier.prototype.releasePathsData=function(h){var m,v=h.length;for(m=0;m<v;m+=1)segmentsLengthPool.release(h[m]);return h.length=0,h},TrimModifier.prototype.processShapes=function(h){var m,v;if(this._mdf||h){var t=this.o.v%360/360;if(t<0&&(t+=1),(m=this.s.v>1?1+t:this.s.v<0?0+t:this.s.v+t)>(v=this.e.v>1?1+t:this.e.v<0?0+t:this.e.v+t)){var C=m;m=v,v=C}m=1e-4*Math.round(1e4*m),v=1e-4*Math.round(1e4*v),this.sValue=m,this.eValue=v}else m=this.sValue,v=this.eValue;var S,q,se,re,fe,B,j,Y=this.shapes.length,oe=0;if(v===m)for(q=0;q<Y;q+=1)this.shapes[q].localShapeCollection.releaseShapes(),this.shapes[q].shape._mdf=!0,this.shapes[q].shape.paths=this.shapes[q].localShapeCollection,this._mdf&&(this.shapes[q].pathsData.length=0);else if(1===v&&0===m||0===v&&1===m){if(this._mdf)for(q=0;q<Y;q+=1)this.shapes[q].pathsData.length=0,this.shapes[q].shape._mdf=!0}else{var te,me,X=[];for(q=0;q<Y;q+=1)if((te=this.shapes[q]).shape._mdf||this._mdf||h||2===this.m){if(re=(S=te.shape.paths)._length,j=0,!te.shape._mdf&&te.pathsData.length)j=te.totalShapeLength;else{for(fe=this.releasePathsData(te.pathsData),se=0;se<re;se+=1)B=bez.getSegmentsLength(S.shapes[se]),fe.push(B),j+=B.totalLength;te.totalShapeLength=j,te.pathsData=fe}oe+=j,te.shape._mdf=!0}else te.shape.paths=te.localShapeCollection;var K,le=m,W=v,z=0;for(q=Y-1;q>=0;q-=1)if((te=this.shapes[q]).shape._mdf){for((me=te.localShapeCollection).releaseShapes(),2===this.m&&Y>1?(K=this.calculateShapeEdges(m,v,te.totalShapeLength,z,oe),z+=te.totalShapeLength):K=[[le,W]],re=K.length,se=0;se<re;se+=1){le=K[se][0],W=K[se][1],X.length=0,W<=1?X.push({s:te.totalShapeLength*le,e:te.totalShapeLength*W}):le>=1?X.push({s:te.totalShapeLength*(le-1),e:te.totalShapeLength*(W-1)}):(X.push({s:te.totalShapeLength*le,e:te.totalShapeLength}),X.push({s:0,e:te.totalShapeLength*(W-1)}));var ee=this.addShapes(te,X[0]);if(X[0].s!==X[0].e){if(X.length>1)if(te.shape.paths.shapes[te.shape.paths._length-1].c){var ve=ee.pop();this.addPaths(ee,me),ee=this.addShapes(te,X[1],ve)}else this.addPaths(ee,me),ee=this.addShapes(te,X[1]);this.addPaths(ee,me)}}te.shape.paths=me}}},TrimModifier.prototype.addPaths=function(h,m){var v,t=h.length;for(v=0;v<t;v+=1)m.addShape(h[v])},TrimModifier.prototype.addSegment=function(h,m,v,t,C,S,q){C.setXYAt(m[0],m[1],"o",S),C.setXYAt(v[0],v[1],"i",S+1),q&&C.setXYAt(h[0],h[1],"v",S),C.setXYAt(t[0],t[1],"v",S+1)},TrimModifier.prototype.addSegmentFromArray=function(h,m,v,t){m.setXYAt(h[1],h[5],"o",v),m.setXYAt(h[2],h[6],"i",v+1),t&&m.setXYAt(h[0],h[4],"v",v),m.setXYAt(h[3],h[7],"v",v+1)},TrimModifier.prototype.addShapes=function(h,m,v){var S,Y,se,fe,B,j,oe,te,t=h.pathsData,C=h.shape.paths.shapes,q=h.shape.paths._length,re=0,X=[],me=!0;for(v?(B=v._length,te=v._length):(v=shapePool.newElement(),B=0,te=0),X.push(v),S=0;S<q;S+=1){for(j=t[S].lengths,v.c=C[S].c,se=C[S].c?j.length:j.length+1,Y=1;Y<se;Y+=1)if(re+(fe=j[Y-1]).addedLength<m.s)re+=fe.addedLength,v.c=!1;else{if(re>m.e){v.c=!1;break}m.s<=re&&m.e>=re+fe.addedLength?(this.addSegment(C[S].v[Y-1],C[S].o[Y-1],C[S].i[Y],C[S].v[Y],v,B,me),me=!1):(oe=bez.getNewSegment(C[S].v[Y-1],C[S].v[Y],C[S].o[Y-1],C[S].i[Y],(m.s-re)/fe.addedLength,(m.e-re)/fe.addedLength,j[Y-1]),this.addSegmentFromArray(oe,v,B,me),me=!1,v.c=!1),re+=fe.addedLength,B+=1}if(C[S].c&&j.length){if(fe=j[Y-1],re<=m.e){var le=j[Y-1].addedLength;m.s<=re&&m.e>=re+le?(this.addSegment(C[S].v[Y-1],C[S].o[Y-1],C[S].i[0],C[S].v[0],v,B,me),me=!1):(oe=bez.getNewSegment(C[S].v[Y-1],C[S].v[0],C[S].o[Y-1],C[S].i[0],(m.s-re)/le,(m.e-re)/le,j[Y-1]),this.addSegmentFromArray(oe,v,B,me),me=!1,v.c=!1)}else v.c=!1;re+=fe.addedLength,B+=1}if(v._length&&(v.setXYAt(v.v[te][0],v.v[te][1],"i",te),v.setXYAt(v.v[v._length-1][0],v.v[v._length-1][1],"o",v._length-1)),re>m.e)break;S<q-1&&(v=shapePool.newElement(),me=!0,X.push(v),B=0)}return X},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(h,m){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(h,m.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(h,m){var v=shapePool.newElement();v.c=h.c;var t,S,q,Y,se,re,fe,j,oe,X,te,me,le,C=h._length,B=0;for(t=0;t<C;t+=1)q=h.i[t],(S=h.v[t])[0]===(Y=h.o[t])[0]&&S[1]===Y[1]&&S[0]===q[0]&&S[1]===q[1]?0!==t&&t!==C-1||h.c?(se=0===t?h.v[C-1]:h.v[t-1],fe=(re=Math.sqrt(Math.pow(S[0]-se[0],2)+Math.pow(S[1]-se[1],2)))?Math.min(re/2,m)/re:0,v.setTripleAt(j=me=S[0]+(se[0]-S[0])*fe,oe=le=S[1]-(S[1]-se[1])*fe,j-(j-S[0])*roundCorner,oe-(oe-S[1])*roundCorner,me,le,B),B+=1,se=t===C-1?h.v[0]:h.v[t+1],fe=(re=Math.sqrt(Math.pow(S[0]-se[0],2)+Math.pow(S[1]-se[1],2)))?Math.min(re/2,m)/re:0,v.setTripleAt(j=X=S[0]+(se[0]-S[0])*fe,oe=te=S[1]+(se[1]-S[1])*fe,X,te,me=j-(j-S[0])*roundCorner,le=oe-(oe-S[1])*roundCorner,B),B+=1):(v.setTripleAt(S[0],S[1],Y[0],Y[1],q[0],q[1],B),B+=1):(v.setTripleAt(h.v[t][0],h.v[t][1],h.o[t][0],h.o[t][1],h.i[t][0],h.i[t][1],B),B+=1);return v},RoundCornersModifier.prototype.processShapes=function(h){var m,v,C,S,Y,se,t=this.shapes.length,q=this.rd.v;if(0!==q)for(v=0;v<t;v+=1){if(se=(Y=this.shapes[v]).localShapeCollection,Y.shape._mdf||this._mdf||h)for(se.releaseShapes(),Y.shape._mdf=!0,m=Y.shape.paths.shapes,S=Y.shape.paths._length,C=0;C<S;C+=1)se.addShape(this.processPath(m[C],q));Y.shape.paths=Y.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(h,m){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(h,m.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(h,m){var v=m/100,t=[0,0],C=h._length,S=0;for(S=0;S<C;S+=1)t[0]+=h.v[S][0],t[1]+=h.v[S][1];t[0]/=C,t[1]/=C;var q=shapePool.newElement();for(q.c=h.c,S=0;S<C;S+=1)q.setTripleAt(h.v[S][0]+(t[0]-h.v[S][0])*v,h.v[S][1]+(t[1]-h.v[S][1])*v,h.o[S][0]+(t[0]-h.o[S][0])*-v,h.o[S][1]+(t[1]-h.o[S][1])*-v,h.i[S][0]+(t[0]-h.i[S][0])*-v,h.i[S][1]+(t[1]-h.i[S][1])*-v,S);return q},PuckerAndBloatModifier.prototype.processShapes=function(h){var m,v,C,S,Y,se,t=this.shapes.length,q=this.amount.v;if(0!==q)for(v=0;v<t;v+=1){if(se=(Y=this.shapes[v]).localShapeCollection,Y.shape._mdf||this._mdf||h)for(se.releaseShapes(),Y.shape._mdf=!0,m=Y.shape.paths.shapes,S=Y.shape.paths._length,C=0;C<S;C+=1)se.addShape(this.processPath(m[C],q));Y.shape.paths=Y.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(h,m){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(h,m.c,0,null,this),this.o=PropertyFactory.getProp(h,m.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(h,m.tr,this),this.so=PropertyFactory.getProp(h,m.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(h,m.tr.eo,0,.01,this),this.data=m,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(h,m,v,t,C,S){var q=S?-1:1,Y=t.s.v[0]+(1-t.s.v[0])*(1-C),se=t.s.v[1]+(1-t.s.v[1])*(1-C);h.translate(t.p.v[0]*q*C,t.p.v[1]*q*C,t.p.v[2]),m.translate(-t.a.v[0],-t.a.v[1],t.a.v[2]),m.rotate(-t.r.v*q*C),m.translate(t.a.v[0],t.a.v[1],t.a.v[2]),v.translate(-t.a.v[0],-t.a.v[1],t.a.v[2]),v.scale(S?1/Y:Y,S?1/se:se),v.translate(t.a.v[0],t.a.v[1],t.a.v[2])},RepeaterModifier.prototype.init=function(h,m,v,t){for(this.elem=h,this.arr=m,this.pos=v,this.elemsData=t,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(h),this.initModifierProperties(h,m[v]);v>0;)this._elements.unshift(m[v-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(h){var m,v=h.length;for(m=0;m<v;m+=1)h[m]._processed=!1,"gr"===h[m].ty&&this.resetElements(h[m].it)},RepeaterModifier.prototype.cloneElements=function(h){var m=JSON.parse(JSON.stringify(h));return this.resetElements(m),m},RepeaterModifier.prototype.changeGroupRender=function(h,m){var v,t=h.length;for(v=0;v<t;v+=1)h[v]._render=m,"gr"===h[v].ty&&this.changeGroupRender(h[v].it,m)},RepeaterModifier.prototype.processShapes=function(h){var m,v,t,C,S,q=!1;if(this._mdf||h){var re,Y=Math.ceil(this.c.v);if(this._groups.length<Y){for(;this._groups.length<Y;){var se={it:this.cloneElements(this._elements),ty:"gr"};se.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,se),this._groups.splice(0,0,se),this._currentCopies+=1}this.elem.reloadShapes(),q=!0}for(S=0,t=0;t<=this._groups.length-1;t+=1){if(this._groups[t]._render=re=S<Y,this.changeGroupRender(this._groups[t].it,re),!re){var fe=this.elemsData[t].it,B=fe[fe.length-1];0!==B.transform.op.v?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}S+=1}this._currentCopies=Y;var j=this.o.v,oe=j%1,X=j>0?Math.floor(j):Math.ceil(j),te=this.pMatrix.props,me=this.rMatrix.props,le=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var z,K,W=0;if(j>0){for(;W<X;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),W+=1;oe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,oe,!1),W+=oe)}else if(j<0){for(;W>X;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),W-=1;oe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-oe,!0),W-=oe)}for(t=1===this.data.m?0:this._currentCopies-1,C=1===this.data.m?1:-1,S=this._currentCopies;S;){if(K=(v=(m=this.elemsData[t].it)[m.length-1].transform.mProps.v.props).length,m[m.length-1].transform.mProps._mdf=!0,m[m.length-1].transform.op._mdf=!0,m[m.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+t/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==W){for((0!==t&&1===C||t!==this._currentCopies-1&&-1===C)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(me[0],me[1],me[2],me[3],me[4],me[5],me[6],me[7],me[8],me[9],me[10],me[11],me[12],me[13],me[14],me[15]),this.matrix.transform(le[0],le[1],le[2],le[3],le[4],le[5],le[6],le[7],le[8],le[9],le[10],le[11],le[12],le[13],le[14],le[15]),this.matrix.transform(te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],te[8],te[9],te[10],te[11],te[12],te[13],te[14],te[15]),z=0;z<K;z+=1)v[z]=this.matrix.props[z];this.matrix.reset()}else for(this.matrix.reset(),z=0;z<K;z+=1)v[z]=this.matrix.props[z];W+=1,S-=1,t+=C}}else for(S=this._currentCopies,t=0,C=1;S;)v=(m=this.elemsData[t].it)[m.length-1].transform.mProps.v.props,m[m.length-1].transform.mProps._mdf=!1,m[m.length-1].transform.op._mdf=!1,S-=1,t+=C;return q},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(h){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=h,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var h;for(h=0;h<this._length;h+=1)shapePool.release(this.shapes[h]);this._length=0},DashProperty.prototype.getValue=function(h){if((this.elem.globalData.frameId!==this.frameId||h)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||h,this._mdf)){var m=0,v=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),m=0;m<v;m+=1)"o"!==this.dataProps[m].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[m].p.v:this.dashArray[m]=this.dataProps[m].p.v:this.dashoffset[0]=this.dataProps[m].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(h,m){for(var v=0,t=this.o.length/2;v<t;){if(Math.abs(h[4*v]-h[4*m+2*v])>.01)return!1;v+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var h=0,m=this.data.k.k.length;h<m;){if(!this.comparePoints(this.data.k.k[h].s,this.data.p))return!1;h+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(h){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||h){var m,t,C,v=4*this.data.p;for(m=0;m<v;m+=1)t=m%4==0?100:255,C=Math.round(this.prop.v[m]*t),this.c[m]!==C&&(this.c[m]=C,this._cmdf=!h);if(this.o.length)for(v=this.prop.v.length,m=4*this.data.p;m<v;m+=1)t=m%2==0?100:1,C=m%2==0?Math.round(100*this.prop.v[m]):this.prop.v[m],this.o[m-4*this.data.p]!==C&&(this.o[m-4*this.data.p]=C,this._omdf=!h);this._mdf=!h}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(h,m,v,t){if(0===m)return"";var Y,C=h.o,S=h.i,q=h.v,se=" M"+t.applyToPointStringified(q[0][0],q[0][1]);for(Y=1;Y<m;Y+=1)se+=" C"+t.applyToPointStringified(C[Y-1][0],C[Y-1][1])+" "+t.applyToPointStringified(S[Y][0],S[Y][1])+" "+t.applyToPointStringified(q[Y][0],q[Y][1]);return v&&m&&(se+=" C"+t.applyToPointStringified(C[Y-1][0],C[Y-1][1])+" "+t.applyToPointStringified(S[0][0],S[0][1])+" "+t.applyToPointStringified(q[0][0],q[0][1]),se+="z"),se},audioControllerFactory=function(){function h(m){this.audios=[],this.audioFactory=m,this._volume=1,this._isMuted=!1}return h.prototype={addAudio:function(m){this.audios.push(m)},pause:function(){var m,v=this.audios.length;for(m=0;m<v;m+=1)this.audios[m].pause()},resume:function(){var m,v=this.audios.length;for(m=0;m<v;m+=1)this.audios[m].resume()},setRate:function(m){var v,t=this.audios.length;for(v=0;v<t;v+=1)this.audios[v].setRate(m)},createAudio:function(m){return this.audioFactory?this.audioFactory(m):Howl?new Howl({src:[m]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(m){this.audioFactory=m},setVolume:function(m){this._volume=m,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var m,v=this.audios.length;for(m=0;m<v;m+=1)this.audios[m].volume(this._volume*(this._isMuted?0:1))}},function(){return new h}}(),ImagePreloader=function(){var h=function(){var le=createTag("canvas");le.width=1,le.height=1;var W=le.getContext("2d");return W.fillStyle="rgba(0,0,0,0)",W.fillRect(0,0,1,1),le}();function m(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function v(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function t(le,W,z){var K="";if(le.e)K=le.p;else if(W){var ee=le.p;-1!==ee.indexOf("images/")&&(ee=ee.split("/")[1]),K=W+ee}else K=z,K+=le.u?le.u:"",K+=le.p;return K}function C(le){var W=0,z=setInterval(function(){(le.getBBox().width||W>500)&&(this._imageLoaded(),clearInterval(z)),W+=1}.bind(this),50)}function Y(le){var W={assetData:le},z=t(le,this.assetsPath,this.path);return dataManager.loadData(z,function(K){W.img=K,this._footageLoaded()}.bind(this),function(){W.img={},this._footageLoaded()}.bind(this)),W}function me(){this._imageLoaded=m.bind(this),this._footageLoaded=v.bind(this),this.testImageLoaded=C.bind(this),this.createFootageData=Y.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return me.prototype={loadAssets:function(le,W){this.imagesLoadedCb=W;var z,K=le.length;for(z=0;z<K;z+=1)le[z].layers||(le[z].t&&"seq"!==le[z].t?3===le[z].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(le[z]))):(this.totalImages+=1,this.images.push(this._createImageData(le[z]))))},setAssetsPath:function(le){this.assetsPath=le||""},setPath:function(le){this.path=le||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(le){for(var W=0,z=this.images.length;W<z;){if(this.images[W].assetData===le)return this.images[W].img;W+=1}return null},createImgData:function(le){var W=t(le,this.assetsPath,this.path),z=createTag("img");z.crossOrigin="anonymous",z.addEventListener("load",this._imageLoaded,!1),z.addEventListener("error",function(){K.img=h,this._imageLoaded()}.bind(this),!1),z.src=W;var K={img:z,assetData:le};return K},createImageData:function(le){var W=t(le,this.assetsPath,this.path),z=createNS("image");isSafari?this.testImageLoaded(z):z.addEventListener("load",this._imageLoaded,!1),z.addEventListener("error",function(){K.img=h,this._imageLoaded()}.bind(this),!1),z.setAttributeNS("http://www.w3.org/1999/xlink","href",W),this._elementHelper.append?this._elementHelper.append(z):this._elementHelper.appendChild(z);var K={img:z,assetData:le};return K},imageLoaded:m,footageLoaded:v,setCacheType:function(le,W){"svg"===le?(this._elementHelper=W,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},me}(),featureSupport=function(){var h={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(h.maskType=!1),h}(),filtersFactory=function(){var h={createFilter:function(t,C){var S=createNS("filter");return S.setAttribute("id",t),!0!==C&&(S.setAttribute("filterUnits","objectBoundingBox"),S.setAttribute("x","0%"),S.setAttribute("y","0%"),S.setAttribute("width","100%"),S.setAttribute("height","100%")),S},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return h}();function TextAnimatorProperty(h,m,v){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=h,this._renderType=m,this._elem=v,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(v)}function TextAnimatorDataProperty(h,m,v){var t={propType:!1},C=PropertyFactory.getProp,S=m.a;this.a={r:S.r?C(h,S.r,0,degToRads,v):t,rx:S.rx?C(h,S.rx,0,degToRads,v):t,ry:S.ry?C(h,S.ry,0,degToRads,v):t,sk:S.sk?C(h,S.sk,0,degToRads,v):t,sa:S.sa?C(h,S.sa,0,degToRads,v):t,s:S.s?C(h,S.s,1,.01,v):t,a:S.a?C(h,S.a,1,0,v):t,o:S.o?C(h,S.o,0,.01,v):t,p:S.p?C(h,S.p,1,0,v):t,sw:S.sw?C(h,S.sw,0,0,v):t,sc:S.sc?C(h,S.sc,1,0,v):t,fc:S.fc?C(h,S.fc,1,0,v):t,fh:S.fh?C(h,S.fh,0,0,v):t,fs:S.fs?C(h,S.fs,0,.01,v):t,fb:S.fb?C(h,S.fb,0,.01,v):t,t:S.t?C(h,S.t,0,0,v):t},this.s=TextSelectorProp.getTextSelectorProp(h,m.s,v),this.s.t=m.s.t}function LetterProps(h,m,v,t,C,S){this.o=h,this.sw=m,this.sc=v,this.fc=t,this.m=C,this.p=S,this._mdf={o:!0,sw:!!m,sc:!!v,fc:!!t,m:!0,p:!0}}function TextProperty(h,m){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=m,this.elem=h,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var h,m=this._textData.a.length,t=PropertyFactory.getProp;for(h=0;h<m;h+=1)this._animatorsData[h]=new TextAnimatorDataProperty(this._elem,this._textData.a[h],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:t(this._elem,this._textData.p.a,0,0,this),f:t(this._elem,this._textData.p.f,0,0,this),l:t(this._elem,this._textData.p.l,0,0,this),r:t(this._elem,this._textData.p.r,0,0,this),p:t(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=t(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(h,m){if(this.lettersChangedFlag=m,this._mdf||this._isFirstFrame||m||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var se,re,fe,B,oe,X,te,me,le,W,z,K,ee,_e,ve,Ae,xe,k,v=this._moreOptions.alignment.v,t=this._animatorsData,C=this._textData,S=this.mHelper,q=this._renderType,Y=this.renderedLetters.length,j=h.l;if(this._hasMaskedPath){if(k=this._pathData.m,!this._pathData.n||this._pathData._mdf){var O,U=k.v;for(this._pathData.r.v&&(U=U.reverse()),oe={tLength:0,segments:[]},B=U._length-1,Ae=0,fe=0;fe<B;fe+=1)O=bez.buildBezierData(U.v[fe],U.v[fe+1],[U.o[fe][0]-U.v[fe][0],U.o[fe][1]-U.v[fe][1]],[U.i[fe+1][0]-U.v[fe+1][0],U.i[fe+1][1]-U.v[fe+1][1]]),oe.tLength+=O.segmentLength,oe.segments.push(O),Ae+=O.segmentLength;fe=B,k.v.c&&(O=bez.buildBezierData(U.v[fe],U.v[0],[U.o[fe][0]-U.v[fe][0],U.o[fe][1]-U.v[fe][1]],[U.i[0][0]-U.v[0][0],U.i[0][1]-U.v[0][1]]),oe.tLength+=O.segmentLength,oe.segments.push(O),Ae+=O.segmentLength),this._pathData.pi=oe}if(z=0,W=1,me=0,le=!0,_e=(oe=this._pathData.pi).segments,(X=this._pathData.f.v)<0&&k.v.c)for(oe.tLength<Math.abs(X)&&(X=-Math.abs(X)%oe.tLength),W=(ee=_e[z=_e.length-1].points).length-1;X<0;)X+=ee[W].partialLength,(W-=1)<0&&(W=(ee=_e[z-=1].points).length-1);K=(ee=_e[z].points)[W-1],ve=(te=ee[W]).partialLength}B=j.length,se=0,re=0;var R,J,je,we,H=1.2*h.finalSize*.714,Q=!0;je=t.length;var Ne,qe,$e,lt,rn,St,qn,un,mn,tn,Cn,Nn,yn,ut=-1,Pt=X,nn=z,Ft=W,pn=-1,on="",zn=this.defaultPropsArray;if(2===h.j||1===h.j){var Hn=0,ir=0,or=2===h.j?-.5:-1,dr=0,hr=!0;for(fe=0;fe<B;fe+=1)if(j[fe].n){for(Hn&&(Hn+=ir);dr<fe;)j[dr].animatorJustifyOffset=Hn,dr+=1;Hn=0,hr=!0}else{for(J=0;J<je;J+=1)(R=t[J].a).t.propType&&(hr&&2===h.j&&(ir+=R.t.v*or),Hn+=(Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars)).length?R.t.v*Ne[0]*or:R.t.v*Ne*or);hr=!1}for(Hn&&(Hn+=ir);dr<fe;)j[dr].animatorJustifyOffset=Hn,dr+=1}for(fe=0;fe<B;fe+=1){if(S.reset(),rn=1,j[fe].n)se=0,re+=h.yOffset,re+=Q?1:0,X=Pt,Q=!1,this._hasMaskedPath&&(K=(ee=_e[z=nn].points)[(W=Ft)-1],ve=(te=ee[W]).partialLength,me=0),on="",Nn="",tn="",yn="",zn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(pn!==j[fe].line){switch(h.j){case 1:X+=Ae-h.lineWidths[j[fe].line];break;case 2:X+=(Ae-h.lineWidths[j[fe].line])/2}pn=j[fe].line}ut!==j[fe].ind&&(j[ut]&&(X+=j[ut].extra),X+=j[fe].an/2,ut=j[fe].ind),X+=v[0]*j[fe].an*.005;var Gn=0;for(J=0;J<je;J+=1)(R=t[J].a).p.propType&&(Gn+=(Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars)).length?R.p.v[0]*Ne[0]:R.p.v[0]*Ne),R.a.propType&&(Gn+=(Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars)).length?R.a.v[0]*Ne[0]:R.a.v[0]*Ne);for(le=!0,this._pathData.a.v&&(X=.5*j[0].an+(Ae-this._pathData.f.v-.5*j[0].an-.5*j[j.length-1].an)*ut/(B-1),X+=this._pathData.f.v);le;)me+ve>=X+Gn||!ee?($e=K.point[0]+(te.point[0]-K.point[0])*(xe=(X+Gn-me)/te.partialLength),lt=K.point[1]+(te.point[1]-K.point[1])*xe,S.translate(-v[0]*j[fe].an*.005,-v[1]*H*.01),le=!1):ee&&(me+=te.partialLength,(W+=1)>=ee.length&&(W=0,_e[z+=1]?ee=_e[z].points:k.v.c?(W=0,ee=_e[z=0].points):(me-=te.partialLength,ee=null)),ee&&(K=te,ve=(te=ee[W]).partialLength));S.translate(-(qe=j[fe].an/2-j[fe].add),0,0)}else S.translate(-(qe=j[fe].an/2-j[fe].add),0,0),S.translate(-v[0]*j[fe].an*.005,-v[1]*H*.01,0);for(J=0;J<je;J+=1)(R=t[J].a).t.propType&&(Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars),(0!==se||0!==h.j)&&(this._hasMaskedPath?X+=Ne.length?R.t.v*Ne[0]:R.t.v*Ne:se+=Ne.length?R.t.v*Ne[0]:R.t.v*Ne));for(h.strokeWidthAnim&&(qn=h.sw||0),h.strokeColorAnim&&(St=h.sc?[h.sc[0],h.sc[1],h.sc[2]]:[0,0,0]),h.fillColorAnim&&h.fc&&(un=[h.fc[0],h.fc[1],h.fc[2]]),J=0;J<je;J+=1)(R=t[J].a).a.propType&&((Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars)).length?S.translate(-R.a.v[0]*Ne[0],-R.a.v[1]*Ne[1],R.a.v[2]*Ne[2]):S.translate(-R.a.v[0]*Ne,-R.a.v[1]*Ne,R.a.v[2]*Ne));for(J=0;J<je;J+=1)(R=t[J].a).s.propType&&((Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars)).length?S.scale(1+(R.s.v[0]-1)*Ne[0],1+(R.s.v[1]-1)*Ne[1],1):S.scale(1+(R.s.v[0]-1)*Ne,1+(R.s.v[1]-1)*Ne,1));for(J=0;J<je;J+=1){if(R=t[J].a,Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars),R.sk.propType&&(Ne.length?S.skewFromAxis(-R.sk.v*Ne[0],R.sa.v*Ne[1]):S.skewFromAxis(-R.sk.v*Ne,R.sa.v*Ne)),R.r.propType&&S.rotateZ(Ne.length?-R.r.v*Ne[2]:-R.r.v*Ne),R.ry.propType&&S.rotateY(Ne.length?R.ry.v*Ne[1]:R.ry.v*Ne),R.rx.propType&&S.rotateX(Ne.length?R.rx.v*Ne[0]:R.rx.v*Ne),R.o.propType&&(rn+=Ne.length?(R.o.v*Ne[0]-rn)*Ne[0]:(R.o.v*Ne-rn)*Ne),h.strokeWidthAnim&&R.sw.propType&&(qn+=Ne.length?R.sw.v*Ne[0]:R.sw.v*Ne),h.strokeColorAnim&&R.sc.propType)for(mn=0;mn<3;mn+=1)St[mn]+=Ne.length?(R.sc.v[mn]-St[mn])*Ne[0]:(R.sc.v[mn]-St[mn])*Ne;if(h.fillColorAnim&&h.fc){if(R.fc.propType)for(mn=0;mn<3;mn+=1)un[mn]+=Ne.length?(R.fc.v[mn]-un[mn])*Ne[0]:(R.fc.v[mn]-un[mn])*Ne;R.fh.propType&&(un=addHueToRGB(un,Ne.length?R.fh.v*Ne[0]:R.fh.v*Ne)),R.fs.propType&&(un=addSaturationToRGB(un,Ne.length?R.fs.v*Ne[0]:R.fs.v*Ne)),R.fb.propType&&(un=addBrightnessToRGB(un,Ne.length?R.fb.v*Ne[0]:R.fb.v*Ne))}}for(J=0;J<je;J+=1)(R=t[J].a).p.propType&&(Ne=t[J].s.getMult(j[fe].anIndexes[J],C.a[J].s.totalChars),this._hasMaskedPath?Ne.length?S.translate(0,R.p.v[1]*Ne[0],-R.p.v[2]*Ne[1]):S.translate(0,R.p.v[1]*Ne,-R.p.v[2]*Ne):Ne.length?S.translate(R.p.v[0]*Ne[0],R.p.v[1]*Ne[1],-R.p.v[2]*Ne[2]):S.translate(R.p.v[0]*Ne,R.p.v[1]*Ne,-R.p.v[2]*Ne));if(h.strokeWidthAnim&&(tn=qn<0?0:qn),h.strokeColorAnim&&(Cn="rgb("+Math.round(255*St[0])+","+Math.round(255*St[1])+","+Math.round(255*St[2])+")"),h.fillColorAnim&&h.fc&&(Nn="rgb("+Math.round(255*un[0])+","+Math.round(255*un[1])+","+Math.round(255*un[2])+")"),this._hasMaskedPath){if(S.translate(0,-h.ls),S.translate(0,v[1]*H*.01+re,0),this._pathData.p.v){var An=180*Math.atan((te.point[1]-K.point[1])/(te.point[0]-K.point[0]))/Math.PI;te.point[0]<K.point[0]&&(An+=180),S.rotate(-An*Math.PI/180)}S.translate($e,lt,0),X-=v[0]*j[fe].an*.005,j[fe+1]&&ut!==j[fe+1].ind&&(X+=j[fe].an/2,X+=.001*h.tr*h.finalSize)}else{switch(S.translate(se,re,0),h.ps&&S.translate(h.ps[0],h.ps[1]+h.ascent,0),h.j){case 1:S.translate(j[fe].animatorJustifyOffset+h.justifyOffset+(h.boxWidth-h.lineWidths[j[fe].line]),0,0);break;case 2:S.translate(j[fe].animatorJustifyOffset+h.justifyOffset+(h.boxWidth-h.lineWidths[j[fe].line])/2,0,0)}S.translate(0,-h.ls),S.translate(qe,0,0),S.translate(v[0]*j[fe].an*.005,v[1]*H*.01,0),se+=j[fe].l+.001*h.tr*h.finalSize}"html"===q?on=S.toCSS():"svg"===q?on=S.to2dCSS():zn=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],yn=rn}Y<=fe?(we=new LetterProps(yn,tn,Cn,Nn,on,zn),this.renderedLetters.push(we),Y+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(we=this.renderedLetters[fe]).update(yn,tn,Cn,Nn,on,zn)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(h,m,v,t,C,S){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var q=!1;return this.o!==h&&(this.o=h,this._mdf.o=!0,q=!0),this.sw!==m&&(this.sw=m,this._mdf.sw=!0,q=!0),this.sc!==v&&(this.sc=v,this._mdf.sc=!0,q=!0),this.fc!==t&&(this.fc=t,this._mdf.fc=!0,q=!0),this.m!==C&&(this.m=C,this._mdf.m=!0,q=!0),S.length&&(this.p[0]!==S[0]||this.p[1]!==S[1]||this.p[4]!==S[4]||this.p[5]!==S[5]||this.p[12]!==S[12]||this.p[13]!==S[13])&&(this.p=S,this._mdf.p=!0,q=!0),q},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(h,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(h[v]=m[v]);return h},TextProperty.prototype.setCurrentData=function(h){h.__complete||this.completeTextData(h),this.currentData=h,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(h){this.effectsSequence.push(h),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(h){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||h){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var m=this.currentData,v=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var t,C=this.effectsSequence.length,S=h||this.data.d.k[this.keysIndex].s;for(t=0;t<C;t+=1)S=this.effectsSequence[t](v!==this.keysIndex?S:this.currentData,S.t);m!==S&&this.setCurrentData(S),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var h=this.data.d.k,m=this.elem.comp.renderedFrame,v=0,t=h.length;v<=t-1&&!(v===t-1||h[v+1].t>m);)v+=1;return this.keysIndex!==v&&(this.keysIndex=v),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(h){for(var C,S,m=[],v=0,t=h.length,q=!1;v<t;)C=h.charCodeAt(v),FontManager.isCombinedCharacter(C)?m[m.length-1]+=h.charAt(v):C>=55296&&C<=56319?(S=h.charCodeAt(v+1))>=56320&&S<=57343?(q||FontManager.isModifier(C,S)?(m[m.length-1]+=h.substr(v,2),q=!1):m.push(h.substr(v,2)),v+=1):m.push(h.charAt(v)):C>56319?(S=h.charCodeAt(v+1),FontManager.isZeroWidthJoiner(C,S)?(q=!0,m[m.length-1]+=h.substr(v,2),v+=1):m.push(h.charAt(v))):FontManager.isZeroWidthJoiner(C)?(m[m.length-1]+=h.charAt(v),q=!0):m.push(h.charAt(v)),v+=1;return m},TextProperty.prototype.completeTextData=function(h){h.__complete=!0;var C,S,q,se,me,le,z,m=this.elem.globalData.fontManager,v=this.data,t=[],Y=0,re=v.m.g,fe=0,B=0,j=0,oe=[],X=0,te=0,W=m.getFontByName(h.f),K=0,ee=getFontProperties(W);h.fWeight=ee.weight,h.fStyle=ee.style,h.finalSize=h.s,h.finalText=this.buildFinalText(h.t),S=h.finalText.length,h.finalLineHeight=h.lh;var ve,_e=h.tr/1e3*h.finalSize;if(h.sz)for(var k,U,Ae=!0,xe=h.sz[0],Ge=h.sz[1];Ae;){k=0,X=0,S=(U=this.buildFinalText(h.t)).length,_e=h.tr/1e3*h.finalSize;var O=-1;for(C=0;C<S;C+=1)ve=U[C].charCodeAt(0),q=!1," "===U[C]?O=C:(13===ve||3===ve)&&(X=0,q=!0,k+=h.finalLineHeight||1.2*h.finalSize),m.chars?(z=m.getCharData(U[C],W.fStyle,W.fFamily),K=q?0:z.w*h.finalSize/100):K=m.measureText(U[C],h.f,h.finalSize),X+K>xe&&" "!==U[C]?(-1===O?S+=1:C=O,k+=h.finalLineHeight||1.2*h.finalSize,U.splice(C,O===C?1:0,"\r"),O=-1,X=0):(X+=K,X+=_e);k+=W.ascent*h.finalSize/100,this.canResize&&h.finalSize>this.minimumFontSize&&Ge<k?(h.finalSize-=1,h.finalLineHeight=h.finalSize*h.lh/h.s):(h.finalText=U,S=h.finalText.length,Ae=!1)}X=-_e,K=0;var Q,H=0;for(C=0;C<S;C+=1)if(q=!1,13===(ve=(Q=h.finalText[C]).charCodeAt(0))||3===ve?(H=0,oe.push(X),te=X>te?X:te,X=-2*_e,se="",q=!0,j+=1):se=Q,m.chars?(z=m.getCharData(Q,W.fStyle,m.getFontByName(h.f).fFamily),K=q?0:z.w*h.finalSize/100):K=m.measureText(se,h.f,h.finalSize)," "===Q?H+=K+_e:(X+=K+_e+H,H=0),t.push({l:K,an:K,add:fe,n:q,anIndexes:[],val:se,line:j,animatorJustifyOffset:0}),2==re){if(fe+=K,""===se||" "===se||C===S-1){for((""===se||" "===se)&&(fe-=K);B<=C;)t[B].an=fe,t[B].ind=Y,t[B].extra=K,B+=1;Y+=1,fe=0}}else if(3==re){if(fe+=K,""===se||C===S-1){for(""===se&&(fe-=K);B<=C;)t[B].an=fe,t[B].ind=Y,t[B].extra=K,B+=1;fe=0,Y+=1}}else t[Y].ind=Y,t[Y].extra=0,Y+=1;if(h.l=t,te=X>te?X:te,oe.push(X),h.sz)h.boxWidth=h.sz[0],h.justifyOffset=0;else switch(h.boxWidth=te,h.j){case 1:h.justifyOffset=-h.boxWidth;break;case 2:h.justifyOffset=-h.boxWidth/2;break;default:h.justifyOffset=0}h.lineWidths=oe;var $,J,R=v.a;le=R.length;var je,we,Ne=[];for(me=0;me<le;me+=1){for(($=R[me]).a.sc&&(h.strokeColorAnim=!0),$.a.sw&&(h.strokeWidthAnim=!0),($.a.fc||$.a.fh||$.a.fs||$.a.fb)&&(h.fillColorAnim=!0),we=0,je=$.s.b,C=0;C<S;C+=1)(J=t[C]).anIndexes[me]=we,(1==je&&""!==J.val||2==je&&""!==J.val&&" "!==J.val||3==je&&(J.n||" "==J.val||C==S-1)||4==je&&(J.n||C==S-1))&&(1===$.s.rn&&Ne.push(we),we+=1);v.a[me].s.totalChars=we;var qe,ut=-1;if(1===$.s.rn)for(C=0;C<S;C+=1)ut!=(J=t[C]).anIndexes[me]&&(ut=J.anIndexes[me],qe=Ne.splice(Math.floor(Math.random()*Ne.length),1)[0]),J.anIndexes[me]=qe}h.yOffset=h.finalLineHeight||1.2*h.finalSize,h.ls=h.ls||0,h.ascent=W.ascent*h.finalSize/100},TextProperty.prototype.updateDocumentData=function(h,m){var v=this.copyData({},this.data.d.k[m=void 0===m?this.keysIndex:m].s);v=this.copyData(v,h),this.data.d.k[m].s=v,this.recalculate(m),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(h){var m=this.data.d.k[h].s;m.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(m)},TextProperty.prototype.canResizeFont=function(h){this.canResize=h,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(h){this.minimumFontSize=Math.floor(h)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var h=Math.max,m=Math.min,v=Math.floor;function t(S,q){this._currentTextLength=-1,this.k=!1,this.data=q,this.elem=S,this.comp=S.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(S),this.s=PropertyFactory.getProp(S,q.s||{k:0},0,0,this),this.e="e"in q?PropertyFactory.getProp(S,q.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(S,q.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(S,q.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(S,q.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(S,q.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(S,q.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return t.prototype={getMult:function(S){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var q=0,Y=0,se=1,re=1;this.ne.v>0?q=this.ne.v/100:Y=-this.ne.v/100,this.xe.v>0?se=1-this.xe.v/100:re=1+this.xe.v/100;var fe=BezierFactory.getBezierEasing(q,Y,se,re).get,B=0,j=this.finalS,oe=this.finalE,X=this.data.sh;if(2===X)B=fe(B=oe===j?S>=oe?1:0:h(0,m(.5/(oe-j)+(S-j)/(oe-j),1)));else if(3===X)B=fe(B=oe===j?S>=oe?0:1:1-h(0,m(.5/(oe-j)+(S-j)/(oe-j),1)));else if(4===X)oe===j?B=0:(B=h(0,m(.5/(oe-j)+(S-j)/(oe-j),1)))<.5?B*=2:B=1-2*(B-.5),B=fe(B);else if(5===X){if(oe===j)B=0;else{var te=oe-j,me=-te/2+(S=m(h(0,S+.5-j),oe-j)),le=te/2;B=Math.sqrt(1-me*me/(le*le))}B=fe(B)}else 6===X?(oe===j?B=0:(S=m(h(0,S+.5-j),oe-j),B=(1+Math.cos(Math.PI+2*Math.PI*S/(oe-j)))/2),B=fe(B)):(S>=v(j)&&(B=h(0,m(S-j<0?m(oe,1)-(j-S):oe-S,1))),B=fe(B));if(100!==this.sm.v){var W=.01*this.sm.v;0===W&&(W=1e-8);var z=.5-.5*W;B<z?B=0:(B=(B-z)/W)>1&&(B=1)}return B*this.a.v},getValue:function(S){this.iterateDynamicProperties(),this._mdf=S||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,S&&2===this.data.r&&(this.e.v=this._currentTextLength);var q=2===this.data.r?1:100/this.data.totalChars,Y=this.o.v/q,se=this.s.v/q+Y,re=this.e.v/q+Y;if(se>re){var fe=se;se=re,re=fe}this.finalS=se,this.finalE=re}},extendPrototype([DynamicPropertyContainer],t),{getTextSelectorProp:function(S,q,Y){return new t(S,q,Y)}}}(),poolFactory=function(h,m,v){var t=0,C=h,S=createSizedArray(C);return{newElement:function(){return t?S[t-=1]:m()},release:function(re){t===C&&(S=pooling.double(S),C*=2),v&&v(re),S[t]=re,t+=1}}},pooling={double:function(m){return m.concat(createSizedArray(m.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(t=poolFactory(4,function(){return new ShapePath},function(C){var q,S=C._length;for(q=0;q<S;q+=1)pointPool.release(C.v[q]),pointPool.release(C.i[q]),pointPool.release(C.o[q]),C.v[q]=null,C.i[q]=null,C.o[q]=null;C._length=0,C.c=!1}),t.clone=function(C){var q,S=t.newElement(),Y=void 0===C._length?C.v.length:C._length;for(S.setLength(Y),S.c=C.c,q=0;q<Y;q+=1)S.setTripleAt(C.v[q][0],C.v[q][1],C.o[q][0],C.o[q][1],C.i[q][0],C.i[q][1],q);return S},t),shapeCollectionPool=function(){var h={newShapeCollection:function(){return m?t[m-=1]:new ShapeCollection},release:function(q){var Y,se=q._length;for(Y=0;Y<se;Y+=1)shapePool.release(q.shapes[Y]);q._length=0,m===v&&(t=pooling.double(t),v*=2),t[m]=q,m+=1}},m=0,v=4,t=createSizedArray(v);return h}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(v){var t,C=v.lengths.length;for(t=0;t<C;t+=1)bezierLengthPool.release(v.lengths[t]);v.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function h(m){for(var C,v=m.split("\r\n"),t={},S=0,q=0;q<v.length;q+=1)2===(C=v[q].split(":")).length&&(t[C[0]]=C[1].trim(),S+=1);if(0===S)throw new Error;return t}return function(m){for(var v=[],t=0;t<m.length;t+=1){var C=m[t],S={time:C.tm,duration:C.dr};try{S.payload=JSON.parse(m[t].cm)}catch(q){try{S.payload=h(m[t].cm)}catch(Y){S.payload={name:m[t]}}}v.push(S)}return v}}(),t;function BaseRenderer(){}function SVGRenderer(h,m){this.animationItem=h,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var v="";if(m&&m.title){var t=createNS("title"),C=createElementID();t.setAttribute("id",C),t.textContent=m.title,this.svgElement.appendChild(t),v+=C}if(m&&m.description){var S=createNS("desc"),q=createElementID();S.setAttribute("id",q),S.textContent=m.description,this.svgElement.appendChild(S),v+=" "+q}v&&this.svgElement.setAttribute("aria-labelledby",v);var Y=createNS("defs");this.svgElement.appendChild(Y);var se=createNS("g");this.svgElement.appendChild(se),this.layerElement=se,this.renderConfig={preserveAspectRatio:m&&m.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:m&&m.contentVisibility||"visible",progressiveLoad:m&&m.progressiveLoad||!1,hideOnTransparent:!(m&&!1===m.hideOnTransparent),viewBoxOnly:m&&m.viewBoxOnly||!1,viewBoxSize:m&&m.viewBoxSize||!1,className:m&&m.className||"",id:m&&m.id||"",focusable:m&&m.focusable,filterSize:{width:m&&m.filterSize&&m.filterSize.width||"100%",height:m&&m.filterSize&&m.filterSize.height||"100%",x:m&&m.filterSize&&m.filterSize.x||"0%",y:m&&m.filterSize&&m.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:Y,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(h,m){this.animationItem=h,this.renderConfig={clearCanvas:!m||void 0===m.clearCanvas||m.clearCanvas,context:m&&m.context||null,progressiveLoad:m&&m.progressiveLoad||!1,preserveAspectRatio:m&&m.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:m&&m.contentVisibility||"visible",className:m&&m.className||"",id:m&&m.id||""},this.renderConfig.dpr=m&&m.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=m&&m.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(h,m){this.animationItem=h,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:m&&m.className||"",imagePreserveAspectRatio:m&&m.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(m&&!1===m.hideOnTransparent),filterSize:{width:m&&m.filterSize&&m.filterSize.width||"400%",height:m&&m.filterSize&&m.filterSize.height||"400%",x:m&&m.filterSize&&m.filterSize.x||"-100%",y:m&&m.filterSize&&m.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(h,m,v){this.data=h,this.element=m,this.globalData=v,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var C,t=this.globalData.defs,S=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(S),this.solidPath="";var q,fe,B,oe,X,te,me,Y=this.masksProperties,se=0,re=[],j=createElementID(),le="clipPath",W="clip-path";for(C=0;C<S;C+=1)if(("a"!==Y[C].mode&&"n"!==Y[C].mode||Y[C].inv||100!==Y[C].o.k||Y[C].o.x)&&(le="mask",W="mask"),"s"!==Y[C].mode&&"i"!==Y[C].mode||0!==se?oe=null:((oe=createNS("rect")).setAttribute("fill","#ffffff"),oe.setAttribute("width",this.element.comp.data.w||0),oe.setAttribute("height",this.element.comp.data.h||0),re.push(oe)),q=createNS("path"),"n"===Y[C].mode)this.viewData[C]={op:PropertyFactory.getProp(this.element,Y[C].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Y[C],3),elem:q,lastPath:""},t.appendChild(q);else{var z;if(se+=1,q.setAttribute("fill","s"===Y[C].mode?"#000000":"#ffffff"),q.setAttribute("clip-rule","nonzero"),0!==Y[C].x.k?(le="mask",W="mask",me=PropertyFactory.getProp(this.element,Y[C].x,0,null,this.element),z=createElementID(),(X=createNS("filter")).setAttribute("id",z),(te=createNS("feMorphology")).setAttribute("operator","erode"),te.setAttribute("in","SourceGraphic"),te.setAttribute("radius","0"),X.appendChild(te),t.appendChild(X),q.setAttribute("stroke","s"===Y[C].mode?"#000000":"#ffffff")):(te=null,me=null),this.storedData[C]={elem:q,x:me,expan:te,lastPath:"",lastOperator:"",filterId:z,lastRadius:0},"i"===Y[C].mode){B=re.length;var K=createNS("g");for(fe=0;fe<B;fe+=1)K.appendChild(re[fe]);var ee=createNS("mask");ee.setAttribute("mask-type","alpha"),ee.setAttribute("id",j+"_"+se),ee.appendChild(q),t.appendChild(ee),K.setAttribute("mask","url("+locationHref+"#"+j+"_"+se+")"),re.length=0,re.push(K)}else re.push(q);Y[C].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[C]={elem:q,lastPath:"",op:PropertyFactory.getProp(this.element,Y[C].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Y[C],3),invRect:oe},this.viewData[C].prop.k||this.drawPath(Y[C],this.viewData[C].prop.v,this.viewData[C])}for(this.maskElement=createNS(le),S=re.length,C=0;C<S;C+=1)this.maskElement.appendChild(re[C]);se>0&&(this.maskElement.setAttribute("id",j),this.element.maskedElement.setAttribute(W,"url("+locationHref+"#"+j+")"),t.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(h,m){this.elem=h,this.pos=m}function SVGStyleData(h,m){this.data=h,this.type=h.ty,this.d="",this.lvl=m,this._mdf=!1,this.closed=!0===h.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(h,m,v){this.caches=[],this.styles=[],this.transformers=h,this.lStr="",this.sh=v,this.lvl=m,this._isAnimated=!!v.k;for(var t=0,C=h.length;t<C;){if(h[t].mProps.dynamicProperties.length){this._isAnimated=!0;break}t+=1}}function SVGTransformData(h,m,v){this.transform={mProps:h,op:m,container:v},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(h,m,v){this.initDynamicPropertyContainer(h),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(h,m.o,0,.01,this),this.w=PropertyFactory.getProp(h,m.w,0,null,this),this.d=new DashProperty(h,m.d||{},"svg",this),this.c=PropertyFactory.getProp(h,m.c,1,255,this),this.style=v,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(h,m,v){this.initDynamicPropertyContainer(h),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(h,m.o,0,.01,this),this.c=PropertyFactory.getProp(h,m.c,1,255,this),this.style=v}function SVGGradientFillStyleData(h,m,v){this.initDynamicPropertyContainer(h),this.getValue=this.iterateDynamicProperties,this.initGradientData(h,m,v)}function SVGGradientStrokeStyleData(h,m,v){this.initDynamicPropertyContainer(h),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(h,m.w,0,null,this),this.d=new DashProperty(h,m.d||{},"svg",this),this.initGradientData(h,m,v),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(h){var m,t,v=this.layers.length;for(this.completeLayers=!0,m=v-1;m>=0;m-=1)this.elements[m]||(t=this.layers[m]).ip-t.st<=h-this.layers[m].st&&t.op-t.st>h-this.layers[m].st&&this.buildItem(m),this.completeLayers=!!this.elements[m]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(h){switch(h.ty){case 2:return this.createImage(h);case 0:return this.createComp(h);case 1:return this.createSolid(h);case 3:default:return this.createNull(h);case 4:return this.createShape(h);case 5:return this.createText(h);case 6:return this.createAudio(h);case 13:return this.createCamera(h);case 15:return this.createFootage(h)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(h){return new AudioElement(h,this.globalData,this)},BaseRenderer.prototype.createFootage=function(h){return new FootageElement(h,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var h,m=this.layers.length;for(h=0;h<m;h+=1)this.buildItem(h);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(h){this.completeLayers=!1;var m,t,v=h.length,C=this.layers.length;for(m=0;m<v;m+=1)for(t=0;t<C;){if(this.layers[t].id===h[m].id){this.layers[t]=h[m];break}t+=1}},BaseRenderer.prototype.setProjectInterface=function(h){this.globalData.projectInterface=h},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(h,m,v){for(var t=this.elements,C=this.layers,S=0,q=C.length;S<q;)C[S].ind==m&&(t[S]&&!0!==t[S]?(v.push(t[S]),t[S].setAsParent(),void 0!==C[S].parent?this.buildElementParenting(h,C[S].parent,v):h.setHierarchy(v)):(this.buildItem(S),this.addPendingElement(h))),S+=1},BaseRenderer.prototype.addPendingElement=function(h){this.pendingElements.push(h)},BaseRenderer.prototype.searchExtraCompositions=function(h){var m,v=h.length;for(m=0;m<v;m+=1)if(h[m].xt){var t=this.createComp(h[m]);t.initExpressions(),this.globalData.projectInterface.registerComposition(t)}},BaseRenderer.prototype.setupGlobalData=function(h,m){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(h.chars),this.globalData.fontManager.addFonts(h.fonts,m),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=h.fr,this.globalData.nm=h.nm,this.globalData.compSize={w:h.w,h:h.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(h){return new NullElement(h,this.globalData,this)},SVGRenderer.prototype.createShape=function(h){return new SVGShapeElement(h,this.globalData,this)},SVGRenderer.prototype.createText=function(h){return new SVGTextLottieElement(h,this.globalData,this)},SVGRenderer.prototype.createImage=function(h){return new IImageElement(h,this.globalData,this)},SVGRenderer.prototype.createComp=function(h){return new SVGCompElement(h,this.globalData,this)},SVGRenderer.prototype.createSolid=function(h){return new ISolidElement(h,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(h){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+h.w+" "+h.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",h.w),this.svgElement.setAttribute("height",h.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var m=this.globalData.defs;this.setupGlobalData(h,m),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=h;var v=createNS("clipPath"),t=createNS("rect");t.setAttribute("width",h.w),t.setAttribute("height",h.h),t.setAttribute("x",0),t.setAttribute("y",0);var C=createElementID();v.setAttribute("id",C),v.appendChild(t),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+C+")"),m.appendChild(v),this.layers=h.layers,this.elements=createSizedArray(h.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var h,m=this.layers?this.layers.length:0;for(h=0;h<m;h+=1)this.elements[h]&&this.elements[h].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(h){var m=this.elements;if(!m[h]&&99!==this.layers[h].ty){m[h]=!0;var v=this.createItem(this.layers[h]);m[h]=v,expressionsPlugin&&(0===this.layers[h].ty&&this.globalData.projectInterface.registerComposition(v),v.initExpressions()),this.appendElementInPos(v,h),this.layers[h].tt&&(this.elements[h-1]&&!0!==this.elements[h-1]?v.setMatte(m[h-1].layerId):(this.buildItem(h-1),this.addPendingElement(v)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var h=this.pendingElements.pop();if(h.checkParenting(),h.data.tt)for(var m=0,v=this.elements.length;m<v;){if(this.elements[m]===h){h.setMatte(this.elements[m-1].layerId);break}m+=1}}},SVGRenderer.prototype.renderFrame=function(h){if(this.renderedFrame!==h&&!this.destroyed){null===h?h=this.renderedFrame:this.renderedFrame=h,this.globalData.frameNum=h,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=h,this.globalData._mdf=!1;var m,v=this.layers.length;for(this.completeLayers||this.checkLayers(h),m=v-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&this.elements[m].prepareFrame(h-this.layers[m].st);if(this.globalData._mdf)for(m=0;m<v;m+=1)(this.completeLayers||this.elements[m])&&this.elements[m].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(h,m){var v=h.getBaseElement();if(v){for(var C,t=0;t<m;)this.elements[t]&&!0!==this.elements[t]&&this.elements[t].getBaseElement()&&(C=this.elements[t].getBaseElement()),t+=1;C?this.layerElement.insertBefore(v,C):this.layerElement.appendChild(v)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(h){return new CVShapeElement(h,this.globalData,this)},CanvasRenderer.prototype.createText=function(h){return new CVTextElement(h,this.globalData,this)},CanvasRenderer.prototype.createImage=function(h){return new CVImageElement(h,this.globalData,this)},CanvasRenderer.prototype.createComp=function(h){return new CVCompElement(h,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(h){return new CVSolidElement(h,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(h){if(1!==h[0]||0!==h[1]||0!==h[4]||1!==h[5]||0!==h[12]||0!==h[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(h[0],h[1],h[4],h[5],h[12],h[13]);this.transformMat.cloneFromProps(h);var m=this.contextData.cTr.props;this.transformMat.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var v=this.contextData.cTr.props;this.canvasContext.setTransform(v[0],v[1],v[4],v[5],v[12],v[13])}},CanvasRenderer.prototype.ctxOpacity=function(h){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=h<0?0:h,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=h<0?0:h,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(h){if(this.renderConfig.clearCanvas){h&&this.canvasContext.save();var m=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var v,t=this.contextData.saved[this.contextData.cArrPos];for(v=0;v<16;v+=1)t[v]=m[v];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(h){if(this.renderConfig.clearCanvas){h&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var v,m=this.contextData.saved[this.contextData.cArrPos],t=this.contextData.cTr.props;for(v=0;v<16;v+=1)t[v]=m[v];this.canvasContext.setTransform(m[0],m[1],m[4],m[5],m[12],m[13]),this.contextData.cO=m=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==m&&(this.canvasContext.globalAlpha=m,this.globalData.currentGlobalAlpha=m)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(h){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var m=this.animationItem.container.style;m.width="100%",m.height="100%";var v="0px 0px 0px";m.transformOrigin=v,m.mozTransformOrigin=v,m.webkitTransformOrigin=v,m["-webkit-transform"]=v,m.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=h,this.layers=h.layers,this.transformCanvas={w:h.w,h:h.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(h,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(h.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var h,m,v,t;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(m=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(h=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",m*this.renderConfig.dpr)):(h=this.canvasContext.canvas.width*this.renderConfig.dpr,m=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var C=this.renderConfig.preserveAspectRatio.split(" "),S=C[1]||"meet",q=C[0]||"xMidYMid",Y=q.substr(0,4),se=q.substr(4);(t=this.transformCanvas.w/this.transformCanvas.h)>(v=h/m)&&"meet"===S||t<v&&"slice"===S?(this.transformCanvas.sx=h/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=h/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=m/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=m/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===Y&&(t<v&&"meet"===S||t>v&&"slice"===S)?(h-this.transformCanvas.w*(m/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===Y&&(t<v&&"meet"===S||t>v&&"slice"===S)?(h-this.transformCanvas.w*(m/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===se&&(t>v&&"meet"===S||t<v&&"slice"===S)?(m-this.transformCanvas.h*(h/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===se&&(t>v&&"meet"===S||t<v&&"slice"===S)?(m-this.transformCanvas.h*(h/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=h/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=m/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var h;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),h=(this.layers?this.layers.length:0)-1;h>=0;h-=1)this.elements[h]&&this.elements[h].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(h,m){if((this.renderedFrame!==h||!0!==this.renderConfig.clearCanvas||m)&&!this.destroyed&&-1!==h){this.renderedFrame=h,this.globalData.frameNum=h-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||m,this.globalData.projectInterface.currentFrame=h;var v,t=this.layers.length;for(this.completeLayers||this.checkLayers(h),v=0;v<t;v+=1)(this.completeLayers||this.elements[v])&&this.elements[v].prepareFrame(h-this.layers[v].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),v=t-1;v>=0;v-=1)(this.completeLayers||this.elements[v])&&this.elements[v].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(h){var m=this.elements;if(!m[h]&&99!==this.layers[h].ty){var v=this.createItem(this.layers[h],this,this.globalData);m[h]=v,v.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(h,m){var v=h.getBaseElement();if(v){var t=this.layers[m];if(t.ddd&&this.supports3d)this.addTo3dContainer(v,m);else if(this.threeDElements)this.addTo3dContainer(v,m);else{for(var S,q,C=0;C<m;)this.elements[C]&&!0!==this.elements[C]&&this.elements[C].getBaseElement&&(q=this.elements[C],S=(this.layers[C].ddd?this.getThreeDContainerByPos(C):q.getBaseElement())||S),C+=1;S?(!t.ddd||!this.supports3d)&&this.layerElement.insertBefore(v,S):(!t.ddd||!this.supports3d)&&this.layerElement.appendChild(v)}}},HybridRenderer.prototype.createShape=function(h){return this.supports3d?new HShapeElement(h,this.globalData,this):new SVGShapeElement(h,this.globalData,this)},HybridRenderer.prototype.createText=function(h){return this.supports3d?new HTextElement(h,this.globalData,this):new SVGTextLottieElement(h,this.globalData,this)},HybridRenderer.prototype.createCamera=function(h){return this.camera=new HCameraElement(h,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(h){return this.supports3d?new HImageElement(h,this.globalData,this):new IImageElement(h,this.globalData,this)},HybridRenderer.prototype.createComp=function(h){return this.supports3d?new HCompElement(h,this.globalData,this):new SVGCompElement(h,this.globalData,this)},HybridRenderer.prototype.createSolid=function(h){return this.supports3d?new HSolidElement(h,this.globalData,this):new ISolidElement(h,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(h){for(var m=0,v=this.threeDElements.length;m<v;){if(this.threeDElements[m].startPos<=h&&this.threeDElements[m].endPos>=h)return this.threeDElements[m].perspectiveElem;m+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(h,m){var t,C,v=createTag("div");styleDiv(v);var S=createTag("div");if(styleDiv(S),"3d"===m){(t=v.style).width=this.globalData.compSize.w+"px",t.height=this.globalData.compSize.h+"px";var q="50% 50%";t.webkitTransformOrigin=q,t.mozTransformOrigin=q,t.transformOrigin=q;var Y="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(C=S.style).transform=Y,C.webkitTransform=Y}v.appendChild(S);var se={container:S,perspectiveElem:v,startPos:h,endPos:h,type:m};return this.threeDElements.push(se),se},HybridRenderer.prototype.build3dContainers=function(){var h,v,m=this.layers.length,t="";for(h=0;h<m;h+=1)this.layers[h].ddd&&3!==this.layers[h].ty?("3d"!==t&&(t="3d",v=this.createThreeDContainer(h,"3d")),v.endPos=Math.max(v.endPos,h)):("2d"!==t&&(t="2d",v=this.createThreeDContainer(h,"2d")),v.endPos=Math.max(v.endPos,h));for(h=(m=this.threeDElements.length)-1;h>=0;h-=1)this.resizerElem.appendChild(this.threeDElements[h].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(h,m){for(var v=0,t=this.threeDElements.length;v<t;){if(m<=this.threeDElements[v].endPos){for(var S,C=this.threeDElements[v].startPos;C<m;)this.elements[C]&&this.elements[C].getBaseElement&&(S=this.elements[C].getBaseElement()),C+=1;S?this.threeDElements[v].container.insertBefore(h,S):this.threeDElements[v].container.appendChild(h);break}v+=1}},HybridRenderer.prototype.configAnimation=function(h){var m=createTag("div"),v=this.animationItem.wrapper,t=m.style;t.width=h.w+"px",t.height=h.h+"px",this.resizerElem=m,styleDiv(m),t.transformStyle="flat",t.mozTransformStyle="flat",t.webkitTransformStyle="flat",this.renderConfig.className&&m.setAttribute("class",this.renderConfig.className),v.appendChild(m),t.overflow="hidden";var C=createNS("svg");C.setAttribute("width","1"),C.setAttribute("height","1"),styleDiv(C),this.resizerElem.appendChild(C);var S=createNS("defs");C.appendChild(S),this.data=h,this.setupGlobalData(h,C),this.globalData.defs=S,this.layers=h.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var h,m=this.layers?this.layers.length:0;for(h=0;h<m;h+=1)this.elements[h].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var C,S,q,Y,h=this.animationItem.wrapper.offsetWidth,m=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>h/m?(C=h/this.globalData.compSize.w,S=h/this.globalData.compSize.w,q=0,Y=(m-this.globalData.compSize.h*(h/this.globalData.compSize.w))/2):(C=m/this.globalData.compSize.h,S=m/this.globalData.compSize.h,q=(h-this.globalData.compSize.w*(m/this.globalData.compSize.h))/2,Y=0);var se=this.resizerElem.style;se.webkitTransform="matrix3d("+C+",0,0,0,0,"+S+",0,0,0,0,1,0,"+q+","+Y+",0,1)",se.transform=se.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var v,h=this.globalData.compSize.w,m=this.globalData.compSize.h,t=this.threeDElements.length;for(v=0;v<t;v+=1){var C=this.threeDElements[v].perspectiveElem.style;C.webkitPerspective=Math.sqrt(Math.pow(h,2)+Math.pow(m,2))+"px",C.perspective=C.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(h){var m,v=h.length,t=createTag("div");for(m=0;m<v;m+=1)if(h[m].xt){var C=this.createComp(h[m],t,this.globalData.comp,null);C.initExpressions(),this.globalData.projectInterface.registerComposition(C)}},MaskElement.prototype.getMaskProperty=function(h){return this.viewData[h].prop},MaskElement.prototype.renderFrame=function(h){var v,m=this.element.finalTransform.mat,t=this.masksProperties.length;for(v=0;v<t;v+=1)if((this.viewData[v].prop._mdf||h)&&this.drawPath(this.masksProperties[v],this.viewData[v].prop.v,this.viewData[v]),(this.viewData[v].op._mdf||h)&&this.viewData[v].elem.setAttribute("fill-opacity",this.viewData[v].op.v),"n"!==this.masksProperties[v].mode&&(this.viewData[v].invRect&&(this.element.finalTransform.mProp._mdf||h)&&this.viewData[v].invRect.setAttribute("transform",m.getInverseMatrix().to2dCSS()),this.storedData[v].x&&(this.storedData[v].x._mdf||h))){var C=this.storedData[v].expan;this.storedData[v].x.v<0?("erode"!==this.storedData[v].lastOperator&&(this.storedData[v].lastOperator="erode",this.storedData[v].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[v].filterId+")")),C.setAttribute("radius",-this.storedData[v].x.v)):("dilate"!==this.storedData[v].lastOperator&&(this.storedData[v].lastOperator="dilate",this.storedData[v].elem.setAttribute("filter",null)),this.storedData[v].elem.setAttribute("stroke-width",2*this.storedData[v].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var h="M0,0 ";return h+=" h"+this.globalData.compSize.w,h+=" v"+this.globalData.compSize.h,(h+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(h,m,v){var C,S,t=" M"+m.v[0][0]+","+m.v[0][1];for(S=m._length,C=1;C<S;C+=1)t+=" C"+m.o[C-1][0]+","+m.o[C-1][1]+" "+m.i[C][0]+","+m.i[C][1]+" "+m.v[C][0]+","+m.v[C][1];if(m.c&&S>1&&(t+=" C"+m.o[C-1][0]+","+m.o[C-1][1]+" "+m.i[0][0]+","+m.i[0][1]+" "+m.v[0][0]+","+m.v[0][1]),v.lastPath!==t){var q="";v.elem&&(m.c&&(q=h.inv?this.solidPath+t:t),v.elem.setAttribute("d",q)),v.lastPath=t}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(h){this.hierarchy=h},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(h,m){var v,t=this.dynamicProperties.length;for(v=0;v<t;v+=1)(m||this._isParent&&"transform"===this.dynamicProperties[v].propType)&&(this.dynamicProperties[v].getValue(),this.dynamicProperties[v]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&this.dynamicProperties.push(h)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var h,m=this.finalTransform.mat,v=0,t=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;v<t;){if(this.hierarchy[v].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}v+=1}if(this.finalTransform._matMdf)for(m.cloneFromProps(h=this.finalTransform.mProp.v.props),v=0;v<t;v+=1)m.transform((h=this.hierarchy[v].finalTransform.mProp.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}},globalToLocal:function(h){var m=[];m.push(this.finalTransform);for(var v=!0,t=this.comp;v;)t.finalTransform?(t.data.hasMask&&m.splice(0,0,t.finalTransform),t=t.comp):v=!1;var C,q,S=m.length;for(C=0;C<S;C+=1)q=m[C].mat.applyToPointArray(0,0,0),h=[h[0]-q[0],h[1]-q[1],0];return h},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(h){-1===this.renderableComponents.indexOf(h)&&this.renderableComponents.push(h)},removeRenderableComponent:function(h){-1!==this.renderableComponents.indexOf(h)&&this.renderableComponents.splice(this.renderableComponents.indexOf(h),1)},prepareRenderableFrame:function(h){this.checkLayerLimits(h)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(h){this.data.ip-this.data.st<=h&&this.data.op-this.data.st>h?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var h,m=this.renderableComponents.length;for(h=0;h<m;h+=1)this.renderableComponents[h].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(m,v,t){this.initFrame(),this.initBaseData(m,v,t),this.initTransform(m,v,t),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(m){this._mdf=!1,this.prepareRenderableFrame(m),this.prepareProperties(m,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(h,m,v){this.o=PropertyFactory.getProp(h,m.o,0,.01,this),this.s=PropertyFactory.getProp(h,m.s,1,null,this),this.e=PropertyFactory.getProp(h,m.e,1,null,this),this.h=PropertyFactory.getProp(h,m.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(h,m.a||{k:0},0,degToRads,this),this.g=new GradientProperty(h,m.g,this),this.style=v,this.stops=[],this.setGradientData(v.pElem,m),this.setGradientOpacity(m,v),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(h,m){var v=createElementID(),t=createNS(1===m.t?"linearGradient":"radialGradient");t.setAttribute("id",v),t.setAttribute("spreadMethod","pad"),t.setAttribute("gradientUnits","userSpaceOnUse");var S,q,Y,C=[];for(Y=4*m.g.p,q=0;q<Y;q+=4)S=createNS("stop"),t.appendChild(S),C.push(S);h.setAttribute("gf"===m.ty?"fill":"stroke","url("+locationHref+"#"+v+")"),this.gf=t,this.cst=C},SVGGradientFillStyleData.prototype.setGradientOpacity=function(h,m){if(this.g._hasOpacity&&!this.g._collapsable){var v,t,C,S=createNS("mask"),q=createNS("path");S.appendChild(q);var Y=createElementID(),se=createElementID();S.setAttribute("id",se);var re=createNS(1===h.t?"linearGradient":"radialGradient");re.setAttribute("id",Y),re.setAttribute("spreadMethod","pad"),re.setAttribute("gradientUnits","userSpaceOnUse"),C=h.g.k.k[0].s?h.g.k.k[0].s.length:h.g.k.k.length;var fe=this.stops;for(t=4*h.g.p;t<C;t+=2)(v=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),re.appendChild(v),fe.push(v);q.setAttribute("gf"===h.ty?"fill":"stroke","url("+locationHref+"#"+Y+")"),"gs"===h.ty&&(q.setAttribute("stroke-linecap",lineCapEnum[h.lc||2]),q.setAttribute("stroke-linejoin",lineJoinEnum[h.lj||2]),1===h.lj&&q.setAttribute("stroke-miterlimit",h.ml)),this.of=re,this.ms=S,this.ost=fe,this.maskId=se,m.msElem=q}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var h=new Matrix,m=new Matrix;function C(fe,B,j){(j||B.transform.op._mdf)&&B.transform.container.setAttribute("opacity",B.transform.op.v),(j||B.transform.mProps._mdf)&&B.transform.container.setAttribute("transform",B.transform.mProps.v.to2dCSS())}function S(fe,B,j){var oe,X,te,me,le,W,ee,_e,ve,Ae,xe,z=B.styles.length,K=B.lvl;for(W=0;W<z;W+=1){if(me=B.sh._mdf||j,B.styles[W].lvl<K){for(_e=m.reset(),Ae=K-B.styles[W].lvl,xe=B.transformers.length-1;!me&&Ae>0;)me=B.transformers[xe].mProps._mdf||me,Ae-=1,xe-=1;if(me)for(Ae=K-B.styles[W].lvl,xe=B.transformers.length-1;Ae>0;)_e.transform((ve=B.transformers[xe].mProps.v.props)[0],ve[1],ve[2],ve[3],ve[4],ve[5],ve[6],ve[7],ve[8],ve[9],ve[10],ve[11],ve[12],ve[13],ve[14],ve[15]),Ae-=1,xe-=1}else _e=h;if(X=(ee=B.sh.paths)._length,me){for(te="",oe=0;oe<X;oe+=1)(le=ee.shapes[oe])&&le._length&&(te+=buildShapeString(le,le._length,le.c,_e));B.caches[W]=te}else te=B.caches[W];B.styles[W].d+=!0===fe.hd?"":te,B.styles[W]._mdf=me||B.styles[W]._mdf}}function q(fe,B,j){var oe=B.style;(B.c._mdf||j)&&oe.pElem.setAttribute("fill","rgb("+bmFloor(B.c.v[0])+","+bmFloor(B.c.v[1])+","+bmFloor(B.c.v[2])+")"),(B.o._mdf||j)&&oe.pElem.setAttribute("fill-opacity",B.o.v)}function Y(fe,B,j){se(fe,B,j),re(0,B,j)}function se(fe,B,j){var K,ee,_e,ve,Ge,oe=B.gf,X=B.g._hasOpacity,te=B.s.v,me=B.e.v;if((B.o._mdf||j)&&B.style.pElem.setAttribute("gf"===fe.ty?"fill-opacity":"stroke-opacity",B.o.v),B.s._mdf||j){var W=1===fe.t?"x1":"cx",z="x1"===W?"y1":"cy";oe.setAttribute(W,te[0]),oe.setAttribute(z,te[1]),X&&!B.g._collapsable&&(B.of.setAttribute(W,te[0]),B.of.setAttribute(z,te[1]))}if(B.g._cmdf||j){var Ae=B.g.c;for(_e=(K=B.cst).length,ee=0;ee<_e;ee+=1)(ve=K[ee]).setAttribute("offset",Ae[4*ee]+"%"),ve.setAttribute("stop-color","rgb("+Ae[4*ee+1]+","+Ae[4*ee+2]+","+Ae[4*ee+3]+")")}if(X&&(B.g._omdf||j)){var xe=B.g.o;for(_e=(K=B.g._collapsable?B.cst:B.ost).length,ee=0;ee<_e;ee+=1)ve=K[ee],B.g._collapsable||ve.setAttribute("offset",xe[2*ee]+"%"),ve.setAttribute("stop-opacity",xe[2*ee+1])}if(1===fe.t)(B.e._mdf||j)&&(oe.setAttribute("x2",me[0]),oe.setAttribute("y2",me[1]),X&&!B.g._collapsable&&(B.of.setAttribute("x2",me[0]),B.of.setAttribute("y2",me[1])));else if((B.s._mdf||B.e._mdf||j)&&(Ge=Math.sqrt(Math.pow(te[0]-me[0],2)+Math.pow(te[1]-me[1],2)),oe.setAttribute("r",Ge),X&&!B.g._collapsable&&B.of.setAttribute("r",Ge)),B.e._mdf||B.h._mdf||B.a._mdf||j){Ge||(Ge=Math.sqrt(Math.pow(te[0]-me[0],2)+Math.pow(te[1]-me[1],2)));var k=Math.atan2(me[1]-te[1],me[0]-te[0]),U=B.h.v;U>=1?U=.99:U<=-1&&(U=-.99);var O=Ge*U,H=Math.cos(k+B.a.v)*O+te[0],Q=Math.sin(k+B.a.v)*O+te[1];oe.setAttribute("fx",H),oe.setAttribute("fy",Q),X&&!B.g._collapsable&&(B.of.setAttribute("fx",H),B.of.setAttribute("fy",Q))}}function re(fe,B,j){var oe=B.style,X=B.d;X&&(X._mdf||j)&&X.dashStr&&(oe.pElem.setAttribute("stroke-dasharray",X.dashStr),oe.pElem.setAttribute("stroke-dashoffset",X.dashoffset[0])),B.c&&(B.c._mdf||j)&&oe.pElem.setAttribute("stroke","rgb("+bmFloor(B.c.v[0])+","+bmFloor(B.c.v[1])+","+bmFloor(B.c.v[2])+")"),(B.o._mdf||j)&&oe.pElem.setAttribute("stroke-opacity",B.o.v),(B.w._mdf||j)&&(oe.pElem.setAttribute("stroke-width",B.w.v),oe.msElem&&oe.msElem.setAttribute("stroke-width",B.w.v))}return{createRenderFunction:function(fe){switch(fe.ty){case"fl":return q;case"gf":return se;case"gs":return Y;case"st":return re;case"sh":case"el":case"rc":case"sr":return S;case"tr":return C;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(h,m,v,t){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var C=4;"rc"===m.ty?C=5:"el"===m.ty?C=6:"sr"===m.ty&&(C=7),this.sh=ShapePropertyFactory.getShapeProp(h,m,C,h);var S,Y,q=v.length;for(S=0;S<q;S+=1)v[S].closed||(Y={transforms:t.addTransformSequence(v[S].transforms),trNodes:[]},this.styledShapes.push(Y),v[S].elements.push(Y))}function BaseElement(){}function NullElement(h,m,v){this.initFrame(),this.initBaseData(h,m,v),this.initFrame(),this.initTransform(h,m,v),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(h,m,v){this.assetData=m.getAssetData(h.refId),this.initElement(h,m,v),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(h,m,v){this.initElement(h,m,v)}function AudioElement(h,m,v){this.initFrame(),this.initRenderable(),this.assetData=m.getAssetData(h.refId),this.initBaseData(h,m,v),this._isPlaying=!1,this._canPlay=!1;var t=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(t),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=h.tm?PropertyFactory.getProp(this,h.tm,0,m.frameRate,this):{_placeholder:!0}}function FootageElement(h,m,v){this.initFrame(),this.initRenderable(),this.assetData=m.getAssetData(h.refId),this.footageData=m.imageLoader.getAsset(this.assetData),this.initBaseData(h,m,v)}function SVGCompElement(h,m,v){this.layers=h.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(h,m,v),this.tm=h.tm?PropertyFactory.getProp(this,h.tm,0,m.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(h,m,v){this.textSpans=[],this.renderType="svg",this.initElement(h,m,v)}function SVGShapeElement(h,m,v){this.shapes=[],this.shapesData=h.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(h,m,v),this.prevViewData=[]}function SVGTintFilter(h,m){this.filterManager=m;var v=createNS("feColorMatrix");if(v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","linearRGB"),v.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),v.setAttribute("result","f1"),h.appendChild(v),(v=createNS("feColorMatrix")).setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),v.setAttribute("result","f2"),h.appendChild(v),this.matrixFilter=v,100!==m.effectElements[2].p.v||m.effectElements[2].p.k){var C,t=createNS("feMerge");h.appendChild(t),(C=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),t.appendChild(C),(C=createNS("feMergeNode")).setAttribute("in","f2"),t.appendChild(C)}}function SVGFillFilter(h,m){this.filterManager=m;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),h.appendChild(v),this.matrixFilter=v}function SVGGaussianBlurEffect(h,m){h.setAttribute("x","-100%"),h.setAttribute("y","-100%"),h.setAttribute("width","300%"),h.setAttribute("height","300%"),this.filterManager=m;var v=createNS("feGaussianBlur");h.appendChild(v),this.feGaussianBlur=v}function SVGStrokeEffect(h,m){this.initialized=!1,this.filterManager=m,this.elem=h,this.paths=[]}function SVGTritoneFilter(h,m){this.filterManager=m;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","linearRGB"),v.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),v.setAttribute("result","f1"),h.appendChild(v);var t=createNS("feComponentTransfer");t.setAttribute("color-interpolation-filters","sRGB"),h.appendChild(t),this.matrixFilter=t;var C=createNS("feFuncR");C.setAttribute("type","table"),t.appendChild(C),this.feFuncR=C;var S=createNS("feFuncG");S.setAttribute("type","table"),t.appendChild(S),this.feFuncG=S;var q=createNS("feFuncB");q.setAttribute("type","table"),t.appendChild(q),this.feFuncB=q}function SVGProLevelsFilter(h,m){this.filterManager=m;var v=this.filterManager.effectElements,t=createNS("feComponentTransfer");(v[10].p.k||0!==v[10].p.v||v[11].p.k||1!==v[11].p.v||v[12].p.k||1!==v[12].p.v||v[13].p.k||0!==v[13].p.v||v[14].p.k||1!==v[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",t)),(v[17].p.k||0!==v[17].p.v||v[18].p.k||1!==v[18].p.v||v[19].p.k||1!==v[19].p.v||v[20].p.k||0!==v[20].p.v||v[21].p.k||1!==v[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",t)),(v[24].p.k||0!==v[24].p.v||v[25].p.k||1!==v[25].p.v||v[26].p.k||1!==v[26].p.v||v[27].p.k||0!==v[27].p.v||v[28].p.k||1!==v[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",t)),(v[31].p.k||0!==v[31].p.v||v[32].p.k||1!==v[32].p.v||v[33].p.k||1!==v[33].p.v||v[34].p.k||0!==v[34].p.v||v[35].p.k||1!==v[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",t)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(t.setAttribute("color-interpolation-filters","sRGB"),h.appendChild(t),t=createNS("feComponentTransfer")),(v[3].p.k||0!==v[3].p.v||v[4].p.k||1!==v[4].p.v||v[5].p.k||1!==v[5].p.v||v[6].p.k||0!==v[6].p.v||v[7].p.k||1!==v[7].p.v)&&(t.setAttribute("color-interpolation-filters","sRGB"),h.appendChild(t),this.feFuncRComposed=this.createFeFunc("feFuncR",t),this.feFuncGComposed=this.createFeFunc("feFuncG",t),this.feFuncBComposed=this.createFeFunc("feFuncB",t))}function SVGDropShadowEffect(h,m){var v=m.container.globalData.renderConfig.filterSize;h.setAttribute("x",v.x),h.setAttribute("y",v.y),h.setAttribute("width",v.width),h.setAttribute("height",v.height),this.filterManager=m;var t=createNS("feGaussianBlur");t.setAttribute("in","SourceAlpha"),t.setAttribute("result","drop_shadow_1"),t.setAttribute("stdDeviation","0"),this.feGaussianBlur=t,h.appendChild(t);var C=createNS("feOffset");C.setAttribute("dx","25"),C.setAttribute("dy","0"),C.setAttribute("in","drop_shadow_1"),C.setAttribute("result","drop_shadow_2"),this.feOffset=C,h.appendChild(C);var S=createNS("feFlood");S.setAttribute("flood-color","#00ff00"),S.setAttribute("flood-opacity","1"),S.setAttribute("result","drop_shadow_3"),this.feFlood=S,h.appendChild(S);var q=createNS("feComposite");q.setAttribute("in","drop_shadow_3"),q.setAttribute("in2","drop_shadow_2"),q.setAttribute("operator","in"),q.setAttribute("result","drop_shadow_4"),h.appendChild(q);var se,Y=createNS("feMerge");h.appendChild(Y),se=createNS("feMergeNode"),Y.appendChild(se),(se=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=se,this.feMerge=Y,this.originalNodeAdded=!1,Y.appendChild(se)}ShapeTransformManager.prototype={addTransformSequence:function(h){var m,v=h.length,t="_";for(m=0;m<v;m+=1)t+=h[m].transform.key+"_";var C=this.sequences[t];return C||(C={transforms:[].concat(h),finalTransform:new Matrix,_mdf:!1},this.sequences[t]=C,this.sequenceList.push(C)),C},processSequence:function(h,m){for(var v=0,t=h.transforms.length,C=m;v<t&&!m;){if(h.transforms[v].transform.mProps._mdf){C=!0;break}v+=1}var S;if(C)for(h.finalTransform.reset(),v=t-1;v>=0;v-=1)h.finalTransform.transform((S=h.transforms[v].transform.mProps.v.props)[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],S[8],S[9],S[10],S[11],S[12],S[13],S[14],S[15]);h._mdf=C},processSequences:function(h){var m,v=this.sequenceList.length;for(m=0;m<v;m+=1)this.processSequence(this.sequenceList[m],h)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var h=0,m=this.data.masksProperties.length;h<m;){if("n"!==this.data.masksProperties[h].mode&&!1!==this.data.masksProperties[h].cl)return!0;h+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var h=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(h),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var h=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=h},initBaseData:function(h,m,v){this.globalData=m,this.comp=v,this.data=h,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(h){this.prepareProperties(h,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var m,v,t,h=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var C=createNS("mask");C.setAttribute("id",this.layerId),C.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),C.appendChild(this.layerElement),h=C,this.globalData.defs.appendChild(C),!featureSupport.maskType&&1==this.data.td&&(C.setAttribute("mask-type","luminance"),m=createElementID(),v=filtersFactory.createFilter(m),this.globalData.defs.appendChild(v),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(t=createNS("g")).appendChild(this.layerElement),h=t,C.appendChild(t),t.setAttribute("filter","url("+locationHref+"#"+m+")"))}else if(2==this.data.td){var S=createNS("mask");S.setAttribute("id",this.layerId),S.setAttribute("mask-type","alpha");var q=createNS("g");S.appendChild(q),m=createElementID(),v=filtersFactory.createFilter(m);var Y=createNS("feComponentTransfer");Y.setAttribute("in","SourceGraphic"),v.appendChild(Y);var se=createNS("feFuncA");se.setAttribute("type","table"),se.setAttribute("tableValues","1.0 0.0"),Y.appendChild(se),this.globalData.defs.appendChild(v);var re=createNS("rect");re.setAttribute("width",this.comp.data.w),re.setAttribute("height",this.comp.data.h),re.setAttribute("x","0"),re.setAttribute("y","0"),re.setAttribute("fill","#ffffff"),re.setAttribute("opacity","0"),q.setAttribute("filter","url("+locationHref+"#"+m+")"),q.appendChild(re),q.appendChild(this.layerElement),h=q,featureSupport.maskType||(S.setAttribute("mask-type","luminance"),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),t=createNS("g"),q.appendChild(re),t.appendChild(this.layerElement),h=t,q.appendChild(t)),this.globalData.defs.appendChild(S)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),h=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var fe=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(fe.setAttribute("id",j),fe.appendChild(B),this.globalData.defs.appendChild(fe),this.checkMasks()){var oe=createNS("g");oe.setAttribute("clip-path","url("+locationHref+"#"+j+")"),oe.appendChild(this.layerElement),this.transformedElement=oe,h?h.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+j+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(h){!this.matteElement||this.matteElement.setAttribute("mask","url("+locationHref+"#"+h+")")}},IShapeElement.prototype={addShapeToModifiers:function(h){var m,v=this.shapeModifiers.length;for(m=0;m<v;m+=1)this.shapeModifiers[m].addShape(h)},isShapeInAnimatedModifiers:function(h){for(var v=this.shapeModifiers.length;0<v;)if(this.shapeModifiers[0].isAnimatedWithShape(h))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var h,m=this.shapes.length;for(h=0;h<m;h+=1)this.shapes[h].sh.reset();for(h=(m=this.shapeModifiers.length)-1;h>=0&&!this.shapeModifiers[h].processShapes(this._isFirstFrame);h-=1);}},searchProcessedElement:function(h){for(var m=this.processedElements,v=0,t=m.length;v<t;){if(m[v].elem===h)return m[v].pos;v+=1}return 0},addProcessedElement:function(h,m){for(var v=this.processedElements,t=v.length;t;)if(v[t-=1].elem===h)return void(v[t].pos=m);v.push(new ProcessedElement(h,m))},prepareFrame:function(h){this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange)}},ITextElement.prototype.initElement=function(h,m,v){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(h,m,v),this.textProperty=new TextProperty(this,h.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(h.t,this.renderType,this),this.initTransform(h,m,v),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(h){this._mdf=!1,this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(h,m){var v,C,t=m.length,S="";for(v=0;v<t;v+=1)S+=buildShapeString(C=m[v].ks.k,C.i.length,!0,h);return S},ITextElement.prototype.updateDocumentData=function(h,m){this.textProperty.updateDocumentData(h,m)},ITextElement.prototype.canResizeFont=function(h){this.textProperty.canResizeFont(h)},ITextElement.prototype.setMinimumFontSize=function(h){this.textProperty.setMinimumFontSize(h)},ITextElement.prototype.applyTextPropertiesToMatrix=function(h,m,v,t,C){switch(h.ps&&m.translate(h.ps[0],h.ps[1]+h.ascent,0),m.translate(0,-h.ls,0),h.j){case 1:m.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[v]),0,0);break;case 2:m.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[v])/2,0,0)}m.translate(t,C,0)},ITextElement.prototype.buildColor=function(h){return"rgb("+Math.round(255*h[0])+","+Math.round(255*h[1])+","+Math.round(255*h[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(h,m,v){this.initFrame(),this.initBaseData(h,m,v),this.initTransform(h,m,v),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!m.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(h){if(this._mdf=!1,this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=h/this.data.sr;else{var m=this.tm.v;m===this.data.op&&(m=this.data.op-1),this.renderedFrame=m}var v,t=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),v=t-1;v>=0;v-=1)(this.completeLayers||this.elements[v])&&(this.elements[v].prepareFrame(this.renderedFrame-this.layers[v].st),this.elements[v]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var h,m=this.layers.length;for(h=0;h<m;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()},ICompElement.prototype.setElements=function(h){this.elements=h},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var h,m=this.layers.length;for(h=0;h<m;h+=1)this.elements[h]&&this.elements[h].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var h=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",h),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var h=createNS("rect");h.setAttribute("width",this.data.sw),h.setAttribute("height",this.data.sh),h.setAttribute("fill",this.data.sc),this.layerElement.appendChild(h)},AudioElement.prototype.prepareFrame=function(h){this.prepareRenderableFrame(h,!0),this.prepareProperties(h,!0),this._currentTime=this.tm._placeholder?h/this.data.sr:this.tm.v},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(h){this.audio.rate(h)},AudioElement.prototype.volume=function(h){this.audio.volume(h)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(h){for(var m=0,v=h.length,t=[],C="";m<v;)h[m]===String.fromCharCode(13)||h[m]===String.fromCharCode(3)?(t.push(C),C=""):C+=h[m],m+=1;return t.push(C),t},SVGTextLottieElement.prototype.buildNewText=function(){var h,m,v=this.textProperty.currentData;this.renderedLetters=createSizedArray(v?v.l.length:0),this.layerElement.setAttribute("fill",v.fc?this.buildColor(v.fc):"rgba(0,0,0,0)"),v.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(v.sc)),this.layerElement.setAttribute("stroke-width",v.sw)),this.layerElement.setAttribute("font-size",v.finalSize);var t=this.globalData.fontManager.getFontByName(v.f);if(t.fClass)this.layerElement.setAttribute("class",t.fClass);else{this.layerElement.setAttribute("font-family",t.fFamily);var C=v.fWeight;this.layerElement.setAttribute("font-style",v.fStyle),this.layerElement.setAttribute("font-weight",C)}this.layerElement.setAttribute("aria-label",v.t);var q=v.l||[],Y=!!this.globalData.fontManager.chars;m=q.length;var se,fe,re=this.mHelper,B="",j=this.data.singleShape,oe=0,X=0,te=!0,me=.001*v.tr*v.finalSize;if(!j||Y||v.sz){var ee,_e,K=this.textSpans.length;for(h=0;h<m;h+=1)(!Y||!j||0===h)&&(se=K>h?this.textSpans[h]:createNS(Y?"path":"text"),K<=h&&(se.setAttribute("stroke-linecap","butt"),se.setAttribute("stroke-linejoin","round"),se.setAttribute("stroke-miterlimit","4"),this.textSpans[h]=se,this.layerElement.appendChild(se)),se.style.display="inherit"),re.reset(),re.scale(v.finalSize/100,v.finalSize/100),j&&(q[h].n&&(oe=-me,X+=v.yOffset,X+=te?1:0,te=!1),this.applyTextPropertiesToMatrix(v,re,q[h].line,oe,X),oe+=q[h].l||0,oe+=me),Y?(fe=(ee=(_e=this.globalData.fontManager.getCharData(v.finalText[h],t.fStyle,this.globalData.fontManager.getFontByName(v.f).fFamily))&&_e.data||{}).shapes?ee.shapes[0].it:[],j?B+=this.createPathShape(re,fe):se.setAttribute("d",this.createPathShape(re,fe))):(j&&se.setAttribute("transform","translate("+re.props[12]+","+re.props[13]+")"),se.textContent=q[h].val,se.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));j&&se&&se.setAttribute("d",B)}else{var le=this.textContainer,W="start";switch(v.j){case 1:W="end";break;case 2:W="middle";break;default:W="start"}le.setAttribute("text-anchor",W),le.setAttribute("letter-spacing",me);var z=this.buildTextContents(v.finalText);for(m=z.length,X=v.ps?v.ps[1]+v.ascent:0,h=0;h<m;h+=1)(se=this.textSpans[h]||createNS("tspan")).textContent=z[h],se.setAttribute("x",0),se.setAttribute("y",X),se.style.display="inherit",le.appendChild(se),this.textSpans[h]=se,X+=v.finalLineHeight;this.layerElement.appendChild(le)}for(;h<this.textSpans.length;)this.textSpans[h].style.display="none",h+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var h=this.layerElement.getBBox();this.bbox={top:h.y,left:h.x,width:h.width,height:h.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var h,m,C,S,v=this.textAnimator.renderedLetters,t=this.textProperty.currentData.l;for(m=t.length,h=0;h<m;h+=1)t[h].n||(S=this.textSpans[h],(C=v[h])._mdf.m&&S.setAttribute("transform",C.m),C._mdf.o&&S.setAttribute("opacity",C.o),C._mdf.sw&&S.setAttribute("stroke-width",C.sw),C._mdf.sc&&S.setAttribute("stroke",C.sc),C._mdf.fc&&S.setAttribute("fill",C.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var h,v,t,S,m=this.shapes.length,C=this.stylesList.length,q=[],Y=!1;for(t=0;t<C;t+=1){for(S=this.stylesList[t],Y=!1,q.length=0,h=0;h<m;h+=1)-1!==(v=this.shapes[h]).styles.indexOf(S)&&(q.push(v),Y=v._isAnimated||Y);q.length>1&&Y&&this.setShapesAsAnimated(q)}},SVGShapeElement.prototype.setShapesAsAnimated=function(h){var m,v=h.length;for(m=0;m<v;m+=1)h[m].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(h,m){var v,t=new SVGStyleData(h,m),C=t.pElem;return"st"===h.ty?v=new SVGStrokeStyleData(this,h,t):"fl"===h.ty?v=new SVGFillStyleData(this,h,t):"gf"!==h.ty&&"gs"!==h.ty||(v=new("gf"===h.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,h,t),this.globalData.defs.appendChild(v.gf),v.maskId&&(this.globalData.defs.appendChild(v.ms),this.globalData.defs.appendChild(v.of),C.setAttribute("mask","url("+locationHref+"#"+v.maskId+")"))),("st"===h.ty||"gs"===h.ty)&&(C.setAttribute("stroke-linecap",lineCapEnum[h.lc||2]),C.setAttribute("stroke-linejoin",lineJoinEnum[h.lj||2]),C.setAttribute("fill-opacity","0"),1===h.lj&&C.setAttribute("stroke-miterlimit",h.ml)),2===h.r&&C.setAttribute("fill-rule","evenodd"),h.ln&&C.setAttribute("id",h.ln),h.cl&&C.setAttribute("class",h.cl),h.bm&&(C.style["mix-blend-mode"]=getBlendMode(h.bm)),this.stylesList.push(t),this.addToAnimatedContents(h,v),v},SVGShapeElement.prototype.createGroupElement=function(h){var m=new ShapeGroupData;return h.ln&&m.gr.setAttribute("id",h.ln),h.cl&&m.gr.setAttribute("class",h.cl),h.bm&&(m.gr.style["mix-blend-mode"]=getBlendMode(h.bm)),m},SVGShapeElement.prototype.createTransformElement=function(h,m){var v=TransformPropertyFactory.getTransformProperty(this,h,this),t=new SVGTransformData(v,v.o,m);return this.addToAnimatedContents(h,t),t},SVGShapeElement.prototype.createShapeElement=function(h,m,v){var t=4;"rc"===h.ty?t=5:"el"===h.ty?t=6:"sr"===h.ty&&(t=7);var S=new SVGShapeData(m,v,ShapePropertyFactory.getShapeProp(this,h,t,this));return this.shapes.push(S),this.addShapeToModifiers(S),this.addToAnimatedContents(h,S),S},SVGShapeElement.prototype.addToAnimatedContents=function(h,m){for(var v=0,t=this.animatedContents.length;v<t;){if(this.animatedContents[v].element===m)return;v+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(h),element:m,data:h})},SVGShapeElement.prototype.setElementStyles=function(h){var v,m=h.styles,t=this.stylesList.length;for(v=0;v<t;v+=1)this.stylesList[v].closed||m.push(this.stylesList[v])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var h,m=this.itemsData.length;for(h=0;h<m;h+=1)this.prevViewData[h]=this.itemsData[h];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),m=this.dynamicProperties.length,h=0;h<m;h+=1)this.dynamicProperties[h].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(h,m,v,t,C,S,q){var se,fe,B,te,me,Y=[].concat(S),re=h.length-1,j=[],oe=[];for(se=re;se>=0;se-=1){if((me=this.searchProcessedElement(h[se]))?m[se]=v[me-1]:h[se]._render=q,"fl"===h[se].ty||"st"===h[se].ty||"gf"===h[se].ty||"gs"===h[se].ty)me?m[se].style.closed=!1:m[se]=this.createStyleElement(h[se],C),h[se]._render&&m[se].style.pElem.parentNode!==t&&t.appendChild(m[se].style.pElem),j.push(m[se].style);else if("gr"===h[se].ty){if(me)for(B=m[se].it.length,fe=0;fe<B;fe+=1)m[se].prevViewData[fe]=m[se].it[fe];else m[se]=this.createGroupElement(h[se]);this.searchShapes(h[se].it,m[se].it,m[se].prevViewData,m[se].gr,C+1,Y,q),h[se]._render&&m[se].gr.parentNode!==t&&t.appendChild(m[se].gr)}else"tr"===h[se].ty?(me||(m[se]=this.createTransformElement(h[se],t)),Y.push(m[se].transform)):"sh"===h[se].ty||"rc"===h[se].ty||"el"===h[se].ty||"sr"===h[se].ty?(me||(m[se]=this.createShapeElement(h[se],Y,C)),this.setElementStyles(m[se])):"tm"===h[se].ty||"rd"===h[se].ty||"ms"===h[se].ty||"pb"===h[se].ty?(me?(te=m[se]).closed=!1:((te=ShapeModifiers.getModifier(h[se].ty)).init(this,h[se]),m[se]=te,this.shapeModifiers.push(te)),oe.push(te)):"rp"===h[se].ty&&(me?(te=m[se]).closed=!0:(te=ShapeModifiers.getModifier(h[se].ty),m[se]=te,te.init(this,h,se,m),this.shapeModifiers.push(te),q=!1),oe.push(te));this.addProcessedElement(h[se],se+1)}for(re=j.length,se=0;se<re;se+=1)j[se].closed=!0;for(re=oe.length,se=0;se<re;se+=1)oe[se].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var h,m=this.stylesList.length;for(h=0;h<m;h+=1)this.stylesList[h].reset();for(this.renderShape(),h=0;h<m;h+=1)(this.stylesList[h]._mdf||this._isFirstFrame)&&(this.stylesList[h].msElem&&(this.stylesList[h].msElem.setAttribute("d",this.stylesList[h].d),this.stylesList[h].d="M0 0"+this.stylesList[h].d),this.stylesList[h].pElem.setAttribute("d",this.stylesList[h].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var h,v,m=this.animatedContents.length;for(h=0;h<m;h+=1)v=this.animatedContents[h],(this._isFirstFrame||v.element._isAnimated)&&!0!==v.data&&v.fn(v.data,v.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){var m=this.filterManager.effectElements[0].p.v,v=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",v[0]-m[0]+" 0 0 0 "+m[0]+" "+(v[1]-m[1])+" 0 0 0 "+m[1]+" "+(v[2]-m[2])+" 0 0 0 "+m[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){var m=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+m[0]+" 0 0 0 0 "+m[1]+" 0 0 0 0 "+m[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){var v=.3*this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==t?0:v)+" "+(2==t?0:v)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},SVGStrokeEffect.prototype.initialize=function(){var m,v,t,C,h=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(C=this.elem.maskManager.masksProperties.length,t=0):C=1+(t=this.filterManager.effectElements[0].p.v-1),(v=createNS("g")).setAttribute("fill","none"),v.setAttribute("stroke-linecap","round"),v.setAttribute("stroke-dashoffset",1);t<C;t+=1)m=createNS("path"),v.appendChild(m),this.paths.push({p:m,m:t});if(3===this.filterManager.effectElements[10].p.v){var S=createNS("mask"),q=createElementID();S.setAttribute("id",q),S.setAttribute("mask-type","alpha"),S.appendChild(v),this.elem.globalData.defs.appendChild(S);var Y=createNS("g");for(Y.setAttribute("mask","url("+locationHref+"#"+q+")");h[0];)Y.appendChild(h[0]);this.elem.layerElement.appendChild(Y),this.masker=S,v.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(h=this.elem.layerElement.children||this.elem.layerElement.childNodes;h.length;)this.elem.layerElement.removeChild(h[0]);this.elem.layerElement.appendChild(v),this.elem.layerElement.removeAttribute("mask"),v.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=v},SVGStrokeEffect.prototype.renderFrame=function(h){this.initialized||this.initialize();var m,t,C,v=this.paths.length;for(m=0;m<v;m+=1)if(-1!==this.paths[m].m&&(t=this.elem.maskManager.viewData[this.paths[m].m],C=this.paths[m].p,(h||this.filterManager._mdf||t.prop._mdf)&&C.setAttribute("d",t.lastPath),h||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||t.prop._mdf)){var S;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var q=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),Y=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),se=C.getTotalLength();S="0 0 0 "+se*q+" ";var j,B=Math.floor(se*(Y-q)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(j=0;j<B;j+=1)S+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";S+="0 "+10*se+" 0 0"}else S="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;C.setAttribute("stroke-dasharray",S)}if((h||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(h||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(h||this.filterManager.effectElements[3].p._mdf)){var oe=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*oe[0])+","+bmFloor(255*oe[1])+","+bmFloor(255*oe[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){var m=this.filterManager.effectElements[0].p.v,v=this.filterManager.effectElements[1].p.v,t=this.filterManager.effectElements[2].p.v,S=t[1]+" "+v[1]+" "+m[1],q=t[2]+" "+v[2]+" "+m[2];this.feFuncR.setAttribute("tableValues",t[0]+" "+v[0]+" "+m[0]),this.feFuncG.setAttribute("tableValues",S),this.feFuncB.setAttribute("tableValues",q)}},SVGProLevelsFilter.prototype.createFeFunc=function(h,m){var v=createNS(h);return v.setAttribute("type","table"),m.appendChild(v),v},SVGProLevelsFilter.prototype.getTableValue=function(h,m,v,t,C){for(var Y,B,S=0,se=Math.min(h,m),re=Math.max(h,m),fe=Array.call(null,{length:256}),j=0,oe=C-t,X=m-h;S<=256;)B=(Y=S/256)<=se?X<0?C:t:Y>=re?X<0?t:C:t+oe*Math.pow((Y-h)/X,1/v),fe[j]=B,j+=1,S+=256/255;return fe.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){var m,v=this.filterManager.effectElements;this.feFuncRComposed&&(h||v[3].p._mdf||v[4].p._mdf||v[5].p._mdf||v[6].p._mdf||v[7].p._mdf)&&(m=this.getTableValue(v[3].p.v,v[4].p.v,v[5].p.v,v[6].p.v,v[7].p.v),this.feFuncRComposed.setAttribute("tableValues",m),this.feFuncGComposed.setAttribute("tableValues",m),this.feFuncBComposed.setAttribute("tableValues",m)),this.feFuncR&&(h||v[10].p._mdf||v[11].p._mdf||v[12].p._mdf||v[13].p._mdf||v[14].p._mdf)&&(m=this.getTableValue(v[10].p.v,v[11].p.v,v[12].p.v,v[13].p.v,v[14].p.v),this.feFuncR.setAttribute("tableValues",m)),this.feFuncG&&(h||v[17].p._mdf||v[18].p._mdf||v[19].p._mdf||v[20].p._mdf||v[21].p._mdf)&&(m=this.getTableValue(v[17].p.v,v[18].p.v,v[19].p.v,v[20].p.v,v[21].p.v),this.feFuncG.setAttribute("tableValues",m)),this.feFuncB&&(h||v[24].p._mdf||v[25].p._mdf||v[26].p._mdf||v[27].p._mdf||v[28].p._mdf)&&(m=this.getTableValue(v[24].p.v,v[25].p.v,v[26].p.v,v[27].p.v,v[28].p.v),this.feFuncB.setAttribute("tableValues",m)),this.feFuncA&&(h||v[31].p._mdf||v[32].p._mdf||v[33].p._mdf||v[34].p._mdf||v[35].p._mdf)&&(m=this.getTableValue(v[31].p.v,v[32].p.v,v[33].p.v,v[34].p.v,v[35].p.v),this.feFuncA.setAttribute("tableValues",m))}},SVGDropShadowEffect.prototype.renderFrame=function(h){if(h||this.filterManager._mdf){if((h||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),h||this.filterManager.effectElements[0].p._mdf){var m=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*m[0]),Math.round(255*m[1]),Math.round(255*m[2])))}if((h||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),h||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var v=this.filterManager.effectElements[3].p.v,t=(this.filterManager.effectElements[2].p.v-90)*degToRads,C=v*Math.cos(t),S=v*Math.sin(t);this.feOffset.setAttribute("dx",C),this.feOffset.setAttribute("dy",S)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(h,m,v){this.initialized=!1,this.filterManager=m,this.filterElem=h,this.elem=v,v.matteElement=createNS("g"),v.matteElement.appendChild(v.layerElement),v.matteElement.appendChild(v.transformedElement),v.baseElement=v.matteElement}function SVGEffects(h){var m,q,v=h.data.ef?h.data.ef.length:0,t=createElementID(),C=filtersFactory.createFilter(t,!0),S=0;for(this.filters=[],m=0;m<v;m+=1)q=null,20===h.data.ef[m].ty?(S+=1,q=new SVGTintFilter(C,h.effectsManager.effectElements[m])):21===h.data.ef[m].ty?(S+=1,q=new SVGFillFilter(C,h.effectsManager.effectElements[m])):22===h.data.ef[m].ty?q=new SVGStrokeEffect(h,h.effectsManager.effectElements[m]):23===h.data.ef[m].ty?(S+=1,q=new SVGTritoneFilter(C,h.effectsManager.effectElements[m])):24===h.data.ef[m].ty?(S+=1,q=new SVGProLevelsFilter(C,h.effectsManager.effectElements[m])):25===h.data.ef[m].ty?(S+=1,q=new SVGDropShadowEffect(C,h.effectsManager.effectElements[m])):28===h.data.ef[m].ty?q=new SVGMatte3Effect(C,h.effectsManager.effectElements[m],h):29===h.data.ef[m].ty&&(S+=1,q=new SVGGaussianBlurEffect(C,h.effectsManager.effectElements[m])),q&&this.filters.push(q);S&&(h.globalData.defs.appendChild(C),h.layerElement.setAttribute("filter","url("+locationHref+"#"+t+")")),this.filters.length&&h.addRenderableComponent(this)}function CVContextData(){var h;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),h=0;h<15;h+=1)this.saved[h]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(h,m,v){this.assetData=m.getAssetData(h.refId),this.img=m.imageLoader.getAsset(this.assetData),this.initElement(h,m,v)}function CVCompElement(h,m,v){this.completeLayers=!1,this.layers=h.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(h,m,v),this.tm=h.tm?PropertyFactory.getProp(this,h.tm,0,m.frameRate,this):{_placeholder:!0}}function CVMaskElement(h,m){this.data=h,this.element=m,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var v,t=this.masksProperties.length,C=!1;for(v=0;v<t;v+=1)"n"!==this.masksProperties[v].mode&&(C=!0),this.viewData[v]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[v],3);this.hasMasks=C,C&&this.element.addRenderableComponent(this)}function CVShapeElement(h,m,v){this.shapes=[],this.shapesData=h.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(h,m,v)}function CVSolidElement(h,m,v){this.initElement(h,m,v)}function CVTextElement(h,m,v){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(h,m,v)}function CVEffects(){}function HBaseElement(){}function HSolidElement(h,m,v){this.initElement(h,m,v)}function HCompElement(h,m,v){this.layers=h.layers,this.supports3d=!h.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(h,m,v),this.tm=h.tm?PropertyFactory.getProp(this,h.tm,0,m.frameRate,this):{_placeholder:!0}}function HShapeElement(h,m,v){this.shapes=[],this.shapesData=h.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(h,m,v),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(h,m,v){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(h,m,v)}function HImageElement(h,m,v){this.assetData=m.getAssetData(h.refId),this.initElement(h,m,v)}function HCameraElement(h,m,v){this.initFrame(),this.initBaseData(h,m,v),this.initHierarchy();var t=PropertyFactory.getProp;if(this.pe=t(this,h.pe,0,0,this),h.ks.p.s?(this.px=t(this,h.ks.p.x,1,0,this),this.py=t(this,h.ks.p.y,1,0,this),this.pz=t(this,h.ks.p.z,1,0,this)):this.p=t(this,h.ks.p,1,0,this),h.ks.a&&(this.a=t(this,h.ks.a,1,0,this)),h.ks.or.k.length&&h.ks.or.k[0].to){var C,S=h.ks.or.k.length;for(C=0;C<S;C+=1)h.ks.or.k[C].to=null,h.ks.or.k[C].ti=null}this.or=t(this,h.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=t(this,h.ks.rx,0,degToRads,this),this.ry=t(this,h.ks.ry,0,degToRads,this),this.rz=t(this,h.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(h){for(var m=0,v=_svgMatteSymbols.length;m<v;){if(_svgMatteSymbols[m]===h)return _svgMatteSymbols[m];m+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(h,m){var v=h.layerElement.parentNode;if(v){for(var t=v.children,C=0,S=t.length;C<S&&t[C]!==h.layerElement;)C+=1;var q;C<=S-2&&(q=t[C+1]);var Y=createNS("use");Y.setAttribute("href","#"+m),q?v.insertBefore(Y,q):v.appendChild(Y)}},SVGMatte3Effect.prototype.setElementAsMask=function(h,m){if(!this.findSymbol(m)){var v=createElementID(),t=createNS("mask");t.setAttribute("id",m.layerId),t.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(m);var C=h.globalData.defs;C.appendChild(t);var S=createNS("symbol");S.setAttribute("id",v),this.replaceInParent(m,v),S.appendChild(m.layerElement),C.appendChild(S);var q=createNS("use");q.setAttribute("href","#"+v),t.appendChild(q),m.data.hd=!1,m.show()}h.setMatte(m.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var h=this.filterManager.effectElements[0].p.v,m=this.elem.comp.elements,v=0,t=m.length;v<t;)m[v]&&m[v].data.ind===h&&this.setElementAsMask(this.elem,m[v]),v+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(h){var m,v=this.filters.length;for(m=0;m<v;m+=1)this.filters[m].renderFrame(h)},CVContextData.prototype.duplicate=function(){var h=2*this._length,m=this.savedOp;this.savedOp=createTypedArray("float32",h),this.savedOp.set(m);var v=0;for(v=this._length;v<h;v+=1)this.saved[v]=createTypedArray("float32",16);this._length=h},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var h=this.globalData;if(h.blendMode!==this.data.bm){h.blendMode=this.data.bm;var m=getBlendMode(this.data.bm);h.canvasContext.globalCompositeOperation=m}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var h=0===this.data.ty;this.globalData.renderer.save(h),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(h),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var h=createTag("canvas");h.width=this.assetData.w,h.height=this.assetData.h;var q,Y,m=h.getContext("2d"),v=this.img.width,t=this.img.height,C=v/t,S=this.assetData.w/this.assetData.h,se=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;C>S&&"xMidYMid slice"===se||C<S&&"xMidYMid slice"!==se?q=(Y=t)*S:Y=(q=v)/S,m.drawImage(this.img,(v-q)/2,(t-Y)/2,q,Y,0,0,this.assetData.w,this.assetData.h),this.img=h}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var m,h=this.canvasContext;for(h.beginPath(),h.moveTo(0,0),h.lineTo(this.data.w,0),h.lineTo(this.data.w,this.data.h),h.lineTo(0,this.data.h),h.lineTo(0,0),h.clip(),m=this.layers.length-1;m>=0;m-=1)(this.completeLayers||this.elements[m])&&this.elements[m].renderFrame()},CVCompElement.prototype.destroy=function(){var h;for(h=this.layers.length-1;h>=0;h-=1)this.elements[h]&&this.elements[h].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var v,C,S,q,h=this.element.finalTransform.mat,m=this.element.canvasContext,t=this.masksProperties.length;for(m.beginPath(),v=0;v<t;v+=1)if("n"!==this.masksProperties[v].mode){this.masksProperties[v].inv&&(m.moveTo(0,0),m.lineTo(this.element.globalData.compSize.w,0),m.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),m.lineTo(0,this.element.globalData.compSize.h),m.lineTo(0,0)),C=h.applyToPointArray((q=this.viewData[v].v).v[0][0],q.v[0][1],0),m.moveTo(C[0],C[1]);var Y,se=q._length;for(Y=1;Y<se;Y+=1)S=h.applyToTriplePoints(q.o[Y-1],q.i[Y],q.v[Y]),m.bezierCurveTo(S[0],S[1],S[2],S[3],S[4],S[5]);S=h.applyToTriplePoints(q.o[Y-1],q.i[0],q.v[0]),m.bezierCurveTo(S[0],S[1],S[2],S[3],S[4],S[5])}this.element.globalData.renderer.save(!0),m.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(h,m){var v={data:h,type:h.ty,preTransforms:this.transformsManager.addTransformSequence(m),transforms:[],elements:[],closed:!0===h.hd},t={};if("fl"===h.ty||"st"===h.ty?(t.c=PropertyFactory.getProp(this,h.c,1,255,this),t.c.k||(v.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")")):("gf"===h.ty||"gs"===h.ty)&&(t.s=PropertyFactory.getProp(this,h.s,1,null,this),t.e=PropertyFactory.getProp(this,h.e,1,null,this),t.h=PropertyFactory.getProp(this,h.h||{k:0},0,.01,this),t.a=PropertyFactory.getProp(this,h.a||{k:0},0,degToRads,this),t.g=new GradientProperty(this,h.g,this)),t.o=PropertyFactory.getProp(this,h.o,0,.01,this),"st"===h.ty||"gs"===h.ty){if(v.lc=lineCapEnum[h.lc||2],v.lj=lineJoinEnum[h.lj||2],1==h.lj&&(v.ml=h.ml),t.w=PropertyFactory.getProp(this,h.w,0,null,this),t.w.k||(v.wi=t.w.v),h.d){var C=new DashProperty(this,h.d,"canvas",this);t.d=C,t.d.k||(v.da=t.d.dashArray,v.do=t.d.dashoffset[0])}}else v.r=2===h.r?"evenodd":"nonzero";return this.stylesList.push(v),t.style=v,t},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(h){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,h.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,h,this)}}},CVShapeElement.prototype.createShapeElement=function(h){var m=new CVShapeData(this,h,this.stylesList,this.transformsManager);return this.shapes.push(m),this.addShapeToModifiers(m),m},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var h,m=this.itemsData.length;for(h=0;h<m;h+=1)this.prevViewData[h]=this.itemsData[h];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),m=this.dynamicProperties.length,h=0;h<m;h+=1)this.dynamicProperties[h].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(h){var m,v=this.stylesList.length;for(m=0;m<v;m+=1)this.stylesList[m].closed||this.stylesList[m].transforms.push(h)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var h,m=this.stylesList.length;for(h=0;h<m;h+=1)this.stylesList[h].closed||this.stylesList[h].transforms.pop()},CVShapeElement.prototype.closeStyles=function(h){var m,v=h.length;for(m=0;m<v;m+=1)h[m].closed=!0},CVShapeElement.prototype.searchShapes=function(h,m,v,t,C){var S,Y,se,B,j,oe,q=h.length-1,re=[],fe=[],X=[].concat(C);for(S=q;S>=0;S-=1){if((B=this.searchProcessedElement(h[S]))?m[S]=v[B-1]:h[S]._shouldRender=t,"fl"===h[S].ty||"st"===h[S].ty||"gf"===h[S].ty||"gs"===h[S].ty)B?m[S].style.closed=!1:m[S]=this.createStyleElement(h[S],X),re.push(m[S].style);else if("gr"===h[S].ty){if(B)for(se=m[S].it.length,Y=0;Y<se;Y+=1)m[S].prevViewData[Y]=m[S].it[Y];else m[S]=this.createGroupElement(h[S]);this.searchShapes(h[S].it,m[S].it,m[S].prevViewData,t,X)}else"tr"===h[S].ty?(B||(oe=this.createTransformElement(h[S]),m[S]=oe),X.push(m[S]),this.addTransformToStyleList(m[S])):"sh"===h[S].ty||"rc"===h[S].ty||"el"===h[S].ty||"sr"===h[S].ty?B||(m[S]=this.createShapeElement(h[S])):"tm"===h[S].ty||"rd"===h[S].ty||"pb"===h[S].ty?(B?(j=m[S]).closed=!1:((j=ShapeModifiers.getModifier(h[S].ty)).init(this,h[S]),m[S]=j,this.shapeModifiers.push(j)),fe.push(j)):"rp"===h[S].ty&&(B?(j=m[S]).closed=!0:(j=ShapeModifiers.getModifier(h[S].ty),m[S]=j,j.init(this,h,S,m),this.shapeModifiers.push(j),t=!1),fe.push(j));this.addProcessedElement(h[S],S+1)}for(this.removeTransformFromStyleList(),this.closeStyles(re),q=fe.length,S=0;S<q;S+=1)fe[S].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(h,m){(h._opMdf||m.op._mdf||this._isFirstFrame)&&(m.opacity=h.opacity,m.opacity*=m.op.v,m._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var h,v,t,C,S,q,Y,fe,B,m=this.stylesList.length,se=this.globalData.renderer,re=this.globalData.canvasContext;for(h=0;h<m;h+=1)if(("st"!==(fe=(B=this.stylesList[h]).type)&&"gs"!==fe||0!==B.wi)&&B.data._shouldRender&&0!==B.coOp&&0!==this.globalData.currentGlobalAlpha){for(se.save(),q=B.elements,"st"===fe||"gs"===fe?(re.strokeStyle="st"===fe?B.co:B.grd,re.lineWidth=B.wi,re.lineCap=B.lc,re.lineJoin=B.lj,re.miterLimit=B.ml||0):re.fillStyle="fl"===fe?B.co:B.grd,se.ctxOpacity(B.coOp),"st"!==fe&&"gs"!==fe&&re.beginPath(),se.ctxTransform(B.preTransforms.finalTransform.props),t=q.length,v=0;v<t;v+=1){for(("st"===fe||"gs"===fe)&&(re.beginPath(),B.da&&(re.setLineDash(B.da),re.lineDashOffset=B.do)),S=(Y=q[v].trNodes).length,C=0;C<S;C+=1)"m"===Y[C].t?re.moveTo(Y[C].p[0],Y[C].p[1]):"c"===Y[C].t?re.bezierCurveTo(Y[C].pts[0],Y[C].pts[1],Y[C].pts[2],Y[C].pts[3],Y[C].pts[4],Y[C].pts[5]):re.closePath();("st"===fe||"gs"===fe)&&(re.stroke(),B.da&&re.setLineDash(this.dashResetter))}"st"!==fe&&"gs"!==fe&&re.fill(B.r),se.restore()}},CVShapeElement.prototype.renderShape=function(h,m,v,t){var C,q;for(q=h,C=m.length-1;C>=0;C-=1)"tr"===m[C].ty?this.renderShapeTransform(h,q=v[C].transform):"sh"===m[C].ty||"el"===m[C].ty||"rc"===m[C].ty||"sr"===m[C].ty?this.renderPath(m[C],v[C]):"fl"===m[C].ty?this.renderFill(m[C],v[C],q):"st"===m[C].ty?this.renderStroke(m[C],v[C],q):"gf"===m[C].ty||"gs"===m[C].ty?this.renderGradientFill(m[C],v[C],q):"gr"===m[C].ty&&this.renderShape(q,m[C].it,v[C].it);t&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(h,m){if(this._isFirstFrame||m._mdf||h.transforms._mdf){var C,S,q,v=h.trNodes,t=m.paths,Y=t._length;v.length=0;var se=h.transforms.finalTransform;for(q=0;q<Y;q+=1){var re=t.shapes[q];if(re&&re.v){for(S=re._length,C=1;C<S;C+=1)1===C&&v.push({t:"m",p:se.applyToPointArray(re.v[0][0],re.v[0][1],0)}),v.push({t:"c",pts:se.applyToTriplePoints(re.o[C-1],re.i[C],re.v[C])});1===S&&v.push({t:"m",p:se.applyToPointArray(re.v[0][0],re.v[0][1],0)}),re.c&&S&&(v.push({t:"c",pts:se.applyToTriplePoints(re.o[C-1],re.i[0],re.v[0])}),v.push({t:"z"}))}}h.trNodes=v}},CVShapeElement.prototype.renderPath=function(h,m){if(!0!==h.hd&&h._shouldRender){var v,t=m.styledShapes.length;for(v=0;v<t;v+=1)this.renderStyledShape(m.styledShapes[v],m.sh)}},CVShapeElement.prototype.renderFill=function(h,m,v){var t=m.style;(m.c._mdf||this._isFirstFrame)&&(t.co="rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v._opMdf||this._isFirstFrame)&&(t.coOp=m.o.v*v.opacity)},CVShapeElement.prototype.renderGradientFill=function(h,m,v){var C,t=m.style;if(!t.grd||m.g._mdf||m.s._mdf||m.e._mdf||1!==h.t&&(m.h._mdf||m.a._mdf)){var S=this.globalData.canvasContext,q=m.s.v,Y=m.e.v;if(1===h.t)C=S.createLinearGradient(q[0],q[1],Y[0],Y[1]);else{var se=Math.sqrt(Math.pow(q[0]-Y[0],2)+Math.pow(q[1]-Y[1],2)),re=Math.atan2(Y[1]-q[1],Y[0]-q[0]),fe=m.h.v;fe>=1?fe=.99:fe<=-1&&(fe=-.99);var B=se*fe,j=Math.cos(re+m.a.v)*B+q[0],oe=Math.sin(re+m.a.v)*B+q[1];C=S.createRadialGradient(j,oe,0,q[0],q[1],se)}var X,te=h.g.p,me=m.g.c,le=1;for(X=0;X<te;X+=1)m.g._hasOpacity&&m.g._collapsable&&(le=m.g.o[2*X+1]),C.addColorStop(me[4*X]/100,"rgba("+me[4*X+1]+","+me[4*X+2]+","+me[4*X+3]+","+le+")");t.grd=C}t.coOp=m.o.v*v.opacity},CVShapeElement.prototype.renderStroke=function(h,m,v){var t=m.style,C=m.d;C&&(C._mdf||this._isFirstFrame)&&(t.da=C.dashArray,t.do=C.dashoffset[0]),(m.c._mdf||this._isFirstFrame)&&(t.co="rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v._opMdf||this._isFirstFrame)&&(t.coOp=m.o.v*v.opacity),(m.w._mdf||this._isFirstFrame)&&(t.wi=m.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var h=this.canvasContext;h.fillStyle=this.data.sc,h.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var h=this.textProperty.currentData;this.renderedLetters=createSizedArray(h.l?h.l.length:0);var m=!1;h.fc?(m=!0,this.values.fill=this.buildColor(h.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=m;var v=!1;h.sc&&(v=!0,this.values.stroke=this.buildColor(h.sc),this.values.sWidth=h.sw);var C,S,t=this.globalData.fontManager.getFontByName(h.f),q=h.l,Y=this.mHelper;this.stroke=v,this.values.fValue=h.finalSize+"px "+this.globalData.fontManager.getFontByName(h.f).fFamily,S=h.finalText.length;var se,re,fe,B,j,oe,X,te,me,le,W=this.data.singleShape,z=.001*h.tr*h.finalSize,K=0,ee=0,_e=!0,ve=0;for(C=0;C<S;C+=1){for(re=(se=this.globalData.fontManager.getCharData(h.finalText[C],t.fStyle,this.globalData.fontManager.getFontByName(h.f).fFamily))&&se.data||{},Y.reset(),W&&q[C].n&&(K=-z,ee+=h.yOffset,ee+=_e?1:0,_e=!1),X=(j=re.shapes?re.shapes[0].it:[]).length,Y.scale(h.finalSize/100,h.finalSize/100),W&&this.applyTextPropertiesToMatrix(h,Y,q[C].line,K,ee),me=createSizedArray(X),oe=0;oe<X;oe+=1){for(B=j[oe].ks.k.i.length,te=j[oe].ks.k,le=[],fe=1;fe<B;fe+=1)1===fe&&le.push(Y.applyToX(te.v[0][0],te.v[0][1],0),Y.applyToY(te.v[0][0],te.v[0][1],0)),le.push(Y.applyToX(te.o[fe-1][0],te.o[fe-1][1],0),Y.applyToY(te.o[fe-1][0],te.o[fe-1][1],0),Y.applyToX(te.i[fe][0],te.i[fe][1],0),Y.applyToY(te.i[fe][0],te.i[fe][1],0),Y.applyToX(te.v[fe][0],te.v[fe][1],0),Y.applyToY(te.v[fe][0],te.v[fe][1],0));le.push(Y.applyToX(te.o[fe-1][0],te.o[fe-1][1],0),Y.applyToY(te.o[fe-1][0],te.o[fe-1][1],0),Y.applyToX(te.i[0][0],te.i[0][1],0),Y.applyToY(te.i[0][0],te.i[0][1],0),Y.applyToX(te.v[0][0],te.v[0][1],0),Y.applyToY(te.v[0][0],te.v[0][1],0)),me[oe]=le}W&&(K+=q[C].l,K+=z),this.textSpans[ve]?this.textSpans[ve].elem=me:this.textSpans[ve]={elem:me},ve+=1}},CVTextElement.prototype.renderInnerContent=function(){var h=this.canvasContext;h.font=this.values.fValue,h.lineCap="butt",h.lineJoin="miter",h.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var m,v,t,C,S,q,Y=this.textAnimator.renderedLetters,se=this.textProperty.currentData.l;v=se.length;var re,oe,X,fe=null,B=null,j=null;for(m=0;m<v;m+=1)if(!se[m].n){if((re=Y[m])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(re.p),this.globalData.renderer.ctxOpacity(re.o)),this.fill){for(re&&re.fc?fe!==re.fc&&(fe=re.fc,h.fillStyle=re.fc):fe!==this.values.fill&&(fe=this.values.fill,h.fillStyle=this.values.fill),C=(oe=this.textSpans[m].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<C;t+=1)for(q=(X=oe[t]).length,this.globalData.canvasContext.moveTo(X[0],X[1]),S=2;S<q;S+=6)this.globalData.canvasContext.bezierCurveTo(X[S],X[S+1],X[S+2],X[S+3],X[S+4],X[S+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(re&&re.sw?j!==re.sw&&(j=re.sw,h.lineWidth=re.sw):j!==this.values.sWidth&&(j=this.values.sWidth,h.lineWidth=this.values.sWidth),re&&re.sc?B!==re.sc&&(B=re.sc,h.strokeStyle=re.sc):B!==this.values.stroke&&(B=this.values.stroke,h.strokeStyle=this.values.stroke),C=(oe=this.textSpans[m].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<C;t+=1)for(q=(X=oe[t]).length,this.globalData.canvasContext.moveTo(X[0],X[1]),S=2;S<q;S+=6)this.globalData.canvasContext.bezierCurveTo(X[S],X[S+1],X[S+2],X[S+3],X[S+4],X[S+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}re&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var h=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var m=this.finalTransform.mat.toCSS();h.transform=m,h.webkitTransform=m}this.finalTransform._opMdf&&(h.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var h;this.data.hasMask?((h=createNS("rect")).setAttribute("width",this.data.sw),h.setAttribute("height",this.data.sh),h.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((h=createTag("div")).style.width=this.data.sw+"px",h.style.height=this.data.sh+"px",h.style.backgroundColor=this.data.sc),this.layerElement.appendChild(h)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(h,m){for(var t,v=0;v<m;)this.elements[v]&&this.elements[v].getBaseElement&&(t=this.elements[v].getBaseElement()),v+=1;t?this.layerElement.insertBefore(h,t):this.layerElement.appendChild(h)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var h;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),h=this.svgElement;else{h=createNS("svg");var m=this.comp.data?this.comp.data:this.globalData.compSize;h.setAttribute("width",m.w),h.setAttribute("height",m.h),h.appendChild(this.shapesContainer),this.layerElement.appendChild(h)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=h},HShapeElement.prototype.getTransformedPoint=function(h,m){var v,t=h.length;for(v=0;v<t;v+=1)m=h[v].mProps.v.applyToPointArray(m[0],m[1],0);return m},HShapeElement.prototype.calculateShapeBoundingBox=function(h,m){var C,q,Y,se,re,v=h.sh.v,t=h.transformers,S=v._length;if(!(S<=1)){for(C=0;C<S-1;C+=1)q=this.getTransformedPoint(t,v.v[C]),Y=this.getTransformedPoint(t,v.o[C]),se=this.getTransformedPoint(t,v.i[C+1]),re=this.getTransformedPoint(t,v.v[C+1]),this.checkBounds(q,Y,se,re,m);v.c&&(q=this.getTransformedPoint(t,v.v[C]),Y=this.getTransformedPoint(t,v.o[C]),se=this.getTransformedPoint(t,v.i[0]),re=this.getTransformedPoint(t,v.v[0]),this.checkBounds(q,Y,se,re,m))}},HShapeElement.prototype.checkBounds=function(h,m,v,t,C){this.getBoundsOfCurve(h,m,v,t);var S=this.shapeBoundingBox;C.x=bmMin(S.left,C.x),C.xMax=bmMax(S.right,C.xMax),C.y=bmMin(S.top,C.y),C.yMax=bmMax(S.bottom,C.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(h,m,v,t){for(var S,q,Y,se,re,fe,B,C=[[h[0],t[0]],[h[1],t[1]]],j=0;j<2;++j)q=6*h[j]-12*m[j]+6*v[j],S=-3*h[j]+9*m[j]-9*v[j]+3*t[j],Y=3*m[j]-3*h[j],q|=0,Y|=0,0==(S|=0)&&0===q||(0===S?(se=-Y/q)>0&&se<1&&C[j].push(this.calculateF(se,h,m,v,t,j)):(re=q*q-4*Y*S)>=0&&((fe=(-q+bmSqrt(re))/(2*S))>0&&fe<1&&C[j].push(this.calculateF(fe,h,m,v,t,j)),(B=(-q-bmSqrt(re))/(2*S))>0&&B<1&&C[j].push(this.calculateF(B,h,m,v,t,j))));this.shapeBoundingBox.left=bmMin.apply(null,C[0]),this.shapeBoundingBox.top=bmMin.apply(null,C[1]),this.shapeBoundingBox.right=bmMax.apply(null,C[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,C[1])},HShapeElement.prototype.calculateF=function(h,m,v,t,C,S){return bmPow(1-h,3)*m[S]+3*bmPow(1-h,2)*h*v[S]+3*(1-h)*bmPow(h,2)*t[S]+bmPow(h,3)*C[S]},HShapeElement.prototype.calculateBoundingBox=function(h,m){var v,t=h.length;for(v=0;v<t;v+=1)h[v]&&h[v].sh?this.calculateShapeBoundingBox(h[v],m):h[v]&&h[v].it&&this.calculateBoundingBox(h[v].it,m)},HShapeElement.prototype.currentBoxContains=function(h){return this.currentBBox.x<=h.x&&this.currentBBox.y<=h.y&&this.currentBBox.width+this.currentBBox.x>=h.x+h.width&&this.currentBBox.height+this.currentBBox.y>=h.y+h.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.tempBoundingBox,m=999999;if(h.x=m,h.xMax=-m,h.y=m,h.yMax=-m,this.calculateBoundingBox(this.itemsData,h),h.width=h.xMax<h.x?0:h.xMax-h.x,h.height=h.yMax<h.y?0:h.yMax-h.y,this.currentBoxContains(h))return;var v=!1;if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.shapeCont.setAttribute("width",h.width),v=!0),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.shapeCont.setAttribute("height",h.height),v=!0),v||this.currentBBox.x!==h.x||this.currentBBox.y!==h.y){this.currentBBox.w=h.width,this.currentBBox.h=h.height,this.currentBBox.x=h.x,this.currentBBox.y=h.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var t=this.shapeCont.style,C="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=C,t.webkitTransform=C}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var h=createNS("g");this.maskedElement.appendChild(h),this.innerElem=h}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var h=this.textProperty.currentData;this.renderedLetters=createSizedArray(h.l?h.l.length:0);var m=this.innerElem.style,v=h.fc?this.buildColor(h.fc):"rgba(0,0,0,0)";m.fill=v,m.color=v,h.sc&&(m.stroke=this.buildColor(h.sc),m.strokeWidth=h.sw+"px");var t=this.globalData.fontManager.getFontByName(h.f);if(!this.globalData.fontManager.chars)if(m.fontSize=h.finalSize+"px",m.lineHeight=h.finalSize+"px",t.fClass)this.innerElem.className=t.fClass;else{m.fontFamily=t.fFamily;var C=h.fWeight;m.fontStyle=h.fStyle,m.fontWeight=C}var q,Y,se=h.l;Y=se.length;var re,fe,B,oe,j=this.mHelper,X="",te=0;for(q=0;q<Y;q+=1){if(this.globalData.fontManager.chars?(this.textPaths[te]?re=this.textPaths[te]:((re=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),re.setAttribute("stroke-linejoin",lineJoinEnum[2]),re.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[te]?B=(fe=this.textSpans[te]).children[0]:((fe=createTag("div")).style.lineHeight=0,(B=createNS("svg")).appendChild(re),styleDiv(fe)))):this.isMasked?re=this.textPaths[te]?this.textPaths[te]:createNS("text"):this.textSpans[te]?(fe=this.textSpans[te],re=this.textPaths[te]):(styleDiv(fe=createTag("span")),styleDiv(re=createTag("span")),fe.appendChild(re)),this.globalData.fontManager.chars){var le,me=this.globalData.fontManager.getCharData(h.finalText[q],t.fStyle,this.globalData.fontManager.getFontByName(h.f).fFamily);if(le=me?me.data:null,j.reset(),le&&le.shapes&&(oe=le.shapes[0].it,j.scale(h.finalSize/100,h.finalSize/100),X=this.createPathShape(j,oe),re.setAttribute("d",X)),this.isMasked)this.innerElem.appendChild(re);else{if(this.innerElem.appendChild(fe),le&&le.shapes){document.body.appendChild(B);var W=B.getBBox();B.setAttribute("width",W.width+2),B.setAttribute("height",W.height+2),B.setAttribute("viewBox",W.x-1+" "+(W.y-1)+" "+(W.width+2)+" "+(W.height+2));var z=B.style,K="translate("+(W.x-1)+"px,"+(W.y-1)+"px)";z.transform=K,z.webkitTransform=K,se[q].yOffset=W.y-1}else B.setAttribute("width",1),B.setAttribute("height",1);fe.appendChild(B)}}else if(re.textContent=se[q].val,re.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(re);else{this.innerElem.appendChild(fe);var ee=re.style,_e="translate3d(0,"+-h.finalSize/1.2+"px,0)";ee.transform=_e,ee.webkitTransform=_e}this.textSpans[te]=this.isMasked?re:fe,this.textSpans[te].style.display="block",this.textPaths[te]=re,te+=1}for(;te<this.textSpans.length;)this.textSpans[te].style.display="none",te+=1},HTextElement.prototype.renderInnerContent=function(){var h;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var m="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(h=this.svgElement.style).transform=m,h.webkitTransform=m}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var v,t,Y,se,re,C=0,S=this.textAnimator.renderedLetters,q=this.textProperty.currentData.l;for(t=q.length,v=0;v<t;v+=1)q[v].n?C+=1:(se=this.textSpans[v],re=this.textPaths[v],Y=S[C],C+=1,Y._mdf.m&&(this.isMasked?se.setAttribute("transform",Y.m):(se.style.webkitTransform=Y.m,se.style.transform=Y.m)),se.style.opacity=Y.o,Y.sw&&Y._mdf.sw&&re.setAttribute("stroke-width",Y.sw),Y.sc&&Y._mdf.sc&&re.setAttribute("stroke",Y.sc),Y.fc&&Y._mdf.fc&&(re.setAttribute("fill",Y.fc),re.style.color=Y.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var fe=this.innerElem.getBBox();if(this.currentBBox.w!==fe.width&&(this.currentBBox.w=fe.width,this.svgElement.setAttribute("width",fe.width)),this.currentBBox.h!==fe.height&&(this.currentBBox.h=fe.height,this.svgElement.setAttribute("height",fe.height)),this.currentBBox.w!==fe.width+2||this.currentBBox.h!==fe.height+2||this.currentBBox.x!==fe.x-1||this.currentBBox.y!==fe.y-1){this.currentBBox.w=fe.width+2,this.currentBBox.h=fe.height+2,this.currentBBox.x=fe.x-1,this.currentBBox.y=fe.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var j="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(h=this.svgElement.style).transform=j,h.webkitTransform=j}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var h=this.globalData.getAssetsPath(this.assetData),m=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",h),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(m),m.crossOrigin="anonymous",m.src=h,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var h,v,t,C,m=this.comp.threeDElements.length;for(h=0;h<m;h+=1)if("3d"===(v=this.comp.threeDElements[h]).type){C=v.container.style;var S=this.pe.v+"px",q="0px 0px 0px",Y="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(t=v.perspectiveElem.style).perspective=S,t.webkitPerspective=S,C.transformOrigin=q,C.mozTransformOrigin=q,C.webkitTransformOrigin=q,t.transform=Y,t.webkitTransform=Y}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var m,v,h=this._isFirstFrame;if(this.hierarchy)for(v=this.hierarchy.length,m=0;m<v;m+=1)h=this.hierarchy[m].finalTransform.mProp._mdf||h;if(h||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(m=v=this.hierarchy.length-1;m>=0;m-=1){var t=this.hierarchy[m].finalTransform.mProp;this.mat.translate(-t.p.v[0],-t.p.v[1],t.p.v[2]),this.mat.rotateX(-t.or.v[0]).rotateY(-t.or.v[1]).rotateZ(t.or.v[2]),this.mat.rotateX(-t.rx.v).rotateY(-t.ry.v).rotateZ(t.rz.v),this.mat.scale(1/t.s.v[0],1/t.s.v[1],1/t.s.v[2]),this.mat.translate(t.a.v[0],t.a.v[1],t.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var C;C=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var S=Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)+Math.pow(C[2],2)),q=[C[0]/S,C[1]/S,C[2]/S],Y=Math.sqrt(q[2]*q[2]+q[0]*q[0]),se=Math.atan2(q[1],Y),re=Math.atan2(q[0],-q[2]);this.mat.rotateY(re).rotateX(-se)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var fe=!this._prevMat.equals(this.mat);if((fe||this.pe._mdf)&&this.comp.threeDElements){var B,j,oe;for(v=this.comp.threeDElements.length,m=0;m<v;m+=1)if("3d"===(B=this.comp.threeDElements[m]).type){if(fe){var X=this.mat.toCSS();(oe=B.container.style).transform=X,oe.webkitTransform=X}this.pe._mdf&&((j=B.perspectiveElem.style).perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(h){this.prepareProperties(h,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var h={},m=[],v=0,t=0,C=0,S=!0,q=!1;function Y(R){for(var $=0,J=R.target;$<t;)m[$].animation===J&&(m.splice($,1),$-=1,t-=1,J.isPaused||B()),$+=1}function se(R,$){if(!R)return null;for(var J=0;J<t;){if(m[J].elem===R&&null!==m[J].elem)return m[J].animation;J+=1}var je=new AnimationItem;return j(je,R),je.setData(R,$),je}function fe(){C+=1,Ge()}function B(){C-=1}function j(R,$){R.addEventListener("destroy",Y),R.addEventListener("_active",fe),R.addEventListener("_idle",B),m.push({elem:$,animation:R}),t+=1}function le(R){var J,$=R-v;for(J=0;J<t;J+=1)m[J].animation.advanceTime($);v=R,C&&!q?window.requestAnimationFrame(le):S=!0}function W(R){v=R,window.requestAnimationFrame(le)}function Ge(){!q&&C&&S&&(window.requestAnimationFrame(W),S=!1)}return h.registerAnimation=se,h.loadAnimation=function(R){var $=new AnimationItem;return j($,null),$.setParams(R),$},h.setSpeed=function(R,$){var J;for(J=0;J<t;J+=1)m[J].animation.setSpeed(R,$)},h.setDirection=function(R,$){var J;for(J=0;J<t;J+=1)m[J].animation.setDirection(R,$)},h.play=function(R){var $;for($=0;$<t;$+=1)m[$].animation.play(R)},h.pause=function(R){var $;for($=0;$<t;$+=1)m[$].animation.pause(R)},h.stop=function(R){var $;for($=0;$<t;$+=1)m[$].animation.stop(R)},h.togglePause=function(R){var $;for($=0;$<t;$+=1)m[$].animation.togglePause(R)},h.searchAnimations=function(R,$,J){var we,je=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ne=je.length;for(we=0;we<Ne;we+=1)J&&je[we].setAttribute("data-bm-type",J),se(je[we],R);if($&&0===Ne){J||(J="svg");var ut=document.getElementsByTagName("body")[0];ut.innerText="";var qe=createTag("div");qe.style.width="100%",qe.style.height="100%",qe.setAttribute("data-bm-type",J),ut.appendChild(qe),se(qe,R)}},h.resize=function(){var R;for(R=0;R<t;R+=1)m[R].animation.resize()},h.goToAndStop=function(R,$,J){var je;for(je=0;je<t;je+=1)m[je].animation.goToAndStop(R,$,J)},h.destroy=function(R){var $;for($=t-1;$>=0;$-=1)m[$].animation.destroy(R)},h.freeze=function(){q=!0},h.unfreeze=function(){q=!1,Ge()},h.setVolume=function(R,$){var J;for(J=0;J<t;J+=1)m[J].animation.setVolume(R,$)},h.mute=function(R){var $;for($=0;$<t;$+=1)m[$].animation.mute(R)},h.unmute=function(R){var $;for($=0;$<t;$+=1)m[$].animation.unmute(R)},h.getRegisteredAnimations=function(){var R,$=m.length,J=[];for(R=0;R<$;R+=1)J.push(m[R].animation);return J},h}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(h){(h.wrapper||h.container)&&(this.wrapper=h.wrapper||h.container);var m="svg";switch(h.animType?m=h.animType:h.renderer&&(m=h.renderer),m){case"canvas":this.renderer=new CanvasRenderer(this,h.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,h.rendererSettings);break;default:this.renderer=new HybridRenderer(this,h.rendererSettings)}this.imagePreloader.setCacheType(m,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=m,this.loop=""===h.loop||null==h.loop||!0===h.loop||!1!==h.loop&&parseInt(h.loop,10),this.autoplay=!("autoplay"in h)||h.autoplay,this.name=h.name?h.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(h,"autoloadSegments")||h.autoloadSegments,this.assetsPath=h.assetsPath,this.initialSegment=h.initialSegment,h.audioFactory&&this.audioController.setAudioFactory(h.audioFactory),h.animationData?this.setupAnimation(h.animationData):h.path&&(this.path=-1!==h.path.lastIndexOf("\\")?h.path.substr(0,h.path.lastIndexOf("\\")+1):h.path.substr(0,h.path.lastIndexOf("/")+1),this.fileName=h.path.substr(h.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(h.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(h){dataManager.completeAnimation(h,this.configAnimation)},AnimationItem.prototype.setData=function(h,m){m&&"object"!=typeof m&&(m=JSON.parse(m));var v={wrapper:h,animationData:m},t=h.attributes;v.path=t.getNamedItem("data-animation-path")?t.getNamedItem("data-animation-path").value:t.getNamedItem("data-bm-path")?t.getNamedItem("data-bm-path").value:t.getNamedItem("bm-path")?t.getNamedItem("bm-path").value:"",v.animType=t.getNamedItem("data-anim-type")?t.getNamedItem("data-anim-type").value:t.getNamedItem("data-bm-type")?t.getNamedItem("data-bm-type").value:t.getNamedItem("bm-type")?t.getNamedItem("bm-type").value:t.getNamedItem("data-bm-renderer")?t.getNamedItem("data-bm-renderer").value:t.getNamedItem("bm-renderer")?t.getNamedItem("bm-renderer").value:"canvas";var C=t.getNamedItem("data-anim-loop")?t.getNamedItem("data-anim-loop").value:t.getNamedItem("data-bm-loop")?t.getNamedItem("data-bm-loop").value:t.getNamedItem("bm-loop")?t.getNamedItem("bm-loop").value:"";"false"===C?v.loop=!1:"true"===C?v.loop=!0:""!==C&&(v.loop=parseInt(C,10));var S=t.getNamedItem("data-anim-autoplay")?t.getNamedItem("data-anim-autoplay").value:t.getNamedItem("data-bm-autoplay")?t.getNamedItem("data-bm-autoplay").value:!t.getNamedItem("bm-autoplay")||t.getNamedItem("bm-autoplay").value;v.autoplay="false"!==S,v.name=t.getNamedItem("data-name")?t.getNamedItem("data-name").value:t.getNamedItem("data-bm-name")?t.getNamedItem("data-bm-name").value:t.getNamedItem("bm-name")?t.getNamedItem("bm-name").value:"","false"===(t.getNamedItem("data-anim-prerender")?t.getNamedItem("data-anim-prerender").value:t.getNamedItem("data-bm-prerender")?t.getNamedItem("data-bm-prerender").value:t.getNamedItem("bm-prerender")?t.getNamedItem("bm-prerender").value:"")&&(v.prerender=!1),this.setParams(v)},AnimationItem.prototype.includeLayers=function(h){h.op>this.animationData.op&&(this.animationData.op=h.op,this.totalFrames=Math.floor(h.op-this.animationData.ip));var v,S,m=this.animationData.layers,t=m.length,C=h.layers,q=C.length;for(S=0;S<q;S+=1)for(v=0;v<t;){if(m[v].id===C[S].id){m[v]=C[S];break}v+=1}if((h.chars||h.fonts)&&(this.renderer.globalData.fontManager.addChars(h.chars),this.renderer.globalData.fontManager.addFonts(h.fonts,this.renderer.globalData.defs)),h.assets)for(t=h.assets.length,v=0;v<t;v+=1)this.animationData.assets.push(h.assets[v]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(h){this.animationData=h,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var h=this.animationData.segments;if(!h||0===h.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var m=h.shift();this.timeCompleted=m.time*this.frameRate;var v=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(v,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(h){if(this.renderer)try{this.animationData=h,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(h),h.assets||(h.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(h.assets),this.markers=markerParser(h.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(m){this.triggerConfigError(m)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(h){this.isSubframeEnabled=!!h},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(h){this.triggerRenderFrameError(h)}},AnimationItem.prototype.play=function(h){h&&this.name!==h||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(h){h&&this.name!==h||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(h){h&&this.name!==h||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(h){h&&this.name!==h||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(h){for(var m,v=0;v<this.markers.length;v+=1)if((m=this.markers[v]).payload&&m.payload.name===h)return m;return null},AnimationItem.prototype.goToAndStop=function(h,m,v){if(!v||this.name===v){var t=Number(h);if(isNaN(t)){var C=this.getMarkerData(h);C&&this.goToAndStop(C.time,!0)}else this.setCurrentRawFrameValue(m?h:h*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(h,m,v){if(!v||this.name===v){var t=Number(h);if(isNaN(t)){var C=this.getMarkerData(h);C&&(C.duration?this.playSegments([C.time,C.time+C.duration],!0):this.goToAndStop(C.time,!0))}else this.goToAndStop(t,m,v);this.play()}},AnimationItem.prototype.advanceTime=function(h){if(!0!==this.isPaused&&!1!==this.isLoaded){var m=this.currentRawFrame+h*this.frameModifier,v=!1;m>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?m>=this.totalFrames?(this.playCount+=1,this.checkSegments(m%this.totalFrames)||(this.setCurrentRawFrameValue(m%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(m):this.checkSegments(m>this.totalFrames?m%this.totalFrames:0)||(v=!0,m=this.totalFrames-1):m<0?this.checkSegments(m%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(v=!0,m=0):(this.setCurrentRawFrameValue(this.totalFrames+m%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(m),v&&(this.setCurrentRawFrameValue(m),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(h,m){this.playCount=0,h[1]<h[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=h[0]-h[1],this.timeCompleted=this.totalFrames,this.firstFrame=h[1],this.setCurrentRawFrameValue(this.totalFrames-.001-m)):h[1]>h[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=h[1]-h[0],this.timeCompleted=this.totalFrames,this.firstFrame=h[0],this.setCurrentRawFrameValue(.001+m)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(h,m){var v=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<h?v=h:this.currentRawFrame+this.firstFrame>m&&(v=m-h)),this.firstFrame=h,this.totalFrames=m-h,this.timeCompleted=this.totalFrames,-1!==v&&this.goToAndStop(v,!0)},AnimationItem.prototype.playSegments=function(h,m){if(m&&(this.segments.length=0),"object"==typeof h[0]){var v,t=h.length;for(v=0;v<t;v+=1)this.segments.push(h[v])}else this.segments.push(h);this.segments.length&&m&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(h){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),h&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(h){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),h),!0)},AnimationItem.prototype.destroy=function(h){h&&this.name!==h||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(h){this.currentRawFrame=h,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(h){this.playSpeed=h,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(h){this.playDirection=h<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(h,m){m&&this.name!==m||this.audioController.setVolume(h)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(h){h&&this.name!==h||this.audioController.mute()},AnimationItem.prototype.unmute=function(h){h&&this.name!==h||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(h){var m="";if(h.e)m=h.p;else if(this.assetsPath){var v=h.p;-1!==v.indexOf("images/")&&(v=v.split("/")[1]),m=this.assetsPath+v}else m=this.path,m+=h.u?h.u:"",m+=h.p;return m},AnimationItem.prototype.getAssetData=function(h){for(var m=0,v=this.assets.length;m<v;){if(h===this.assets[m].id)return this.assets[m];m+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(h){return h?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(h){if(this._cbs&&this._cbs[h])switch(h){case"enterFrame":case"drawnFrame":this.triggerEvent(h,new BMEnterFrameEvent(h,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(h,new BMCompleteLoopEvent(h,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(h,new BMCompleteEvent(h,this.frameMult));break;case"segmentStart":this.triggerEvent(h,new BMSegmentStartEvent(h,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(h,new BMDestroyEvent(h,this));break;default:this.triggerEvent(h)}"enterFrame"===h&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(h,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===h&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(h,this.loop,this.playCount,this.frameMult)),"complete"===h&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(h,this.frameMult)),"segmentStart"===h&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(h,this.firstFrame,this.totalFrames)),"destroy"===h&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(h,this))},AnimationItem.prototype.triggerRenderFrameError=function(h){var m=new BMRenderFrameErrorEvent(h,this.currentFrame);this.triggerEvent("error",m),this.onError&&this.onError.call(this,m)},AnimationItem.prototype.triggerConfigError=function(h){var m=new BMConfigErrorEvent(h,this.currentFrame);this.triggerEvent("error",m),this.onError&&this.onError.call(this,m)};var Expressions=function(){var h={initExpressions:function(v){var t=0,C=[];v.renderer.compInterface=CompExpressionInterface(v.renderer),v.renderer.globalData.projectInterface.registerComposition(v.renderer),v.renderer.globalData.pushExpression=function(){t+=1},v.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var re,fe=C.length;for(re=0;re<fe;re+=1)C[re].release();C.length=0}()},v.renderer.globalData.registerExpressionProperty=function(re){-1===C.indexOf(re)&&C.push(re)}}};return h}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(h){return h.constructor===Array||h.constructor===Float32Array}function isNumerable(h,m){return"number"===h||"boolean"===h||"string"===h||m instanceof Number}function $bm_neg(h){var m=typeof h;if("number"===m||"boolean"===m||h instanceof Number)return-h;if($bm_isInstanceOfArray(h)){var v,t=h.length,C=[];for(v=0;v<t;v+=1)C[v]=-h[v];return C}return h.propType?h.v:-h}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(h,m){var v=typeof h,t=typeof m;if("string"===v||"string"===t||isNumerable(v,h)&&isNumerable(t,m))return h+m;if($bm_isInstanceOfArray(h)&&isNumerable(t,m))return(h=h.slice(0))[0]+=m,h;if(isNumerable(v,h)&&$bm_isInstanceOfArray(m))return(m=m.slice(0))[0]=h+m[0],m;if($bm_isInstanceOfArray(h)&&$bm_isInstanceOfArray(m)){for(var C=0,S=h.length,q=m.length,Y=[];C<S||C<q;)Y[C]=("number"==typeof h[C]||h[C]instanceof Number)&&("number"==typeof m[C]||m[C]instanceof Number)?h[C]+m[C]:void 0===m[C]?h[C]:h[C]||m[C],C+=1;return Y}return 0}var add=sum;function sub(h,m){var v=typeof h,t=typeof m;if(isNumerable(v,h)&&isNumerable(t,m))return"string"===v&&(h=parseInt(h,10)),"string"===t&&(m=parseInt(m,10)),h-m;if($bm_isInstanceOfArray(h)&&isNumerable(t,m))return(h=h.slice(0))[0]-=m,h;if(isNumerable(v,h)&&$bm_isInstanceOfArray(m))return(m=m.slice(0))[0]=h-m[0],m;if($bm_isInstanceOfArray(h)&&$bm_isInstanceOfArray(m)){for(var C=0,S=h.length,q=m.length,Y=[];C<S||C<q;)Y[C]=("number"==typeof h[C]||h[C]instanceof Number)&&("number"==typeof m[C]||m[C]instanceof Number)?h[C]-m[C]:void 0===m[C]?h[C]:h[C]||m[C],C+=1;return Y}return 0}function mul(h,m){var C,S,q,v=typeof h,t=typeof m;if(isNumerable(v,h)&&isNumerable(t,m))return h*m;if($bm_isInstanceOfArray(h)&&isNumerable(t,m)){for(C=createTypedArray("float32",q=h.length),S=0;S<q;S+=1)C[S]=h[S]*m;return C}if(isNumerable(v,h)&&$bm_isInstanceOfArray(m)){for(C=createTypedArray("float32",q=m.length),S=0;S<q;S+=1)C[S]=h*m[S];return C}return 0}function div(h,m){var C,S,q,v=typeof h,t=typeof m;if(isNumerable(v,h)&&isNumerable(t,m))return h/m;if($bm_isInstanceOfArray(h)&&isNumerable(t,m)){for(C=createTypedArray("float32",q=h.length),S=0;S<q;S+=1)C[S]=h[S]/m;return C}if(isNumerable(v,h)&&$bm_isInstanceOfArray(m)){for(C=createTypedArray("float32",q=m.length),S=0;S<q;S+=1)C[S]=h/m[S];return C}return 0}function mod(h,m){return"string"==typeof h&&(h=parseInt(h,10)),"string"==typeof m&&(m=parseInt(m,10)),h%m}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(h,m,v){if(m>v){var t=v;v=m,m=t}return Math.min(Math.max(h,m),v)}function radiansToDegrees(h){return h/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(h){return h*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(h,m){if("number"==typeof h||h instanceof Number)return Math.abs(h-(m=m||0));m||(m=helperLengthArray);var v,t=Math.min(h.length,m.length),C=0;for(v=0;v<t;v+=1)C+=Math.pow(m[v]-h[v],2);return Math.sqrt(C)}function normalize(h){return div(h,length(h))}function rgbToHsl(h){var q,Y,m=h[0],v=h[1],t=h[2],C=Math.max(m,v,t),S=Math.min(m,v,t),se=(C+S)/2;if(C===S)q=0,Y=0;else{var re=C-S;switch(Y=se>.5?re/(2-C-S):re/(C+S),C){case m:q=(v-t)/re+(v<t?6:0);break;case v:q=(t-m)/re+2;break;case t:q=(m-v)/re+4}q/=6}return[q,Y,se,h[3]]}function hue2rgb(h,m,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?h+6*(m-h)*v:v<.5?m:v<2/3?h+(m-h)*(2/3-v)*6:h}function hslToRgb(h){var C,S,q,m=h[0],v=h[1],t=h[2];if(0===v)C=t,q=t,S=t;else{var Y=t<.5?t*(1+v):t+v-t*v,se=2*t-Y;C=hue2rgb(se,Y,m+1/3),S=hue2rgb(se,Y,m),q=hue2rgb(se,Y,m-1/3)}return[C,S,q,h[3]]}function linear(h,m,v,t,C){if((void 0===t||void 0===C)&&(t=m,C=v,m=0,v=1),v<m){var S=v;v=m,m=S}if(h<=m)return t;if(h>=v)return C;var q=v===m?0:(h-m)/(v-m);if(!t.length)return t+(C-t)*q;var Y,se=t.length,re=createTypedArray("float32",se);for(Y=0;Y<se;Y+=1)re[Y]=t[Y]+(C[Y]-t[Y])*q;return re}function random(h,m){if(void 0===m&&(void 0===h?(h=0,m=1):(m=h,h=void 0)),m.length){var v,t=m.length;h||(h=createTypedArray("float32",t));var C=createTypedArray("float32",t),S=BMMath.random();for(v=0;v<t;v+=1)C[v]=h[v]+S*(m[v]-h[v]);return C}return void 0===h&&(h=0),h+BMMath.random()*(m-h)}function createPath(h,m,v,t){var C,S=h.length,q=shapePool.newElement();q.setPathData(!!t,S);var se,re,Y=[0,0];for(C=0;C<S;C+=1)q.setTripleAt(h[C][0],h[C][1],(re=v&&v[C]?v[C]:Y)[0]+h[C][0],re[1]+h[C][1],(se=m&&m[C]?m[C]:Y)[0]+h[C][0],se[1]+h[C][1],C,!0);return q}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(m,v){var t,C,S=this.pv.length?this.pv.length:1,q=createTypedArray("float32",S),Y=Math.floor(5*time);for(t=0,C=0;t<Y;){for(C=0;C<S;C+=1)q[C]+=-v+2*v*BMMath.random();t+=1}var se=5*time,re=se-Math.floor(se),fe=createTypedArray("float32",S);if(S>1){for(C=0;C<S;C+=1)fe[C]=this.pv[C]+q[C]+(-v+2*v*BMMath.random())*re;return fe}return this.pv+q[0]+(-v+2*v*BMMath.random())*re}.bind(this);function loopInDuration(h,m){return loopIn(h,m,!0)}function loopOutDuration(h,m){return loopOut(h,m,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(h,m){var v=[m[0]-h[0],m[1]-h[1],m[2]-h[2]],t=Math.atan2(v[0],Math.sqrt(v[1]*v[1]+v[2]*v[2]))/degToRads;return[-Math.atan2(v[1],v[2])/degToRads,t,0]}function easeOut(h,m,v,t,C){return applyEase(easeOutBez,h,m,v,t,C)}function easeIn(h,m,v,t,C){return applyEase(easeInBez,h,m,v,t,C)}function ease(h,m,v,t,C){return applyEase(easeInOutBez,h,m,v,t,C)}function applyEase(h,m,v,t,C,S){void 0===C?(C=v,S=t):m=(m-v)/(t-v),m>1?m=1:m<0&&(m=0);var q=h(m);if($bm_isInstanceOfArray(C)){var Y,se=C.length,re=createTypedArray("float32",se);for(Y=0;Y<se;Y+=1)re[Y]=(S[Y]-C[Y])*q+C[Y];return re}return(S-C)*q+C}function nearestKey(h){var m,t,C,v=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(t=-1,(h*=elem.comp.globalData.frameRate)<data.k[0].t)t=1,C=data.k[0].t;else{for(m=0;m<v-1;m+=1){if(h===data.k[m].t){t=m+1,C=data.k[m].t;break}if(h>data.k[m].t&&h<data.k[m+1].t){h-data.k[m].t>data.k[m+1].t-h?(t=m+2,C=data.k[m+1].t):(t=m+1,C=data.k[m].t);break}}-1===t&&(t=m+1,C=data.k[m].t)}else t=0,C=0;var S={};return S.index=t,S.time=C/elem.comp.globalData.frameRate,S}function key(h){var m,v,t;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+h);m={time:data.k[h-=1].t/elem.comp.globalData.frameRate,value:[]};var C=Object.prototype.hasOwnProperty.call(data.k[h],"s")?data.k[h].s:data.k[h-1].e;for(t=C.length,v=0;v<t;v+=1)m[v]=C[v],m.value[v]=C[v];return m}function framesToTime(h,m){return m||(m=elem.comp.globalData.frameRate),h/m}function timeToFrames(h,m){return!h&&0!==h&&(h=time),m||(m=elem.comp.globalData.frameRate),h*m}function seedRandom(h){BMMath.seedrandom(randSeed+h)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(h,m){return"string"==typeof value?void 0===m?value.substring(h):value.substring(h,m):""}function substr(h,m){return"string"==typeof value?void 0===m?value.substr(h):value.substr(h,m):""}function posterizeTime(h){time=0===h?0:Math.floor(time*h)/h,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(h){return value=h,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(q,Y,se){Y.x&&(se.k=!0,se.x=!0,se.initiateExpression=ExpressionManager.initiateExpression,se.effectsSequence.push(se.initiateExpression(q,Y,se).bind(se)))},getSpeedAtTime:function(q){var se=this.getValueAtTime(q),re=this.getValueAtTime(q+-.01),fe=0;if(se.length){var B;for(B=0;B<se.length;B+=1)fe+=Math.pow(re[B]-se[B],2);fe=100*Math.sqrt(fe)}else fe=0;return fe},getVelocityAtTime:function(q){if(void 0!==this.vel)return this.vel;var fe,B,Y=-.001,se=this.getValueAtTime(q),re=this.getValueAtTime(q+Y);if(se.length)for(fe=createTypedArray("float32",se.length),B=0;B<se.length;B+=1)fe[B]=(re[B]-se[B])/Y;else fe=(re-se)/Y;return fe},getValueAtTime:function(q){return q*=this.elem.globalData.frameRate,(q-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<q?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(q,this._cachingAtTime),this._cachingAtTime.lastFrame=q),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(q){this.propertyGroup=q}};(function(){function m(oe,X,te){if(!this.k||!this.keyframes)return this.pv;oe=oe?oe.toLowerCase():"";var z,K,ee,_e,ve,me=this.comp.renderedFrame,le=this.keyframes,W=le[le.length-1].t;if(me<=W)return this.pv;if(te?K=W-(z=X?Math.abs(W-this.elem.comp.globalData.frameRate*X):Math.max(0,W-this.elem.data.ip)):((!X||X>le.length-1)&&(X=le.length-1),z=W-(K=le[le.length-1-X].t)),"pingpong"===oe){if(Math.floor((me-K)/z)%2!=0)return this.getValueAtTime((z-(me-K)%z+K)/this.comp.globalData.frameRate,0)}else{if("offset"===oe){var xe=this.getValueAtTime(K/this.comp.globalData.frameRate,0),Ge=this.getValueAtTime(W/this.comp.globalData.frameRate,0),k=this.getValueAtTime(((me-K)%z+K)/this.comp.globalData.frameRate,0),U=Math.floor((me-K)/z);if(this.pv.length){for(_e=(ve=new Array(xe.length)).length,ee=0;ee<_e;ee+=1)ve[ee]=(Ge[ee]-xe[ee])*U+k[ee];return ve}return(Ge-xe)*U+k}if("continue"===oe){var O=this.getValueAtTime(W/this.comp.globalData.frameRate,0),H=this.getValueAtTime((W-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_e=(ve=new Array(O.length)).length,ee=0;ee<_e;ee+=1)ve[ee]=O[ee]+(me-W)/this.comp.globalData.frameRate*(O[ee]-H[ee])/5e-4;return ve}return O+(me-W)/.001*(O-H)}}return this.getValueAtTime(((me-K)%z+K)/this.comp.globalData.frameRate,0)}function v(oe,X,te){if(!this.k)return this.pv;oe=oe?oe.toLowerCase():"";var z,K,ee,_e,ve,me=this.comp.renderedFrame,le=this.keyframes,W=le[0].t;if(me>=W)return this.pv;if(te?K=W+(z=X?Math.abs(this.elem.comp.globalData.frameRate*X):Math.max(0,this.elem.data.op-W)):((!X||X>le.length-1)&&(X=le.length-1),z=(K=le[X].t)-W),"pingpong"===oe){if(Math.floor((W-me)/z)%2==0)return this.getValueAtTime(((W-me)%z+W)/this.comp.globalData.frameRate,0)}else{if("offset"===oe){var xe=this.getValueAtTime(W/this.comp.globalData.frameRate,0),Ge=this.getValueAtTime(K/this.comp.globalData.frameRate,0),k=this.getValueAtTime((z-(W-me)%z+W)/this.comp.globalData.frameRate,0),U=Math.floor((W-me)/z)+1;if(this.pv.length){for(_e=(ve=new Array(xe.length)).length,ee=0;ee<_e;ee+=1)ve[ee]=k[ee]-(Ge[ee]-xe[ee])*U;return ve}return k-(Ge-xe)*U}if("continue"===oe){var O=this.getValueAtTime(W/this.comp.globalData.frameRate,0),H=this.getValueAtTime((W+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(_e=(ve=new Array(O.length)).length,ee=0;ee<_e;ee+=1)ve[ee]=O[ee]+(O[ee]-H[ee])*(W-me)/.001;return ve}return O+(O-H)*(W-me)/.001}}return this.getValueAtTime((z-((W-me)%z+W))/this.comp.globalData.frameRate,0)}function t(oe,X){if(!this.k)return this.pv;if(oe=.5*(oe||.4),(X=Math.floor(X||5))<=1)return this.pv;var ee,_e,te=this.comp.renderedFrame/this.comp.globalData.frameRate,me=te-oe,W=X>1?(te+oe-me)/(X-1):1,z=0,K=0;for(ee=this.pv.length?createTypedArray("float32",this.pv.length):0;z<X;){if(_e=this.getValueAtTime(me+z*W),this.pv.length)for(K=0;K<this.pv.length;K+=1)ee[K]+=_e[K];else ee+=_e;z+=1}if(this.pv.length)for(K=0;K<this.pv.length;K+=1)ee[K]/=X;else ee/=X;return ee}function C(oe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var X=this._transformCachingAtTime.v;if(X.cloneFromProps(this.pre.props),this.appliedTransformations<1){var te=this.a.getValueAtTime(oe);X.translate(-te[0]*this.a.mult,-te[1]*this.a.mult,te[2]*this.a.mult)}if(this.appliedTransformations<2){var me=this.s.getValueAtTime(oe);X.scale(me[0]*this.s.mult,me[1]*this.s.mult,me[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var le=this.sk.getValueAtTime(oe),W=this.sa.getValueAtTime(oe);X.skewFromAxis(-le*this.sk.mult,W*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var z=this.r.getValueAtTime(oe);X.rotate(-z*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var K=this.rz.getValueAtTime(oe),ee=this.ry.getValueAtTime(oe),_e=this.rx.getValueAtTime(oe),ve=this.or.getValueAtTime(oe);X.rotateZ(-K*this.rz.mult).rotateY(ee*this.ry.mult).rotateX(_e*this.rx.mult).rotateZ(-ve[2]*this.or.mult).rotateY(ve[1]*this.or.mult).rotateX(ve[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ae=this.px.getValueAtTime(oe),xe=this.py.getValueAtTime(oe);if(this.data.p.z){var Ge=this.pz.getValueAtTime(oe);X.translate(Ae*this.px.mult,xe*this.py.mult,-Ge*this.pz.mult)}else X.translate(Ae*this.px.mult,xe*this.py.mult,0)}else{var k=this.p.getValueAtTime(oe);X.translate(k[0]*this.p.mult,k[1]*this.p.mult,-k[2]*this.p.mult)}return X}function S(){return this.v.clone(new Matrix)}var q=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(oe,X,te){var me=q(oe,X,te);return me.getValueAtTime=me.dynamicProperties.length?C.bind(me):S.bind(me),me.setGroupProperty=expressionHelpers.setGroupProperty,me};var Y=PropertyFactory.getProp;PropertyFactory.getProp=function(oe,X,te,me,le){var W=Y(oe,X,te,me,le);W.getValueAtTime=W.kf?expressionHelpers.getValueAtTime.bind(W):expressionHelpers.getStaticValueAtTime.bind(W),W.setGroupProperty=expressionHelpers.setGroupProperty,W.loopOut=m,W.loopIn=v,W.smooth=t,W.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(W),W.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(W),W.numKeys=1===X.a?X.k.length:0,W.propertyIndex=X.ix;var z=0;return 0!==te&&(z=createTypedArray("float32",1===X.a?X.k[0].s.length:X.k.length)),W._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:z},expressionHelpers.searchExpressions(oe,X,W),W.k&&le.addDynamicProperty(W),W};var re=ShapePropertyFactory.getConstructorFunction(),fe=ShapePropertyFactory.getKeyframedConstructorFunction();function B(){}B.prototype={vertices:function(oe,X){this.k&&this.getValue();var te=this.v;void 0!==X&&(te=this.getValueAtTime(X,0));var me,le=te._length,W=te[oe],z=te.v,K=createSizedArray(le);for(me=0;me<le;me+=1)K[me]="i"===oe||"o"===oe?[W[me][0]-z[me][0],W[me][1]-z[me][1]]:[W[me][0],W[me][1]];return K},points:function(oe){return this.vertices("v",oe)},inTangents:function(oe){return this.vertices("i",oe)},outTangents:function(oe){return this.vertices("o",oe)},isClosed:function(){return this.v.c},pointOnPath:function(oe,X){var te=this.v;void 0!==X&&(te=this.getValueAtTime(X,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(te));for(var _e,me=this._segmentsLength,le=me.lengths,W=me.totalLength*oe,z=0,K=le.length,ee=0;z<K;){if(ee+le[z].addedLength>W){var Ae=te.c&&z===K-1?0:z+1;_e=bez.getPointInSegment(te.v[z],te.v[Ae],te.o[z],te.i[Ae],(W-ee)/le[z].addedLength,le[z]);break}ee+=le[z].addedLength,z+=1}return _e||(_e=te.c?[te.v[0][0],te.v[0][1]]:[te.v[te._length-1][0],te.v[te._length-1][1]]),_e},vectorOnPath:function(oe,X,te){1==oe?oe=this.v.c:0==oe&&(oe=.999);var me=this.pointOnPath(oe,X),le=this.pointOnPath(oe+.001,X),W=le[0]-me[0],z=le[1]-me[1],K=Math.sqrt(Math.pow(W,2)+Math.pow(z,2));return 0===K?[0,0]:"tangent"===te?[W/K,z/K]:[-z/K,W/K]},tangentOnPath:function(oe,X){return this.vectorOnPath(oe,X,"tangent")},normalOnPath:function(oe,X){return this.vectorOnPath(oe,X,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([B],re),extendPrototype([B],fe),fe.prototype.getValueAtTime=function(oe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),oe*=this.elem.globalData.frameRate,(oe-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<oe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=oe,this.interpolateShape(oe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},fe.prototype.initiateExpression=ExpressionManager.initiateExpression;var j=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(oe,X,te,me,le){var W=j(oe,X,te,me,le);return W.propertyIndex=X.ix,W.lock=!1,3===te?expressionHelpers.searchExpressions(oe,X.pt,W):4===te&&expressionHelpers.searchExpressions(oe,X.ks,W),W.k&&oe.addDynamicProperty(W),W}})(),TextProperty.prototype.getExpressionValue=function(v,t){var C=this.calculateExpression(t);if(v.t!==C){var S={};return this.copyData(S,v),S.t=C.toString(),S.__complete=!1,S}return v},TextProperty.prototype.searchProperty=function(){var v=this.searchKeyframes(),t=this.searchExpressions();return this.kf=v||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(m,v,t){var C=v.sh;function S(Y){return"Shape"===Y||"shape"===Y||"Path"===Y||"path"===Y||"ADBE Vector Shape"===Y||2===Y?S.path:null}var q=propertyGroupFactory(S,t);return C.setGroupProperty(PropertyInterface("Path",q)),Object.defineProperties(S,{path:{get:function(){return C.k&&C.getValue(),C}},shape:{get:function(){return C.k&&C.getValue(),C}},_name:{value:m.nm},ix:{value:m.ix},propertyIndex:{value:m.ix},mn:{value:m.mn},propertyGroup:{value:t}}),S},propertyGroupFactory=function(h,m){return function(v){return(v=void 0===v?1:v)<=0?h:m(v-1)}},PropertyInterface=function(h,m){var v={_name:h};return function(C){return(C=void 0===C?1:C)<=0?v:m(C-1)}},ShapeExpressionInterface=function(){function h(X,te,me){var W,le=[],z=X?X.length:0;for(W=0;W<z;W+=1)"gr"===X[W].ty?le.push(v(X[W],te[W],me)):"fl"===X[W].ty?le.push(t(X[W],te[W],me)):"st"===X[W].ty?le.push(q(X[W],te[W],me)):"tm"===X[W].ty?le.push(Y(X[W],te[W],me)):"tr"===X[W].ty||le.push("el"===X[W].ty?re(X[W],te[W],me):"sr"===X[W].ty?fe(X[W],te[W],me):"sh"===X[W].ty?ShapePathInterface(X[W],te[W],me):"rc"===X[W].ty?B(X[W],te[W],me):"rd"===X[W].ty?j(X[W],te[W],me):"rp"===X[W].ty?oe(X[W],te[W],me):"gf"===X[W].ty?C(X[W],te[W],me):function(){return null});return le}function v(X,te,me){var le=function(ee){switch(ee){case"ADBE Vectors Group":case"Contents":case 2:return le.content;default:return le.transform}};le.propertyGroup=propertyGroupFactory(le,me);var W=function(X,te,me){var le,W=function(ee){for(var _e=0,ve=le.length;_e<ve;){if(le[_e]._name===ee||le[_e].mn===ee||le[_e].propertyIndex===ee||le[_e].ix===ee||le[_e].ind===ee)return le[_e];_e+=1}return"number"==typeof ee?le[ee-1]:null};W.propertyGroup=propertyGroupFactory(W,me),le=h(X.it,te.it,W.propertyGroup),W.numProperties=le.length;var z=se(X.it[X.it.length-1],te.it[te.it.length-1],W.propertyGroup);return W.transform=z,W.propertyIndex=X.cix,W._name=X.nm,W}(X,te,le.propertyGroup),z=se(X.it[X.it.length-1],te.it[te.it.length-1],le.propertyGroup);return le.content=W,le.transform=z,Object.defineProperty(le,"_name",{get:function(){return X.nm}}),le.numProperties=X.np,le.propertyIndex=X.ix,le.nm=X.nm,le.mn=X.mn,le}function t(X,te,me){function le(W){return"Color"===W||"color"===W?le.color:"Opacity"===W||"opacity"===W?le.opacity:null}return Object.defineProperties(le,{color:{get:ExpressionPropertyInterface(te.c)},opacity:{get:ExpressionPropertyInterface(te.o)},_name:{value:X.nm},mn:{value:X.mn}}),te.c.setGroupProperty(PropertyInterface("Color",me)),te.o.setGroupProperty(PropertyInterface("Opacity",me)),le}function C(X,te,me){function le(W){return"Start Point"===W||"start point"===W?le.startPoint:"End Point"===W||"end point"===W?le.endPoint:"Opacity"===W||"opacity"===W?le.opacity:null}return Object.defineProperties(le,{startPoint:{get:ExpressionPropertyInterface(te.s)},endPoint:{get:ExpressionPropertyInterface(te.e)},opacity:{get:ExpressionPropertyInterface(te.o)},type:{get:function(){return"a"}},_name:{value:X.nm},mn:{value:X.mn}}),te.s.setGroupProperty(PropertyInterface("Start Point",me)),te.e.setGroupProperty(PropertyInterface("End Point",me)),te.o.setGroupProperty(PropertyInterface("Opacity",me)),le}function q(X,te,me){var K,Ae,le=propertyGroupFactory(ve,me),W=propertyGroupFactory(_e,le),ee=X.d?X.d.length:0,_e={};for(K=0;K<ee;K+=1)Ae=K,Object.defineProperty(_e,X.d[Ae].nm,{get:ExpressionPropertyInterface(te.d.dataProps[Ae].p)}),te.d.dataProps[K].p.setGroupProperty(W);function ve(Ae){return"Color"===Ae||"color"===Ae?ve.color:"Opacity"===Ae||"opacity"===Ae?ve.opacity:"Stroke Width"===Ae||"stroke width"===Ae?ve.strokeWidth:null}return Object.defineProperties(ve,{color:{get:ExpressionPropertyInterface(te.c)},opacity:{get:ExpressionPropertyInterface(te.o)},strokeWidth:{get:ExpressionPropertyInterface(te.w)},dash:{get:function(){return _e}},_name:{value:X.nm},mn:{value:X.mn}}),te.c.setGroupProperty(PropertyInterface("Color",le)),te.o.setGroupProperty(PropertyInterface("Opacity",le)),te.w.setGroupProperty(PropertyInterface("Stroke Width",le)),ve}function Y(X,te,me){function le(z){return z===X.e.ix||"End"===z||"end"===z?le.end:z===X.s.ix?le.start:z===X.o.ix?le.offset:null}var W=propertyGroupFactory(le,me);return le.propertyIndex=X.ix,te.s.setGroupProperty(PropertyInterface("Start",W)),te.e.setGroupProperty(PropertyInterface("End",W)),te.o.setGroupProperty(PropertyInterface("Offset",W)),le.propertyIndex=X.ix,le.propertyGroup=me,Object.defineProperties(le,{start:{get:ExpressionPropertyInterface(te.s)},end:{get:ExpressionPropertyInterface(te.e)},offset:{get:ExpressionPropertyInterface(te.o)},_name:{value:X.nm}}),le.mn=X.mn,le}function se(X,te,me){function le(z){return X.a.ix===z||"Anchor Point"===z?le.anchorPoint:X.o.ix===z||"Opacity"===z?le.opacity:X.p.ix===z||"Position"===z?le.position:X.r.ix===z||"Rotation"===z||"ADBE Vector Rotation"===z?le.rotation:X.s.ix===z||"Scale"===z?le.scale:X.sk&&X.sk.ix===z||"Skew"===z?le.skew:X.sa&&X.sa.ix===z||"Skew Axis"===z?le.skewAxis:null}var W=propertyGroupFactory(le,me);return te.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",W)),te.transform.mProps.p.setGroupProperty(PropertyInterface("Position",W)),te.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",W)),te.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",W)),te.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",W)),te.transform.mProps.sk&&(te.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",W)),te.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",W))),te.transform.op.setGroupProperty(PropertyInterface("Opacity",W)),Object.defineProperties(le,{opacity:{get:ExpressionPropertyInterface(te.transform.mProps.o)},position:{get:ExpressionPropertyInterface(te.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(te.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(te.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(te.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(te.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(te.transform.mProps.sa)},_name:{value:X.nm}}),le.ty="tr",le.mn=X.mn,le.propertyGroup=me,le}function re(X,te,me){function le(K){return X.p.ix===K?le.position:X.s.ix===K?le.size:null}var W=propertyGroupFactory(le,me);le.propertyIndex=X.ix;var z="tm"===te.sh.ty?te.sh.prop:te.sh;return z.s.setGroupProperty(PropertyInterface("Size",W)),z.p.setGroupProperty(PropertyInterface("Position",W)),Object.defineProperties(le,{size:{get:ExpressionPropertyInterface(z.s)},position:{get:ExpressionPropertyInterface(z.p)},_name:{value:X.nm}}),le.mn=X.mn,le}function fe(X,te,me){function le(K){return X.p.ix===K?le.position:X.r.ix===K?le.rotation:X.pt.ix===K?le.points:X.or.ix===K||"ADBE Vector Star Outer Radius"===K?le.outerRadius:X.os.ix===K?le.outerRoundness:!X.ir||X.ir.ix!==K&&"ADBE Vector Star Inner Radius"!==K?X.is&&X.is.ix===K?le.innerRoundness:null:le.innerRadius}var W=propertyGroupFactory(le,me),z="tm"===te.sh.ty?te.sh.prop:te.sh;return le.propertyIndex=X.ix,z.or.setGroupProperty(PropertyInterface("Outer Radius",W)),z.os.setGroupProperty(PropertyInterface("Outer Roundness",W)),z.pt.setGroupProperty(PropertyInterface("Points",W)),z.p.setGroupProperty(PropertyInterface("Position",W)),z.r.setGroupProperty(PropertyInterface("Rotation",W)),X.ir&&(z.ir.setGroupProperty(PropertyInterface("Inner Radius",W)),z.is.setGroupProperty(PropertyInterface("Inner Roundness",W))),Object.defineProperties(le,{position:{get:ExpressionPropertyInterface(z.p)},rotation:{get:ExpressionPropertyInterface(z.r)},points:{get:ExpressionPropertyInterface(z.pt)},outerRadius:{get:ExpressionPropertyInterface(z.or)},outerRoundness:{get:ExpressionPropertyInterface(z.os)},innerRadius:{get:ExpressionPropertyInterface(z.ir)},innerRoundness:{get:ExpressionPropertyInterface(z.is)},_name:{value:X.nm}}),le.mn=X.mn,le}function B(X,te,me){function le(K){return X.p.ix===K?le.position:X.r.ix===K?le.roundness:X.s.ix===K||"Size"===K||"ADBE Vector Rect Size"===K?le.size:null}var W=propertyGroupFactory(le,me),z="tm"===te.sh.ty?te.sh.prop:te.sh;return le.propertyIndex=X.ix,z.p.setGroupProperty(PropertyInterface("Position",W)),z.s.setGroupProperty(PropertyInterface("Size",W)),z.r.setGroupProperty(PropertyInterface("Rotation",W)),Object.defineProperties(le,{position:{get:ExpressionPropertyInterface(z.p)},roundness:{get:ExpressionPropertyInterface(z.r)},size:{get:ExpressionPropertyInterface(z.s)},_name:{value:X.nm}}),le.mn=X.mn,le}function j(X,te,me){function le(K){return X.r.ix===K||"Round Corners 1"===K?le.radius:null}var W=propertyGroupFactory(le,me),z=te;return le.propertyIndex=X.ix,z.rd.setGroupProperty(PropertyInterface("Radius",W)),Object.defineProperties(le,{radius:{get:ExpressionPropertyInterface(z.rd)},_name:{value:X.nm}}),le.mn=X.mn,le}function oe(X,te,me){function le(K){return X.c.ix===K||"Copies"===K?le.copies:X.o.ix===K||"Offset"===K?le.offset:null}var W=propertyGroupFactory(le,me),z=te;return le.propertyIndex=X.ix,z.c.setGroupProperty(PropertyInterface("Copies",W)),z.o.setGroupProperty(PropertyInterface("Offset",W)),Object.defineProperties(le,{copies:{get:ExpressionPropertyInterface(z.c)},offset:{get:ExpressionPropertyInterface(z.o)},_name:{value:X.nm}}),le.mn=X.mn,le}return function(X,te,me){var le;function W(K){if("number"==typeof K)return 0===(K=void 0===K?1:K)?me:le[K-1];for(var ee=0,_e=le.length;ee<_e;){if(le[ee]._name===K)return le[ee];ee+=1}return null}return W.propertyGroup=propertyGroupFactory(W,function(){return me}),le=h(X,te,W.propertyGroup),W.numProperties=le.length,W._name="Contents",W}}(),TextExpressionInterface=function(h){var m,v;function t(C){return"ADBE Text Document"===C?t.sourceText:null}return Object.defineProperty(t,"sourceText",{get:function(){h.textProperty.getValue();var C=h.textProperty.currentData.t;return C!==m&&(h.textProperty.currentData.t=m,(v=new String(C)).value=C||new String(C)),v}}),t},LayerExpressionInterface=function(){function h(re){var fe=new Matrix;return void 0!==re?this._elem.finalTransform.mProp.getValueAtTime(re).clone(fe):this._elem.finalTransform.mProp.applyToMatrix(fe),fe}function m(re,fe){var B=this.getMatrix(fe);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,re)}function v(re,fe){var B=this.getMatrix(fe);return this.applyPoint(B,re)}function t(re,fe){var B=this.getMatrix(fe);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,re)}function C(re,fe){var B=this.getMatrix(fe);return this.invertPoint(B,re)}function S(re,fe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(re)}return re.applyToPointArray(fe[0],fe[1],fe[2]||0)}function q(re,fe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(re)}return re.inversePoint(fe)}function Y(re){var fe=new Matrix;if(fe.reset(),this._elem.finalTransform.mProp.applyToMatrix(fe),this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(fe);return fe.inversePoint(re)}return fe.inversePoint(re)}function se(){return[1,1,1,1]}return function(re){var fe;function oe(te){switch(te){case"ADBE Root Vectors Group":case"Contents":case 2:return oe.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return fe;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return oe.effect;case"ADBE Text Properties":return oe.textInterface;default:return null}}oe.getMatrix=h,oe.invertPoint=q,oe.applyPoint=S,oe.toWorld=v,oe.toWorldVec=m,oe.fromWorld=C,oe.fromWorldVec=t,oe.toComp=v,oe.fromComp=Y,oe.sampleImage=se,oe.sourceRectAtTime=re.sourceRectAtTime.bind(re),oe._elem=re;var X=getDescriptor(fe=TransformExpressionInterface(re.finalTransform.mProp),"anchorPoint");return Object.defineProperties(oe,{hasParent:{get:function(){return re.hierarchy.length}},parent:{get:function(){return re.hierarchy[0].layerInterface}},rotation:getDescriptor(fe,"rotation"),scale:getDescriptor(fe,"scale"),position:getDescriptor(fe,"position"),opacity:getDescriptor(fe,"opacity"),anchorPoint:X,anchor_point:X,transform:{get:function(){return fe}},active:{get:function(){return re.isInRange}}}),oe.startTime=re.data.st,oe.index=re.data.ind,oe.source=re.data.refId,oe.height=0===re.data.ty?re.data.h:100,oe.width=0===re.data.ty?re.data.w:100,oe.inPoint=re.data.ip/re.comp.globalData.frameRate,oe.outPoint=re.data.op/re.comp.globalData.frameRate,oe._name=re.data.nm,oe.registerMaskInterface=function(te){oe.mask=new MaskManagerInterface(te,re)},oe.registerEffectsInterface=function(te){oe.effect=te},oe}}(),FootageInterface=(m=function(v){function t(C){return"Outline"===C?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(v){var t="",C=v.getFootageData();function q(Y){if(C[Y])return t=Y,"object"==typeof(C=C[Y])?q:C;var se=Y.indexOf(t);if(-1!==se){var re=parseInt(Y.substr(se+t.length),10);return"object"==typeof(C=C[re])?q:C}return""}return function(){return t="",C=v.getFootageData(),q}}(v),t},function(v){function t(C){return"Data"===C?t.dataInterface:null}return t._name="Data",t.dataInterface=m(v),t}),CompExpressionInterface=function(h){function m(v){for(var t=0,C=h.layers.length;t<C;){if(h.layers[t].nm===v||h.layers[t].ind===v)return h.elements[t].layerInterface;t+=1}return null}return Object.defineProperty(m,"_name",{value:h.data.nm}),m.layer=m,m.pixelAspect=1,m.height=h.data.h||h.globalData.compSize.h,m.width=h.data.w||h.globalData.compSize.w,m.pixelAspect=1,m.frameDuration=1/h.globalData.frameRate,m.displayStartTime=0,m.numLayers=h.layers.length,m},TransformExpressionInterface=function(h){function m(q){switch(q){case"scale":case"Scale":case"ADBE Scale":case 6:return m.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return m.rotation;case"ADBE Rotate X":return m.xRotation;case"ADBE Rotate Y":return m.yRotation;case"position":case"Position":case"ADBE Position":case 2:return m.position;case"ADBE Position_0":return m.xPosition;case"ADBE Position_1":return m.yPosition;case"ADBE Position_2":return m.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return m.anchorPoint;case"opacity":case"Opacity":case 11:return m.opacity;default:return null}}var v,t,C,S;return Object.defineProperty(m,"rotation",{get:ExpressionPropertyInterface(h.r||h.rz)}),Object.defineProperty(m,"zRotation",{get:ExpressionPropertyInterface(h.rz||h.r)}),Object.defineProperty(m,"xRotation",{get:ExpressionPropertyInterface(h.rx)}),Object.defineProperty(m,"yRotation",{get:ExpressionPropertyInterface(h.ry)}),Object.defineProperty(m,"scale",{get:ExpressionPropertyInterface(h.s)}),h.p?S=ExpressionPropertyInterface(h.p):(v=ExpressionPropertyInterface(h.px),t=ExpressionPropertyInterface(h.py),h.pz&&(C=ExpressionPropertyInterface(h.pz))),Object.defineProperty(m,"position",{get:function(){return h.p?S():[v(),t(),C?C():0]}}),Object.defineProperty(m,"xPosition",{get:ExpressionPropertyInterface(h.px)}),Object.defineProperty(m,"yPosition",{get:ExpressionPropertyInterface(h.py)}),Object.defineProperty(m,"zPosition",{get:ExpressionPropertyInterface(h.pz)}),Object.defineProperty(m,"anchorPoint",{get:ExpressionPropertyInterface(h.a)}),Object.defineProperty(m,"opacity",{get:ExpressionPropertyInterface(h.o)}),Object.defineProperty(m,"skew",{get:ExpressionPropertyInterface(h.sk)}),Object.defineProperty(m,"skewAxis",{get:ExpressionPropertyInterface(h.sa)}),Object.defineProperty(m,"orientation",{get:ExpressionPropertyInterface(h.or)}),m},ProjectInterface=function(){function h(m){this.compositions.push(m)}return function(){function m(v){for(var t=0,C=this.compositions.length;t<C;){if(this.compositions[t].data&&this.compositions[t].data.nm===v)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return m.compositions=[],m.currentFrame=0,m.registerComposition=h,m}}(),EffectsExpressionInterface=function(){function v(C,S,q,Y){function se(oe){for(var X=C.ef,te=0,me=X.length;te<me;){if(oe===X[te].nm||oe===X[te].mn||oe===X[te].ix)return 5===X[te].ty?fe[te]:fe[te]();te+=1}throw new Error}var B,re=propertyGroupFactory(se,q),fe=[],j=C.ef.length;for(B=0;B<j;B+=1)fe.push(5===C.ef[B].ty?v(C.ef[B],S.effectElements[B],S.effectElements[B].propertyGroup,Y):t(S.effectElements[B],C.ef[B].ty,Y,re));return"ADBE Color Control"===C.mn&&Object.defineProperty(se,"color",{get:function(){return fe[0]()}}),Object.defineProperties(se,{numProperties:{get:function(){return C.np}},_name:{value:C.nm},propertyGroup:{value:re}}),se.active=se.enabled=0!==C.en,se}function t(C,S,q,Y){var se=ExpressionPropertyInterface(C.p);return C.p.setGroupProperty&&C.p.setGroupProperty(PropertyInterface("",Y)),function(){return 10===S?q.comp.compInterface(C.p.v):se()}}return{createEffectsInterface:function(C,S){if(C.effectsManager){var se,q=[],Y=C.data.ef,re=C.effectsManager.effectElements.length;for(se=0;se<re;se+=1)q.push(v(Y[se],C.effectsManager.effectElements[se],S,C));var fe=C.data.ef||[],B=function(j){for(se=0,re=fe.length;se<re;){if(j===fe[se].nm||j===fe[se].mn||j===fe[se].ix)return q[se];se+=1}return null};return Object.defineProperty(B,"numProperties",{get:function(){return fe.length}}),B}return null}}}(),MaskManagerInterface=function(){function h(v,t){this._mask=v,this._data=t}return Object.defineProperty(h.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(h.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(v){var C,t=createSizedArray(v.viewData.length),S=v.viewData.length;for(C=0;C<S;C+=1)t[C]=new h(v.viewData[C],v.masksProperties[C]);return function(Y){for(C=0;C<S;){if(v.masksProperties[C].nm===Y)return t[C];C+=1}return null}}}(),ExpressionPropertyInterface=function(){var h={pv:0,v:0,mult:1},m={pv:[0,0,0],v:[0,0,0],mult:1};function v(q,Y,se){Object.defineProperty(q,"velocity",{get:function(){return Y.getVelocityAtTime(Y.comp.currentFrame)}}),q.numKeys=Y.keyframes?Y.keyframes.length:0,q.key=function(re){if(!q.numKeys)return 0;var fe;fe="s"in Y.keyframes[re-1]?Y.keyframes[re-1].s:"e"in Y.keyframes[re-2]?Y.keyframes[re-2].e:Y.keyframes[re-2].s;var B="unidimensional"===se?new Number(fe):Object.assign({},fe);return B.time=Y.keyframes[re-1].t/Y.elem.comp.globalData.frameRate,B.value="unidimensional"===se?fe[0]:fe,B},q.valueAtTime=Y.getValueAtTime,q.speedAtTime=Y.getSpeedAtTime,q.velocityAtTime=Y.getVelocityAtTime,q.propertyGroup=Y.propertyGroup}function S(){return h}return function(q){return q?"unidimensional"===q.propType?function(q){(!q||!("pv"in q))&&(q=h);var Y=1/q.mult,se=q.pv*Y,re=new Number(se);return re.value=se,v(re,q,"unidimensional"),function(){return q.k&&q.getValue(),re.value!==(se=q.v*Y)&&((re=new Number(se)).value=se,v(re,q,"unidimensional")),re}}(q):function(q){(!q||!("pv"in q))&&(q=m);var Y=1/q.mult,se=q.data&&q.data.l||q.pv.length,re=createTypedArray("float32",se),fe=createTypedArray("float32",se);return re.value=fe,v(re,q,"multidimensional"),function(){q.k&&q.getValue();for(var B=0;B<se;B+=1)fe[B]=q.v[B]*Y,re[B]=fe[B];return re}}(q):S}}(),TextExpressionSelectorPropFactory=function(){function h(m,v){return this.textIndex=m+1,this.textTotal=v,this.v=this.getValue()*this.mult,this.v}return function(m,v){this.pv=1,this.comp=m.comp,this.elem=m,this.mult=.01,this.propType="textSelector",this.textTotal=v.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(m,v,this),this.getMult=h,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.getValueAtTime=this.kf?expressionHelpers.getValueAtTime.bind(this):expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,m;function SliderEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,0,0,v)}function AngleEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,0,0,v)}function ColorEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,1,0,v)}function PointEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,1,0,v)}function LayerIndexEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,0,0,v)}function MaskIndexEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,0,0,v)}function CheckboxEffect(h,m,v){this.p=PropertyFactory.getProp(m,h.v,0,0,v)}function NoValueEffect(){this.p={}}function EffectsManager(h,m){var v=h.ef||[];this.effectElements=[];var t,S,C=v.length;for(t=0;t<C;t+=1)S=new GroupEffect(v[t],m),this.effectElements.push(S)}function GroupEffect(h,m){this.init(h,m)}TextSelectorProp.getTextSelectorProp=function(h,m,v){return 1===m.t?new TextExpressionSelectorPropFactory(h,m,v):propertyGetTextProp(h,m,v)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(h,m){this.data=h,this.effectElements=[],this.initDynamicPropertyContainer(m);var v,C,t=this.data.ef.length,S=this.data.ef;for(v=0;v<t;v+=1){switch(C=null,S[v].ty){case 0:C=new SliderEffect(S[v],m,this);break;case 1:C=new AngleEffect(S[v],m,this);break;case 2:C=new ColorEffect(S[v],m,this);break;case 3:C=new PointEffect(S[v],m,this);break;case 4:case 7:C=new CheckboxEffect(S[v],m,this);break;case 10:C=new LayerIndexEffect(S[v],m,this);break;case 11:C=new MaskIndexEffect(S[v],m,this);break;case 5:C=new EffectsManager(S[v],m,this);break;default:C=new NoValueEffect(S[v],m,this)}C&&this.effectElements.push(C)}};var lottie={};function setLocationHref(h){locationHref=h}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(h){subframeEnabled=h}function setIDPrefix(h){idPrefix=h}function loadAnimation(h){return!0===standalone&&(h.animationData=JSON.parse(animationData)),animationManager.loadAnimation(h)}function setQuality(h){if("string"==typeof h)switch(h){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(h)&&h>1&&(defaultCurveSegments=h);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(h,m){"expressions"===h&&(expressionsPlugin=m)}function getFactory(h){switch(h){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(h){for(var m=queryString.split("&"),v=0;v<m.length;v+=1){var t=m[v].split("=");if(decodeURIComponent(t[0])==h)return decodeURIComponent(t[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(h){_useWebWorker=h},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return m(h)}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1135:(h,m,v)=>{"use strict";v.d(m,{X:()=>C});var t=v(7579);class C extends t.x{constructor(q){super(),this._value=q}get value(){return this.getValue()}_subscribe(q){const Y=super._subscribe(q);return!Y.closed&&q.next(this._value),Y}getValue(){const{hasError:q,thrownError:Y,_value:se}=this;if(q)throw Y;return this._throwIfClosed(),se}next(q){super.next(this._value=q)}}},8306:(h,m,v)=>{"use strict";v.d(m,{y:()=>j});var t=v(930),C=v(727),S=v(8822),q=v(4671);var re=v(2416),fe=v(576),B=v(2806);let j=(()=>{class me{constructor(W){W&&(this._subscribe=W)}lift(W){const z=new me;return z.source=this,z.operator=W,z}subscribe(W,z,K){const ee=function(me){return me&&me instanceof t.Lv||function(me){return me&&(0,fe.m)(me.next)&&(0,fe.m)(me.error)&&(0,fe.m)(me.complete)}(me)&&(0,C.Nn)(me)}(W)?W:new t.Hp(W,z,K);return(0,B.x)(()=>{const{operator:_e,source:ve}=this;ee.add(_e?_e.call(ee,ve):ve?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(W){try{return this._subscribe(W)}catch(z){W.error(z)}}forEach(W,z){return new(z=oe(z))((K,ee)=>{let _e;_e=this.subscribe(ve=>{try{W(ve)}catch(Ae){ee(Ae),null==_e||_e.unsubscribe()}},ee,K)})}_subscribe(W){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(W)}[S.L](){return this}pipe(...W){return function(me){return 0===me.length?q.y:1===me.length?me[0]:function(W){return me.reduce((z,K)=>K(z),W)}}(W)(this)}toPromise(W){return new(W=oe(W))((z,K)=>{let ee;this.subscribe(_e=>ee=_e,_e=>K(_e),()=>z(ee))})}}return me.create=le=>new me(le),me})();function oe(me){var le;return null!==(le=null!=me?me:re.v.Promise)&&void 0!==le?le:Promise}},4707:(h,m,v)=>{"use strict";v.d(m,{t:()=>S});var t=v(7579),C=v(6063);class S extends t.x{constructor(Y=1/0,se=1/0,re=C.l){super(),this._bufferSize=Y,this._windowTime=se,this._timestampProvider=re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,Y),this._windowTime=Math.max(1,se)}next(Y){const{isStopped:se,_buffer:re,_infiniteTimeWindow:fe,_timestampProvider:B,_windowTime:j}=this;se||(re.push(Y),!fe&&re.push(B.now()+j)),this._trimBuffer(),super.next(Y)}_subscribe(Y){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(Y),{_infiniteTimeWindow:re,_buffer:fe}=this,B=fe.slice();for(let j=0;j<B.length&&!Y.closed;j+=re?1:2)Y.next(B[j]);return this._checkFinalizedStatuses(Y),se}_trimBuffer(){const{_bufferSize:Y,_timestampProvider:se,_buffer:re,_infiniteTimeWindow:fe}=this,B=(fe?1:2)*Y;if(Y<1/0&&B<re.length&&re.splice(0,re.length-B),!fe){const j=se.now();let oe=0;for(let X=1;X<re.length&&re[X]<=j;X+=2)oe=X;oe&&re.splice(0,oe+1)}}}},7579:(h,m,v)=>{"use strict";v.d(m,{x:()=>re});var t=v(8306),C=v(727);const q=(0,v(3888).d)(B=>function(){B(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=v(8737),se=v(2806);let re=(()=>{class B extends t.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const X=new fe(this,this);return X.operator=oe,X}_throwIfClosed(){if(this.closed)throw new q}next(oe){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const te of X)te.next(oe)}})}error(oe){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:X}=this;for(;X.length;)X.shift().error(oe)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:X,isStopped:te,observers:me}=this;return X||te?C.Lc:(me.push(oe),new C.w0(()=>(0,Y.P)(me,oe)))}_checkFinalizedStatuses(oe){const{hasError:X,thrownError:te,isStopped:me}=this;X?oe.error(te):me&&oe.complete()}asObservable(){const oe=new t.y;return oe.source=this,oe}}return B.create=(j,oe)=>new fe(j,oe),B})();class fe extends re{constructor(j,oe){super(),this.destination=j,this.source=oe}next(j){var oe,X;null===(X=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===X||X.call(oe,j)}error(j){var oe,X;null===(X=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===X||X.call(oe,j)}complete(){var j,oe;null===(oe=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===oe||oe.call(j)}_subscribe(j){var oe,X;return null!==(X=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(j))&&void 0!==X?X:C.Lc}}},930:(h,m,v)=>{"use strict";v.d(m,{Hp:()=>te,Lv:()=>X});var t=v(576),C=v(727),S=v(2416),q=v(7849),Y=v(5032);const se=B("C",void 0,void 0);function B(K,ee,_e){return{kind:K,value:ee,error:_e}}var j=v(3410),oe=v(2806);class X extends C.w0{constructor(ee){super(),this.isStopped=!1,ee?(this.destination=ee,(0,C.Nn)(ee)&&ee.add(this)):this.destination=z}static create(ee,_e,ve){return new te(ee,_e,ve)}next(ee){this.isStopped?W(B("N",ee,void 0),this):this._next(ee)}error(ee){this.isStopped?W(B("E",void 0,ee),this):(this.isStopped=!0,this._error(ee))}complete(){this.isStopped?W(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ee){this.destination.next(ee)}_error(ee){try{this.destination.error(ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class te extends X{constructor(ee,_e,ve){let Ae;if(super(),(0,t.m)(ee))Ae=ee;else if(ee){let xe;({next:Ae,error:_e,complete:ve}=ee),this&&S.v.useDeprecatedNextContext?(xe=Object.create(ee),xe.unsubscribe=()=>this.unsubscribe()):xe=ee,Ae=null==Ae?void 0:Ae.bind(xe),_e=null==_e?void 0:_e.bind(xe),ve=null==ve?void 0:ve.bind(xe)}this.destination={next:Ae?me(Ae):Y.Z,error:me(null!=_e?_e:le),complete:ve?me(ve):Y.Z}}}function me(K,ee){return(..._e)=>{try{K(..._e)}catch(ve){S.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(ve):(0,q.h)(ve)}}}function le(K){throw K}function W(K,ee){const{onStoppedNotification:_e}=S.v;_e&&j.z.setTimeout(()=>_e(K,ee))}const z={closed:!0,next:Y.Z,error:le,complete:Y.Z}},727:(h,m,v)=>{"use strict";v.d(m,{Lc:()=>se,w0:()=>Y,Nn:()=>re});var t=v(576);const S=(0,v(3888).d)(B=>function(oe){B(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((X,te)=>`${te+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var q=v(8737);class Y{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const me of oe)me.remove(this);else oe.remove(this);const{initialTeardown:X}=this;if((0,t.m)(X))try{X()}catch(me){j=me instanceof S?me.errors:[me]}const{_teardowns:te}=this;if(te){this._teardowns=null;for(const me of te)try{fe(me)}catch(le){j=null!=j?j:[],le instanceof S?j=[...j,...le.errors]:j.push(le)}}if(j)throw new S(j)}}add(j){var oe;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof Y){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(oe=this._teardowns)&&void 0!==oe?oe:[]).push(j)}}_hasParent(j){const{_parentage:oe}=this;return oe===j||Array.isArray(oe)&&oe.includes(j)}_addParent(j){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(j),oe):oe?[oe,j]:j}_removeParent(j){const{_parentage:oe}=this;oe===j?this._parentage=null:Array.isArray(oe)&&(0,q.P)(oe,j)}remove(j){const{_teardowns:oe}=this;oe&&(0,q.P)(oe,j),j instanceof Y&&j._removeParent(this)}}Y.EMPTY=(()=>{const B=new Y;return B.closed=!0,B})();const se=Y.EMPTY;function re(B){return B instanceof Y||B&&"closed"in B&&(0,t.m)(B.remove)&&(0,t.m)(B.add)&&(0,t.m)(B.unsubscribe)}function fe(B){(0,t.m)(B)?B():B.unsubscribe()}},2416:(h,m,v)=>{"use strict";v.d(m,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(h,m,v)=>{"use strict";v.d(m,{E:()=>C});const C=new(v(8306).y)(Y=>Y.complete())},8996:(h,m,v)=>{"use strict";v.d(m,{D:()=>Ae});var t=v(8421),C=v(5363),S=v(9468),se=v(8306),fe=v(2202),B=v(576),j=v(9672);function X(xe,Ge){if(!xe)throw new Error("Iterable cannot be null");return new se.y(k=>{(0,j.f)(k,Ge,()=>{const U=xe[Symbol.asyncIterator]();(0,j.f)(k,Ge,()=>{U.next().then(O=>{O.done?k.complete():k.next(O.value)})},0,!0)})})}var te=v(3670),me=v(8239),le=v(1144),W=v(6495),z=v(2206),K=v(4532),ee=v(3260);function Ae(xe,Ge){return Ge?function(xe,Ge){if(null!=xe){if((0,te.c)(xe))return function(xe,Ge){return(0,t.Xf)(xe).pipe((0,S.R)(Ge),(0,C.Q)(Ge))}(xe,Ge);if((0,le.z)(xe))return function(xe,Ge){return new se.y(k=>{let U=0;return Ge.schedule(function(){U===xe.length?k.complete():(k.next(xe[U++]),k.closed||this.schedule())})})}(xe,Ge);if((0,me.t)(xe))return function(xe,Ge){return(0,t.Xf)(xe).pipe((0,S.R)(Ge),(0,C.Q)(Ge))}(xe,Ge);if((0,z.D)(xe))return X(xe,Ge);if((0,W.T)(xe))return function(xe,Ge){return new se.y(k=>{let U;return(0,j.f)(k,Ge,()=>{U=xe[fe.h](),(0,j.f)(k,Ge,()=>{let O,H;try{({value:O,done:H}=U.next())}catch(Q){return void k.error(Q)}H?k.complete():k.next(O)},0,!0)}),()=>(0,B.m)(null==U?void 0:U.return)&&U.return()})}(xe,Ge);if((0,ee.L)(xe))return function(xe,Ge){return X((0,ee.Q)(xe),Ge)}(xe,Ge)}throw(0,K.z)(xe)}(xe,Ge):(0,t.Xf)(xe)}},8421:(h,m,v)=>{"use strict";v.d(m,{Xf:()=>te});var t=v(5987),C=v(1144),S=v(8239),q=v(8306),Y=v(3670),se=v(2206),re=v(4532),fe=v(6495),B=v(3260),j=v(576),oe=v(7849),X=v(8822);function te(ve){if(ve instanceof q.y)return ve;if(null!=ve){if((0,Y.c)(ve))return function(ve){return new q.y(Ae=>{const xe=ve[X.L]();if((0,j.m)(xe.subscribe))return xe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,C.z)(ve))return function(ve){return new q.y(Ae=>{for(let xe=0;xe<ve.length&&!Ae.closed;xe++)Ae.next(ve[xe]);Ae.complete()})}(ve);if((0,S.t)(ve))return function(ve){return new q.y(Ae=>{ve.then(xe=>{Ae.closed||(Ae.next(xe),Ae.complete())},xe=>Ae.error(xe)).then(null,oe.h)})}(ve);if((0,se.D)(ve))return K(ve);if((0,fe.T)(ve))return function(ve){return new q.y(Ae=>{for(const xe of ve)if(Ae.next(xe),Ae.closed)return;Ae.complete()})}(ve);if((0,B.L)(ve))return function(ve){return K((0,B.Q)(ve))}(ve)}throw(0,re.z)(ve)}function K(ve){return new q.y(Ae=>{(function(ve,Ae){var xe,Ge,k,U;return(0,t.mG)(this,void 0,void 0,function*(){try{for(xe=(0,t.KL)(ve);!(Ge=yield xe.next()).done;)if(Ae.next(Ge.value),Ae.closed)return}catch(O){k={error:O}}finally{try{Ge&&!Ge.done&&(U=xe.return)&&(yield U.call(xe))}finally{if(k)throw k.error}}Ae.complete()})})(ve,Ae).catch(xe=>Ae.error(xe))})}},6451:(h,m,v)=>{"use strict";v.d(m,{T:()=>se});var t=v(8189),C=v(8421),S=v(515),q=v(3269),Y=v(8996);function se(...re){const fe=(0,q.yG)(re),B=(0,q._6)(re,1/0),j=re;return j.length?1===j.length?(0,C.Xf)(j[0]):(0,t.J)(B)((0,Y.D)(j,fe)):S.E}},9646:(h,m,v)=>{"use strict";v.d(m,{of:()=>S});var t=v(3269),C=v(8996);function S(...q){const Y=(0,t.yG)(q);return(0,C.D)(q,Y)}},5403:(h,m,v)=>{"use strict";v.d(m,{Q:()=>C});var t=v(930);class C extends t.Lv{constructor(q,Y,se,re,fe){super(q),this.onFinalize=fe,this._next=Y?function(B){try{Y(B)}catch(j){q.error(j)}}:super._next,this._error=re?function(B){try{re(B)}catch(j){q.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(B){q.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;const{closed:Y}=this;super.unsubscribe(),!Y&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}},262:(h,m,v)=>{"use strict";v.d(m,{K:()=>q});var t=v(8421),C=v(5403),S=v(4482);function q(Y){return(0,S.e)((se,re)=>{let j,fe=null,B=!1;fe=se.subscribe(new C.Q(re,void 0,void 0,oe=>{j=(0,t.Xf)(Y(oe,q(Y)(se))),fe?(fe.unsubscribe(),fe=null,j.subscribe(re)):B=!0})),B&&(fe.unsubscribe(),fe=null,j.subscribe(re))})}},4351:(h,m,v)=>{"use strict";v.d(m,{b:()=>S});var t=v(5577),C=v(576);function S(q,Y){return(0,C.m)(Y)?(0,t.z)(q,Y,1):(0,t.z)(q,1)}},8372:(h,m,v)=>{"use strict";v.d(m,{b:()=>q});var t=v(4986),C=v(4482),S=v(5403);function q(Y,se=t.z){return(0,C.e)((re,fe)=>{let B=null,j=null,oe=null;const X=()=>{if(B){B.unsubscribe(),B=null;const me=j;j=null,fe.next(me)}};function te(){const me=oe+Y,le=se.now();if(le<me)return B=this.schedule(void 0,me-le),void fe.add(B);X()}re.subscribe(new S.Q(fe,me=>{j=me,oe=se.now(),B||(B=se.schedule(te,Y),fe.add(B))},()=>{X(),fe.complete()},void 0,()=>{j=B=null}))})}},1884:(h,m,v)=>{"use strict";v.d(m,{x:()=>q});var t=v(4671),C=v(4482),S=v(5403);function q(se,re=t.y){return se=null!=se?se:Y,(0,C.e)((fe,B)=>{let j,oe=!0;fe.subscribe(new S.Q(B,X=>{const te=re(X);(oe||!se(j,te))&&(oe=!1,j=te,B.next(X))}))})}function Y(se,re){return se===re}},9300:(h,m,v)=>{"use strict";v.d(m,{h:()=>S});var t=v(4482),C=v(5403);function S(q,Y){return(0,t.e)((se,re)=>{let fe=0;se.subscribe(new C.Q(re,B=>q.call(Y,B,fe++)&&re.next(B)))})}},4004:(h,m,v)=>{"use strict";v.d(m,{U:()=>S});var t=v(4482),C=v(5403);function S(q,Y){return(0,t.e)((se,re)=>{let fe=0;se.subscribe(new C.Q(re,B=>{re.next(q.call(Y,B,fe++))}))})}},8189:(h,m,v)=>{"use strict";v.d(m,{J:()=>S});var t=v(5577),C=v(4671);function S(q=1/0){return(0,t.z)(C.y,q)}},5577:(h,m,v)=>{"use strict";v.d(m,{z:()=>fe});var t=v(4004),C=v(8421),S=v(4482),Y=(v(9672),v(5403)),re=v(576);function fe(B,j,oe=1/0){return(0,re.m)(j)?fe((X,te)=>(0,t.U)((me,le)=>j(X,me,te,le))((0,C.Xf)(B(X,te))),oe):("number"==typeof j&&(oe=j),(0,S.e)((X,te)=>function(B,j,oe,X,te,me,le,W){const z=[];let K=0,ee=0,_e=!1;const ve=()=>{_e&&!z.length&&!K&&j.complete()},Ae=Ge=>K<X?xe(Ge):z.push(Ge),xe=Ge=>{K++;let k=!1;(0,C.Xf)(oe(Ge,ee++)).subscribe(new Y.Q(j,U=>{j.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(K--;z.length&&K<X;){const U=z.shift();xe(U)}ve()}catch(U){j.error(U)}}))};return B.subscribe(new Y.Q(j,Ae,()=>{_e=!0,ve()})),()=>{}}(X,te,B,oe)))}},5363:(h,m,v)=>{"use strict";v.d(m,{Q:()=>q});var t=v(9672),C=v(4482),S=v(5403);function q(Y,se=0){return(0,C.e)((re,fe)=>{re.subscribe(new S.Q(fe,B=>(0,t.f)(fe,Y,()=>fe.next(B),se),()=>(0,t.f)(fe,Y,()=>fe.complete(),se),B=>(0,t.f)(fe,Y,()=>fe.error(B),se)))})}},5026:(h,m,v)=>{"use strict";v.d(m,{R:()=>q});var t=v(4482),C=v(5403);function S(Y,se,re,fe,B){return(j,oe)=>{let X=re,te=se,me=0;j.subscribe(new C.Q(oe,le=>{const W=me++;te=X?Y(te,le,W):(X=!0,le),fe&&oe.next(te)},B&&(()=>{X&&oe.next(te),oe.complete()})))}}function q(Y,se){return(0,t.e)(S(Y,se,arguments.length>=2,!0))}},3099:(h,m,v)=>{"use strict";v.d(m,{B:()=>se});var t=v(8996),C=v(5698),S=v(7579),q=v(930),Y=v(4482);function se(fe={}){const{connector:B=(()=>new S.x),resetOnError:j=!0,resetOnComplete:oe=!0,resetOnRefCountZero:X=!0}=fe;return te=>{let me=null,le=null,W=null,z=0,K=!1,ee=!1;const _e=()=>{null==le||le.unsubscribe(),le=null},ve=()=>{_e(),me=W=null,K=ee=!1},Ae=()=>{const xe=me;ve(),null==xe||xe.unsubscribe()};return(0,Y.e)((xe,Ge)=>{z++,!ee&&!K&&_e();const k=W=null!=W?W:B();Ge.add(()=>{z--,0===z&&!ee&&!K&&(le=re(Ae,X))}),k.subscribe(Ge),me||(me=new q.Hp({next:U=>k.next(U),error:U=>{ee=!0,_e(),le=re(ve,j,U),k.error(U)},complete:()=>{K=!0,_e(),le=re(ve,oe),k.complete()}}),(0,t.D)(xe).subscribe(me))})(te)}}function re(fe,B,...j){return!0===B?(fe(),null):!1===B?null:B(...j).pipe((0,C.q)(1)).subscribe(()=>fe())}},5684:(h,m,v)=>{"use strict";v.d(m,{T:()=>C});var t=v(9300);function C(S){return(0,t.h)((q,Y)=>S<=Y)}},9468:(h,m,v)=>{"use strict";v.d(m,{R:()=>C});var t=v(4482);function C(S,q=0){return(0,t.e)((Y,se)=>{se.add(S.schedule(()=>Y.subscribe(se),q))})}},3900:(h,m,v)=>{"use strict";v.d(m,{w:()=>q});var t=v(8421),C=v(4482),S=v(5403);function q(Y,se){return(0,C.e)((re,fe)=>{let B=null,j=0,oe=!1;const X=()=>oe&&!B&&fe.complete();re.subscribe(new S.Q(fe,te=>{null==B||B.unsubscribe();let me=0;const le=j++;(0,t.Xf)(Y(te,le)).subscribe(B=new S.Q(fe,W=>fe.next(se?se(te,W,le,me++):W),()=>{B=null,X()}))},()=>{oe=!0,X()}))})}},5698:(h,m,v)=>{"use strict";v.d(m,{q:()=>q});var t=v(515),C=v(4482),S=v(5403);function q(Y){return Y<=0?()=>t.E:(0,C.e)((se,re)=>{let fe=0;se.subscribe(new S.Q(re,B=>{++fe<=Y&&(re.next(B),Y<=fe&&re.complete())}))})}},2722:(h,m,v)=>{"use strict";v.d(m,{R:()=>Y});var t=v(4482),C=v(5403),S=v(8421),q=v(5032);function Y(se){return(0,t.e)((re,fe)=>{(0,S.Xf)(se).subscribe(new C.Q(fe,()=>fe.complete(),q.Z)),!fe.closed&&re.subscribe(fe)})}},8505:(h,m,v)=>{"use strict";v.d(m,{b:()=>Y});var t=v(576),C=v(4482),S=v(5403),q=v(4671);function Y(se,re,fe){const B=(0,t.m)(se)||re||fe?{next:se,error:re,complete:fe}:se;return B?(0,C.e)((j,oe)=>{var X;null===(X=B.subscribe)||void 0===X||X.call(B);let te=!0;j.subscribe(new S.Q(oe,me=>{var le;null===(le=B.next)||void 0===le||le.call(B,me),oe.next(me)},()=>{var me;te=!1,null===(me=B.complete)||void 0===me||me.call(B),oe.complete()},me=>{var le;te=!1,null===(le=B.error)||void 0===le||le.call(B,me),oe.error(me)},()=>{var me,le;te&&(null===(me=B.unsubscribe)||void 0===me||me.call(B)),null===(le=B.finalize)||void 0===le||le.call(B)}))}):q.y}},7414:(h,m,v)=>{"use strict";v.d(m,{V:()=>B});var t=v(4986),C=v(1165),S=v(4482),q=v(8421),Y=v(3888),se=v(5403),re=v(9672);const fe=(0,Y.d)(oe=>function(te=null){oe(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=te});function B(oe,X){const{first:te,each:me,with:le=j,scheduler:W=(null!=X?X:t.z),meta:z=null}=(0,C.q)(oe)?{first:oe}:"number"==typeof oe?{each:oe}:oe;if(null==te&&null==me)throw new TypeError("No timeout provided.");return(0,S.e)((K,ee)=>{let _e,ve,Ae=null,xe=0;const Ge=k=>{ve=(0,re.f)(ee,W,()=>{try{_e.unsubscribe(),(0,q.Xf)(le({meta:z,lastValue:Ae,seen:xe})).subscribe(ee)}catch(U){ee.error(U)}},k)};_e=K.subscribe(new se.Q(ee,k=>{null==ve||ve.unsubscribe(),xe++,ee.next(Ae=k),me>0&&Ge(me)},void 0,void 0,()=>{(null==ve?void 0:ve.closed)||null==ve||ve.unsubscribe(),Ae=null})),Ge(null!=te?"number"==typeof te?te:+te-W.now():me)})}function j(oe){throw new fe(oe)}},1365:(h,m,v)=>{"use strict";v.d(m,{M:()=>re});var t=v(4482),C=v(5403),S=v(8421),q=v(4671),Y=v(5032),se=v(3269);function re(...fe){const B=(0,se.jO)(fe);return(0,t.e)((j,oe)=>{const X=fe.length,te=new Array(X);let me=fe.map(()=>!1),le=!1;for(let W=0;W<X;W++)(0,S.Xf)(fe[W]).subscribe(new C.Q(oe,z=>{te[W]=z,!le&&!me[W]&&(me[W]=!0,(le=me.every(q.y))&&(me=null))},Y.Z));j.subscribe(new C.Q(oe,W=>{if(le){const z=[W,...te];oe.next(B?B(...z):z)}}))})}},4408:(h,m,v)=>{"use strict";v.d(m,{o:()=>Y});var t=v(727);class C extends t.w0{constructor(re,fe){super()}schedule(re,fe=0){return this}}const S={setInterval(...se){const{delegate:re}=S;return((null==re?void 0:re.setInterval)||setInterval)(...se)},clearInterval(se){const{delegate:re}=S;return((null==re?void 0:re.clearInterval)||clearInterval)(se)},delegate:void 0};var q=v(8737);class Y extends C{constructor(re,fe){super(re,fe),this.scheduler=re,this.work=fe,this.pending=!1}schedule(re,fe=0){if(this.closed)return this;this.state=re;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(j,this.id,fe),this}requestAsyncId(re,fe,B=0){return S.setInterval(re.flush.bind(re,this),B)}recycleAsyncId(re,fe,B=0){if(null!=B&&this.delay===B&&!1===this.pending)return fe;S.clearInterval(fe)}execute(re,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const B=this._execute(re,fe);if(B)return B;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,fe){let j,B=!1;try{this.work(re)}catch(oe){B=!0,j=oe||new Error("Scheduled action threw falsy error")}if(B)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:fe}=this,{actions:B}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,q.P)(B,this),null!=re&&(this.id=this.recycleAsyncId(fe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(h,m,v)=>{"use strict";v.d(m,{v:()=>S});var t=v(6063);class C{constructor(Y,se=C.now){this.schedulerActionCtor=Y,this.now=se}schedule(Y,se=0,re){return new this.schedulerActionCtor(this,Y).schedule(re,se)}}C.now=t.l.now;class S extends C{constructor(Y,se=C.now){super(Y,se),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Y){const{actions:se}=this;if(this._active)return void se.push(Y);let re;this._active=!0;do{if(re=Y.execute(Y.state,Y.delay))break}while(Y=se.shift());if(this._active=!1,re){for(;Y=se.shift();)Y.unsubscribe();throw re}}}},4986:(h,m,v)=>{"use strict";v.d(m,{z:()=>S,P:()=>q});var t=v(4408);const S=new(v(7565).v)(t.o),q=S},6063:(h,m,v)=>{"use strict";v.d(m,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},233:(h,m,v)=>{"use strict";v.d(m,{N:()=>Y});var t=v(4408),S=v(7565);const Y=new class extends S.v{}(class extends t.o{constructor(fe,B){super(fe,B),this.scheduler=fe,this.work=B}schedule(fe,B=0){return B>0?super.schedule(fe,B):(this.delay=B,this.state=fe,this.scheduler.flush(this),this)}execute(fe,B){return B>0||this.closed?super.execute(fe,B):this._execute(fe,B)}requestAsyncId(fe,B,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(fe,B,j):fe.flush(this)}})},3410:(h,m,v)=>{"use strict";v.d(m,{z:()=>t});const t={setTimeout(...C){const{delegate:S}=t;return((null==S?void 0:S.setTimeout)||setTimeout)(...C)},clearTimeout(C){const{delegate:S}=t;return((null==S?void 0:S.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(h,m,v)=>{"use strict";v.d(m,{h:()=>C});const C="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(h,m,v)=>{"use strict";v.d(m,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(h,m,v)=>{"use strict";v.d(m,{jO:()=>q,yG:()=>Y,_6:()=>se});var t=v(576),C=v(3532);function S(re){return re[re.length-1]}function q(re){return(0,t.m)(S(re))?re.pop():void 0}function Y(re){return(0,C.K)(S(re))?re.pop():void 0}function se(re,fe){return"number"==typeof S(re)?re.pop():fe}},8737:(h,m,v)=>{"use strict";function t(C,S){if(C){const q=C.indexOf(S);0<=q&&C.splice(q,1)}}v.d(m,{P:()=>t})},3888:(h,m,v)=>{"use strict";function t(C){const q=C(Y=>{Error.call(Y),Y.stack=(new Error).stack});return q.prototype=Object.create(Error.prototype),q.prototype.constructor=q,q}v.d(m,{d:()=>t})},2806:(h,m,v)=>{"use strict";v.d(m,{x:()=>S,O:()=>q});var t=v(2416);let C=null;function S(Y){if(t.v.useDeprecatedSynchronousErrorHandling){const se=!C;if(se&&(C={errorThrown:!1,error:null}),Y(),se){const{errorThrown:re,error:fe}=C;if(C=null,re)throw fe}}else Y()}function q(Y){t.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=Y)}},9672:(h,m,v)=>{"use strict";function t(C,S,q,Y=0,se=!1){const re=S.schedule(function(){q(),se?C.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(C.add(re),!se)return re}v.d(m,{f:()=>t})},4671:(h,m,v)=>{"use strict";function t(C){return C}v.d(m,{y:()=>t})},1144:(h,m,v)=>{"use strict";v.d(m,{z:()=>t});const t=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(h,m,v)=>{"use strict";v.d(m,{D:()=>C});var t=v(576);function C(S){return Symbol.asyncIterator&&(0,t.m)(null==S?void 0:S[Symbol.asyncIterator])}},1165:(h,m,v)=>{"use strict";function t(C){return C instanceof Date&&!isNaN(C)}v.d(m,{q:()=>t})},576:(h,m,v)=>{"use strict";function t(C){return"function"==typeof C}v.d(m,{m:()=>t})},3670:(h,m,v)=>{"use strict";v.d(m,{c:()=>S});var t=v(8822),C=v(576);function S(q){return(0,C.m)(q[t.L])}},6495:(h,m,v)=>{"use strict";v.d(m,{T:()=>S});var t=v(2202),C=v(576);function S(q){return(0,C.m)(null==q?void 0:q[t.h])}},8239:(h,m,v)=>{"use strict";v.d(m,{t:()=>C});var t=v(576);function C(S){return(0,t.m)(null==S?void 0:S.then)}},3260:(h,m,v)=>{"use strict";v.d(m,{Q:()=>S,L:()=>q});var t=v(5987),C=v(576);function S(Y){return(0,t.FC)(this,arguments,function*(){const re=Y.getReader();try{for(;;){const{value:fe,done:B}=yield(0,t.qq)(re.read());if(B)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(fe)}}finally{re.releaseLock()}})}function q(Y){return(0,C.m)(null==Y?void 0:Y.getReader)}},3532:(h,m,v)=>{"use strict";v.d(m,{K:()=>C});var t=v(576);function C(S){return S&&(0,t.m)(S.schedule)}},4482:(h,m,v)=>{"use strict";v.d(m,{A:()=>C,e:()=>S});var t=v(576);function C(q){return(0,t.m)(null==q?void 0:q.lift)}function S(q){return Y=>{if(C(Y))return Y.lift(function(se){try{return q(se,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(h,m,v)=>{"use strict";function t(){}v.d(m,{Z:()=>t})},7849:(h,m,v)=>{"use strict";v.d(m,{h:()=>S});var t=v(2416),C=v(3410);function S(q){C.z.setTimeout(()=>{const{onUnhandledError:Y}=t.v;if(!Y)throw q;Y(q)})}},4532:(h,m,v)=>{"use strict";function t(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}v.d(m,{z:()=>t})},9628:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},7754:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},4255:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},617:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},2472:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},1175:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},2027:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},8713:(h,m,v)=>{"use strict";v.r(m),v.d(m,{__extends:()=>C,__assign:()=>S,__rest:()=>q,__decorate:()=>Y,__param:()=>se,__metadata:()=>re,__awaiter:()=>fe,__generator:()=>B,__createBinding:()=>j,__exportStar:()=>oe,__values:()=>X,__read:()=>te,__spread:()=>me,__spreadArrays:()=>le,__await:()=>W,__asyncGenerator:()=>z,__asyncDelegator:()=>K,__asyncValues:()=>ee,__makeTemplateObject:()=>_e,__importStar:()=>ve,__importDefault:()=>Ae,__classPrivateFieldGet:()=>xe,__classPrivateFieldSet:()=>Ge});var t=function(k,U){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var Q in H)H.hasOwnProperty(Q)&&(O[Q]=H[Q])})(k,U)};function C(k,U){function O(){this.constructor=k}t(k,U),k.prototype=null===U?Object.create(U):(O.prototype=U.prototype,new O)}var S=function(){return S=Object.assign||function(U){for(var O,H=1,Q=arguments.length;H<Q;H++)for(var R in O=arguments[H])Object.prototype.hasOwnProperty.call(O,R)&&(U[R]=O[R]);return U},S.apply(this,arguments)};function q(k,U){var O={};for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&U.indexOf(H)<0&&(O[H]=k[H]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(H=Object.getOwnPropertySymbols(k);Q<H.length;Q++)U.indexOf(H[Q])<0&&Object.prototype.propertyIsEnumerable.call(k,H[Q])&&(O[H[Q]]=k[H[Q]])}return O}function Y(k,U,O,H){var $,Q=arguments.length,R=Q<3?U:null===H?H=Object.getOwnPropertyDescriptor(U,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(k,U,O,H);else for(var J=k.length-1;J>=0;J--)($=k[J])&&(R=(Q<3?$(R):Q>3?$(U,O,R):$(U,O))||R);return Q>3&&R&&Object.defineProperty(U,O,R),R}function se(k,U){return function(O,H){U(O,H,k)}}function re(k,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,U)}function fe(k,U,O,H){return new(O||(O=Promise))(function(R,$){function J(Ne){try{we(H.next(Ne))}catch(ut){$(ut)}}function je(Ne){try{we(H.throw(Ne))}catch(ut){$(ut)}}function we(Ne){Ne.done?R(Ne.value):function(R){return R instanceof O?R:new O(function($){$(R)})}(Ne.value).then(J,je)}we((H=H.apply(k,U||[])).next())})}function B(k,U){var H,Q,R,$,O={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return $={next:J(0),throw:J(1),return:J(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function J(we){return function(Ne){return function(we){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,Q&&(R=2&we[0]?Q.return:we[0]?Q.throw||((R=Q.return)&&R.call(Q),0):Q.next)&&!(R=R.call(Q,we[1])).done)return R;switch(Q=0,R&&(we=[2&we[0],R.value]),we[0]){case 0:case 1:R=we;break;case 4:return O.label++,{value:we[1],done:!1};case 5:O.label++,Q=we[1],we=[0];continue;case 7:we=O.ops.pop(),O.trys.pop();continue;default:if(!(R=(R=O.trys).length>0&&R[R.length-1])&&(6===we[0]||2===we[0])){O=0;continue}if(3===we[0]&&(!R||we[1]>R[0]&&we[1]<R[3])){O.label=we[1];break}if(6===we[0]&&O.label<R[1]){O.label=R[1],R=we;break}if(R&&O.label<R[2]){O.label=R[2],O.ops.push(we);break}R[2]&&O.ops.pop(),O.trys.pop();continue}we=U.call(k,O)}catch(Ne){we=[6,Ne],Q=0}finally{H=R=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Ne])}}}function j(k,U,O,H){void 0===H&&(H=O),k[H]=U[O]}function oe(k,U){for(var O in k)"default"!==O&&!U.hasOwnProperty(O)&&(U[O]=k[O])}function X(k){var U="function"==typeof Symbol&&Symbol.iterator,O=U&&k[U],H=0;if(O)return O.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&H>=k.length&&(k=void 0),{value:k&&k[H++],done:!k}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(k,U){var O="function"==typeof Symbol&&k[Symbol.iterator];if(!O)return k;var Q,$,H=O.call(k),R=[];try{for(;(void 0===U||U-- >0)&&!(Q=H.next()).done;)R.push(Q.value)}catch(J){$={error:J}}finally{try{Q&&!Q.done&&(O=H.return)&&O.call(H)}finally{if($)throw $.error}}return R}function me(){for(var k=[],U=0;U<arguments.length;U++)k=k.concat(te(arguments[U]));return k}function le(){for(var k=0,U=0,O=arguments.length;U<O;U++)k+=arguments[U].length;var H=Array(k),Q=0;for(U=0;U<O;U++)for(var R=arguments[U],$=0,J=R.length;$<J;$++,Q++)H[Q]=R[$];return H}function W(k){return this instanceof W?(this.v=k,this):new W(k)}function z(k,U,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O.apply(k,U||[]),R=[];return Q={},$("next"),$("throw"),$("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $(qe){H[qe]&&(Q[qe]=function($e){return new Promise(function(lt,Pt){R.push([qe,$e,lt,Pt])>1||J(qe,$e)})})}function J(qe,$e){try{!function(qe){qe.value instanceof W?Promise.resolve(qe.value.v).then(we,Ne):ut(R[0][2],qe)}(H[qe]($e))}catch(lt){ut(R[0][3],lt)}}function we(qe){J("next",qe)}function Ne(qe){J("throw",qe)}function ut(qe,$e){qe($e),R.shift(),R.length&&J(R[0][0],R[0][1])}}function K(k){var U,O;return U={},H("next"),H("throw",function(Q){throw Q}),H("return"),U[Symbol.iterator]=function(){return this},U;function H(Q,R){U[Q]=k[Q]?function($){return(O=!O)?{value:W(k[Q]($)),done:"return"===Q}:R?R($):$}:R}}function ee(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,U=k[Symbol.asyncIterator];return U?U.call(k):(k=X(k),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(R){O[R]=k[R]&&function($){return new Promise(function(J,je){!function(R,$,J,je){Promise.resolve(je).then(function(we){R({value:we,done:J})},$)}(J,je,($=k[R]($)).done,$.value)})}}}function _e(k,U){return Object.defineProperty?Object.defineProperty(k,"raw",{value:U}):k.raw=U,k}function ve(k){if(k&&k.__esModule)return k;var U={};if(null!=k)for(var O in k)Object.hasOwnProperty.call(k,O)&&(U[O]=k[O]);return U.default=k,U}function Ae(k){return k&&k.__esModule?k:{default:k}}function xe(k,U){if(!U.has(k))throw new TypeError("attempted to get private field on non-instance");return U.get(k)}function Ge(k,U,O){if(!U.has(k))throw new TypeError("attempted to set private field on non-instance");return U.set(k,O),O}},5987:(h,m,v)=>{"use strict";function fe(O,H,Q,R){return new(Q||(Q=Promise))(function(J,je){function we(qe){try{ut(R.next(qe))}catch($e){je($e)}}function Ne(qe){try{ut(R.throw(qe))}catch($e){je($e)}}function ut(qe){qe.done?J(qe.value):function(J){return J instanceof Q?J:new Q(function(je){je(J)})}(qe.value).then(we,Ne)}ut((R=R.apply(O,H||[])).next())})}function z(O){return this instanceof z?(this.v=O,this):new z(O)}function K(O,H,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,R=Q.apply(O,H||[]),J=[];return $={},je("next"),je("throw"),je("return"),$[Symbol.asyncIterator]=function(){return this},$;function je(lt){R[lt]&&($[lt]=function(Pt){return new Promise(function(nn,Ft){J.push([lt,Pt,nn,Ft])>1||we(lt,Pt)})})}function we(lt,Pt){try{!function(lt){lt.value instanceof z?Promise.resolve(lt.value.v).then(ut,qe):$e(J[0][2],lt)}(R[lt](Pt))}catch(nn){$e(J[0][3],nn)}}function ut(lt){we("next",lt)}function qe(lt){we("throw",lt)}function $e(lt,Pt){lt(Pt),J.shift(),J.length&&we(J[0][0],J[0][1])}}function _e(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,H=O[Symbol.asyncIterator];return H?H.call(O):(O=function(O){var H="function"==typeof Symbol&&Symbol.iterator,Q=H&&O[H],R=0;if(Q)return Q.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&R>=O.length&&(O=void 0),{value:O&&O[R++],done:!O}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),Q={},R("next"),R("throw"),R("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function R(J){Q[J]=O[J]&&function(je){return new Promise(function(we,Ne){!function(J,je,we,Ne){Promise.resolve(Ne).then(function(ut){J({value:ut,done:we})},je)}(we,Ne,(je=O[J](je)).done,je.value)})}}}v.d(m,{mG:()=>fe,qq:()=>z,FC:()=>K,KL:()=>_e})},5e3:(h,m,v)=>{"use strict";v.d(m,{deG:()=>ql,tb:()=>Kb,AFp:()=>qb,ip1:()=>u_,CZH:()=>Bp,hGG:()=>hT,z2F:()=>vg,sBO:()=>QC,Sil:()=>f_,_Vd:()=>kp,EJc:()=>Qb,SBq:()=>tg,qLn:()=>hl,vpe:()=>Wu,tBr:()=>Va,XFs:()=>yn,OlP:()=>Di,zs3:()=>zs,ZZ4:()=>Yv,aQg:()=>P_,soG:()=>pf,YKP:()=>ei,h0i:()=>hd,PXZ:()=>GC,R0b:()=>Ll,FiY:()=>Ua,Lbi:()=>$b,g9A:()=>gg,Qsj:()=>Rh,FYo:()=>Mh,JOm:()=>Wa,PiD:()=>mu,tp0:()=>To,Rgc:()=>pd,dDg:()=>v_,q4F:()=>Tv,GfV:()=>kc,s_b:()=>Ov,ifc:()=>Fe,eFA:()=>tE,G48:()=>jp,Gpc:()=>oe,f3M:()=>Od,X6Q:()=>Kv,_c5:()=>vS,VLi:()=>eE,c2e:()=>Yb,zSh:()=>sf,wAp:()=>br,vHH:()=>le,cg1:()=>V0,kL8:()=>U0,dqk:()=>Ht,sIi:()=>Ah,CqO:()=>LE,QGY:()=>n0,F4k:()=>FE,RDi:()=>Nt,AaK:()=>fe,qOj:()=>Th,TTD:()=>os,_Bn:()=>db,xp6:()=>Rf,uIk:()=>td,Tol:()=>yy,ekj:()=>vy,Suo:()=>Lv,Xpm:()=>qr,lG2:()=>kt,Yz7:()=>Ft,cJS:()=>rn,oAB:()=>Ct,Yjl:()=>Jt,Y36:()=>zm,_UZ:()=>av,GkF:()=>kE,BQk:()=>hy,ynx:()=>t0,qZA:()=>gn,TgZ:()=>sv,EpF:()=>NE,n5z:()=>Id,LFG:()=>Co,$8M:()=>Fc,$Z:()=>X_,NdJ:()=>ju,CRH:()=>Vv,oxw:()=>a0,ALo:()=>ci,lcZ:()=>Tb,Hsn:()=>u0,F$t:()=>l0,Q6J:()=>cy,DdM:()=>Hy,VKq:()=>Gy,WLB:()=>dC,kEZ:()=>Ws,l5B:()=>zu,rFY:()=>wb,iGM:()=>Fv,MAs:()=>F,CHM:()=>_o,oJD:()=>Bs,LSH:()=>wa,Udp:()=>gy,YNc:()=>p,W1O:()=>cg,_uU:()=>ew,Oqu:()=>Ey,hij:()=>fv,Gf:()=>Ky});var t=v(7579),C=v(727),S=v(8306),q=v(6451),Y=v(3099);function se(s){for(let a in s)if(s[a]===se)return a;throw Error("Could not find renamed property on target object.")}function re(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function B(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const j=se({__forward_ref__:se});function oe(s){return s.__forward_ref__=oe,s.toString=function(){return fe(this())},s}function X(s){return te(s)?s():s}function te(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===oe}class le extends Error{constructor(a,u){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,u)),this.code=a}}function K(s){return"string"==typeof s?s:null==s?"":String(s)}function ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():K(s)}function xe(s,a){const u=a?` in ${a}`:"";throw new le("201",`No provider for ${ee(s)} found${u}`)}function qe(s,a){null==s&&function(s,a,u,y){throw new Error(`ASSERTION ERROR: ${s}`+(null==y?"":` [Expected=> ${u} ${y} ${a} <=Actual]`))}(a,s,null,"!=")}function Ft(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function St(s){return qn(s,Cn)||qn(s,on)}function qn(s,a){return s.hasOwnProperty(a)?s[a]:null}function tn(s){return s&&(s.hasOwnProperty(Nn)||s.hasOwnProperty(zn))?s[Nn]:null}const Cn=se({\u0275prov:se}),Nn=se({\u0275inj:se}),on=se({ngInjectableDef:se}),zn=se({ngInjectorDef:se});var yn=(()=>((yn=yn||{})[yn.Default=0]="Default",yn[yn.Host=1]="Host",yn[yn.Self=2]="Self",yn[yn.SkipSelf=4]="SkipSelf",yn[yn.Optional=8]="Optional",yn))();let Hn;function or(s){const a=Hn;return Hn=s,a}function dr(s,a,u){const y=St(s);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:u&yn.Optional?null:void 0!==a?a:void xe(fe(s),"Injector")}function Gn(s){return{toString:s}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),Fe=(()=>{return(s=Fe||(Fe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Fe;var s})();const rt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,gt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=rt||"undefined"!=typeof global&&global||Tt||gt,En={},Wn=[],xn=se({\u0275cmp:se}),Ir=se({\u0275dir:se}),nr=se({\u0275pipe:se}),pi=se({\u0275mod:se}),er=se({\u0275fac:se}),Ar=se({__NG_ELEMENT_ID__:se});let no=0;function qr(s){return Gn(()=>{const u={},y={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Wn,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Fe.Emulated,id:"c",styles:s.styles||Wn,_:null,setInput:null,schemas:s.schemas||null,tView:null},w=s.directives,D=s.features,L=s.pipes;return y.id+=no++,y.inputs=xt(s.inputs,u),y.outputs=xt(s.outputs),D&&D.forEach(Z=>Z(y)),y.directiveDefs=w?()=>("function"==typeof w?w():w).map(Ni):null,y.pipeDefs=L?()=>("function"==typeof L?L():L).map(Qe):null,y})}function Ni(s){return sn(s)||function(s){return s[Ir]||null}(s)}function Qe(s){return function(s){return s[nr]||null}(s)}const _t={};function Ct(s){return Gn(()=>{const a={type:s.type,bootstrap:s.bootstrap||Wn,declarations:s.declarations||Wn,imports:s.imports||Wn,exports:s.exports||Wn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(_t[s.id]=s.type),a})}function xt(s,a){if(null==s)return En;const u={};for(const y in s)if(s.hasOwnProperty(y)){let w=s[y],D=w;Array.isArray(w)&&(D=w[1],w=w[0]),u[w]=y,a&&(a[w]=D)}return u}const kt=qr;function Jt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function sn(s){return s[xn]||null}function bn(s,a){const u=s[pi]||null;if(!u&&!0===a)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return u}function wr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Hr(s){return Array.isArray(s)&&!0===s[1]}function Po(s){return 0!=(8&s.flags)}function ro(s){return 2==(2&s.flags)}function jo(s){return 1==(1&s.flags)}function fi(s){return null!==s.template}function io(s){return 0!=(512&s[2])}function Fo(s,a){return s.hasOwnProperty(er)?s[er]:null}class ys{constructor(a,u,y){this.previousValue=a,this.currentValue=u,this.firstChange=y}isFirstChange(){return this.firstChange}}function os(){return Ma}function Ma(s){return s.type.prototype.ngOnChanges&&(s.setInput=ai),di}function di(){const s=qs(this),a=null==s?void 0:s.current;if(a){const u=s.previous;if(u===En)s.previous=a;else for(let y in a)u[y]=a[y];s.current=null,this.ngOnChanges(a)}}function ai(s,a,u,y){const w=qs(s)||function(s,a){return s[Go]=a}(s,{previous:En,current:null}),D=w.current||(w.current={}),L=w.previous,Z=this.declaredInputs[u],de=L[Z];D[Z]=new ys(de&&de.currentValue,a,L===En),s[y]=a}os.ngInherit=!0;const Go="__ngSimpleChanges__";function qs(s){return s[Go]||null}let pt;function Nt(s){pt=s}function Yt(){return void 0!==pt?pt:"undefined"!=typeof document?document:void 0}function $t(s){return!!s.listen}const Sn={createRenderer:(s,a)=>Yt()};function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function ni(s,a){return Rn(a[s])}function pr(s,a){return Rn(a[s.index])}function ri(s,a){return s.data[a]}function Dr(s,a){return s[a]}function li(s,a){const u=a[s];return wr(u)?u:u[0]}function $i(s){return 4==(4&s[2])}function zo(s){return 128==(128&s[2])}function mi(s,a){return null==a?null:s[a]}function Os(s){s[18]=0}function ss(s,a){s[5]+=a;let u=s,y=s[3];for(;null!==y&&(1===a&&1===u[5]||-1===a&&0===u[5]);)y[5]+=a,u=y,y=y[3]}const Zn={lFrame:ls(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ki(){return Zn.bindingsEnabled}function Zt(){return Zn.lFrame.lView}function Mr(){return Zn.lFrame.tView}function _o(s){return Zn.lFrame.contextLView=s,s[8]}function yi(){let s=gl();for(;null!==s&&64===s.type;)s=s.parent;return s}function gl(){return Zn.lFrame.currentTNode}function _i(s,a){const u=Zn.lFrame;u.currentTNode=s,u.isParent=a}function Bi(){return Zn.lFrame.isParent}function Do(){Zn.lFrame.isParent=!1}function Yi(){return Zn.isInCheckNoChangesMode}function _s(s){Zn.isInCheckNoChangesMode=s}function Ci(){const s=Zn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Zr(){return Zn.lFrame.bindingIndex++}function Ti(s){const a=Zn.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function $s(s,a){const u=Zn.lFrame;u.bindingIndex=u.bindingRootIndex=s,vl(a)}function vl(s){Zn.lFrame.currentDirectiveIndex=s}function Gl(){return Zn.lFrame.currentQueryIndex}function Wo(s){Zn.lFrame.currentQueryIndex=s}function Ks(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function bs(s,a,u){if(u&yn.SkipSelf){let w=a,D=s;for(;!(w=w.parent,null!==w||u&yn.Host||(w=Ks(D),null===w||(D=D[15],10&w.type))););if(null===w)return!1;a=w,s=D}const y=Zn.lFrame=ha();return y.currentTNode=a,y.lView=s,!0}function as(s){const a=ha(),u=s[1];Zn.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function ha(){const s=Zn.lFrame,a=null===s?null:s.child;return null===a?ls(s):a}function ls(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ka(){const s=Zn.lFrame;return Zn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kr=ka;function Na(){const s=ka();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Si(){return Zn.lFrame.selectedIndex}function qo(s){Zn.lFrame.selectedIndex=s}function Jr(){const s=Zn.lFrame;return ri(s.tView,s.selectedIndex)}function be(s,a){for(let u=a.directiveStart,y=a.directiveEnd;u<y;u++){const D=s.data[u].type.prototype,{ngAfterContentInit:L,ngAfterContentChecked:Z,ngAfterViewInit:de,ngAfterViewChecked:Te,ngOnDestroy:Pe}=D;L&&(s.contentHooks||(s.contentHooks=[])).push(-u,L),Z&&((s.contentHooks||(s.contentHooks=[])).push(u,Z),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,Z)),de&&(s.viewHooks||(s.viewHooks=[])).push(-u,de),Te&&((s.viewHooks||(s.viewHooks=[])).push(u,Te),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,Te)),null!=Pe&&(s.destroyHooks||(s.destroyHooks=[])).push(u,Pe)}}function Ue(s,a,u){Mn(s,a,3,u)}function ct(s,a,u,y){(3&s[2])===u&&Mn(s,a,u,y)}function Dt(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function Mn(s,a,u,y){const D=null!=y?y:-1,L=a.length-1;let Z=0;for(let de=void 0!==y?65535&s[18]:0;de<L;de++)if("number"==typeof a[de+1]){if(Z=a[de],null!=y&&Z>=y)break}else a[de]<0&&(s[18]+=65536),(Z<D||-1==D)&&(Br(s,u,a,de),s[18]=(4294901760&s[18])+de+2),de++}function Br(s,a,u,y){const w=u[y]<0,D=u[y+1],Z=s[w?-u[y]:u[y]];if(w){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{D.call(Z)}finally{}}}else try{D.call(Z)}finally{}}class Wi{constructor(a,u,y){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=y}}function Qn(s,a,u){const y=$t(s);let w=0;for(;w<u.length;){const D=u[w];if("number"==typeof D){if(0!==D)break;w++;const L=u[w++],Z=u[w++],de=u[w++];y?s.setAttribute(a,Z,de,L):a.setAttributeNS(L,Z,de)}else{const L=D,Z=u[++w];Ko(L)?y&&s.setProperty(a,L,Z):y?s.setAttribute(a,L,Z):a.setAttribute(L,Z),w++}}return w}function Ii(s){return 3===s||4===s||6===s}function Ko(s){return 64===s.charCodeAt(0)}function Ai(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?u=w:0===u||Pn(s,u,w,null,-1===u||2===u?a[++y]:null)}}return s}function Pn(s,a,u,y,w){let D=0,L=s.length;if(-1===a)L=-1;else for(;D<s.length;){const Z=s[D++];if("number"==typeof Z){if(Z===a){L=-1;break}if(Z>a){L=D-1;break}}}for(;D<s.length;){const Z=s[D];if("number"==typeof Z)break;if(Z===u){if(null===y)return void(null!==w&&(s[D+1]=w));if(y===s[D+1])return void(s[D+2]=w)}D++,null!==y&&D++,null!==w&&D++}-1!==L&&(s.splice(L,0,a),D=L+1),s.splice(D++,0,u),null!==y&&s.splice(D++,0,y),null!==w&&s.splice(D++,0,w)}function Zi(s){return-1!==s}function ii(s){return 32767&s}function Yo(s,a){let u=function(s){return s>>16}(s),y=a;for(;u>0;)y=y[15],u--;return y}let A=!0;function g(s){const a=A;return A=s,a}let ie=0;function Oe(s,a){const u=Be(s,a);if(-1!==u)return u;const y=a[1];y.firstCreatePass&&(s.injectorIndex=a.length,ze(y.data,s),ze(a,null),ze(y.blueprint,null));const w=yt(s,a),D=s.injectorIndex;if(Zi(w)){const L=ii(w),Z=Yo(w,a),de=Z[1].data;for(let Te=0;Te<8;Te++)a[D+Te]=Z[L+Te]|de[L+Te]}return a[D+8]=w,D}function ze(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Be(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function yt(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,y=null,w=a;for(;null!==w;){const D=w[1],L=D.type;if(y=2===L?D.declTNode:1===L?w[6]:null,null===y)return-1;if(u++,w=w[15],-1!==y.injectorIndex)return y.injectorIndex|u<<16}return-1}function Ot(s,a,u){!function(s,a,u){let y;"string"==typeof u?y=u.charCodeAt(0)||0:u.hasOwnProperty(Ar)&&(y=u[Ar]),null==y&&(y=u[Ar]=ie++);const w=255&y;a.data[s+(w>>5)]|=1<<w}(s,a,u)}function Xt(s,a,u){if(u&yn.Optional)return s;xe(a,"NodeInjector")}function dn(s,a,u,y){if(u&yn.Optional&&void 0===y&&(y=null),0==(u&(yn.Self|yn.Host))){const w=s[9],D=or(void 0);try{return w?w.get(a,y,u&yn.Optional):dr(a,y,u&yn.Optional)}finally{or(D)}}return Xt(y,a,u)}function On(s,a,u,y=yn.Default,w){if(null!==s){const D=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ar)?s[Ar]:void 0;return"number"==typeof a?a>=0?255&a:Rr:a}(u);if("function"==typeof D){if(!bs(a,s,y))return y&yn.Host?Xt(w,u,y):dn(a,u,y,w);try{const L=D(y);if(null!=L||y&yn.Optional)return L;xe(u)}finally{Kr()}}else if("number"==typeof D){let L=null,Z=Be(s,a),de=-1,Te=y&yn.Host?a[16][6]:null;for((-1===Z||y&yn.SkipSelf)&&(de=-1===Z?yt(s,a):a[Z+8],-1!==de&&cs(y,!1)?(L=a[1],Z=ii(de),a=Yo(de,a)):Z=-1);-1!==Z;){const Pe=a[1];if(qi(D,Z,Pe.data)){const Ze=bo(Z,a,u,L,y,Te);if(Ze!==Lr)return Ze}de=a[Z+8],-1!==de&&cs(y,a[1].data[Z+8]===Te)&&qi(D,Z,a)?(L=Pe,Z=ii(de),a=Yo(de,a)):Z=-1}}}return dn(a,u,y,w)}const Lr={};function Rr(){return new yl(yi(),Zt())}function bo(s,a,u,y,w,D){const L=a[1],Z=L.data[s+8],Pe=Ji(Z,L,u,null==y?ro(Z)&&A:y!=L&&0!=(3&Z.type),w&yn.Host&&D===Z);return null!==Pe?Qo(a,L,Pe,Z):Lr}function Ji(s,a,u,y,w){const D=s.providerIndexes,L=a.data,Z=1048575&D,de=s.directiveStart,Pe=D>>20,dt=w?Z+Pe:s.directiveEnd;for(let It=y?Z:Z+Pe;It<dt;It++){const qt=L[It];if(It<de&&u===qt||It>=de&&qt.type===u)return It}if(w){const It=L[de];if(It&&fi(It)&&It.type===u)return de}return null}function Qo(s,a,u,y){let w=s[u];const D=a.data;if(function(s){return s instanceof Wi}(w)){const L=w;L.resolving&&function(s,a){throw new le("200",`Circular dependency in DI detected for ${s}`)}(ee(D[u]));const Z=g(L.canSeeViewProviders);L.resolving=!0;const de=L.injectImpl?or(L.injectImpl):null;bs(s,y,yn.Default);try{w=s[u]=L.factory(void 0,D,s,y),a.firstCreatePass&&u>=y.directiveStart&&function(s,a,u){const{ngOnChanges:y,ngOnInit:w,ngDoCheck:D}=a.type.prototype;if(y){const L=Ma(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,L),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,L)}w&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,w),D&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,D),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,D))}(u,D[u],a)}finally{null!==de&&or(de),g(Z),L.resolving=!1,Kr()}}return w}function qi(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function cs(s,a){return!(s&yn.Self||s&yn.Host&&a)}class yl{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,y){return On(this._tNode,this._lView,a,y,u)}}function Id(s){return Gn(()=>{const a=s.prototype.constructor,u=a[er]||Nh(a),y=Object.prototype;let w=Object.getPrototypeOf(s.prototype).constructor;for(;w&&w!==y;){const D=w[er]||Nh(w);if(D&&D!==u)return D;w=Object.getPrototypeOf(w)}return D=>new D})}function Nh(s){return te(s)?()=>{const a=Nh(X(s));return a&&a()}:Fo(s)}function Fc(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const y=u.length;let w=0;for(;w<y;){const D=u[w];if(Ii(D))break;if(0===D)w+=2;else if("number"==typeof D)for(w++;w<y&&"string"==typeof u[w];)w++;else{if(D===a)return u[w+1];w+=2}}}return null}(yi(),s)}const Qs="__parameters__";function La(s,a,u){return Gn(()=>{const y=function(s){return function(...u){if(s){const y=s(...u);for(const w in y)this[w]=y[w]}}}(a);function w(...D){if(this instanceof w)return y.apply(this,D),this;const L=new w(...D);return Z.annotation=L,Z;function Z(de,Te,Pe){const Ze=de.hasOwnProperty(Qs)?de[Qs]:Object.defineProperty(de,Qs,{value:[]})[Qs];for(;Ze.length<=Pe;)Ze.push(null);return(Ze[Pe]=Ze[Pe]||[]).push(L),de}}return u&&(w.prototype=Object.create(u.prototype)),w.prototype.ngMetadataName=s,w.annotationCls=w,w})}class Di{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ft({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ql=new Di("AnalyzeForEntryComponents");function vr(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let y=s[u];Array.isArray(y)?(a===s&&(a=s.slice(0,u)),vr(y,a)):a!==s&&a.push(y)}return a}function Xi(s,a){s.forEach(u=>Array.isArray(u)?Xi(u,a):a(u))}function _l(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function uu(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Js(s,a){const u=[];for(let y=0;y<s;y++)u.push(a);return u}function Ns(s,a,u){let y=Ts(s,a);return y>=0?s[1|y]=u:(y=~y,function(s,a,u,y){let w=s.length;if(w==a)s.push(u,y);else if(1===w)s.push(y,s[0]),s[0]=u;else{for(w--,s.push(s[w-1],s[w]);w>a;)s[w]=s[w-2],w--;s[a]=u,s[a+1]=y}}(s,y,a,u)),y}function Fs(s,a){const u=Ts(s,a);if(u>=0)return s[1|u]}function Ts(s,a){return function(s,a,u){let y=0,w=s.length>>u;for(;w!==y;){const D=y+(w-y>>1),L=s[D<<u];if(a===L)return D<<u;L>a?w=D:y=D+1}return~(w<<u)}(s,a,1)}const Zu={},pa="__NG_DI_FLAG__",Ls="ngTempTokenPath",hu=/\n/gm,Yl="__source",ma=se({provide:String,useValue:se});let wo;function po(s){const a=wo;return wo=s,a}function xd(s,a=yn.Default){if(void 0===wo)throw new Error("inject() must be called from an injection context");return null===wo?dr(s,void 0,a):wo.get(s,a&yn.Optional?null:void 0,a)}function Co(s,a=yn.Default){return(Hn||xd)(X(s),a)}const Od=Co;function du(s){const a=[];for(let u=0;u<s.length;u++){const y=X(s[u]);if(Array.isArray(y)){if(0===y.length)throw new Error("Arguments array must have arguments.");let w,D=yn.Default;for(let L=0;L<y.length;L++){const Z=y[L],de=Xu(Z);"number"==typeof de?-1===de?w=Z.token:D|=de:w=Z}a.push(Co(w,D))}else a.push(Co(y))}return a}function ol(s,a){return s[pa]=a,s.prototype[pa]=a,s}function Xu(s){return s[pa]}const Va=ol(La("Inject",s=>({token:s})),-1),Ua=ol(La("Optional"),8),mu=ol(La("Self"),2),To=ol(La("SkipSelf"),4);let hs,Vs;function Gc(s){var a;return(null===(a=function(){if(void 0===hs&&(hs=null,Ht.trustedTypes))try{hs=Ht.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return hs}())||void 0===a?void 0:a.createHTML(s))||s}function _a(s){var a;return(null===(a=function(){if(void 0===Vs&&(Vs=null,Ht.trustedTypes))try{Vs=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Vs}())||void 0===a?void 0:a.createHTML(s))||s}class $c{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ba(s){return s instanceof $c?s.changingThisBreaksApplicationSecurity:s}function Sl(s,a){const u=function(s){return s instanceof $c&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}class Il{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Gc(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Zl{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const y=this.inertDocument.createElement("body");u.appendChild(y)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Gc(a),u;const y=this.inertDocument.createElement("body");return y.innerHTML=Gc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(a){const u=a.attributes;for(let w=u.length-1;0<w;w--){const L=u.item(w).name;("xmlns:ns1"===L||0===L.indexOf("ns1:"))&&a.removeAttribute(L)}let y=a.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const Tf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rc(s){return(s=String(s)).match(Tf)||s.match(Sf)?s:"unsafe:"+s}function fs(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function Jl(...s){const a={};for(const u of s)for(const y in u)u.hasOwnProperty(y)&&(a[y]=!0);return a}const Us=fs("area,br,col,hr,img,wbr"),Qc=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ic=fs("rp,rt"),Xl=Jl(Us,Jl(Qc,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jl(ic,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jl(ic,Qc)),Al=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ul=fs("srcset"),Fd=Jl(Al,ul,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sc=fs("script,style,template");class Ld{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,y=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?y=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,y&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let w=this.checkClobberedElement(u,u.nextSibling);if(w){u=w;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Xl.hasOwnProperty(u))return this.sanitizedSomething=!0,!sc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const y=a.attributes;for(let w=0;w<y.length;w++){const D=y.item(w),L=D.name,Z=L.toLowerCase();if(!Fd.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let de=D.value;Al[Z]&&(de=rc(de)),ul[Z]&&(s=de,de=(s=String(s)).split(",").map(a=>rc(a.trim())).join(", ")),this.buf.push(" ",L,'="',Zc(de),'"')}var s;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Xl.hasOwnProperty(u)&&!Us.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Zc(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Dl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Af=/([^\#-~ |!])/g;function Zc(s){return s.replace(/&/g,"&amp;").replace(Dl,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Af,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ds;function Ea(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var uo=(()=>((uo=uo||{})[uo.NONE=0]="NONE",uo[uo.HTML=1]="HTML",uo[uo.STYLE=2]="STYLE",uo[uo.SCRIPT=3]="SCRIPT",uo[uo.URL=4]="URL",uo[uo.RESOURCE_URL=5]="RESOURCE_URL",uo))();function Bs(s){const a=eu();return a?_a(a.sanitize(uo.HTML,s)||""):Sl(s,"HTML")?_a(ba(s)):function(s,a){let u=null;try{ds=ds||function(s){const a=new Zl(s);return function(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch(s){return!1}}()?new Il(a):a}(s);let y=a?String(a):"";u=ds.getInertBodyElement(y);let w=5,D=y;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,y=D,D=u.innerHTML,u=ds.getInertBodyElement(y)}while(y!==D);return Gc((new Ld).sanitizeChildren(Ea(u)||u))}finally{if(u){const y=Ea(u)||u;for(;y.firstChild;)y.removeChild(y.firstChild)}}}(Yt(),K(s))}function wa(s){const a=eu();return a?a.sanitize(uo.URL,s)||"":Sl(s,"URL")?ba(s):rc(K(s))}function eu(){const s=Zt();return s&&s[12]}const Ca="__ngContext__";function Xo(s,a){s[Ca]=a}function uc(s){const a=function(s){return s[Ca]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function zh(s){return s.ngOriginalError}function qp(s,...a){s.error(...a)}class hl{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),y=(s=a)&&s.ngErrorLogger||qp;var s;y(this._console,"ERROR",a),u&&y(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&zh(a);for(;u&&zh(u);)u=zh(u);return u||null}}const $p=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function Is(s){return s instanceof Function?s():s}var Wa=(()=>((Wa=Wa||{})[Wa.Important=1]="Important",Wa[Wa.DashCase=2]="DashCase",Wa))();function Sa(s,a){return undefined(s,a)}function mc(s){const a=s[3];return Hr(a)?a[3]:a}function f(s){return c(s[13])}function l(s){return c(s[4])}function c(s){for(;null!==s&&!Hr(s);)s=s[4];return s}function T(s,a,u,y,w){if(null!=y){let D,L=!1;Hr(y)?D=y:wr(y)&&(L=!0,y=y[0]);const Z=Rn(y);0===s&&null!==u?null==w?Pr(a,u,Z):ms(a,u,Z,w||null,!0):1===s&&null!==u?ms(a,u,Z,w||null,!0):2===s?function(s,a,u){const y=qa(s,a);y&&function(s,a,u,y){$t(s)?s.removeChild(a,u,y):a.removeChild(u)}(s,y,a,u)}(a,Z,L):3===s&&a.destroyNode(Z),null!=D&&function(s,a,u,y,w){const D=u[7];D!==Rn(u)&&T(a,s,y,D,w);for(let Z=10;Z<u.length;Z++){const de=u[Z];ih(de[1],de,s,a,y,D)}}(a,s,D,u,w)}}function ye(s,a,u){return $t(s)?s.createElement(a,u):null===u?s.createElement(a):s.createElementNS(u,a)}function jt(s,a){const u=s[9],y=u.indexOf(a),w=a[3];1024&a[2]&&(a[2]&=-1025,ss(w,-1)),u.splice(y,1)}function $n(s,a){if(s.length<=10)return;const u=10+a,y=s[u];if(y){const w=y[17];null!==w&&w!==s&&jt(w,y),a>0&&(s[u-1][4]=y[4]);const D=uu(s,10+a);!function(s,a){ih(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(y[1],y);const L=D[19];null!==L&&L.detachView(D[1]),y[3]=null,y[4]=null,y[2]&=-129}return y}function Un(s,a){if(!(256&a[2])){const u=a[11];$t(u)&&u.destroyNode&&ih(s,a,u,3,null,null),function(s){let a=s[13];if(!a)return sr(s[1],s);for(;a;){let u=null;if(wr(a))u=a[13];else{const y=a[10];y&&(u=y)}if(!u){for(;a&&!a[4]&&a!==s;)wr(a)&&sr(a[1],a),a=a[3];null===a&&(a=s),wr(a)&&sr(a[1],a),u=a&&a[4]}a=u}}(a)}}function sr(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let y=0;y<u.length;y+=2){const w=a[u[y]];if(!(w instanceof Wi)){const D=u[y+1];if(Array.isArray(D))for(let L=0;L<D.length;L+=2){const Z=w[D[L]],de=D[L+1];try{de.call(Z)}finally{}}else try{D.call(w)}finally{}}}}(s,a),function(s,a){const u=s.cleanup,y=a[7];let w=-1;if(null!==u)for(let D=0;D<u.length-1;D+=2)if("string"==typeof u[D]){const L=u[D+1],Z="function"==typeof L?L(a):Rn(a[L]),de=y[w=u[D+2]],Te=u[D+3];"boolean"==typeof Te?Z.removeEventListener(u[D],de,Te):Te>=0?y[w=Te]():y[w=-Te].unsubscribe(),D+=2}else{const L=y[w=u[D+1]];u[D].call(L)}if(null!==y){for(let D=w+1;D<y.length;D++)y[D]();a[7]=null}}(s,a),1===a[1].type&&$t(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Hr(a[3])){u!==a[3]&&jt(u,a);const y=a[19];null!==y&&y.detachView(s)}}}function Xr(s,a,u){return function(s,a,u){let y=a;for(;null!==y&&40&y.type;)y=(a=y).parent;if(null===y)return u[0];if(2&y.flags){const w=s.data[y.directiveStart].encapsulation;if(w===Fe.None||w===Fe.Emulated)return null}return pr(y,u)}(s,a.parent,u)}function ms(s,a,u,y,w){$t(s)?s.insertBefore(a,u,y,w):a.insertBefore(u,y,w)}function Pr(s,a,u){$t(s)?s.appendChild(a,u):a.appendChild(u)}function nu(s,a,u,y,w){null!==y?ms(s,a,u,y,w):Pr(s,a,u)}function qa(s,a){return $t(s)?s.parentNode(a):a.parentNode}function Qh(s,a,u){return Hd(s,a,u)}let Hd=function(s,a,u){return 40&s.type?pr(s,u):null};function vc(s,a,u,y){const w=Xr(s,y,a),D=a[11],Z=Qh(y.parent||a[6],y,a);if(null!=w)if(Array.isArray(u))for(let de=0;de<u.length;de++)nu(D,w,u[de],Z,!1);else nu(D,w,u,Z,!1)}function Gd(s,a){if(null!==a){const u=a.type;if(3&u)return pr(a,s);if(4&u)return Zh(-1,s[a.index]);if(8&u){const y=a.child;if(null!==y)return Gd(s,y);{const w=s[a.index];return Hr(w)?Zh(-1,w):Rn(w)}}if(32&u)return Sa(a,s)()||Rn(s[a.index]);{const y=Qp(s,a);return null!==y?Array.isArray(y)?y[0]:Gd(mc(s[16]),y):Gd(s,a.next)}}return null}function Qp(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Zh(s,a){const u=10+s+1;if(u<a.length){const y=a[u],w=y[1].firstChild;if(null!==w)return Gd(y,w)}return a[7]}function Wd(s,a,u,y,w,D,L){for(;null!=u;){const Z=y[u.index],de=u.type;if(L&&0===a&&(Z&&Xo(Rn(Z),y),u.flags|=4),64!=(64&u.flags))if(8&de)Wd(s,a,u.child,y,w,D,!1),T(a,s,w,Z,D);else if(32&de){const Te=Sa(u,y);let Pe;for(;Pe=Te();)T(a,s,w,Pe,D);T(a,s,w,Z,D)}else 16&de?$d(s,a,y,u,w,D):T(a,s,w,Z,D);u=L?u.projectionNext:u.next}}function ih(s,a,u,y,w,D){Wd(u,y,s.firstChild,a,w,D,!1)}function $d(s,a,u,y,w,D){const L=u[16],de=L[6].projection[y.projection];if(Array.isArray(de))for(let Te=0;Te<de.length;Te++)T(a,s,w,de[Te],D);else Wd(s,a,de,L[3],w,D,!0)}function Cg(s,a,u){$t(s)?s.setAttribute(a,"style",u):a.style.cssText=u}function Kd(s,a,u){$t(s)?""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u):a.className=u}function Jp(s,a,u){let y=s.length;for(;;){const w=s.indexOf(a,u);if(-1===w)return w;if(0===w||s.charCodeAt(w-1)<=32){const D=a.length;if(w+D===y||s.charCodeAt(w+D)<=32)return w}u=w+1}}const Sg="ng-template";function Ig(s,a,u){let y=0;for(;y<s.length;){let w=s[y++];if(u&&"class"===w){if(w=s[y],-1!==Jp(w.toLowerCase(),a,0))return!0}else if(1===w){for(;y<s.length&&"string"==typeof(w=s[y++]);)if(w.toLowerCase()===a)return!0;return!1}}return!1}function Yd(s){return 4===s.type&&s.value!==Sg}function Xp(s,a,u){return a===(4!==s.type||u?s.value:Sg)}function Ag(s,a,u){let y=4;const w=s.attrs||[],D=function(s){for(let a=0;a<s.length;a++)if(Ii(s[a]))return a;return s.length}(w);let L=!1;for(let Z=0;Z<a.length;Z++){const de=a[Z];if("number"!=typeof de){if(!L)if(4&y){if(y=2|1&y,""!==de&&!Xp(s,de,u)||""===de&&1===a.length){if($a(y))return!1;L=!0}}else{const Te=8&y?de:a[++Z];if(8&y&&null!==s.attrs){if(!Ig(s.attrs,Te,u)){if($a(y))return!1;L=!0}continue}const Ze=Dg(8&y?"class":de,w,Yd(s),u);if(-1===Ze){if($a(y))return!1;L=!0;continue}if(""!==Te){let dt;dt=Ze>D?"":w[Ze+1].toLowerCase();const It=8&y?dt:null;if(It&&-1!==Jp(It,Te,0)||2&y&&Te!==dt){if($a(y))return!1;L=!0}}}}else{if(!L&&!$a(y)&&!$a(de))return!1;if(L&&$a(de))continue;L=!1,y=de|1&y}}return $a(y)||L}function $a(s){return 0==(1&s)}function Dg(s,a,u,y){if(null===a)return-1;let w=0;if(y||!u){let D=!1;for(;w<a.length;){const L=a[w];if(L===s)return w;if(3===L||6===L)D=!0;else{if(1===L||2===L){let Z=a[++w];for(;"string"==typeof Z;)Z=a[++w];continue}if(4===L)break;if(0===L){w+=4;continue}}w+=D?1:2}return-1}return function(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const y=s[u];if("number"==typeof y)return-1;if(y===a)return u;u++}return-1}(a,s)}function Of(s,a,u=!1){for(let y=0;y<a.length;y++)if(Ag(s,a[y],u))return!0;return!1}function tm(s,a){e:for(let u=0;u<a.length;u++){const y=a[u];if(s.length===y.length){for(let w=0;w<s.length;w++)if(s[w]!==y[w])continue e;return!0}}return!1}function oh(s,a){return s?":not("+a.trim()+")":a}function Mf(s){let a=s[0],u=1,y=2,w="",D=!1;for(;u<s.length;){let L=s[u];if("string"==typeof L)if(2&y){const Z=s[++u];w+="["+L+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&y?w+="."+L:4&y&&(w+=" "+L);else""!==w&&!$a(L)&&(a+=oh(D,w),w=""),y=L,D=D||!$a(y);u++}return""!==w&&(a+=oh(D,w)),a}const kr={};function Rf(s){Zd(Mr(),Zt(),Si()+s,Yi())}function Zd(s,a,u,y){if(!y)if(3==(3&a[2])){const D=s.preOrderCheckHooks;null!==D&&Ue(a,D,u)}else{const D=s.preOrderHooks;null!==D&&ct(a,D,0,u)}qo(u)}function Pu(s,a){return s<<17|a<<2}function Ia(s){return s>>17&32767}function kf(s){return 2|s}function Ml(s){return(131068&s)>>2}function Jd(s,a){return-131069&s|a<<2}function Xd(s){return 1|s}function Ng(s,a){const u=s.contentQueries;if(null!==u)for(let y=0;y<u.length;y+=2){const w=u[y],D=u[y+1];if(-1!==D){const L=s.data[D];Wo(w),L.contentQueries(2,a[D],D)}}}function bc(s,a,u,y,w,D,L,Z,de,Te){const Pe=a.blueprint.slice();return Pe[0]=w,Pe[2]=140|y,Os(Pe),Pe[3]=Pe[15]=s,Pe[8]=u,Pe[10]=L||s&&s[10],Pe[11]=Z||s&&s[11],Pe[12]=de||s&&s[12]||null,Pe[9]=Te||s&&s[9]||null,Pe[6]=D,Pe[16]=2==a.type?s[16]:Pe,Pe}function Ec(s,a,u,y,w){let D=s.data[a];if(null===D)D=function(s,a,u,y,w){const D=gl(),L=Bi(),de=s.data[a]=function(s,a,u,y,w,D){return{type:u,index:y,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,L?D:D&&D.parent,u,a,y,w);return null===s.firstChild&&(s.firstChild=de),null!==D&&(L?null==D.child&&null!==de.parent&&(D.child=de):null===D.next&&(D.next=de)),de}(s,a,u,y,w),Zn.lFrame.inI18n&&(D.flags|=64);else if(64&D.type){D.type=u,D.value=y,D.attrs=w;const L=function(){const s=Zn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();D.injectorIndex=null===L?-1:L.injectorIndex}return _i(D,!0),D}function uh(s,a,u,y){if(0===u)return-1;const w=a.length;for(let D=0;D<u;D++)a.push(y),s.blueprint.push(y),s.data.push(null);return w}function ch(s,a,u){as(a);try{const y=s.viewQuery;null!==y&&vh(1,y,u);const w=s.template;null!==w&&Lg(s,a,w,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ng(s,a),s.staticViewQueries&&vh(2,s.viewQuery,u);const D=s.components;null!==D&&function(s,a){for(let u=0;u<a.length;u++)$g(s,a[u])}(a,D)}catch(y){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),y}finally{a[2]&=-5,Na()}}function iu(s,a,u,y){const w=a[2];if(256==(256&w))return;as(a);const D=Yi();try{Os(a),function(s){Zn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Lg(s,a,u,2,y);const L=3==(3&w);if(!D)if(L){const Te=s.preOrderCheckHooks;null!==Te&&Ue(a,Te,null)}else{const Te=s.preOrderHooks;null!==Te&&ct(a,Te,0,null),Dt(a,0)}if(function(s){for(let a=f(s);null!==a;a=l(a)){if(!a[2])continue;const u=a[9];for(let y=0;y<u.length;y++){const w=u[y],D=w[3];0==(1024&w[2])&&ss(D,1),w[2]|=1024}}}(a),function(s){for(let a=f(s);null!==a;a=l(a))for(let u=10;u<a.length;u++){const y=a[u],w=y[1];zo(y)&&iu(w,y,w.template,y[8])}}(a),null!==s.contentQueries&&Ng(s,a),!D)if(L){const Te=s.contentCheckHooks;null!==Te&&Ue(a,Te)}else{const Te=s.contentHooks;null!==Te&&ct(a,Te,1),Dt(a,1)}!function(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let y=0;y<u.length;y++){const w=u[y];if(w<0)qo(~w);else{const D=w,L=u[++y],Z=u[++y];$s(L,D),Z(2,a[D])}}}finally{qo(-1)}}(s,a);const Z=s.components;null!==Z&&function(s,a){for(let u=0;u<a.length;u++)tf(s,a[u])}(a,Z);const de=s.viewQuery;if(null!==de&&vh(2,de,y),!D)if(L){const Te=s.viewCheckHooks;null!==Te&&Ue(a,Te)}else{const Te=s.viewHooks;null!==Te&&ct(a,Te,2),Dt(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),D||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,ss(a[3],-1))}finally{Na()}}function iy(s,a,u,y){const w=a[10],D=!Yi(),L=$i(a);try{D&&!L&&w.begin&&w.begin(),L&&ch(s,a,y),iu(s,a,u,y)}finally{D&&!L&&w.end&&w.end()}}function Lg(s,a,u,y,w){const D=Si(),L=2&y;try{qo(-1),L&&a.length>20&&Zd(s,a,20,Yi()),u(y,w)}finally{qo(D)}}function ym(s,a,u){if(Po(a)){const w=a.directiveEnd;for(let D=a.directiveStart;D<w;D++){const L=s.data[D];L.contentQueries&&L.contentQueries(1,u[D],D)}}}function Hf(s,a,u){!Ki()||(function(s,a,u,y){const w=u.directiveStart,D=u.directiveEnd;s.firstCreatePass||Oe(u,a),Xo(y,a);const L=u.initialInputs;for(let Z=w;Z<D;Z++){const de=s.data[Z],Te=fi(de);Te&&lp(a,u,de);const Pe=Qo(a,s,Z,u);Xo(Pe,a),null!==L&&$f(0,Z-w,Pe,de,0,L),Te&&(li(u.index,a)[8]=Pe)}}(s,a,u,pr(u,a)),128==(128&u.flags)&&function(s,a,u){const y=u.directiveStart,w=u.directiveEnd,L=u.index,Z=Zn.lFrame.currentDirectiveIndex;try{qo(L);for(let de=y;de<w;de++){const Te=s.data[de],Pe=a[de];vl(de),(null!==Te.hostBindings||0!==Te.hostVars||null!==Te.hostAttrs)&&wm(Te,Pe)}}finally{qo(-1),vl(Z)}}(s,a,u))}function Gf(s,a,u=pr){const y=a.localNames;if(null!==y){let w=a.index+1;for(let D=0;D<y.length;D+=2){const L=y[D+1],Z=-1===L?u(a,s):s[L];s[w++]=Z}}}function _m(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=hh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function hh(s,a,u,y,w,D,L,Z,de,Te){const Pe=20+y,Ze=Pe+w,dt=function(s,a){const u=[];for(let y=0;y<a;y++)u.push(y<s?null:kr);return u}(Pe,Ze),It="function"==typeof Te?Te():Te;return dt[1]={type:s,blueprint:dt,template:u,queries:null,viewQuery:Z,declTNode:a,data:dt.slice().fill(null,Pe),bindingStartIndex:Pe,expandoStartIndex:Ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof L?L():L,firstChild:null,schemas:de,consts:It,incompleteFirstPass:!1}}function zf(s,a,u,y){const w=Cc(a);null===u?w.push(y):(w.push(u),s.firstCreatePass&&Im(s).push(y,w.length-1))}function Bg(s,a,u){for(let y in s)if(s.hasOwnProperty(y)){const w=s[y];(u=null===u?{}:u).hasOwnProperty(y)?u[y].push(a,w):u[y]=[a,w]}return u}function Wf(s,a,u,y){let w=!1;if(Ki()){const D=function(s,a,u){const y=s.directiveRegistry;let w=null;if(y)for(let D=0;D<y.length;D++){const L=y[D];Of(u,L.selectors,!1)&&(w||(w=[]),Ot(Oe(u,a),s,L.type),fi(L)?(wc(s,u),w.unshift(L)):w.push(L))}return w}(s,a,u),L=null===y?null:{"":-1};if(null!==D){w=!0,qf(u,s.data.length,D.length);for(let Pe=0;Pe<D.length;Pe++){const Ze=D[Pe];Ze.providersResolver&&Ze.providersResolver(Ze)}let Z=!1,de=!1,Te=uh(s,a,D.length,null);for(let Pe=0;Pe<D.length;Pe++){const Ze=D[Pe];u.mergedAttrs=Ai(u.mergedAttrs,Ze.hostAttrs),Tm(s,u,a,Te,Ze),dh(Te,Ze,L),null!==Ze.contentQueries&&(u.flags|=8),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(u.flags|=128);const dt=Ze.type.prototype;!Z&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),Z=!0),!de&&(dt.ngOnChanges||dt.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),de=!0),Te++}!function(s,a){const y=a.directiveEnd,w=s.data,D=a.attrs,L=[];let Z=null,de=null;for(let Te=a.directiveStart;Te<y;Te++){const Pe=w[Te],Ze=Pe.inputs,dt=null===D||Yd(a)?null:cp(Ze,D);L.push(dt),Z=Bg(Ze,Te,Z),de=Bg(Pe.outputs,Te,de)}null!==Z&&(Z.hasOwnProperty("class")&&(a.flags|=16),Z.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=L,a.inputs=Z,a.outputs=de}(s,u)}L&&function(s,a,u){if(a){const y=s.localNames=[];for(let w=0;w<a.length;w+=2){const D=u[a[w+1]];if(null==D)throw new le("301",`Export of name '${a[w+1]}' not found!`);y.push(a[w],D)}}}(u,y,L)}return u.mergedAttrs=Ai(u.mergedAttrs,u.attrs),w}function sp(s,a,u,y,w,D){const L=D.hostBindings;if(L){let Z=s.hostBindingOpCodes;null===Z&&(Z=s.hostBindingOpCodes=[]);const de=~a.index;(function(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(Z)!=de&&Z.push(de),Z.push(y,w,L)}}function wm(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function wc(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function dh(s,a,u){if(u){if(a.exportAs)for(let y=0;y<a.exportAs.length;y++)u[a.exportAs[y]]=s;fi(a)&&(u[""]=s)}}function qf(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function Tm(s,a,u,y,w){s.data[y]=w;const D=w.factory||(w.factory=Fo(w.type)),L=new Wi(D,fi(w),null);s.blueprint[y]=L,u[y]=L,sp(s,a,0,y,uh(s,u,w.hostVars,kr),w)}function lp(s,a,u){const y=pr(a,s),w=_m(u),D=s[10],L=ph(s,bc(s,w,null,u.onPush?64:16,y,a,D,D.createRenderer(y,u),null,null));s[a.index]=L}function Ka(s,a,u,y,w,D){const L=pr(s,a);!function(s,a,u,y,w,D,L){if(null==D)$t(s)?s.removeAttribute(a,w,u):a.removeAttribute(w);else{const Z=null==L?K(D):L(D,y||"",w);$t(s)?s.setAttribute(a,w,Z,u):u?a.setAttributeNS(u,w,Z):a.setAttribute(w,Z)}}(a[11],L,D,s.value,u,y,w)}function $f(s,a,u,y,w,D){const L=D[a];if(null!==L){const Z=y.setInput;for(let de=0;de<L.length;){const Te=L[de++],Pe=L[de++],Ze=L[de++];null!==Z?y.setInput(u,Ze,Te,Pe):u[Pe]=Ze}}}function cp(s,a){let u=null,y=0;for(;y<a.length;){const w=a[y];if(0!==w)if(5!==w){if("number"==typeof w)break;s.hasOwnProperty(w)&&(null===u&&(u=[]),u.push(w,s[w],a[y+1])),y+=2}else y+=2;else y+=4}return u}function fp(s,a,u,y){return new Array(s,!0,!1,a,null,0,y,u,null,null)}function tf(s,a){const u=li(a,s);if(zo(u)){const y=u[1];80&u[2]?iu(y,u,y.template,u[8]):u[5]>0&&nf(u)}}function nf(s){for(let y=f(s);null!==y;y=l(y))for(let w=10;w<y.length;w++){const D=y[w];if(1024&D[2]){const L=D[1];iu(L,D,L.template,D[8])}else D[5]>0&&nf(D)}const u=s[1].components;if(null!==u)for(let y=0;y<u.length;y++){const w=li(u[y],s);zo(w)&&w[5]>0&&nf(w)}}function $g(s,a){const u=li(a,s),y=u[1];(function(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(y,u),ch(y,u,u[8])}function ph(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Ya(s){for(;s;){s[2]|=64;const a=mc(s);if(io(s)&&!a)return s;s=a}return null}function dp(s,a,u){const y=a[10];y.begin&&y.begin();try{iu(s,a,s.template,u)}catch(w){throw Am(a,w),w}finally{y.end&&y.end()}}function oy(s){!function(s){for(let a=0;a<s.components.length;a++){const u=s.components[a],y=uc(u),w=y[1];iy(w,y,w.template,u)}}(s[8])}function vh(s,a,u){Wo(0),a(s,u)}const yh=(()=>Promise.resolve(null))();function Cc(s){return s[7]||(s[7]=[])}function Im(s){return s.cleanup||(s.cleanup=[])}function Am(s,a){const u=s[9],y=u?u.get(hl,null):null;y&&y.handleError(a)}function Dm(s,a,u,y,w){for(let D=0;D<u.length;){const L=u[D++],Z=u[D++],de=a[L],Te=s.data[L];null!==Te.setInput?Te.setInput(de,w,y,Z):de[Z]=w}}function ou(s,a,u){const y=ni(a,s);!function(s,a,u){$t(s)?s.setValue(a,u):a.textContent=u}(s[11],y,u)}function pp(s,a,u){let y=u?s.styles:null,w=u?s.classes:null,D=0;if(null!==a)for(let L=0;L<a.length;L++){const Z=a[L];"number"==typeof Z?D=Z:1==D?w=B(w,Z):2==D&&(y=B(y,Z+": "+a[++L]+";"))}u?s.styles=y:s.stylesWithoutHost=y,u?s.classes=w:s.classesWithoutHost=w}const Gs=new Di("INJECTOR",-1);class Yf{get(a,u=Zu){if(u===Zu){const y=new Error(`NullInjectorError: No provider for ${fe(a)}!`);throw y.name="NullInjectorError",y}return u}}const sf=new Di("Set Injector scope."),Tc={},bh={};let Eh;function xm(){return void 0===Eh&&(Eh=new Yf),Eh}function Pm(s,a=null,u=null,y){const w=gp(s,a,u,y);return w._resolveInjectorDefTypes(),w}function gp(s,a=null,u=null,y){return new ns(s,u,a||xm(),y)}class ns{constructor(a,u,y,w=null){this.parent=y,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];u&&Xi(u,Z=>this.processProvider(Z,a,u)),Xi([a],Z=>this.processInjectorType(Z,[],D)),this.records.set(Gs,Sc(void 0,this));const L=this.records.get(sf);this.scope=null!=L?L.value:null,this.source=w||("object"==typeof a?null:fe(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Zu,y=yn.Default){this.assertNotDestroyed();const w=po(this),D=or(void 0);try{if(!(y&yn.SkipSelf)){let Z=this.records.get(a);if(void 0===Z){const de=("function"==typeof(s=a)||"object"==typeof s&&s instanceof Di)&&St(a);Z=de&&this.injectableDefInScope(de)?Sc(vp(a),Tc):null,this.records.set(a,Z)}if(null!=Z)return this.hydrate(a,Z)}return(y&yn.Self?xm():this.parent).get(a,u=y&yn.Optional&&u===Zu?null:u)}catch(L){if("NullInjectorError"===L.name){if((L[Ls]=L[Ls]||[]).unshift(fe(a)),w)throw L;return function(s,a,u,y){const w=s[Ls];throw a[Yl]&&w.unshift(a[Yl]),s.message=function(s,a,u,y=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let w=fe(a);if(Array.isArray(a))w=a.map(fe).join(" -> ");else if("object"==typeof a){let D=[];for(let L in a)if(a.hasOwnProperty(L)){let Z=a[L];D.push(L+":"+("string"==typeof Z?JSON.stringify(Z):fe(Z)))}w=`{${D.join(", ")}}`}return`${u}${y?"("+y+")":""}[${w}]: ${s.replace(hu,"\n  ")}`}("\n"+s.message,w,u,y),s.ngTokenPath=w,s[Ls]=null,s}(L,a,"R3InjectorError",this.source)}throw L}finally{or(D),po(w)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((y,w)=>a.push(fe(w))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,y){if(!(a=X(a)))return!1;let w=tn(a);const D=null==w&&a.ngModule||void 0,L=void 0===D?a:D,Z=-1!==y.indexOf(L);if(void 0!==D&&(w=tn(D)),null==w)return!1;if(null!=w.imports&&!Z){let Pe;y.push(L);try{Xi(w.imports,Ze=>{this.processInjectorType(Ze,u,y)&&(void 0===Pe&&(Pe=[]),Pe.push(Ze))})}finally{}if(void 0!==Pe)for(let Ze=0;Ze<Pe.length;Ze++){const{ngModule:dt,providers:It}=Pe[Ze];Xi(It,qt=>this.processProvider(qt,dt,It||Wn))}}this.injectorDefTypes.add(L);const de=Fo(L)||(()=>new L);this.records.set(L,Sc(de,Tc));const Te=w.providers;if(null!=Te&&!Z){const Pe=a;Xi(Te,Ze=>this.processProvider(Ze,Pe,Te))}return void 0!==D&&void 0!==a.providers}processProvider(a,u,y){let w=Rl(a=X(a))?a:X(a&&a.provide);const D=(s=a,yp(s)?Sc(void 0,s.useValue):Sc(Qg(s),Tc));var s;if(Rl(a)||!0!==a.multi)this.records.get(w);else{let L=this.records.get(w);L||(L=Sc(void 0,Tc,!0),L.factory=()=>du(L.multi),this.records.set(w,L)),w=a,L.multi.push(a)}this.records.set(w,D)}hydrate(a,u){return u.value===Tc&&(u.value=bh,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const u=X(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function vp(s){const a=St(s),u=null!==a?a.factory:Fo(s);if(null!==u)return u;if(s instanceof Di)throw new Error(`Token ${fe(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const y=Js(a,"?");throw new Error(`Can't resolve all parameters for ${fe(s)}: (${y.join(", ")}).`)}const u=function(s){const a=s&&(s[Cn]||s[on]);if(a){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Qg(s,a,u){let y;if(Rl(s)){const w=X(s);return Fo(w)||vp(w)}if(yp(s))y=()=>X(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))y=()=>s.useFactory(...du(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))y=()=>Co(X(s.useExisting));else{const w=X(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Fo(w)||vp(w);y=()=>new w(...du(s.deps))}return y}function Sc(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function yp(s){return null!==s&&"object"==typeof s&&ma in s}function Rl(s){return"function"==typeof s}let zs=(()=>{class s{static create(u,y){var w;if(Array.isArray(u))return Pm({name:""},y,u,"");{const D=null!==(w=u.name)&&void 0!==w?w:"";return Pm({name:D},u.parent,u.providers,D)}}}return s.THROW_IF_NOT_FOUND=Zu,s.NULL=new Yf,s.\u0275prov=Ft({token:s,providedIn:"any",factory:()=>Co(Gs)}),s.__NG_ELEMENT_ID__=-1,s})();function tv(s,a){be(uc(s)[1],yi())}function Th(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const y=[s];for(;a;){let w;if(fi(s))w=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");w=a.\u0275dir}if(w){if(u){y.push(w);const L=s;L.inputs=uf(s.inputs),L.declaredInputs=uf(s.declaredInputs),L.outputs=uf(s.outputs);const Z=w.hostBindings;Z&&Ap(s,Z);const de=w.viewQuery,Te=w.contentQueries;if(de&&Xf(s,de),Te&&Fm(s,Te),re(s.inputs,w.inputs),re(s.declaredInputs,w.declaredInputs),re(s.outputs,w.outputs),fi(w)&&w.data.animation){const Pe=s.data;Pe.animation=(Pe.animation||[]).concat(w.data.animation)}}const D=w.features;if(D)for(let L=0;L<D.length;L++){const Z=D[L];Z&&Z.ngInherit&&Z(s),Z===Th&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,u=null;for(let y=s.length-1;y>=0;y--){const w=s[y];w.hostVars=a+=w.hostVars,w.hostAttrs=Ai(w.hostAttrs,u=Ai(u,w.hostAttrs))}}(y)}function uf(s){return s===En?{}:s===Wn?[]:s}function Xf(s,a){const u=s.viewQuery;s.viewQuery=u?(y,w)=>{a(y,w),u(y,w)}:a}function Fm(s,a){const u=s.contentQueries;s.contentQueries=u?(y,w,D)=>{a(y,w,D),u(y,w,D)}:a}function Ap(s,a){const u=s.hostBindings;s.hostBindings=u?(y,w)=>{a(y,w),u(y,w)}:a}let Ac=null;function Ih(){if(!Ac){const s=Ht.Symbol;if(s&&s.iterator)Ac=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const y=a[u];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(Ac=y)}}}return Ac}function Ah(s){return!!Vm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ih()in s)}function Vm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Za(s,a,u){return s[a]=u}function Uo(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function xc(s,a,u,y){const w=Uo(s,a,u);return Uo(s,a+1,y)||w}function td(s,a,u,y){const w=Zt();return Uo(w,Zr(),a)&&(Mr(),Ka(Jr(),w,s,a,u,y)),td}function p(s,a,u,y,w,D,L,Z){const de=Zt(),Te=Mr(),Pe=s+20,Ze=Te.firstCreatePass?function(s,a,u,y,w,D,L,Z,de){const Te=a.consts,Pe=Ec(a,s,4,L||null,mi(Te,Z));Wf(a,u,Pe,mi(Te,de)),be(a,Pe);const Ze=Pe.tViews=hh(2,Pe,y,w,D,a.directiveRegistry,a.pipeRegistry,null,a.schemas,Te);return null!==a.queries&&(a.queries.template(a,Pe),Ze.queries=a.queries.embeddedTView(Pe)),Pe}(Pe,Te,de,a,u,y,w,D,L):Te.data[Pe];_i(Ze,!1);const dt=de[11].createComment("");vc(Te,de,dt,Ze),Xo(dt,de),ph(de,de[Pe]=fp(dt,de,dt,Ze)),jo(Ze)&&Hf(Te,de,Ze),null!=L&&Gf(de,Ze,Z)}function F(s){return Dr(Zn.lFrame.contextLView,20+s)}function zm(s,a=yn.Default){const u=Zt();return null===u?Co(s,a):On(yi(),u,X(s),a)}function X_(){throw new Error("invalid")}function cy(s,a,u){const y=Zt();return Uo(y,Zr(),a)&&function(s,a,u,y,w,D,L,Z){const de=pr(a,u);let Pe,Te=a.inputs;!Z&&null!=Te&&(Pe=Te[y])?(Dm(s,u,Pe,y,w),ro(a)&&function(s,a){const u=li(a,s);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(y=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(y),w=null!=L?L(w,a.value||"",y):w,$t(D)?D.setProperty(de,y,w):Ko(y)||(de.setProperty?de.setProperty(y,w):de[y]=w))}(Mr(),Jr(),y,s,a,y[11],u,!1),cy}function ov(s,a,u,y,w){const L=w?"class":"style";Dm(s,u,a.inputs[L],L,y)}function sv(s,a,u,y){const w=Zt(),D=Mr(),L=20+s,Z=w[11],de=w[L]=ye(Z,a,Zn.lFrame.currentNamespace),Te=D.firstCreatePass?function(s,a,u,y,w,D,L){const Z=a.consts,Te=Ec(a,s,2,w,mi(Z,D));return Wf(a,u,Te,mi(Z,L)),null!==Te.attrs&&pp(Te,Te.attrs,!1),null!==Te.mergedAttrs&&pp(Te,Te.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,Te),Te}(L,D,w,0,a,u,y):D.data[L];_i(Te,!0);const Pe=Te.mergedAttrs;null!==Pe&&Qn(Z,de,Pe);const Ze=Te.classes;null!==Ze&&Kd(Z,de,Ze);const dt=Te.styles;null!==dt&&Cg(Z,de,dt),64!=(64&Te.flags)&&vc(D,w,de,Te),0===Zn.lFrame.elementDepthCount&&Xo(de,w),Zn.lFrame.elementDepthCount++,jo(Te)&&(Hf(D,w,Te),ym(D,Te,w)),null!==y&&Gf(w,Te)}function gn(){let s=yi();Bi()?Do():(s=s.parent,_i(s,!1));const a=s;Zn.lFrame.elementDepthCount--;const u=Mr();u.firstCreatePass&&(be(u,s),Po(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&ov(u,a,Zt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&ov(u,a,Zt(),a.stylesWithoutHost,!1)}function av(s,a,u,y){sv(s,a,u,y),gn()}function t0(s,a,u){const y=Zt(),w=Mr(),D=s+20,L=w.firstCreatePass?function(s,a,u,y,w){const D=a.consts,L=mi(D,y),Z=Ec(a,s,8,"ng-container",L);return null!==L&&pp(Z,L,!0),Wf(a,u,Z,mi(D,w)),null!==a.queries&&a.queries.elementStart(a,Z),Z}(D,w,y,a,u):w.data[D];_i(L,!0);const Z=y[D]=y[11].createComment("");vc(w,y,Z,L),Xo(Z,y),jo(L)&&(Hf(w,y,L),ym(w,L,y)),null!=u&&Gf(y,L)}function hy(){let s=yi();const a=Mr();Bi()?Do():(s=s.parent,_i(s,!1)),a.firstCreatePass&&(be(a,s),Po(s)&&a.queries.elementEnd(s))}function kE(s,a,u){t0(s,a,u),hy()}function NE(){return Zt()}function n0(s){return!!s&&"function"==typeof s.then}function FE(s){return!!s&&"function"==typeof s.subscribe}const LE=FE;function ju(s,a,u,y){const w=Zt(),D=Mr(),L=yi();return function(s,a,u,y,w,D,L,Z){const de=jo(y),Pe=s.firstCreatePass&&Im(s),Ze=a[8],dt=Cc(a);let It=!0;if(3&y.type||Z){const kn=pr(y,a),Jn=Z?Z(kn):kn,an=dt.length,cr=Z?oi=>Z(Rn(oi[y.index])):y.index;if($t(u)){let oi=null;if(!Z&&de&&(oi=function(s,a,u,y){const w=s.cleanup;if(null!=w)for(let D=0;D<w.length-1;D+=2){const L=w[D];if(L===u&&w[D+1]===y){const Z=a[7],de=w[D+2];return Z.length>de?Z[de]:null}"string"==typeof L&&(D+=2)}return null}(s,a,w,y.index)),null!==oi)(oi.__ngLastListenerFn__||oi).__ngNextListenerFn__=D,oi.__ngLastListenerFn__=D,It=!1;else{D=fy(y,a,Ze,D,!1);const Gi=u.listen(Jn,w,D);dt.push(D,Gi),Pe&&Pe.push(w,cr,an,an+1)}}else D=fy(y,a,Ze,D,!0),Jn.addEventListener(w,D,L),dt.push(D),Pe&&Pe.push(w,cr,an,L)}else D=fy(y,a,Ze,D,!1);const qt=y.outputs;let wn;if(It&&null!==qt&&(wn=qt[w])){const kn=wn.length;if(kn)for(let Jn=0;Jn<kn;Jn+=2){const Vl=a[wn[Jn]][wn[Jn+1]].subscribe(D),yd=dt.length;dt.push(D,Vl),Pe&&Pe.push(w,y.index,yd,-(yd+1))}}}(D,w,w[11],L,s,a,!!u,y),ju}function s0(s,a,u,y){try{return!1!==u(y)}catch(w){return Am(s,w),!1}}function fy(s,a,u,y,w){return function D(L){if(L===Function)return y;const Z=2&s.flags?li(s.index,a):a;0==(32&a[2])&&Ya(Z);let de=s0(a,0,y,L),Te=D.__ngNextListenerFn__;for(;Te;)de=s0(a,0,Te,L)&&de,Te=Te.__ngNextListenerFn__;return w&&!1===de&&(L.preventDefault(),L.returnValue=!1),de}}function a0(s=1){return function(s){return(Zn.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,Zn.lFrame.contextLView))[8]}(s)}function UE(s,a){let u=null;const y=function(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(s);for(let w=0;w<a.length;w++){const D=a[w];if("*"!==D){if(null===y?Of(s,D,!0):tm(y,D))return w}else u=w}return u}function l0(s){const a=Zt()[16][6];if(!a.projection){const y=a.projection=Js(s?s.length:1,null),w=y.slice();let D=a.child;for(;null!==D;){const L=s?UE(D,s):0;null!==L&&(w[L]?w[L].projectionNext=D:y[L]=D,w[L]=D),D=D.next}}}function u0(s,a=0,u){const y=Zt(),w=Mr(),D=Ec(w,20+s,16,null,u||null);null===D.projection&&(D.projection=a),Do(),64!=(64&D.flags)&&function(s,a,u){$d(a[11],0,a,u,Xr(s,u,a),Qh(u.parent||a[6],u,a))}(w,y,D)}function m0(s,a,u,y,w){const D=s[u+1],L=null===a;let Z=y?Ia(D):Ml(D),de=!1;for(;0!==Z&&(!1===de||L);){const Pe=s[Z+1];HE(s[Z],a)&&(de=!0,s[Z+1]=y?Xd(Pe):kf(Pe)),Z=y?Ia(Pe):Ml(Pe)}de&&(s[u+1]=y?kf(D):Xd(D))}function HE(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ts(s,a)>=0}const As={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g0(s){return s.substring(As.key,As.keyEnd)}function v0(s,a){const u=As.textEnd;return u===a?-1:(a=As.keyEnd=function(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,As.key=a,u),Pp(s,a,u))}function Pp(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function gy(s,a,u){return ml(s,a,u,!1),gy}function vy(s,a){return ml(s,a,null,!0),vy}function yy(s){!function(s,a,u,y){const w=Mr(),D=Ti(2);w.firstUpdatePass&&ZE(w,null,D,y);const L=Zt();if(u!==kr&&Uo(L,D,u)){const Z=w.data[Si()];if(S0(Z,y)&&!QE(w,D)){let de=y?Z.classesWithoutHost:Z.stylesWithoutHost;null!==de&&(u=B(de,u||"")),ov(w,Z,L,u,y)}else!function(s,a,u,y,w,D,L,Z){w===kr&&(w=Wn);let de=0,Te=0,Pe=0<w.length?w[0]:null,Ze=0<D.length?D[0]:null;for(;null!==Pe||null!==Ze;){const dt=de<w.length?w[de+1]:void 0,It=Te<D.length?D[Te+1]:void 0;let wn,qt=null;Pe===Ze?(de+=2,Te+=2,dt!==It&&(qt=Ze,wn=It)):null===Ze||null!==Pe&&Pe<Ze?(de+=2,qt=Pe):(Te+=2,qt=Ze,wn=It),null!==qt&&C0(s,a,u,y,qt,wn,L,Z),Pe=de<w.length?w[de]:null,Ze=Te<D.length?D[Te]:null}}(w,Z,L,L[11],L[D+1],L[D+1]=function(s,a,u){if(null==u||""===u)return Wn;const y=[],w=ba(u);if(Array.isArray(w))for(let D=0;D<w.length;D++)s(y,w[D],!0);else if("object"==typeof w)for(const D in w)w.hasOwnProperty(D)&&s(y,D,w[D]);else"string"==typeof w&&a(y,w);return y}(s,a,u),y,D)}}(Ns,Rc,s,!0)}function Rc(s,a){for(let u=function(s){return function(s){As.key=0,As.keyEnd=0,As.value=0,As.valueEnd=0,As.textEnd=s.length}(s),v0(s,Pp(s,0,As.textEnd))}(a);u>=0;u=v0(a,u))Ns(s,g0(a),!0)}function ml(s,a,u,y){const w=Zt(),D=Mr(),L=Ti(2);D.firstUpdatePass&&ZE(D,s,L,y),a!==kr&&Uo(w,L,a)&&C0(D,D.data[Si()],w,w[11],s,w[L+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=fe(ba(s)))),s}(a,u),y,L)}function QE(s,a){return a>=s.expandoStartIndex}function ZE(s,a,u,y){const w=s.data;if(null===w[u+1]){const D=w[Si()],L=QE(s,u);S0(D,y)&&null===a&&!L&&(a=!1),a=function(s,a,u,y){const w=function(s){const a=Zn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let D=y?a.residualClasses:a.residualStyles;if(null===w)0===(y?a.classBindings:a.styleBindings)&&(u=Op(u=_y(null,s,a,u,y),a.attrs,y),D=null);else{const L=a.directiveStylingLast;if(-1===L||s[L]!==w)if(u=_y(w,s,a,u,y),null===D){let de=function(s,a,u){const y=u?a.classBindings:a.styleBindings;if(0!==Ml(y))return s[Ia(y)]}(s,a,y);void 0!==de&&Array.isArray(de)&&(de=_y(null,s,a,de[1],y),de=Op(de,a.attrs,y),function(s,a,u,y){s[Ia(u?a.classBindings:a.styleBindings)]=y}(s,a,y,de))}else D=function(s,a,u){let y;const w=a.directiveEnd;for(let D=1+a.directiveStylingLast;D<w;D++)y=Op(y,s[D].hostAttrs,u);return Op(y,a.attrs,u)}(s,a,y)}return void 0!==D&&(y?a.residualClasses=D:a.residualStyles=D),u}(w,D,a,y),function(s,a,u,y,w,D){let L=D?a.classBindings:a.styleBindings,Z=Ia(L),de=Ml(L);s[y]=u;let Pe,Te=!1;if(Array.isArray(u)){const Ze=u;Pe=Ze[1],(null===Pe||Ts(Ze,Pe)>0)&&(Te=!0)}else Pe=u;if(w)if(0!==de){const dt=Ia(s[Z+1]);s[y+1]=Pu(dt,Z),0!==dt&&(s[dt+1]=Jd(s[dt+1],y)),s[Z+1]=function(s,a){return 131071&s|a<<17}(s[Z+1],y)}else s[y+1]=Pu(Z,0),0!==Z&&(s[Z+1]=Jd(s[Z+1],y)),Z=y;else s[y+1]=Pu(de,0),0===Z?Z=y:s[de+1]=Jd(s[de+1],y),de=y;Te&&(s[y+1]=kf(s[y+1])),m0(s,Pe,y,!0),m0(s,Pe,y,!1),function(s,a,u,y,w){const D=w?s.residualClasses:s.residualStyles;null!=D&&"string"==typeof a&&Ts(D,a)>=0&&(u[y+1]=Xd(u[y+1]))}(a,Pe,s,y,D),L=Pu(Z,de),D?a.classBindings=L:a.styleBindings=L}(w,D,a,u,L,y)}}function _y(s,a,u,y,w){let D=null;const L=u.directiveEnd;let Z=u.directiveStylingLast;for(-1===Z?Z=u.directiveStart:Z++;Z<L&&(D=a[Z],y=Op(y,D.hostAttrs,w),D!==s);)Z++;return null!==s&&(u.directiveStylingLast=Z),y}function Op(s,a,u){const y=u?1:2;let w=-1;if(null!==a)for(let D=0;D<a.length;D++){const L=a[D];"number"==typeof L?w=L:w===y&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ns(s,L,!!u||a[++D]))}return void 0===s?null:s}function C0(s,a,u,y,w,D,L,Z){if(!(3&a.type))return;const de=s.data,Te=de[Z+1];sd(function(s){return 1==(1&s)}(Te)?hv(de,a,u,w,Ml(Te),L):void 0)||(sd(D)||function(s){return 2==(2&s)}(Te)&&(D=hv(de,null,u,w,Z,L)),function(s,a,u,y,w){const D=$t(s);if(a)w?D?s.addClass(u,y):u.classList.add(y):D?s.removeClass(u,y):u.classList.remove(y);else{let L=-1===y.indexOf("-")?void 0:Wa.DashCase;if(null==w)D?s.removeStyle(u,y,L):u.style.removeProperty(y);else{const Z="string"==typeof w&&w.endsWith("!important");Z&&(w=w.slice(0,-10),L|=Wa.Important),D?s.setStyle(u,y,w,L):u.style.setProperty(y,w,Z?"important":"")}}}(y,L,ni(Si(),u),w,D))}function hv(s,a,u,y,w,D){const L=null===a;let Z;for(;w>0;){const de=s[w],Te=Array.isArray(de),Pe=Te?de[1]:de,Ze=null===Pe;let dt=u[w+1];dt===kr&&(dt=Ze?Wn:void 0);let It=Ze?Fs(dt,y):Pe===y?dt:void 0;if(Te&&!sd(It)&&(It=Fs(de,y)),sd(It)&&(Z=It,L))return Z;const qt=s[w+1];w=L?Ia(qt):Ml(qt)}if(null!==a){let de=D?a.residualClasses:a.residualStyles;null!=de&&(Z=Fs(de,y))}return Z}function sd(s){return void 0!==s}function S0(s,a){return 0!=(s.flags&(a?16:32))}function ew(s,a=""){const u=Zt(),y=Mr(),w=s+20,D=y.firstCreatePass?Ec(y,w,1,a,null):y.data[w],L=u[w]=function(s,a){return $t(s)?s.createText(a):s.createTextNode(a)}(u[11],a);vc(y,u,L,D),_i(D,!1)}function Ey(s){return fv("",s,""),Ey}function fv(s,a,u){const y=Zt(),w=function(s,a,u,y){return Uo(s,Zr(),u)?a+K(u)+y:kr}(y,s,a,u);return w!==kr&&ou(y,Si(),w),fv}const ld=void 0;var uw=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const u=Math.floor(Math.abs(s)),y=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===y?1:5}];let Ym={};function V0(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=B0(a);if(u)return u;const y=a.split("-")[0];if(u=B0(y),u)return u;if("en"===y)return uw;throw new Error(`Missing locale data for the locale "${s}".`)}function U0(s){return V0(s)[br.PluralCase]}function B0(s){return s in Ym||(Ym[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Ym[s]}var br=(()=>((br=br||{})[br.LocaleId=0]="LocaleId",br[br.DayPeriodsFormat=1]="DayPeriodsFormat",br[br.DayPeriodsStandalone=2]="DayPeriodsStandalone",br[br.DaysFormat=3]="DaysFormat",br[br.DaysStandalone=4]="DaysStandalone",br[br.MonthsFormat=5]="MonthsFormat",br[br.MonthsStandalone=6]="MonthsStandalone",br[br.Eras=7]="Eras",br[br.FirstDayOfWeek=8]="FirstDayOfWeek",br[br.WeekendRange=9]="WeekendRange",br[br.DateFormat=10]="DateFormat",br[br.TimeFormat=11]="TimeFormat",br[br.DateTimeFormat=12]="DateTimeFormat",br[br.NumberSymbols=13]="NumberSymbols",br[br.NumberFormats=14]="NumberFormats",br[br.CurrencyCode=15]="CurrencyCode",br[br.CurrencySymbol=16]="CurrencySymbol",br[br.CurrencyName=17]="CurrencyName",br[br.Currencies=18]="Currencies",br[br.Directionality=19]="Directionality",br[br.PluralCase=20]="PluralCase",br[br.ExtraData=21]="ExtraData",br))();const Qm="en-US";let yv=Qm;function ky(s,a,u,y,w){if(s=X(s),Array.isArray(s))for(let D=0;D<s.length;D++)ky(s[D],a,u,y,w);else{const D=Mr(),L=Zt();let Z=Rl(s)?s:X(s.provide),de=Qg(s);const Te=yi(),Pe=1048575&Te.providerIndexes,Ze=Te.directiveStart,dt=Te.providerIndexes>>20;if(Rl(s)||!s.multi){const It=new Wi(de,w,zm),qt=Fy(Z,a,w?Pe:Pe+dt,Ze);-1===qt?(Ot(Oe(Te,L),D,Z),Ny(D,s,a.length),a.push(Z),Te.directiveStart++,Te.directiveEnd++,w&&(Te.providerIndexes+=1048576),u.push(It),L.push(It)):(u[qt]=It,L[qt]=It)}else{const It=Fy(Z,a,Pe+dt,Ze),qt=Fy(Z,a,Pe,Pe+dt),wn=It>=0&&u[It],kn=qt>=0&&u[qt];if(w&&!kn||!w&&!wn){Ot(Oe(Te,L),D,Z);const Jn=function(s,a,u,y,w){const D=new Wi(s,u,zm);return D.multi=[],D.index=a,D.componentProviders=0,fb(D,w,y&&!u),D}(w?Xw:Jw,u.length,w,y,de);!w&&kn&&(u[qt].providerFactory=Jn),Ny(D,s,a.length,0),a.push(Z),Te.directiveStart++,Te.directiveEnd++,w&&(Te.providerIndexes+=1048576),u.push(Jn),L.push(Jn)}else Ny(D,s,It>-1?It:qt,fb(u[w?qt:It],de,!w&&y));!w&&y&&kn&&u[qt].componentProviders++}}}function Ny(s,a,u,y){const w=Rl(a),D=function(s){return!!s.useClass}(a);if(w||D){const de=(D?X(a.useClass):a).prototype.ngOnDestroy;if(de){const Te=s.destroyHooks||(s.destroyHooks=[]);if(!w&&a.multi){const Pe=Te.indexOf(u);-1===Pe?Te.push(u,[y,de]):Te[Pe+1].push(y,de)}else Te.push(u,de)}}}function fb(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function Fy(s,a,u,y){for(let w=u;w<y;w++)if(a[w]===s)return w;return-1}function Jw(s,a,u,y){return Ly(this.multi,[])}function Xw(s,a,u,y){const w=this.multi;let D;if(this.providerFactory){const L=this.providerFactory.componentProviders,Z=Qo(u,u[1],this.providerFactory.index,y);D=Z.slice(0,L),Ly(w,D);for(let de=L;de<Z.length;de++)D.push(Z[de])}else D=[],Ly(w,D);return D}function Ly(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function db(s,a=[]){return u=>{u.providersResolver=(y,w)=>function(s,a,u){const y=Mr();if(y.firstCreatePass){const w=fi(s);ky(u,y.data,y.blueprint,w,!0),ky(a,y.data,y.blueprint,w,!1)}}(y,w?w(s):s,a)}}class pb{}class Vy{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let kp=(()=>{class s{}return s.NULL=new Vy,s})();function Nl(){return Np(yi(),Zt())}function Np(s,a){return new tg(pr(s,a))}let tg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Nl,s})();function rC(s){return s instanceof tg?s.nativeElement:s}class Mh{}let Rh=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function(){const s=Zt(),u=li(yi().index,s);return function(s){return s[11]}(wr(u)?u:s)}(),s})(),sC=(()=>{class s{}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:()=>null}),s})();class kc{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Tv=new kc("13.1.1"),cd={};function ng(s,a,u,y,w=!1){for(;null!==u;){const D=a[u.index];if(null!==D&&y.push(Rn(D)),Hr(D))for(let Z=10;Z<D.length;Z++){const de=D[Z],Te=de[1].firstChild;null!==Te&&ng(de[1],de,Te,y)}const L=u.type;if(8&L)ng(s,a,u.child,y);else if(32&L){const Z=Sa(u,a);let de;for(;de=Z();)y.push(de)}else if(16&L){const Z=Qp(a,u);if(Array.isArray(Z))y.push(...Z);else{const de=mc(a[16]);ng(de[1],de,Z,y,!0)}}u=w?u.projectionNext:u.next}return y}class rg{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return ng(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Hr(a)){const u=a[8],y=u?u.indexOf(this):-1;y>-1&&($n(a,y),uu(u,y))}this._attachedToViewContainer=!1}Un(this._lView[1],this._lView)}onDestroy(a){zf(this._lView[1],this._lView,null,a)}markForCheck(){Ya(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,u){_s(!0);try{dp(s,a,u)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,ih(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class aC extends rg{constructor(a){super(a),this._view=a}detectChanges(){oy(this._view)}checkNoChanges(){!function(s){_s(!0);try{oy(s)}finally{_s(!1)}}(this._view)}get context(){return null}}class gb extends kp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=sn(a);return new Sv(u,this.ngModule)}}function vb(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}const uC=new Di("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$p});class Sv extends pb{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(Mf).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return vb(this.componentDef.inputs)}get outputs(){return vb(this.componentDef.outputs)}create(a,u,y,w){const D=(w=w||this.ngModule)?function(s,a){return{get:(u,y,w)=>{const D=s.get(u,cd,w);return D!==cd||y===cd?D:a.get(u,y,w)}}}(a,w.injector):a,L=D.get(Mh,Sn),Z=D.get(sC,null),de=L.createRenderer(null,this.componentDef),Te=this.componentDef.selectors[0][0]||"div",Pe=y?function(s,a,u){if($t(s))return s.selectRootElement(a,u===Fe.ShadowDom);let y="string"==typeof a?s.querySelector(a):a;return y.textContent="",y}(de,y,this.componentDef.encapsulation):ye(L.createRenderer(null,this.componentDef),Te,function(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(Te)),Ze=this.componentDef.onPush?576:528,dt=function(s,a){return{components:[],scheduler:s||$p,clean:yh,playerHandler:a||null,flags:0}}(),It=hh(0,null,null,1,0,null,null,null,null,null),qt=bc(null,It,dt,Ze,null,null,L,de,Z,D);let wn,kn;as(qt);try{const Jn=function(s,a,u,y,w,D){const L=u[1];u[20]=s;const de=Ec(L,20,2,"#host",null),Te=de.mergedAttrs=a.hostAttrs;null!==Te&&(pp(de,Te,!0),null!==s&&(Qn(w,s,Te),null!==de.classes&&Kd(w,s,de.classes),null!==de.styles&&Cg(w,s,de.styles)));const Pe=y.createRenderer(s,a),Ze=bc(u,_m(a),null,a.onPush?64:16,u[20],de,y,Pe,D||null,null);return L.firstCreatePass&&(Ot(Oe(de,u),L,a.type),wc(L,de),qf(de,u.length,1)),ph(u,Ze),u[20]=Ze}(Pe,this.componentDef,qt,L,de);if(Pe)if(y)Qn(de,Pe,["ng-version",Tv.full]);else{const{attrs:an,classes:cr}=function(s){const a=[],u=[];let y=1,w=2;for(;y<s.length;){let D=s[y];if("string"==typeof D)2===w?""!==D&&a.push(D,s[++y]):8===w&&u.push(D);else{if(!$a(w))break;w=D}y++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);an&&Qn(de,Pe,an),cr&&cr.length>0&&Kd(de,Pe,cr.join(" "))}if(kn=ri(It,20),void 0!==u){const an=kn.projection=[];for(let cr=0;cr<this.ngContentSelectors.length;cr++){const oi=u[cr];an.push(null!=oi?Array.from(oi):null)}}wn=function(s,a,u,y,w){const D=u[1],L=function(s,a,u){const y=yi();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Tm(s,y,a,uh(s,a,1,null),u));const w=Qo(a,s,y.directiveStart,y);Xo(w,a);const D=pr(y,a);return D&&Xo(D,a),w}(D,u,a);if(y.components.push(L),s[8]=L,w&&w.forEach(de=>de(L,a)),a.contentQueries){const de=yi();a.contentQueries(1,L,de.directiveStart)}const Z=yi();return!D.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(qo(Z.index),sp(u[1],Z,0,Z.directiveStart,Z.directiveEnd,a),wm(a,L)),L}(Jn,this.componentDef,qt,dt,[tv]),ch(It,qt,null)}finally{Na()}return new hC(this.componentType,wn,Np(kn,qt),qt,kn)}}class hC extends class{}{constructor(a,u,y,w,D){super(),this.location=y,this._rootLView=w,this._tNode=D,this.instance=u,this.hostView=this.changeDetectorRef=new aC(w),this.componentType=a}get injector(){return new yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class hd{}class ei{}const Fp=new Map;class Gu extends hd{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gb(this);const y=bn(a);this._bootstrapComponents=Is(y.bootstrap),this._r3Injector=gp(a,u,[{provide:hd,useValue:this},{provide:kp,useValue:this.componentFactoryResolver}],fe(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=zs.THROW_IF_NOT_FOUND,y=yn.Default){return a===zs||a===hd||a===Gs?this:this._r3Injector.get(a,u,y)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Iv extends ei{constructor(a){super(),this.moduleType=a,null!==bn(a)&&function(s){const a=new Set;!function u(y){const w=bn(y,!0),D=w.id;null!==D&&(function(s,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${s} - ${fe(a)} vs ${fe(a.name)}`)}(D,Fp.get(D),y),Fp.set(D,y));const L=Is(w.imports);for(const Z of L)a.has(Z)||(a.add(Z),u(Z))}(s)}(a)}create(a){return new Gu(this.moduleType,a)}}function Hy(s,a,u){const y=Ci()+s,w=Zt();return w[y]===kr?Za(w,y,u?a.call(u):a()):function(s,a){return s[a]}(w,y)}function Gy(s,a,u,y){return Cb(Zt(),Ci(),s,a,u,y)}function dC(s,a,u,y,w){return function(s,a,u,y,w,D,L){const Z=a+u;return xc(s,Z,w,D)?Za(s,Z+2,L?y.call(L,w,D):y(w,D)):Lp(s,Z+2)}(Zt(),Ci(),s,a,u,y,w)}function Ws(s,a,u,y,w,D){return function(s,a,u,y,w,D,L,Z){const de=a+u;return function(s,a,u,y,w){const D=xc(s,a,u,y);return Uo(s,a+2,w)||D}(s,de,w,D,L)?Za(s,de+3,Z?y.call(Z,w,D,L):y(w,D,L)):Lp(s,de+3)}(Zt(),Ci(),s,a,u,y,w,D)}function zu(s,a,u,y,w,D,L){return function(s,a,u,y,w,D,L,Z,de){const Te=a+u;return function(s,a,u,y,w,D){const L=xc(s,a,u,y);return xc(s,a+2,w,D)||L}(s,Te,w,D,L,Z)?Za(s,Te+4,de?y.call(de,w,D,L,Z):y(w,D,L,Z)):Lp(s,Te+4)}(Zt(),Ci(),s,a,u,y,w,D,L)}function wb(s,a,u,y){return function(s,a,u,y,w,D){let L=a+u,Z=!1;for(let de=0;de<w.length;de++)Uo(s,L++,w[de])&&(Z=!0);return Z?Za(s,L,y.apply(D,w)):Lp(s,L)}(Zt(),Ci(),s,a,u,y)}function Lp(s,a){const u=s[a];return u===kr?void 0:u}function Cb(s,a,u,y,w,D){const L=a+u;return Uo(s,L,w)?Za(s,L+1,D?y.call(D,w):y(w)):Lp(s,L+1)}function ci(s,a){const u=Mr();let y;const w=s+20;u.firstCreatePass?(y=function(s,a){if(a)for(let u=a.length-1;u>=0;u--){const y=a[u];if(s===y.name)return y}}(a,u.pipeRegistry),u.data[w]=y,y.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(w,y.onDestroy)):y=u.data[w];const D=y.factory||(y.factory=Fo(y.type)),L=or(zm);try{const Z=g(!1),de=D();return g(Z),function(s,a,u,y){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=y}(u,Zt(),w,de),de}finally{or(L)}}function Tb(s,a,u){const y=s+20,w=Zt(),D=Dr(w,y);return function(s,a){return s[1].data[a].pure}(w,y)?Cb(w,Ci(),a,D.transform,u,D):D.transform(u)}function dd(s){return a=>{setTimeout(s,void 0,a)}}const Wu=class extends t.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,y){var w,D,L;let Z=a,de=u||(()=>null),Te=y;if(a&&"object"==typeof a){const Ze=a;Z=null===(w=Ze.next)||void 0===w?void 0:w.bind(Ze),de=null===(D=Ze.error)||void 0===D?void 0:D.bind(Ze),Te=null===(L=Ze.complete)||void 0===L?void 0:L.bind(Ze)}this.__isAsync&&(de=dd(de),Z&&(Z=dd(Z)),Te&&(Te=dd(Te)));const Pe=super.subscribe({next:Z,error:de,complete:Te});return a instanceof C.w0&&a.add(Pe),Pe}};function Dv(){return this._results[Ih()]()}class qy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ih(),y=qy.prototype;y[u]||(y[u]=Dv)}get changes(){return this._changes||(this._changes=new Wu)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const y=this;y.dirty=!1;const w=vr(a);(this._changesDetected=!function(s,a,u){if(s.length!==a.length)return!1;for(let y=0;y<s.length;y++){let w=s[y],D=a[y];if(u&&(w=u(w),D=u(D)),D!==w)return!1}return!0}(y._results,w,u))&&(y._results=w,y.length=w.length,y.last=w[this.length-1],y.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Db,s})();const xv=pd,Ab=class extends xv{constructor(a,u,y){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=y}createEmbeddedView(a){const u=this._declarationTContainer.tViews,y=bc(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);y[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(y[19]=D.createEmbeddedView(u)),ch(u,y,a),new rg(y)}};function Db(){return Pv(yi(),Zt())}function Pv(s,a){return 4&s.type?new Ab(a,s,Np(s,a)):null}let Ov=(()=>{class s{}return s.__NG_ELEMENT_ID__=vC,s})();function vC(){return Ob(yi(),Zt())}const Mv=Ov,xb=class extends Mv{constructor(a,u,y){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=y}get element(){return Np(this._hostTNode,this._hostLView)}get injector(){return new yl(this._hostTNode,this._hostLView)}get parentInjector(){const a=yt(this._hostTNode,this._hostLView);if(Zi(a)){const u=Yo(a,this._hostLView),y=ii(a);return new yl(u[1].data[y+8],u)}return new yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Pb(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,y){const w=a.createEmbeddedView(u||{});return this.insert(w,y),w}createComponent(a,u,y,w,D){const L=a&&!("function"==typeof a);let Z;if(L)Z=u;else{const Ze=u||{};Z=Ze.index,y=Ze.injector,w=Ze.projectableNodes,D=Ze.ngModuleRef}const de=L?a:new Sv(sn(a)),Te=y||this.parentInjector;if(!D&&null==de.ngModule&&Te){const Ze=Te.get(hd,null);Ze&&(D=Ze)}const Pe=de.create(Te,w,void 0,D);return this.insert(Pe.hostView,Z),Pe}insert(a,u){const y=a._lView,w=y[1];if(Hr(y[3])){const Pe=this.indexOf(a);if(-1!==Pe)this.detach(Pe);else{const Ze=y[3],dt=new xb(Ze,Ze[6],Ze[3]);dt.detach(dt.indexOf(a))}}const D=this._adjustIndex(u),L=this._lContainer;!function(s,a,u,y){const w=10+y,D=u.length;y>0&&(u[w-1][4]=a),y<D-10?(a[4]=u[w],_l(u,10+y,a)):(u.push(a),a[4]=null),a[3]=u;const L=a[17];null!==L&&u!==L&&function(s,a){const u=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(L,a);const Z=a[19];null!==Z&&Z.insertView(s),a[2]|=128}(w,y,L,D);const Z=Zh(D,L),de=y[11],Te=qa(de,L[7]);return null!==Te&&function(s,a,u,y,w,D){y[0]=w,y[6]=a,ih(s,y,u,1,w,D)}(w,L[6],de,y,Te,Z),a.attachToViewContainerRef(),_l($y(L),D,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Pb(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),y=$n(this._lContainer,u);y&&(uu($y(this._lContainer),u),Un(y[1],y))}detach(a){const u=this._adjustIndex(a,-1),y=$n(this._lContainer,u);return y&&null!=uu($y(this._lContainer),u)?new rg(y):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function Pb(s){return s[8]}function $y(s){return s[8]||(s[8]=[])}function Ob(s,a){let u;const y=a[s.index];if(Hr(y))u=y;else{let w;if(8&s.type)w=Rn(y);else{const D=a[11];w=D.createComment("");const L=pr(s,a);ms(D,qa(D,L),w,function(s,a){return $t(s)?s.nextSibling(a):a.nextSibling}(D,L),!1)}a[s.index]=u=fp(y,a,w,s),ph(a,u)}return new xb(u,s,a)}class lg{constructor(a){this.queryList=a,this.matches=null}clone(){return new lg(this.queryList)}setDirty(){this.queryList.setDirty()}}class qu{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const y=null!==a.contentQueries?a.contentQueries[0]:u.length,w=[];for(let D=0;D<y;D++){const L=u.getByIndex(D);w.push(this.queries[L.indexInDeclarationView].clone())}return new qu(w)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Fb(a,u).matches&&this.queries[u].setDirty()}}class md{constructor(a,u,y=null){this.predicate=a,this.flags=u,this.read=y}}class Rv{constructor(a=[]){this.queries=a}elementStart(a,u){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let y=0;y<this.length;y++){const w=null!==u?u.length:0,D=this.getByIndex(y).embeddedTView(a,w);D&&(D.indexInDeclarationView=y,null!==u?u.push(D):u=[D])}return null!==u?new Rv(u):null}template(a,u){for(let y=0;y<this.queries.length;y++)this.queries[y].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class kv{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new kv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let y=a.parent;for(;null!==y&&8&y.type&&y.index!==u;)y=y.parent;return u===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const y=this.metadata.predicate;if(Array.isArray(y))for(let w=0;w<y.length;w++){const D=y[w];this.matchTNodeWithReadOption(a,u,_C(u,D)),this.matchTNodeWithReadOption(a,u,Ji(u,a,D,!1,!1))}else y===pd?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Ji(u,a,y,!1,!1))}matchTNodeWithReadOption(a,u,y){if(null!==y){const w=this.metadata.read;if(null!==w)if(w===tg||w===Ov||w===pd&&4&u.type)this.addMatch(u.index,-2);else{const D=Ji(u,a,w,!1,!1);null!==D&&this.addMatch(u.index,D)}else this.addMatch(u.index,y)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function _C(s,a){const u=s.localNames;if(null!==u)for(let y=0;y<u.length;y+=2)if(u[y]===a)return u[y+1];return null}function kb(s,a,u,y){return-1===u?function(s,a){return 11&s.type?Np(s,a):4&s.type?Pv(s,a):null}(a,s):-2===u?function(s,a,u){return u===tg?Np(a,s):u===pd?Pv(a,s):u===Ov?Ob(a,s):void 0}(s,a,y):Qo(s,s[1],u,a)}function ug(s,a,u,y){const w=a[19].queries[y];if(null===w.matches){const D=s.data,L=u.matches,Z=[];for(let de=0;de<L.length;de+=2){const Te=L[de];Z.push(Te<0?null:kb(a,D[Te],L[de+1],u.metadata.read))}w.matches=Z}return w.matches}function Nv(s,a,u,y){const w=s.queries.getByIndex(u),D=w.matches;if(null!==D){const L=ug(s,a,w,u);for(let Z=0;Z<D.length;Z+=2){const de=D[Z];if(de>0)y.push(L[Z/2]);else{const Te=D[Z+1],Pe=a[-de];for(let Ze=10;Ze<Pe.length;Ze++){const dt=Pe[Ze];dt[17]===dt[3]&&Nv(dt[1],dt,Te,y)}if(null!==Pe[9]){const Ze=Pe[9];for(let dt=0;dt<Ze.length;dt++){const It=Ze[dt];Nv(It[1],It,Te,y)}}}}}return y}function Fv(s){const a=Zt(),u=Mr(),y=Gl();Wo(y+1);const w=Fb(u,y);if(s.dirty&&$i(a)===(2==(2&w.metadata.flags))){if(null===w.matches)s.reset([]);else{const D=w.crossesNgTemplate?Nv(u,a,y,[]):ug(u,a,w,y);s.reset(D,rC),s.notifyOnChanges()}return!0}return!1}function Ky(s,a,u){const y=Mr();y.firstCreatePass&&(Nb(y,new md(s,a,u),-1),2==(2&a)&&(y.staticViewQueries=!0)),Vp(y,Zt(),a)}function Lv(s,a,u,y){const w=Mr();if(w.firstCreatePass){const D=yi();Nb(w,new md(a,u,y),D.index),function(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(w,s),2==(2&u)&&(w.staticContentQueries=!0)}Vp(w,Zt(),u)}function Vv(){return s=Zt(),a=Gl(),s[19].queries[a].queryList;var s,a}function Vp(s,a,u){const y=new qy(4==(4&u));zf(s,a,y,y.destroy),null===a[19]&&(a[19]=new qu),a[19].queries.push(new lg(y))}function Nb(s,a,u){null===s.queries&&(s.queries=new Rv),s.queries.track(new kv(a,u))}function Fb(s,a){return s.queries.getByIndex(a)}function cg(s,a){return Pv(s,a)}function Gv(...s){}const u_=new Di("Application Initializer");let Bp=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Gv,this.reject=Gv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,w)=>{this.resolve=y,this.reject=w})}runInitializers(){if(this.initialized)return;const u=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const D=this.appInits[w]();if(n0(D))u.push(D);else if(LE(D)){const L=new Promise((Z,de)=>{D.subscribe({complete:Z,error:de})});u.push(L)}}Promise.all(u).then(()=>{y()}).catch(w=>{this.reject(w)}),0===u.length&&y(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Co(u_,8))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();const qb=new Di("AppId"),RC={provide:qb,useFactory:function(){return`${zv()}${zv()}${zv()}`},deps:[]};function zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gg=new Di("Platform Initializer"),$b=new Di("Platform ID"),Kb=new Di("appBootstrapListener");let Yb=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();const pf=new Di("LocaleId"),Qb=new Di("DefaultCurrencyCode");class kC{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let f_=(()=>{class s{compileModuleSync(u){return new Iv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const y=this.compileModuleSync(u),D=Is(bn(u).declarations).reduce((L,Z)=>{const de=sn(Z);return de&&L.push(new Sv(de)),L},[]);return new kC(y,D)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();const FC=(()=>Promise.resolve(0))();function d_(s){"undefined"==typeof Zone?FC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ll{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wu(!1),this.onMicrotaskEmpty=new Wu(!1),this.onStable=new Wu(!1),this.onError=new Wu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!y&&u,w.shouldCoalesceRunChangeDetection=y,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function(){let s=Ht.requestAnimationFrame,a=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const y=a[Zone.__symbol__("OriginalDelegate")];y&&(a=y)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,m_(s),s.isCheckStableRunning=!0,p_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),m_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,y,w,D,L,Z)=>{try{return Jb(s),u.invokeTask(w,D,L,Z)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||s.shouldCoalesceRunChangeDetection)&&a(),g_(s)}},onInvoke:(u,y,w,D,L,Z,de)=>{try{return Jb(s),u.invoke(w,D,L,Z,de)}finally{s.shouldCoalesceRunChangeDetection&&a(),g_(s)}},onHasTask:(u,y,w,D)=>{u.hasTask(w,D),y===w&&("microTask"==D.change?(s._hasPendingMicrotasks=D.microTask,m_(s),p_(s)):"macroTask"==D.change&&(s.hasPendingMacrotasks=D.macroTask))},onHandleError:(u,y,w,D)=>(u.handleError(w,D),s.runOutsideAngular(()=>s.onError.emit(D)),!1)})}(w)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ll.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ll.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,y){return this._inner.run(a,u,y)}runTask(a,u,y,w){const D=this._inner,L=D.scheduleEventTask("NgZoneEvent: "+w,a,Zb,Gv,Gv);try{return D.runTask(L,u,y)}finally{D.cancelTask(L)}}runGuarded(a,u,y){return this._inner.runGuarded(a,u,y)}runOutsideAngular(a){return this._outer.run(a)}}const Zb={};function p_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function m_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Jb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function g_(s){s._nesting--,p_(s)}class sS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wu,this.onMicrotaskEmpty=new Wu,this.onStable=new Wu,this.onError=new Wu}run(a,u,y){return a.apply(u,y)}runGuarded(a,u,y){return a.apply(u,y)}runOutsideAngular(a){return a()}runTask(a,u,y,w){return a.apply(u,y)}}let v_=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ll.assertNotInAngularZone(),d_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())d_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(u)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,y,w){let D=-1;y&&y>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(L=>L.timeoutId!==D),u(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:u,timeoutId:D,updateCb:w})}whenStable(u,y,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,y,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,y,w){return[]}}return s.\u0275fac=function(u){return new(u||s)(Co(Ll))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})(),y_=(()=>{class s{constructor(){this._applications=new Map,__.addToWindow(this)}registerApplication(u,y){this._applications.set(u,y)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,y=!0){return __.findTestabilityInTree(this,u,y)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();class Xb{addToWindow(a){}findTestabilityInTree(a,u,y){return null}}function eE(s){__=s}let $u,__=new Xb;const qv=new Di("AllowMultipleToken");class GC{constructor(a,u){this.name=a,this.token=u}}function tE(s,a,u=[]){const y=`Platform: ${a}`,w=new Di(y);return(D=[])=>{let L=nE();if(!L||L.injector.get(qv,!1))if(s)s(u.concat(D).concat({provide:w,useValue:!0}));else{const Z=u.concat(D).concat({provide:w,useValue:!0},{provide:sf,useValue:"platform"});!function(s){if($u&&!$u.destroyed&&!$u.injector.get(qv,!1))throw new le("400","");$u=s.get(rE);const a=s.get(gg,null);a&&a.forEach(u=>u())}(zs.create({providers:Z,name:y}))}return function(s){const a=nE();if(!a)throw new le("401","");return a}()}}function nE(){return $u&&!$u.destroyed?$u:null}let rE=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,y){const Z=function(s,a){let u;return u="noop"===s?new sS:("zone.js"===s?void 0:s)||new Ll({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(y?y.ngZone:void 0,{ngZoneEventCoalescing:y&&y.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:y&&y.ngZoneRunCoalescing||!1}),de=[{provide:Ll,useValue:Z}];return Z.run(()=>{const Te=zs.create({providers:de,parent:this.injector,name:u.moduleType.name}),Pe=u.create(Te),Ze=Pe.injector.get(hl,null);if(!Ze)throw new le("402","");return Z.runOutsideAngular(()=>{const dt=Z.onError.subscribe({next:It=>{Ze.handleError(It)}});Pe.onDestroy(()=>{w_(this._modules,Pe),dt.unsubscribe()})}),function(s,a,u){try{const y=u();return n0(y)?y.catch(w=>{throw a.runOutsideAngular(()=>s.handleError(w)),w}):y}catch(y){throw a.runOutsideAngular(()=>s.handleError(y)),y}}(Ze,Z,()=>{const dt=Pe.injector.get(Bp);return dt.runInitializers(),dt.donePromise.then(()=>(function(s){qe(s,"Expected localeId to be defined"),"string"==typeof s&&(yv=s.toLowerCase().replace(/_/g,"-"))}(Pe.injector.get(pf,Qm)||Qm),this._moduleDoBootstrap(Pe),Pe))})})}bootstrapModule(u,y=[]){const w=E_({},y);return function(s,a,u){const y=new Iv(u);return Promise.resolve(y)}(0,0,u).then(D=>this.bootstrapModuleFactory(D,w))}_moduleDoBootstrap(u){const y=u.injector.get(vg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(w=>y.bootstrap(w));else{if(!u.instance.ngDoBootstrap)throw new le("403","");u.instance.ngDoBootstrap(y)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le("404","");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Co(zs))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();function E_(s,a){return Array.isArray(a)?a.reduce(E_,s):Object.assign(Object.assign({},s),a)}let vg=(()=>{class s{constructor(u,y,w,D,L){this._zone=u,this._injector=y,this._exceptionHandler=w,this._componentFactoryResolver=D,this._initStatus=L,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const Z=new S.y(Te=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Te.next(this._stable),Te.complete()})}),de=new S.y(Te=>{let Pe;this._zone.runOutsideAngular(()=>{Pe=this._zone.onStable.subscribe(()=>{Ll.assertNotInAngularZone(),d_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Te.next(!0))})})});const Ze=this._zone.onUnstable.subscribe(()=>{Ll.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Te.next(!1)}))});return()=>{Pe.unsubscribe(),Ze.unsubscribe()}});this.isStable=(0,q.T)(Z,de.pipe((0,Y.B)()))}bootstrap(u,y){if(!this._initStatus.done)throw new le("405","");let w;w=u instanceof pb?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(w.componentType);const D=function(s){return s.isBoundToModule}(w)?void 0:this._injector.get(hd),Z=w.create(zs.NULL,[],y||w.selector,D),de=Z.location.nativeElement,Te=Z.injector.get(v_,null),Pe=Te&&Z.injector.get(y_);return Te&&Pe&&Pe.registerApplication(de,Te),Z.onDestroy(()=>{this.detachView(Z.hostView),w_(this.components,Z),Pe&&Pe.unregisterApplication(de)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new le("101","");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const y=u;this._views.push(y),y.attachToAppRef(this)}detachView(u){const y=u;w_(this._views,y),y.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Kb,[]).concat(this._bootstrapListeners).forEach(w=>w(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Co(Ll),Co(zs),Co(hl),Co(kp),Co(Bp))},s.\u0275prov=Ft({token:s,factory:s.\u0275fac}),s})();function w_(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let yg=!0,$v=!1;function Kv(){return $v=!0,yg}function jp(){if($v)throw new Error("Cannot enable prod mode after platform setup.");yg=!1}let QC=(()=>{class s{}return s.__NG_ELEMENT_ID__=iE,s})();function iE(s){return function(s,a,u){if(ro(s)&&!u){const y=li(s.index,a);return new rg(y,y)}return 47&s.type?new rg(a[16],a):null}(yi(),Zt(),16==(16&s))}class cE{constructor(){}supports(a){return Ah(a)}create(a){return new nT(a)}}const hE=(s,a)=>a;class nT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||hE}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,y=this._removalsHead,w=0,D=null;for(;u||y;){const L=!y||u&&u.currentIndex<dE(y,w,D)?u:y,Z=dE(L,w,D),de=L.currentIndex;if(L===y)w--,y=y._nextRemoved;else if(u=u._next,null==L.previousIndex)w++;else{D||(D=[]);const Te=Z-w,Pe=de-w;if(Te!=Pe){for(let dt=0;dt<Te;dt++){const It=dt<D.length?D[dt]:D[dt]=0,qt=It+dt;Pe<=qt&&qt<Te&&(D[dt]=It+1)}D[L.previousIndex]=Pe-Te}}Z!==de&&a(L,Z,de)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Ah(a))throw new Error(`Error trying to diff '${fe(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let w,D,L,u=this._itHead,y=!1;if(Array.isArray(a)){this.length=a.length;for(let Z=0;Z<this.length;Z++)D=a[Z],L=this._trackByFn(Z,D),null!==u&&Object.is(u.trackById,L)?(y&&(u=this._verifyReinsertion(u,D,L,Z)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,L,Z),y=!0),u=u._next}else w=0,function(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Ih()]();let y;for(;!(y=u.next()).done;)a(y.value)}}(a,Z=>{L=this._trackByFn(w,Z),null!==u&&Object.is(u.trackById,L)?(y&&(u=this._verifyReinsertion(u,Z,L,w)),Object.is(u.item,Z)||this._addIdentityChange(u,Z)):(u=this._mismatch(u,Z,L,w),y=!0),u=u._next,w++}),this.length=w;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,y,w){let D;return null===a?D=this._itTail:(D=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,D,w)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(y,w))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,D,w)):a=this._addAfter(new rT(u,y),D,w),a}_verifyReinsertion(a,u,y,w){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==D?a=this._reinsertAfter(D,a._prev,w):a.currentIndex!=w&&(a.currentIndex=w,this._addToMoves(a,w)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const w=a._prevRemoved,D=a._nextRemoved;return null===w?this._removalsHead=D:w._nextRemoved=D,null===D?this._removalsTail=w:D._prevRemoved=w,this._insertAfter(a,u,y),this._addToMoves(a,y),a}_moveAfter(a,u,y){return this._unlink(a),this._insertAfter(a,u,y),this._addToMoves(a,y),a}_addAfter(a,u,y){return this._insertAfter(a,u,y),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,y){const w=null===u?this._itHead:u._next;return a._next=w,a._prev=u,null===w?this._itTail=a:w._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new fE),this._linkedRecords.put(a),a.currentIndex=y,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,y=a._next;return null===u?this._itHead=y:u._next=y,null===y?this._itTail=u:y._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class rT{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===u||u<=y.currentIndex)&&Object.is(y.trackById,a))return y;return null}remove(a){const u=a._prevDup,y=a._nextDup;return null===u?this._head=y:u._nextDup=y,null===y?this._tail=u:y._prevDup=u,null===this._head}}class fE{constructor(){this.map=new Map}put(a){const u=a.trackById;let y=this.map.get(u);y||(y=new iT,this.map.set(u,y)),y.add(a)}get(a,u){const w=this.map.get(a);return w?w.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dE(s,a,u){const y=s.previousIndex;if(null===y)return y;let w=0;return u&&y<u.length&&(w=u[y]),y+a+w}class pE{constructor(){}supports(a){return a instanceof Map||Vm(a)}create(){return new oT}}class oT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Vm(a)))throw new Error(`Error trying to diff '${fe(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(y,w)=>{if(u&&u.key===w)this._maybeAddToChanges(u,y),this._appendAfter=u,u=u._next;else{const D=this._getOrCreateRecordForKey(w,y);u=this._insertBeforeOrAppend(u,D)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let y=u;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const y=a._prev;return u._next=a,u._prev=y,a._prev=u,y&&(y._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const w=this._records.get(a);this._maybeAddToChanges(w,u);const D=w._prev,L=w._next;return D&&(D._next=L),L&&(L._prev=D),w._next=null,w._prev=null,w}const y=new sT(a);return this._records.set(a,y),y.currentValue=u,this._addToAdditions(y),y}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(y=>u(a[y],y))}}class sT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mE(){return new Yv([new cE])}let Yv=(()=>{class s{constructor(u){this.factories=u}static create(u,y){if(null!=y){const w=y.factories.slice();u=u.concat(w)}return new s(u)}static extend(u){return{provide:s,useFactory:y=>s.create(u,y||mE()),deps:[[s,new To,new Ua]]}}find(u){const y=this.factories.find(w=>w.supports(u));if(null!=y)return y;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:mE}),s})();function aT(){return new P_([new pE])}let P_=(()=>{class s{constructor(u){this.factories=u}static create(u,y){if(y){const w=y.factories.slice();u=u.concat(w)}return new s(u)}static extend(u){return{provide:s,useFactory:y=>s.create(u,y||aT()),deps:[[s,new To,new Ua]]}}find(u){const y=this.factories.find(w=>w.supports(u));if(y)return y;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=Ft({token:s,providedIn:"root",factory:aT}),s})();const mS=[new pE],gS=new Yv([new cE]),uT=new P_(mS),vS=tE(null,"core",[{provide:$b,useValue:"unknown"},{provide:rE,deps:[zs]},{provide:y_,deps:[]},{provide:Yb,deps:[]}]),gE=[{provide:vg,useClass:vg,deps:[Ll,zs,hl,kp,Bp]},{provide:uC,deps:[Ll],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:Bp,useClass:Bp,deps:[[new Ua,u_]]},{provide:f_,useClass:f_,deps:[]},RC,{provide:Yv,useFactory:function(){return gS},deps:[]},{provide:P_,useFactory:function(){return uT},deps:[]},{provide:pf,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||Qm},deps:[[new Va(pf),new Ua,new To]]},{provide:Qb,useValue:"USD"}];let hT=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Co(vg))},s.\u0275mod=Ct({type:s}),s.\u0275inj=rn({providers:gE}),s})()},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(h){const m={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},v="function"==typeof h?h():h,S=Object.assign({},m,{features:v.features||!!v.logOnly&&{pause:!0,export:!0,test:!0}||m.features},v);if(S.maxAge&&S.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${S.maxAge}`);return S}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(m,v){if(this.action=m,this.timestamp=v,this.type=PERFORM_ACTION,void 0===m.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(m){this.timestamp=m,this.type=RESET}}class Rollback{constructor(m){this.timestamp=m,this.type=ROLLBACK}}class Commit{constructor(m){this.timestamp=m,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(m){this.id=m,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(m,v,t=!0){this.start=m,this.end=v,this.active=t,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(m){this.index=m,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(m){this.actionId=m,this.type=JUMP_TO_ACTION}}class ImportState{constructor(m){this.nextLiftedState=m,this.type=IMPORT_STATE}}class LockChanges{constructor(m){this.status=m,this.type=LOCK_CHANGES}}class PauseRecording{constructor(m){this.status=m,this.type=PAUSE_RECORDING}}function difference(h,m){return h.filter(v=>m.indexOf(v)<0)}function unliftState(h){const{computedStates:m,currentStateIndex:v}=h;if(v>=m.length){const{state:C}=m[m.length-1];return C}const{state:t}=m[v];return t}function unliftAction(h){return h.actionsById[h.nextActionId-1]}function liftAction(h){return new PerformAction(h,+Date.now())}function sanitizeActions(h,m){return Object.keys(m).reduce((v,t)=>{const C=Number(t);return v[C]=sanitizeAction(h,m[C],C),v},{})}function sanitizeAction(h,m,v){return Object.assign(Object.assign({},m),{action:h(m.action,v)})}function sanitizeStates(h,m){return m.map((v,t)=>({state:sanitizeState(h,v.state,t),error:v.error}))}function sanitizeState(h,m,v){return h(m,v)}function shouldFilterActions(h){return h.predicate||h.actionsSafelist||h.actionsBlocklist}function filterLiftedState(h,m,v,t){const C=[],S={},q=[];return h.stagedActionIds.forEach((Y,se)=>{const re=h.actionsById[Y];!re||se&&isActionFiltered(h.computedStates[se],re,m,v,t)||(S[Y]=re,C.push(Y),q.push(h.computedStates[se]))}),Object.assign(Object.assign({},h),{stagedActionIds:C,actionsById:S,computedStates:q})}function isActionFiltered(h,m,v,t,C){const S=v&&!v(h,m.action),q=t&&!m.action.type.match(t.map(se=>escapeRegExp(se)).join("|")),Y=C&&m.action.type.match(C.map(se=>escapeRegExp(se)).join("|"));return S||q||Y}function escapeRegExp(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(h,m,v,t,C){if(t)return{state:v,error:"Interrupted by an error up the chain"};let q,S=v;try{S=h(v,m)}catch(Y){q=Y.toString(),C.handleError(Y)}return{state:S,error:q}}function recomputeStates(h,m,v,t,C,S,q,Y,se){if(m>=h.length&&h.length===S.length)return h;const re=h.slice(0,m),fe=S.length-(se?1:0);for(let B=m;B<fe;B++){const j=S[B],oe=C[j].action,X=re[B-1],te=X?X.state:t,me=X?X.error:void 0,W=q.indexOf(j)>-1?X:computeNextEntry(v,oe,te,me,Y);re.push(W)}return se&&re.push(h[h.length-1]),re}function liftInitialState(h,m){return{monitorState:m(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:h,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(h,m,v,t,C={}){return S=>(q,Y)=>{let{monitorState:se,actionsById:re,nextActionId:fe,stagedActionIds:B,skippedActionIds:j,committedState:oe,currentStateIndex:X,computedStates:te,isLocked:me,isPaused:le}=q||m;function W(ee){let _e=ee,ve=B.slice(1,_e+1);for(let Ae=0;Ae<ve.length;Ae++){if(te[Ae+1].error){_e=Ae,ve=B.slice(1,_e+1);break}delete re[ve[Ae]]}j=j.filter(Ae=>-1===ve.indexOf(Ae)),B=[0,...B.slice(_e+1)],oe=te[_e].state,te=te.slice(_e),X=X>_e?X-_e:0}function z(){re={0:liftAction(INIT_ACTION)},fe=1,B=[0],j=[],oe=te[X].state,X=0,te=[]}q||(re=Object.create(re));let K=0;switch(Y.type){case LOCK_CHANGES:me=Y.status,K=1/0;break;case PAUSE_RECORDING:le=Y.status,le?(B=[...B,fe],re[fe]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),fe++,K=B.length-1,te=te.concat(te[te.length-1]),X===B.length-2&&X++,K=1/0):z();break;case RESET:re={0:liftAction(INIT_ACTION)},fe=1,B=[0],j=[],oe=h,X=0,te=[];break;case COMMIT:z();break;case ROLLBACK:re={0:liftAction(INIT_ACTION)},fe=1,B=[0],j=[],X=0,te=[];break;case TOGGLE_ACTION:{const{id:ee}=Y;j=-1===j.indexOf(ee)?[ee,...j]:j.filter(ve=>ve!==ee),K=B.indexOf(ee);break}case SET_ACTIONS_ACTIVE:{const{start:ee,end:_e,active:ve}=Y,Ae=[];for(let xe=ee;xe<_e;xe++)Ae.push(xe);j=ve?difference(j,Ae):[...j,...Ae],K=B.indexOf(ee);break}case JUMP_TO_STATE:X=Y.index,K=1/0;break;case JUMP_TO_ACTION:{const ee=B.indexOf(Y.actionId);-1!==ee&&(X=ee),K=1/0;break}case SWEEP:B=difference(B,j),j=[],X=Math.min(X,B.length-1);break;case PERFORM_ACTION:{if(me)return q||m;if(le||q&&isActionFiltered(q.computedStates[X],Y,C.predicate,C.actionsSafelist,C.actionsBlocklist)){const _e=te[te.length-1];te=[...te.slice(0,-1),computeNextEntry(S,Y.action,_e.state,_e.error,v)],K=1/0;break}C.maxAge&&B.length===C.maxAge&&W(1),X===B.length-1&&X++;const ee=fe++;re[ee]=Y,B=[...B,ee],K=B.length-1;break}case IMPORT_STATE:({monitorState:se,actionsById:re,nextActionId:fe,stagedActionIds:B,skippedActionIds:j,committedState:oe,currentStateIndex:X,computedStates:te,isLocked:me,isPaused:le}=Y.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:K=0,C.maxAge&&B.length>C.maxAge&&(te=recomputeStates(te,K,S,oe,re,B,j,v,le),W(B.length-C.maxAge),K=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(te.filter(_e=>_e.error).length>0)K=0,C.maxAge&&B.length>C.maxAge&&(te=recomputeStates(te,K,S,oe,re,B,j,v,le),W(B.length-C.maxAge),K=1/0);else{if(!le&&!me){X===B.length-1&&X++;const _e=fe++;re[_e]=new PerformAction(Y,+Date.now()),B=[...B,_e],K=B.length-1,te=recomputeStates(te,K,S,oe,re,B,j,v,le)}te=te.map(_e=>Object.assign(Object.assign({},_e),{state:S(_e.state,RECOMPUTE_ACTION)})),X=B.length-1,C.maxAge&&B.length>C.maxAge&&W(B.length-C.maxAge),K=1/0}break;default:K=1/0}return te=recomputeStates(te,K,S,oe,re,B,j,v,le),se=t(se,Y),{monitorState:se,actionsById:re,nextActionId:fe,stagedActionIds:B,skippedActionIds:j,committedState:oe,currentStateIndex:X,computedStates:te,isLocked:me,isPaused:le}}}let DevtoolsDispatcher=(()=>{class h extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return h.\u0275fac=function(){let m;return function(t){return(m||(m=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(h)))(t||h)}}(),h.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:h,factory:h.\u0275fac}),h})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(h,m,v){this.config=m,this.dispatcher=v,this.devtoolsExtension=h,this.createActionStreams()}notify(h,m){if(this.devtoolsExtension)if(h.type===PERFORM_ACTION){if(m.isLocked||m.isPaused)return;const v=unliftState(m);if(shouldFilterActions(this.config)&&isActionFiltered(v,h,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const t=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,v,m.currentStateIndex):v,C=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,h,m.nextActionId):h;this.sendToReduxDevtools(()=>this.extensionConnection.send(C,t))}else{const v=Object.assign(Object.assign({},m),{stagedActionIds:m.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,m.actionsById):m.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,m.computedStates):m.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,v,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(h=>{const m=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=m,m.init(),m.subscribe(v=>h.next(v)),m.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const h=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),m=h.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.START)),v=h.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.STOP)),t=h.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Y=>Y.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(se=>se.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Y),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y))),S=h.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v)),q=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v));this.start$=m.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(v)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>S)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>q))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(h){var m;const v={name:h.name,features:h.features,serialize:h.serialize,autoPause:null!==(m=h.autoPause)&&void 0!==m&&m};return!1!==h.maxAge&&(v.maxAge=h.maxAge),v}sendToReduxDevtools(h){try{h()}catch(m){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",m)}}}return DevtoolsExtension.\u0275fac=function(m){return new(m||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class h{constructor(v,t,C,S,q,Y,se,re){const fe=liftInitialState(se,re.monitor),B=liftReducerWith(se,fe,Y,re.monitor,re),j=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(t.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),S.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),v,S.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),oe=C.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(B)),X=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),te=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(oe),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:z},[K,ee])=>{let _e=ee(z,K);return K.type!==PERFORM_ACTION&&shouldFilterActions(re)&&(_e=filterLiftedState(_e,re.predicate,re.actionsSafelist,re.actionsBlocklist)),S.notify(K,_e),{state:_e,action:K}},{state:fe,action:null})).subscribe(({state:z,action:K})=>{X.next(z),K.type===PERFORM_ACTION&&q.next(K.action)}),me=S.start$.subscribe(()=>{this.refresh()}),le=X.asObservable(),W=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=me,this.stateSubscription=te,this.dispatcher=v,this.liftedState=le,this.state=W}dispatch(v){this.dispatcher.next(v)}next(v){this.dispatcher.next(v)}error(v){}complete(){}performAction(v){this.dispatch(new PerformAction(v,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(v){this.dispatch(new ToggleAction(v))}jumpToAction(v){this.dispatch(new JumpToAction(v))}jumpToState(v){this.dispatch(new JumpToState(v))}importState(v){this.dispatch(new ImportState(v))}lockChanges(v){this.dispatch(new LockChanges(v))}pauseRecording(v){this.dispatch(new PauseRecording(v))}}return h.\u0275fac=function(v){return new(v||h)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},h.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:h,factory:h.\u0275fac}),h})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(h,m){return Boolean(h)||m.monitor!==noMonitor}function createReduxDevtoolsExtension(){const h="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[h]?window[h]:null}function createStateObservable(h){return h.state}let StoreDevtoolsModule=(()=>{class h{static instrument(v={}){return{ngModule:h,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:v},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:h}),h.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),h})()},5620:(h,m,v)=>{"use strict";v.d(m,{UO:()=>ee,qg:()=>K,Y6:()=>xe,mK:()=>mn,n$:()=>un,Y$:()=>on,FR:()=>yn,yh:()=>dr,CK:()=>Ie,Aw:()=>Ve,cr:()=>ue,wb:()=>tn,qC:()=>rn,PH:()=>me,Lq:()=>hn,on:()=>Qt,Ky:()=>le});var t=v(5e3),C=v(1135),S=v(8306),q=v(7579),Y=v(233),se=v(4004),fe=v(5363),B=v(1365),j=v(5026),oe=v(1884);const X={};function me(Je,At){if(X[Je]=(X[Je]||0)+1,"function"==typeof At)return z(Je,(...vt)=>Object.assign(Object.assign({},At(...vt)),{type:Je}));switch(At?At._as:"empty"){case"empty":return z(Je,()=>({type:Je}));case"props":return z(Je,vt=>Object.assign(Object.assign({},vt),{type:Je}));default:throw new Error("Unexpected config.")}}function le(){return{_as:"props",_p:void 0}}function z(Je,At){return Object.defineProperty(At,"type",{value:Je,writable:!1})}const K="@ngrx/store/init";let ee=(()=>{class Je extends C.X{constructor(){super({type:K})}next(Et){if("function"==typeof Et)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===Et)throw new TypeError("Actions must be objects");if(void 0===Et.type)throw new TypeError("Actions must have a type property");super.next(Et)}complete(){}ngOnDestroy(){super.complete()}}return Je.\u0275fac=function(Et){return new(Et||Je)},Je.\u0275prov=t.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const _e=[ee],ve=new t.OlP("@ngrx/store Internal Root Guard"),Ae=new t.OlP("@ngrx/store Internal Initial State"),xe=new t.OlP("@ngrx/store Initial State"),Ge=new t.OlP("@ngrx/store Reducer Factory"),k=new t.OlP("@ngrx/store Internal Reducer Factory Provider"),U=new t.OlP("@ngrx/store Initial Reducers"),O=new t.OlP("@ngrx/store Internal Initial Reducers"),H=new t.OlP("@ngrx/store Store Features"),Q=new t.OlP("@ngrx/store Internal Store Reducers"),R=new t.OlP("@ngrx/store Internal Feature Reducers"),$=new t.OlP("@ngrx/store Internal Feature Configs"),J=new t.OlP("@ngrx/store Internal Store Features"),je=new t.OlP("@ngrx/store Internal Feature Reducers Token"),we=new t.OlP("@ngrx/store Feature Reducers"),Ne=new t.OlP("@ngrx/store User Provided Meta Reducers"),ut=new t.OlP("@ngrx/store Meta Reducers"),qe=new t.OlP("@ngrx/store Internal Resolved Meta Reducers"),$e=new t.OlP("@ngrx/store User Runtime Checks Config"),lt=new t.OlP("@ngrx/store Internal User Runtime Checks Config"),Pt=new t.OlP("@ngrx/store Internal Runtime Checks"),nn=new t.OlP("@ngrx/store Check if Action types are unique");function Ft(Je,At={}){const Et=Object.keys(Je),vt={};for(let Kt=0;Kt<Et.length;Kt++){const tr=Et[Kt];"function"==typeof Je[tr]&&(vt[tr]=Je[tr])}const _n=Object.keys(vt);return function(tr,Xn){tr=void 0===tr?At:tr;let si=!1;const zi={};for(let wr=0;wr<_n.length;wr++){const Hr=_n[wr],ro=tr[Hr],jo=(0,vt[Hr])(ro,Xn);zi[Hr]=jo,si=si||jo!==ro}return si?zi:tr}}function rn(...Je){return function(At){if(0===Je.length)return At;const Et=Je[Je.length-1];return Je.slice(0,-1).reduceRight((_n,Kt)=>Kt(_n),Et(At))}}function St(Je,At){return Array.isArray(At)&&At.length>0&&(Je=rn.apply(null,[...At,Je])),(Et,vt)=>{const _n=Je(Et);return(Kt,tr)=>_n(Kt=void 0===Kt?vt:Kt,tr)}}class un extends S.y{}class mn extends ee{}const tn="@ngrx/store/update-reducers";let Cn=(()=>{class Je extends C.X{constructor(Et,vt,_n,Kt){super(Kt(_n,vt)),this.dispatcher=Et,this.initialState=vt,this.reducers=_n,this.reducerFactory=Kt}get currentReducers(){return this.reducers}addFeature(Et){this.addFeatures([Et])}addFeatures(Et){const vt=Et.reduce((_n,{reducers:Kt,reducerFactory:tr,metaReducers:Xn,initialState:si,key:zi})=>{const wr="function"==typeof Kt?function(Je){const At=Array.isArray(Je)&&Je.length>0?rn(...Je):Et=>Et;return(Et,vt)=>(Et=At(Et),(_n,Kt)=>Et(_n=void 0===_n?vt:_n,Kt))}(Xn)(Kt,si):St(tr,Xn)(Kt,si);return _n[zi]=wr,_n},{});this.addReducers(vt)}removeFeature(Et){this.removeFeatures([Et])}removeFeatures(Et){this.removeReducers(Et.map(vt=>vt.key))}addReducer(Et,vt){this.addReducers({[Et]:vt})}addReducers(Et){this.reducers=Object.assign(Object.assign({},this.reducers),Et),this.updateReducers(Object.keys(Et))}removeReducer(Et){this.removeReducers([Et])}removeReducers(Et){Et.forEach(vt=>{this.reducers=function(Je,At){return Object.keys(Je).filter(Et=>Et!==At).reduce((Et,vt)=>Object.assign(Et,{[vt]:Je[vt]}),{})}(this.reducers,vt)}),this.updateReducers(Et)}updateReducers(Et){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:tn,features:Et})}ngOnDestroy(){this.complete()}}return Je.\u0275fac=function(Et){return new(Et||Je)(t.LFG(mn),t.LFG(xe),t.LFG(U),t.LFG(Ge))},Je.\u0275prov=t.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Nn=[Cn,{provide:un,useExisting:Cn},{provide:mn,useExisting:ee}];let on=(()=>{class Je extends q.x{ngOnDestroy(){this.complete()}}return Je.\u0275fac=function(){let At;return function(vt){return(At||(At=t.n5z(Je)))(vt||Je)}}(),Je.\u0275prov=t.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const zn=[on];class yn extends S.y{}let Hn=(()=>{class Je extends C.X{constructor(Et,vt,_n,Kt){super(Kt);const zi=Et.pipe((0,fe.Q)(Y.N)).pipe((0,B.M)(vt)).pipe((0,j.R)(ir,{state:Kt}));this.stateSubscription=zi.subscribe(({state:wr,action:Hr})=>{this.next(wr),_n.next(Hr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Je.INIT=K,Je.\u0275fac=function(Et){return new(Et||Je)(t.LFG(ee),t.LFG(un),t.LFG(on),t.LFG(xe))},Je.\u0275prov=t.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function ir(Je={state:void 0},[At,Et]){const{state:vt}=Je;return{state:Et(vt,At),action:At}}const or=[Hn,{provide:yn,useExisting:Hn}];let dr=(()=>{class Je extends S.y{constructor(Et,vt,_n){super(),this.actionsObserver=vt,this.reducerManager=_n,this.source=Et}select(Et,...vt){return Gn.call(null,Et,...vt)(this)}lift(Et){const vt=new Je(this,this.actionsObserver,this.reducerManager);return vt.operator=Et,vt}dispatch(Et){this.actionsObserver.next(Et)}next(Et){this.actionsObserver.next(Et)}error(Et){this.actionsObserver.error(Et)}complete(){this.actionsObserver.complete()}addReducer(Et,vt){this.reducerManager.addReducer(Et,vt)}removeReducer(Et){this.reducerManager.removeReducer(Et)}}return Je.\u0275fac=function(Et){return new(Et||Je)(t.LFG(yn),t.LFG(ee),t.LFG(Cn))},Je.\u0275prov=t.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const hr=[dr];function Gn(Je,At,...Et){return function(_n){let Kt;if("string"==typeof Je){const tr=[At,...Et].filter(Boolean);Kt=_n.pipe(function(...Je){const At=Je.length;if(0===At)throw new Error("list of properties cannot be empty.");return(0,se.U)(Et=>{let vt=Et;for(let _n=0;_n<At;_n++){const Kt=null==vt?void 0:vt[Je[_n]];if(void 0===Kt)return;vt=Kt}return vt})}(Je,...tr))}else{if("function"!=typeof Je)throw new TypeError(`Unexpected type '${typeof Je}' in select operator, expected 'string' or 'function'`);Kt=_n.pipe((0,se.U)(tr=>Je(tr,At)))}return Kt.pipe((0,oe.x)())}}const Wr="https://ngrx.io/guide/store/configuration/runtime-checks";function ft(Je){return void 0===Je}function Fe(Je){return null===Je}function rt(Je){return Array.isArray(Je)}function Ht(Je){return"object"==typeof Je&&null!==Je}function En(Je){return"function"==typeof Je}function Jt(Je){Object.freeze(Je);const At=En(Je);return Object.getOwnPropertyNames(Je).forEach(Et=>{if(!Et.startsWith("\u0275")&&function(Je,At){return Object.prototype.hasOwnProperty.call(Je,At)}(Je,Et)&&(!At||"caller"!==Et&&"callee"!==Et&&"arguments"!==Et)){const vt=Je[Et];(Ht(vt)||En(vt))&&!Object.isFrozen(vt)&&Jt(vt)}}),Je}function In(Je,At=[]){return(ft(Je)||Fe(Je))&&0===At.length?{path:["root"],value:Je}:Object.keys(Je).reduce((vt,_n)=>{if(vt)return vt;const Kt=Je[_n];return function(Je){return En(Je)&&Je.hasOwnProperty("\u0275cmp")}(Kt)?vt:!(ft(Kt)||Fe(Kt)||function(Je){return"number"==typeof Je}(Kt)||function(Je){return"boolean"==typeof Je}(Kt)||function(Je){return"string"==typeof Je}(Kt)||rt(Kt))&&(function(Je){if(!function(Je){return Ht(Je)&&!rt(Je)}(Je))return!1;const At=Object.getPrototypeOf(Je);return At===Object.prototype||null===At}(Kt)?In(Kt,[...At,_n]):{path:[...At,_n],value:Kt})},!1)}function Wt(Je,At){if(!1===Je)return;const Et=Je.path.join("."),vt=new Error(`Detected unserializable ${At} at "${Et}". ${Wr}#strict${At}serializability`);throw vt.value=Je.value,vt.unserializablePath=Et,vt}function Er(Je){return(0,t.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Je):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function fr({strictActionSerializability:Je,strictStateSerializability:At}){return Et=>Je||At?function(Je,At){return function(Et,vt){At.action(vt)&&Wt(In(vt),"action");const _n=Je(Et,vt);return At.state()&&Wt(In(_n),"state"),_n}}(Et,{action:vt=>Je&&!$r(vt),state:()=>At}):Et}function lr({strictActionImmutability:Je,strictStateImmutability:At}){return Et=>Je||At?function(Je,At){return function(Et,vt){const _n=At.action(vt)?Jt(vt):vt,Kt=Je(Et,_n);return At.state()?Jt(Kt):Kt}}(Et,{action:vt=>Je&&!$r(vt),state:()=>At}):Et}function $r(Je){return Je.type.startsWith("@ngrx")}function Ke({strictActionWithinNgZone:Je}){return At=>Je?function(Je,At){return function(Et,vt){if(At.action(vt)&&!t.R0b.isInAngularZone())throw new Error(`Action '${vt.type}' running outside NgZone. ${Wr}#strictactionwithinngzone`);return Je(Et,vt)}}(At,{action:Et=>Je&&!$r(Et)}):At}function He(Je){return[{provide:lt,useValue:Je},{provide:$e,useFactory:at,deps:[lt]},{provide:Pt,deps:[$e],useFactory:Er},{provide:ut,multi:!0,deps:[Pt],useFactory:lr},{provide:ut,multi:!0,deps:[Pt],useFactory:fr},{provide:ut,multi:!0,deps:[Pt],useFactory:Ke}]}function tt(){return[{provide:nn,multi:!0,deps:[Pt],useFactory:Se}]}function at(Je){return Je}function Se(Je){if(!Je.strictActionTypeUniqueness)return;const At=Object.entries(X).filter(([,Et])=>Et>1).map(([Et])=>Et);if(At.length)throw new Error(`Action types are registered more than once, ${At.map(Et=>`"${Et}"`).join(", ")}. ${Wr}#strictactiontypeuniqueness`)}let ue=(()=>{class Je{constructor(Et,vt,_n,Kt,tr,Xn){}}return Je.\u0275fac=function(Et){return new(Et||Je)(t.LFG(ee),t.LFG(un),t.LFG(on),t.LFG(dr),t.LFG(ve,8),t.LFG(nn,8))},Je.\u0275mod=t.oAB({type:Je}),Je.\u0275inj=t.cJS({}),Je})(),Ie=(()=>{class Je{constructor(Et,vt,_n,Kt,tr){this.features=Et,this.featureReducers=vt,this.reducerManager=_n;const Xn=Et.map((si,zi)=>{const Hr=vt.shift()[zi];return Object.assign(Object.assign({},si),{reducers:Hr,initialState:Vt(si.initialState)})});_n.addFeatures(Xn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Je.\u0275fac=function(Et){return new(Et||Je)(t.LFG(J),t.LFG(we),t.LFG(Cn),t.LFG(ue),t.LFG(nn,8))},Je.\u0275mod=t.oAB({type:Je}),Je.\u0275inj=t.cJS({}),Je})(),Ve=(()=>{class Je{static forRoot(Et,vt={}){return{ngModule:ue,providers:[{provide:ve,useFactory:Vn,deps:[[dr,new t.FiY,new t.tp0]]},{provide:Ae,useValue:vt.initialState},{provide:xe,useFactory:Vt,deps:[Ae]},{provide:O,useValue:Et},{provide:Q,useExisting:Et instanceof t.OlP?Et:O},{provide:U,deps:[t.zs3,O,[new t.tBr(Q)]],useFactory:et},{provide:Ne,useValue:vt.metaReducers?vt.metaReducers:[]},{provide:qe,deps:[ut,Ne],useFactory:cn},{provide:k,useValue:vt.reducerFactory?vt.reducerFactory:Ft},{provide:Ge,deps:[k,qe],useFactory:St},_e,Nn,zn,or,hr,He(vt.runtimeChecks),tt()]}}static forFeature(Et,vt,_n={}){return{ngModule:Ie,providers:[{provide:$,multi:!0,useValue:Et instanceof Object?{}:_n},{provide:H,multi:!0,useValue:{key:Et instanceof Object?Et.name:Et,reducerFactory:_n instanceof t.OlP||!_n.reducerFactory?Ft:_n.reducerFactory,metaReducers:_n instanceof t.OlP||!_n.metaReducers?[]:_n.metaReducers,initialState:_n instanceof t.OlP||!_n.initialState?void 0:_n.initialState}},{provide:J,deps:[t.zs3,$,H],useFactory:Xe},{provide:R,multi:!0,useValue:Et instanceof Object?Et.reducer:vt},{provide:je,multi:!0,useExisting:vt instanceof t.OlP?vt:R},{provide:we,multi:!0,deps:[t.zs3,R,[new t.tBr(je)]],useFactory:mt},tt()]}}}return Je.\u0275fac=function(Et){return new(Et||Je)},Je.\u0275mod=t.oAB({type:Je}),Je.\u0275inj=t.cJS({}),Je})();function et(Je,At){return At instanceof t.OlP?Je.get(At):At}function Xe(Je,At,Et){return Et.map((vt,_n)=>{if(At[_n]instanceof t.OlP){const Kt=Je.get(At[_n]);return{key:vt.key,reducerFactory:Kt.reducerFactory?Kt.reducerFactory:Ft,metaReducers:Kt.metaReducers?Kt.metaReducers:[],initialState:Kt.initialState}}return vt})}function mt(Je,At){return At.map(vt=>vt instanceof t.OlP?Je.get(vt):vt)}function Vt(Je){return"function"==typeof Je?Je():Je}function cn(Je,At){return Je.concat(At)}function Vn(Je){if(Je)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Qt(...Je){return{reducer:Je.pop(),types:Je.map(vt=>vt.type)}}function hn(Je,...At){const Et=new Map;for(const vt of At)for(const _n of vt.types){const Kt=Et.get(_n);Et.set(_n,Kt?(Xn,si)=>vt.reducer(Kt(Xn,si),si):vt.reducer)}return function(vt=Je,_n){const Kt=Et.get(_n.type);return Kt?Kt(vt,_n):vt}}}},h=>{h(h.s=3264)}]);